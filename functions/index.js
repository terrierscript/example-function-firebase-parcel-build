parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"hKJs":[function(require,module,exports) {
(function(){var n,t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",e="Expected a function",u="__lodash_hash_undefined__",i=500,o="__lodash_placeholder__",f=1,a=2,c=4,l=1,s=2,h=1,p=2,v=4,_=8,g=16,y=32,d=64,b=128,w=256,m=512,x=30,j="...",A=800,k=16,O=1,I=2,R=1/0,E=9007199254740991,z=1.7976931348623157e308,S=NaN,L=4294967295,W=L-1,C=L>>>1,U=[["ary",b],["bind",h],["bindKey",p],["curry",_],["curryRight",g],["flip",m],["partial",y],["partialRight",d],["rearg",w]],B="[object Arguments]",T="[object Array]",$="[object AsyncFunction]",D="[object Boolean]",M="[object Date]",F="[object DOMException]",N="[object Error]",P="[object Function]",q="[object GeneratorFunction]",Z="[object Map]",K="[object Number]",V="[object Null]",G="[object Object]",H="[object Proxy]",J="[object RegExp]",Y="[object Set]",Q="[object String]",X="[object Symbol]",nn="[object Undefined]",tn="[object WeakMap]",rn="[object WeakSet]",en="[object ArrayBuffer]",un="[object DataView]",on="[object Float32Array]",fn="[object Float64Array]",an="[object Int8Array]",cn="[object Int16Array]",ln="[object Int32Array]",sn="[object Uint8Array]",hn="[object Uint8ClampedArray]",pn="[object Uint16Array]",vn="[object Uint32Array]",_n=/\b__p \+= '';/g,gn=/\b(__p \+=) '' \+/g,yn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dn=/&(?:amp|lt|gt|quot|#39);/g,bn=/[&<>"']/g,wn=RegExp(dn.source),mn=RegExp(bn.source),xn=/<%-([\s\S]+?)%>/g,jn=/<%([\s\S]+?)%>/g,An=/<%=([\s\S]+?)%>/g,kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,On=/^\w*$/,In=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rn=/[\\^$.*+?()[\]{}|]/g,En=RegExp(Rn.source),zn=/^\s+|\s+$/g,Sn=/^\s+/,Ln=/\s+$/,Wn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cn=/\{\n\/\* \[wrapped with (.+)\] \*/,Un=/,? & /,Bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tn=/\\(\\)?/g,$n=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dn=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Fn=/^0b[01]+$/i,Nn=/^\[object .+?Constructor\]$/,Pn=/^0o[0-7]+$/i,qn=/^(?:0|[1-9]\d*)$/,Zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,Vn=/['\n\r\u2028\u2029\\]/g,Gn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Hn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jn="[\\ud800-\\udfff]",Yn="["+Hn+"]",Qn="["+Gn+"]",Xn="\\d+",nt="[\\u2700-\\u27bf]",tt="[a-z\\xdf-\\xf6\\xf8-\\xff]",rt="[^\\ud800-\\udfff"+Hn+Xn+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",et="\\ud83c[\\udffb-\\udfff]",ut="[^\\ud800-\\udfff]",it="(?:\\ud83c[\\udde6-\\uddff]){2}",ot="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",at="(?:"+tt+"|"+rt+")",ct="(?:"+ft+"|"+rt+")",lt="(?:"+Qn+"|"+et+")"+"?",st="[\\ufe0e\\ufe0f]?"+lt+("(?:\\u200d(?:"+[ut,it,ot].join("|")+")[\\ufe0e\\ufe0f]?"+lt+")*"),ht="(?:"+[nt,it,ot].join("|")+")"+st,pt="(?:"+[ut+Qn+"?",Qn,it,ot,Jn].join("|")+")",vt=RegExp("['’]","g"),_t=RegExp(Qn,"g"),gt=RegExp(et+"(?="+et+")|"+pt+st,"g"),yt=RegExp([ft+"?"+tt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Yn,ft,"$"].join("|")+")",ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Yn,ft+at,"$"].join("|")+")",ft+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xn,ht].join("|"),"g"),dt=RegExp("[\\u200d\\ud800-\\udfff"+Gn+"\\ufe0e\\ufe0f]"),bt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mt=-1,xt={};xt[on]=xt[fn]=xt[an]=xt[cn]=xt[ln]=xt[sn]=xt[hn]=xt[pn]=xt[vn]=!0,xt[B]=xt[T]=xt[en]=xt[D]=xt[un]=xt[M]=xt[N]=xt[P]=xt[Z]=xt[K]=xt[G]=xt[J]=xt[Y]=xt[Q]=xt[tn]=!1;var jt={};jt[B]=jt[T]=jt[en]=jt[un]=jt[D]=jt[M]=jt[on]=jt[fn]=jt[an]=jt[cn]=jt[ln]=jt[Z]=jt[K]=jt[G]=jt[J]=jt[Y]=jt[Q]=jt[X]=jt[sn]=jt[hn]=jt[pn]=jt[vn]=!0,jt[N]=jt[P]=jt[tn]=!1;var At={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Ot=parseInt,It="object"==typeof global&&global&&global.Object===Object&&global,Rt="object"==typeof self&&self&&self.Object===Object&&self,Et=It||Rt||Function("return this")(),zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,St=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Lt=St&&St.exports===zt,Wt=Lt&&It.process,Ct=function(){try{var n=St&&St.require&&St.require("util").types;return n||Wt&&Wt.binding&&Wt.binding("util")}catch(t){}}(),Ut=Ct&&Ct.isArrayBuffer,Bt=Ct&&Ct.isDate,Tt=Ct&&Ct.isMap,$t=Ct&&Ct.isRegExp,Dt=Ct&&Ct.isSet,Mt=Ct&&Ct.isTypedArray;function Ft(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function Nt(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function Pt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function qt(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function Zt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function Kt(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function Vt(n,t){return!!(null==n?0:n.length)&&er(n,t,0)>-1}function Gt(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function Ht(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function Jt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function Yt(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function Qt(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function Xt(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}var nr=fr("length");function tr(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function rr(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function er(n,t,r){return t==t?function(n,t,r){var e=r-1,u=n.length;for(;++e<u;)if(n[e]===t)return e;return-1}(n,t,r):rr(n,ir,r)}function ur(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function ir(n){return n!=n}function or(n,t){var r=null==n?0:n.length;return r?lr(n,t)/r:S}function fr(t){return function(r){return null==r?n:r[t]}}function ar(t){return function(r){return null==t?n:t[r]}}function cr(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function lr(t,r){for(var e,u=-1,i=t.length;++u<i;){var o=r(t[u]);o!==n&&(e=e===n?o:e+o)}return e}function sr(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function hr(n){return function(t){return n(t)}}function pr(n,t){return Ht(t,function(t){return n[t]})}function vr(n,t){return n.has(t)}function _r(n,t){for(var r=-1,e=n.length;++r<e&&er(t,n[r],0)>-1;);return r}function gr(n,t){for(var r=n.length;r--&&er(t,n[r],0)>-1;);return r}var yr=ar({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),dr=ar({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function br(n){return"\\"+At[n]}function wr(n){return dt.test(n)}function mr(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function xr(n,t){return function(r){return n(t(r))}}function jr(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var f=n[r];f!==t&&f!==o||(n[r]=o,i[u++]=r)}return i}function Ar(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function kr(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Or(n){return wr(n)?function(n){var t=gt.lastIndex=0;for(;gt.test(n);)++t;return t}(n):nr(n)}function Ir(n){return wr(n)?function(n){return n.match(gt)||[]}(n):function(n){return n.split("")}(n)}var Rr=ar({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Er=function Gn(Hn){var Jn,Yn=(Hn=null==Hn?Et:Er.defaults(Et.Object(),Hn,Er.pick(Et,wt))).Array,Qn=Hn.Date,Xn=Hn.Error,nt=Hn.Function,tt=Hn.Math,rt=Hn.Object,et=Hn.RegExp,ut=Hn.String,it=Hn.TypeError,ot=Yn.prototype,ft=nt.prototype,at=rt.prototype,ct=Hn["__core-js_shared__"],lt=ft.toString,st=at.hasOwnProperty,ht=0,pt=(Jn=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Jn:"",gt=at.toString,dt=lt.call(rt),At=Et._,It=et("^"+lt.call(st).replace(Rn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Lt?Hn.Buffer:n,zt=Hn.Symbol,St=Hn.Uint8Array,Wt=Rt?Rt.allocUnsafe:n,Ct=xr(rt.getPrototypeOf,rt),nr=rt.create,ar=at.propertyIsEnumerable,zr=ot.splice,Sr=zt?zt.isConcatSpreadable:n,Lr=zt?zt.iterator:n,Wr=zt?zt.toStringTag:n,Cr=function(){try{var n=$i(rt,"defineProperty");return n({},"",{}),n}catch(t){}}(),Ur=Hn.clearTimeout!==Et.clearTimeout&&Hn.clearTimeout,Br=Qn&&Qn.now!==Et.Date.now&&Qn.now,Tr=Hn.setTimeout!==Et.setTimeout&&Hn.setTimeout,$r=tt.ceil,Dr=tt.floor,Mr=rt.getOwnPropertySymbols,Fr=Rt?Rt.isBuffer:n,Nr=Hn.isFinite,Pr=ot.join,qr=xr(rt.keys,rt),Zr=tt.max,Kr=tt.min,Vr=Qn.now,Gr=Hn.parseInt,Hr=tt.random,Jr=ot.reverse,Yr=$i(Hn,"DataView"),Qr=$i(Hn,"Map"),Xr=$i(Hn,"Promise"),ne=$i(Hn,"Set"),te=$i(Hn,"WeakMap"),re=$i(rt,"create"),ee=te&&new te,ue={},ie=lo(Yr),oe=lo(Qr),fe=lo(Xr),ae=lo(ne),ce=lo(te),le=zt?zt.prototype:n,se=le?le.valueOf:n,he=le?le.toString:n;function pe(n){if(Ef(n)&&!df(n)&&!(n instanceof ye)){if(n instanceof ge)return n;if(st.call(n,"__wrapped__"))return so(n)}return new ge(n)}var ve=function(){function t(){}return function(r){if(!Rf(r))return{};if(nr)return nr(r);t.prototype=r;var e=new t;return t.prototype=n,e}}();function _e(){}function ge(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}function ye(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function de(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function be(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function we(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function me(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new we;++t<r;)this.add(n[t])}function xe(n){var t=this.__data__=new be(n);this.size=t.size}function je(n,t){var r=df(n),e=!r&&yf(n),u=!r&&!e&&xf(n),i=!r&&!e&&!u&&Tf(n),o=r||e||u||i,f=o?sr(n.length,ut):[],a=f.length;for(var c in n)!t&&!st.call(n,c)||o&&("length"==c||u&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zi(c,a))||f.push(c);return f}function Ae(t){var r=t.length;return r?t[mu(0,r-1)]:n}function ke(n,t){return fo(ri(n),Ce(t,0,n.length))}function Oe(n){return fo(ri(n))}function Ie(t,r,e){(e===n||vf(t[r],e))&&(e!==n||r in t)||Le(t,r,e)}function Re(t,r,e){var u=t[r];st.call(t,r)&&vf(u,e)&&(e!==n||r in t)||Le(t,r,e)}function Ee(n,t){for(var r=n.length;r--;)if(vf(n[r][0],t))return r;return-1}function ze(n,t,r,e){return De(n,function(n,u,i){t(e,n,r(n),i)}),e}function Se(n,t){return n&&ei(t,ia(t),n)}function Le(n,t,r){"__proto__"==t&&Cr?Cr(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function We(t,r){for(var e=-1,u=r.length,i=Yn(u),o=null==t;++e<u;)i[e]=o?n:na(t,r[e]);return i}function Ce(t,r,e){return t==t&&(e!==n&&(t=t<=e?t:e),r!==n&&(t=t>=r?t:r)),t}function Ue(t,r,e,u,i,o){var l,s=r&f,h=r&a,p=r&c;if(e&&(l=i?e(t,u,i,o):e(t)),l!==n)return l;if(!Rf(t))return t;var v=df(t);if(v){if(l=function(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&st.call(n,"index")&&(r.index=n.index,r.input=n.input),r}(t),!s)return ri(t,l)}else{var _=Fi(t),g=_==P||_==q;if(xf(t))return Ju(t,s);if(_==G||_==B||g&&!i){if(l=h||g?{}:Pi(t),!s)return h?function(n,t){return ei(n,Mi(n),t)}(t,function(n,t){return n&&ei(t,oa(t),n)}(l,t)):function(n,t){return ei(n,Di(n),t)}(t,Se(l,t))}else{if(!jt[_])return i?t:{};l=function(n,t,r){var e,u,i,o=n.constructor;switch(t){case en:return Yu(n);case D:case M:return new o(+n);case un:return function(n,t){var r=t?Yu(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}(n,r);case on:case fn:case an:case cn:case ln:case sn:case hn:case pn:case vn:return Qu(n,r);case Z:return new o;case K:case Q:return new o(n);case J:return(i=new(u=n).constructor(u.source,Dn.exec(u))).lastIndex=u.lastIndex,i;case Y:return new o;case X:return e=n,se?rt(se.call(e)):{}}}(t,_,s)}}o||(o=new xe);var y=o.get(t);if(y)return y;o.set(t,l),Cf(t)?t.forEach(function(n){l.add(Ue(n,r,e,n,t,o))}):zf(t)&&t.forEach(function(n,u){l.set(u,Ue(n,r,e,u,t,o))});var d=v?n:(p?h?Si:zi:h?oa:ia)(t);return Pt(d||t,function(n,u){d&&(n=t[u=n]),Re(l,u,Ue(n,r,e,u,t,o))}),l}function Be(t,r,e){var u=e.length;if(null==t)return!u;for(t=rt(t);u--;){var i=e[u],o=r[i],f=t[i];if(f===n&&!(i in t)||!o(f))return!1}return!0}function Te(t,r,u){if("function"!=typeof t)throw new it(e);return eo(function(){t.apply(n,u)},r)}function $e(n,r,e,u){var i=-1,o=Vt,f=!0,a=n.length,c=[],l=r.length;if(!a)return c;e&&(r=Ht(r,hr(e))),u?(o=Gt,f=!1):r.length>=t&&(o=vr,f=!1,r=new me(r));n:for(;++i<a;){var s=n[i],h=null==e?s:e(s);if(s=u||0!==s?s:0,f&&h==h){for(var p=l;p--;)if(r[p]===h)continue n;c.push(s)}else o(r,h,u)||c.push(s)}return c}pe.templateSettings={escape:xn,evaluate:jn,interpolate:An,variable:"",imports:{_:pe}},pe.prototype=_e.prototype,pe.prototype.constructor=pe,ge.prototype=ve(_e.prototype),ge.prototype.constructor=ge,ye.prototype=ve(_e.prototype),ye.prototype.constructor=ye,de.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},de.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},de.prototype.get=function(t){var r=this.__data__;if(re){var e=r[t];return e===u?n:e}return st.call(r,t)?r[t]:n},de.prototype.has=function(t){var r=this.__data__;return re?r[t]!==n:st.call(r,t)},de.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=re&&r===n?u:r,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(n){var t=this.__data__,r=Ee(t,n);return!(r<0||(r==t.length-1?t.pop():zr.call(t,r,1),--this.size,0))},be.prototype.get=function(t){var r=this.__data__,e=Ee(r,t);return e<0?n:r[e][1]},be.prototype.has=function(n){return Ee(this.__data__,n)>-1},be.prototype.set=function(n,t){var r=this.__data__,e=Ee(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(Qr||be),string:new de}},we.prototype.delete=function(n){var t=Bi(this,n).delete(n);return this.size-=t?1:0,t},we.prototype.get=function(n){return Bi(this,n).get(n)},we.prototype.has=function(n){return Bi(this,n).has(n)},we.prototype.set=function(n,t){var r=Bi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},me.prototype.add=me.prototype.push=function(n){return this.__data__.set(n,u),this},me.prototype.has=function(n){return this.__data__.has(n)},xe.prototype.clear=function(){this.__data__=new be,this.size=0},xe.prototype.delete=function(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r},xe.prototype.get=function(n){return this.__data__.get(n)},xe.prototype.has=function(n){return this.__data__.has(n)},xe.prototype.set=function(n,r){var e=this.__data__;if(e instanceof be){var u=e.__data__;if(!Qr||u.length<t-1)return u.push([n,r]),this.size=++e.size,this;e=this.__data__=new we(u)}return e.set(n,r),this.size=e.size,this};var De=oi(Ve),Me=oi(Ge,!0);function Fe(n,t){var r=!0;return De(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Ne(t,r,e){for(var u=-1,i=t.length;++u<i;){var o=t[u],f=r(o);if(null!=f&&(a===n?f==f&&!Bf(f):e(f,a)))var a=f,c=o}return c}function Pe(n,t){var r=[];return De(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function qe(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=qi),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?qe(f,t-1,r,e,u):Jt(u,f):e||(u[u.length]=f)}return u}var Ze=fi(),Ke=fi(!0);function Ve(n,t){return n&&Ze(n,t,ia)}function Ge(n,t){return n&&Ke(n,t,ia)}function He(n,t){return Kt(t,function(t){return kf(n[t])})}function Je(t,r){for(var e=0,u=(r=Ku(r,t)).length;null!=t&&e<u;)t=t[co(r[e++])];return e&&e==u?t:n}function Ye(n,t,r){var e=t(n);return df(n)?e:Jt(e,r(n))}function Qe(t){return null==t?t===n?nn:V:Wr&&Wr in rt(t)?function(t){var r=st.call(t,Wr),e=t[Wr];try{t[Wr]=n;var u=!0}catch(o){}var i=gt.call(t);return u&&(r?t[Wr]=e:delete t[Wr]),i}(t):function(n){return gt.call(n)}(t)}function Xe(n,t){return n>t}function nu(n,t){return null!=n&&st.call(n,t)}function tu(n,t){return null!=n&&t in rt(n)}function ru(t,r,e){for(var u=e?Gt:Vt,i=t[0].length,o=t.length,f=o,a=Yn(o),c=1/0,l=[];f--;){var s=t[f];f&&r&&(s=Ht(s,hr(r))),c=Kr(s.length,c),a[f]=!e&&(r||i>=120&&s.length>=120)?new me(f&&s):n}s=t[0];var h=-1,p=a[0];n:for(;++h<i&&l.length<c;){var v=s[h],_=r?r(v):v;if(v=e||0!==v?v:0,!(p?vr(p,_):u(l,_,e))){for(f=o;--f;){var g=a[f];if(!(g?vr(g,_):u(t[f],_,e)))continue n}p&&p.push(_),l.push(v)}}return l}function eu(t,r,e){var u=null==(t=no(t,r=Ku(r,t)))?t:t[co(jo(r))];return null==u?n:Ft(u,t,e)}function uu(n){return Ef(n)&&Qe(n)==B}function iu(t,r,e,u,i){return t===r||(null==t||null==r||!Ef(t)&&!Ef(r)?t!=t&&r!=r:function(t,r,e,u,i,o){var f=df(t),a=df(r),c=f?T:Fi(t),h=a?T:Fi(r),p=(c=c==B?G:c)==G,v=(h=h==B?G:h)==G,_=c==h;if(_&&xf(t)){if(!xf(r))return!1;f=!0,p=!1}if(_&&!p)return o||(o=new xe),f||Tf(t)?Ri(t,r,e,u,i,o):function(n,t,r,e,u,i,o){switch(r){case un:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case en:return!(n.byteLength!=t.byteLength||!i(new St(n),new St(t)));case D:case M:case K:return vf(+n,+t);case N:return n.name==t.name&&n.message==t.message;case J:case Q:return n==t+"";case Z:var f=mr;case Y:var a=e&l;if(f||(f=Ar),n.size!=t.size&&!a)return!1;var c=o.get(n);if(c)return c==t;e|=s,o.set(n,t);var h=Ri(f(n),f(t),e,u,i,o);return o.delete(n),h;case X:if(se)return se.call(n)==se.call(t)}return!1}(t,r,c,e,u,i,o);if(!(e&l)){var g=p&&st.call(t,"__wrapped__"),y=v&&st.call(r,"__wrapped__");if(g||y){var d=g?t.value():t,b=y?r.value():r;return o||(o=new xe),i(d,b,e,u,o)}}return!!_&&(o||(o=new xe),function(t,r,e,u,i,o){var f=e&l,a=zi(t),c=a.length,s=zi(r).length;if(c!=s&&!f)return!1;for(var h=c;h--;){var p=a[h];if(!(f?p in r:st.call(r,p)))return!1}var v=o.get(t);if(v&&o.get(r))return v==r;var _=!0;o.set(t,r),o.set(r,t);for(var g=f;++h<c;){p=a[h];var y=t[p],d=r[p];if(u)var b=f?u(d,y,p,r,t,o):u(y,d,p,t,r,o);if(!(b===n?y===d||i(y,d,e,u,o):b)){_=!1;break}g||(g="constructor"==p)}if(_&&!g){var w=t.constructor,m=r.constructor;w!=m&&"constructor"in t&&"constructor"in r&&!("function"==typeof w&&w instanceof w&&"function"==typeof m&&m instanceof m)&&(_=!1)}return o.delete(t),o.delete(r),_}(t,r,e,u,i,o))}(t,r,e,u,iu,i))}function ou(t,r,e,u){var i=e.length,o=i,f=!u;if(null==t)return!o;for(t=rt(t);i--;){var a=e[i];if(f&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=e[i])[0],h=t[c],p=a[1];if(f&&a[2]){if(h===n&&!(c in t))return!1}else{var v=new xe;if(u)var _=u(h,p,c,t,r,v);if(!(_===n?iu(p,h,l|s,u,v):_))return!1}}return!0}function fu(n){return!(!Rf(n)||(t=n,pt&&pt in t))&&(kf(n)?It:Nn).test(lo(n));var t}function au(n){return"function"==typeof n?n:null==n?Sa:"object"==typeof n?df(n)?vu(n[0],n[1]):pu(n):Ma(n)}function cu(n){if(!Ji(n))return qr(n);var t=[];for(var r in rt(n))st.call(n,r)&&"constructor"!=r&&t.push(r);return t}function lu(n){if(!Rf(n))return function(n){var t=[];if(null!=n)for(var r in rt(n))t.push(r);return t}(n);var t=Ji(n),r=[];for(var e in n)("constructor"!=e||!t&&st.call(n,e))&&r.push(e);return r}function su(n,t){return n<t}function hu(n,t){var r=-1,e=wf(n)?Yn(n.length):[];return De(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function pu(n){var t=Ti(n);return 1==t.length&&t[0][2]?Qi(t[0][0],t[0][1]):function(r){return r===n||ou(r,n,t)}}function vu(t,r){return Vi(t)&&Yi(r)?Qi(co(t),r):function(e){var u=na(e,t);return u===n&&u===r?ta(e,t):iu(r,u,l|s)}}function _u(t,r,e,u,i){t!==r&&Ze(r,function(o,f){if(i||(i=new xe),Rf(o))!function(t,r,e,u,i,o,f){var a=to(t,e),c=to(r,e),l=f.get(c);if(l)Ie(t,e,l);else{var s=o?o(a,c,e+"",t,r,f):n,h=s===n;if(h){var p=df(c),v=!p&&xf(c),_=!p&&!v&&Tf(c);s=c,p||v||_?df(a)?s=a:mf(a)?s=ri(a):v?(h=!1,s=Ju(c,!0)):_?(h=!1,s=Qu(c,!0)):s=[]:Lf(c)||yf(c)?(s=a,yf(a)?s=Zf(a):Rf(a)&&!kf(a)||(s=Pi(c))):h=!1}h&&(f.set(c,s),i(s,c,u,o,f),f.delete(c)),Ie(t,e,s)}}(t,r,f,e,_u,u,i);else{var a=u?u(to(t,f),o,f+"",t,r,i):n;a===n&&(a=o),Ie(t,f,a)}},oa)}function gu(t,r){var e=t.length;if(e)return Zi(r+=r<0?e:0,e)?t[r]:n}function yu(n,t,r){var e=-1;return t=Ht(t.length?t:[Sa],hr(Ui())),function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}(hu(n,function(n,r,u){return{criteria:Ht(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return function(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var a=Xu(u[e],i[e]);if(a){if(e>=f)return a;var c=r[e];return a*("desc"==c?-1:1)}}return n.index-t.index}(n,t,r)})}function du(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=Je(n,o);r(f,o)&&Ou(i,Ku(o,n),f)}return i}function bu(n,t,r,e){var u=e?ur:er,i=-1,o=t.length,f=n;for(n===t&&(t=ri(t)),r&&(f=Ht(n,hr(r)));++i<o;)for(var a=0,c=t[i],l=r?r(c):c;(a=u(f,l,a,e))>-1;)f!==n&&zr.call(f,a,1),zr.call(n,a,1);return n}function wu(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Zi(u)?zr.call(n,u,1):$u(n,u)}}return n}function mu(n,t){return n+Dr(Hr()*(t-n+1))}function xu(n,t){var r="";if(!n||t<1||t>E)return r;do{t%2&&(r+=n),(t=Dr(t/2))&&(n+=n)}while(t);return r}function ju(n,t){return uo(Xi(n,t,Sa),n+"")}function Au(n){return Ae(va(n))}function ku(n,t){var r=va(n);return fo(r,Ce(t,0,r.length))}function Ou(t,r,e,u){if(!Rf(t))return t;for(var i=-1,o=(r=Ku(r,t)).length,f=o-1,a=t;null!=a&&++i<o;){var c=co(r[i]),l=e;if(i!=f){var s=a[c];(l=u?u(s,c,a):n)===n&&(l=Rf(s)?s:Zi(r[i+1])?[]:{})}Re(a,c,l),a=a[c]}return t}var Iu=ee?function(n,t){return ee.set(n,t),n}:Sa,Ru=Cr?function(n,t){return Cr(n,"toString",{configurable:!0,enumerable:!1,value:Ra(t),writable:!0})}:Sa;function Eu(n){return fo(va(n))}function zu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),(r=r>u?u:r)<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Yn(u);++e<u;)i[e]=n[e+t];return i}function Su(n,t){var r;return De(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Lu(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t==t&&u<=C){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!Bf(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return Wu(n,t,Sa,r)}function Wu(t,r,e,u){r=e(r);for(var i=0,o=null==t?0:t.length,f=r!=r,a=null===r,c=Bf(r),l=r===n;i<o;){var s=Dr((i+o)/2),h=e(t[s]),p=h!==n,v=null===h,_=h==h,g=Bf(h);if(f)var y=u||_;else y=l?_&&(u||p):a?_&&p&&(u||!v):c?_&&p&&!v&&(u||!g):!v&&!g&&(u?h<=r:h<r);y?i=s+1:o=s}return Kr(o,W)}function Cu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!vf(f,a)){var a=f;i[u++]=0===o?0:o}}return i}function Uu(n){return"number"==typeof n?n:Bf(n)?S:+n}function Bu(n){if("string"==typeof n)return n;if(df(n))return Ht(n,Bu)+"";if(Bf(n))return he?he.call(n):"";var t=n+"";return"0"==t&&1/n==-R?"-0":t}function Tu(n,r,e){var u=-1,i=Vt,o=n.length,f=!0,a=[],c=a;if(e)f=!1,i=Gt;else if(o>=t){var l=r?null:xi(n);if(l)return Ar(l);f=!1,i=vr,c=new me}else c=r?[]:a;n:for(;++u<o;){var s=n[u],h=r?r(s):s;if(s=e||0!==s?s:0,f&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue n;r&&c.push(h),a.push(s)}else i(c,h,e)||(c!==a&&c.push(h),a.push(s))}return a}function $u(n,t){return null==(n=no(n,t=Ku(t,n)))||delete n[co(jo(t))]}function Du(n,t,r,e){return Ou(n,t,r(Je(n,t)),e)}function Mu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?zu(n,e?0:i,e?i+1:u):zu(n,e?i+1:0,e?u:i)}function Fu(n,t){var r=n;return r instanceof ye&&(r=r.value()),Yt(t,function(n,t){return t.func.apply(t.thisArg,Jt([n],t.args))},r)}function Nu(n,t,r){var e=n.length;if(e<2)return e?Tu(n[0]):[];for(var u=-1,i=Yn(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=$e(i[u]||o,n[f],t,r));return Tu(qe(i,1),t,r)}function Pu(t,r,e){for(var u=-1,i=t.length,o=r.length,f={};++u<i;){var a=u<o?r[u]:n;e(f,t[u],a)}return f}function qu(n){return mf(n)?n:[]}function Zu(n){return"function"==typeof n?n:Sa}function Ku(n,t){return df(n)?n:Vi(n,t)?[n]:ao(Kf(n))}var Vu=ju;function Gu(t,r,e){var u=t.length;return e=e===n?u:e,!r&&e>=u?t:zu(t,r,e)}var Hu=Ur||function(n){return Et.clearTimeout(n)};function Ju(n,t){if(t)return n.slice();var r=n.length,e=Wt?Wt(r):new n.constructor(r);return n.copy(e),e}function Yu(n){var t=new n.constructor(n.byteLength);return new St(t).set(new St(n)),t}function Qu(n,t){var r=t?Yu(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Xu(t,r){if(t!==r){var e=t!==n,u=null===t,i=t==t,o=Bf(t),f=r!==n,a=null===r,c=r==r,l=Bf(r);if(!a&&!l&&!o&&t>r||o&&f&&c&&!a&&!l||u&&f&&c||!e&&c||!i)return 1;if(!u&&!o&&!l&&t<r||l&&e&&i&&!u&&!o||a&&e&&i||!f&&i||!c)return-1}return 0}function ni(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,a=t.length,c=Zr(i-o,0),l=Yn(a+c),s=!e;++f<a;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;c--;)l[f++]=n[u++];return l}function ti(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,a=-1,c=t.length,l=Zr(i-f,0),s=Yn(l+c),h=!e;++u<l;)s[u]=n[u];for(var p=u;++a<c;)s[p+a]=t[a];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function ri(n,t){var r=-1,e=n.length;for(t||(t=Yn(e));++r<e;)t[r]=n[r];return t}function ei(t,r,e,u){var i=!e;e||(e={});for(var o=-1,f=r.length;++o<f;){var a=r[o],c=u?u(e[a],t[a],a,e,t):n;c===n&&(c=t[a]),i?Le(e,a,c):Re(e,a,c)}return e}function ui(n,t){return function(r,e){var u=df(r)?Nt:ze,i=t?t():{};return u(r,n,Ui(e,2),i)}}function ii(t){return ju(function(r,e){var u=-1,i=e.length,o=i>1?e[i-1]:n,f=i>2?e[2]:n;for(o=t.length>3&&"function"==typeof o?(i--,o):n,f&&Ki(e[0],e[1],f)&&(o=i<3?n:o,i=1),r=rt(r);++u<i;){var a=e[u];a&&t(r,a,u,o)}return r})}function oi(n,t){return function(r,e){if(null==r)return r;if(!wf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=rt(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function fi(n){return function(t,r,e){for(var u=-1,i=rt(t),o=e(t),f=o.length;f--;){var a=o[n?f:++u];if(!1===r(i[a],a,i))break}return t}}function ai(t){return function(r){var e=wr(r=Kf(r))?Ir(r):n,u=e?e[0]:r.charAt(0),i=e?Gu(e,1).join(""):r.slice(1);return u[t]()+i}}function ci(n){return function(t){return Yt(ka(ya(t).replace(vt,"")),n,"")}}function li(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ve(n.prototype),e=n.apply(r,t);return Rf(e)?e:r}}function si(t){return function(r,e,u){var i=rt(r);if(!wf(r)){var o=Ui(e,3);r=ia(r),e=function(n){return o(i[n],n,i)}}var f=t(r,e,u);return f>-1?i[o?r[f]:f]:n}}function hi(t){return Ei(function(r){var u=r.length,i=u,o=ge.prototype.thru;for(t&&r.reverse();i--;){var f=r[i];if("function"!=typeof f)throw new it(e);if(o&&!a&&"wrapper"==Wi(f))var a=new ge([],!0)}for(i=a?i:u;++i<u;){var c=Wi(f=r[i]),l="wrapper"==c?Li(f):n;a=l&&Gi(l[0])&&l[1]==(b|_|y|w)&&!l[4].length&&1==l[9]?a[Wi(l[0])].apply(a,l[3]):1==f.length&&Gi(f)?a[c]():a.thru(f)}return function(){var n=arguments,t=n[0];if(a&&1==n.length&&df(t))return a.plant(t).value();for(var e=0,i=u?r[e].apply(this,n):t;++e<u;)i=r[e].call(this,i);return i}})}function pi(t,r,e,u,i,o,f,a,c,l){var s=r&b,v=r&h,y=r&p,d=r&(_|g),w=r&m,x=y?n:li(t);return function h(){for(var p=arguments.length,_=Yn(p),g=p;g--;)_[g]=arguments[g];if(d)var b=Ci(h),m=function(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}(_,b);if(u&&(_=ni(_,u,i,d)),o&&(_=ti(_,o,f,d)),p-=m,d&&p<l){var j=jr(_,b);return wi(t,r,pi,h.placeholder,e,_,j,a,c,l-p)}var A=v?e:this,k=y?A[t]:t;return p=_.length,a?_=function(t,r){for(var e=t.length,u=Kr(r.length,e),i=ri(t);u--;){var o=r[u];t[u]=Zi(o,e)?i[o]:n}return t}(_,a):w&&p>1&&_.reverse(),s&&c<p&&(_.length=c),this&&this!==Et&&this instanceof h&&(k=x||li(k)),k.apply(A,_)}}function vi(n,t){return function(r,e){return function(n,t,r,e){return Ve(n,function(n,u,i){t(e,r(n),u,i)}),e}(r,n,t(e),{})}}function _i(t,r){return function(e,u){var i;if(e===n&&u===n)return r;if(e!==n&&(i=e),u!==n){if(i===n)return u;"string"==typeof e||"string"==typeof u?(e=Bu(e),u=Bu(u)):(e=Uu(e),u=Uu(u)),i=t(e,u)}return i}}function gi(n){return Ei(function(t){return t=Ht(t,hr(Ui())),ju(function(r){var e=this;return n(t,function(n){return Ft(n,e,r)})})})}function yi(t,r){var e=(r=r===n?" ":Bu(r)).length;if(e<2)return e?xu(r,t):r;var u=xu(r,$r(t/Or(r)));return wr(r)?Gu(Ir(u),0,t).join(""):u.slice(0,t)}function di(t){return function(r,e,u){return u&&"number"!=typeof u&&Ki(r,e,u)&&(e=u=n),r=Ff(r),e===n?(e=r,r=0):e=Ff(e),function(n,t,r,e){for(var u=-1,i=Zr($r((t-n)/(r||1)),0),o=Yn(i);i--;)o[e?i:++u]=n,n+=r;return o}(r,e,u=u===n?r<e?1:-1:Ff(u),t)}}function bi(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=qf(t),r=qf(r)),n(t,r)}}function wi(t,r,e,u,i,o,f,a,c,l){var s=r&_;r|=s?y:d,(r&=~(s?d:y))&v||(r&=~(h|p));var g=[t,r,i,s?o:n,s?f:n,s?n:o,s?n:f,a,c,l],b=e.apply(n,g);return Gi(t)&&ro(b,g),b.placeholder=u,io(b,t,r)}function mi(n){var t=tt[n];return function(n,r){if(n=qf(n),(r=null==r?0:Kr(Nf(r),292))&&Nr(n)){var e=(Kf(n)+"e").split("e");return+((e=(Kf(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return t(n)}}var xi=ne&&1/Ar(new ne([,-0]))[1]==R?function(n){return new ne(n)}:Ba;function ji(n){return function(t){var r=Fi(t);return r==Z?mr(t):r==Y?kr(t):function(n,t){return Ht(t,function(t){return[t,n[t]]})}(t,n(t))}}function Ai(t,r,u,i,f,a,c,l){var s=r&p;if(!s&&"function"!=typeof t)throw new it(e);var m=i?i.length:0;if(m||(r&=~(y|d),i=f=n),c=c===n?c:Zr(Nf(c),0),l=l===n?l:Nf(l),m-=f?f.length:0,r&d){var x=i,j=f;i=f=n}var A=s?n:Li(t),k=[t,r,u,i,f,x,j,a,c,l];if(A&&function(n,t){var r=n[1],e=t[1],u=r|e,i=u<(h|p|b),f=e==b&&r==_||e==b&&r==w&&n[7].length<=t[8]||e==(b|w)&&t[7].length<=t[8]&&r==_;if(!i&&!f)return n;e&h&&(n[2]=t[2],u|=r&h?0:v);var a=t[3];if(a){var c=n[3];n[3]=c?ni(c,a,t[4]):a,n[4]=c?jr(n[3],o):t[4]}(a=t[5])&&(c=n[5],n[5]=c?ti(c,a,t[6]):a,n[6]=c?jr(n[5],o):t[6]),(a=t[7])&&(n[7]=a),e&b&&(n[8]=null==n[8]?t[8]:Kr(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u}(k,A),t=k[0],r=k[1],u=k[2],i=k[3],f=k[4],!(l=k[9]=k[9]===n?s?0:t.length:Zr(k[9]-m,0))&&r&(_|g)&&(r&=~(_|g)),r&&r!=h)O=r==_||r==g?function(t,r,e){var u=li(t);return function i(){for(var o=arguments.length,f=Yn(o),a=o,c=Ci(i);a--;)f[a]=arguments[a];var l=o<3&&f[0]!==c&&f[o-1]!==c?[]:jr(f,c);return(o-=l.length)<e?wi(t,r,pi,i.placeholder,n,f,l,n,n,e-o):Ft(this&&this!==Et&&this instanceof i?u:t,this,f)}}(t,r,l):r!=y&&r!=(h|y)||f.length?pi.apply(n,k):function(n,t,r,e){var u=t&h,i=li(n);return function t(){for(var o=-1,f=arguments.length,a=-1,c=e.length,l=Yn(c+f),s=this&&this!==Et&&this instanceof t?i:n;++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++o];return Ft(s,u?r:this,l)}}(t,r,u,i);else var O=function(n,t,r){var e=t&h,u=li(n);return function t(){return(this&&this!==Et&&this instanceof t?u:n).apply(e?r:this,arguments)}}(t,r,u);return io((A?Iu:ro)(O,k),t,r)}function ki(t,r,e,u){return t===n||vf(t,at[e])&&!st.call(u,e)?r:t}function Oi(t,r,e,u,i,o){return Rf(t)&&Rf(r)&&(o.set(r,t),_u(t,r,n,Oi,o),o.delete(r)),t}function Ii(t){return Lf(t)?n:t}function Ri(t,r,e,u,i,o){var f=e&l,a=t.length,c=r.length;if(a!=c&&!(f&&c>a))return!1;var h=o.get(t);if(h&&o.get(r))return h==r;var p=-1,v=!0,_=e&s?new me:n;for(o.set(t,r),o.set(r,t);++p<a;){var g=t[p],y=r[p];if(u)var d=f?u(y,g,p,r,t,o):u(g,y,p,t,r,o);if(d!==n){if(d)continue;v=!1;break}if(_){if(!Xt(r,function(n,t){if(!vr(_,t)&&(g===n||i(g,n,e,u,o)))return _.push(t)})){v=!1;break}}else if(g!==y&&!i(g,y,e,u,o)){v=!1;break}}return o.delete(t),o.delete(r),v}function Ei(t){return uo(Xi(t,n,yo),t+"")}function zi(n){return Ye(n,ia,Di)}function Si(n){return Ye(n,oa,Mi)}var Li=ee?function(n){return ee.get(n)}:Ba;function Wi(n){for(var t=n.name+"",r=ue[t],e=st.call(ue,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Ci(n){return(st.call(pe,"placeholder")?pe:n).placeholder}function Ui(){var n=pe.iteratee||La;return n=n===La?au:n,arguments.length?n(arguments[0],arguments[1]):n}function Bi(n,t){var r,e,u=n.__data__;return("string"==(e=typeof(r=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?u["string"==typeof t?"string":"hash"]:u.map}function Ti(n){for(var t=ia(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Yi(u)]}return t}function $i(t,r){var e=function(t,r){return null==t?n:t[r]}(t,r);return fu(e)?e:n}var Di=Mr?function(n){return null==n?[]:(n=rt(n),Kt(Mr(n),function(t){return ar.call(n,t)}))}:Pa,Mi=Mr?function(n){for(var t=[];n;)Jt(t,Di(n)),n=Ct(n);return t}:Pa,Fi=Qe;function Ni(n,t,r){for(var e=-1,u=(t=Ku(t,n)).length,i=!1;++e<u;){var o=co(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&If(u)&&Zi(o,u)&&(df(n)||yf(n))}function Pi(n){return"function"!=typeof n.constructor||Ji(n)?{}:ve(Ct(n))}function qi(n){return df(n)||yf(n)||!!(Sr&&n&&n[Sr])}function Zi(n,t){var r=typeof n;return!!(t=null==t?E:t)&&("number"==r||"symbol"!=r&&qn.test(n))&&n>-1&&n%1==0&&n<t}function Ki(n,t,r){if(!Rf(r))return!1;var e=typeof t;return!!("number"==e?wf(r)&&Zi(t,r.length):"string"==e&&t in r)&&vf(r[t],n)}function Vi(n,t){if(df(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!Bf(n))||On.test(n)||!kn.test(n)||null!=t&&n in rt(t)}function Gi(n){var t=Wi(n),r=pe[t];if("function"!=typeof r||!(t in ye.prototype))return!1;if(n===r)return!0;var e=Li(r);return!!e&&n===e[0]}(Yr&&Fi(new Yr(new ArrayBuffer(1)))!=un||Qr&&Fi(new Qr)!=Z||Xr&&"[object Promise]"!=Fi(Xr.resolve())||ne&&Fi(new ne)!=Y||te&&Fi(new te)!=tn)&&(Fi=function(t){var r=Qe(t),e=r==G?t.constructor:n,u=e?lo(e):"";if(u)switch(u){case ie:return un;case oe:return Z;case fe:return"[object Promise]";case ae:return Y;case ce:return tn}return r});var Hi=ct?kf:qa;function Ji(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||at)}function Yi(n){return n==n&&!Rf(n)}function Qi(t,r){return function(e){return null!=e&&e[t]===r&&(r!==n||t in rt(e))}}function Xi(t,r,e){return r=Zr(r===n?t.length-1:r,0),function(){for(var n=arguments,u=-1,i=Zr(n.length-r,0),o=Yn(i);++u<i;)o[u]=n[r+u];u=-1;for(var f=Yn(r+1);++u<r;)f[u]=n[u];return f[r]=e(o),Ft(t,this,f)}}function no(n,t){return t.length<2?n:Je(n,zu(t,0,-1))}function to(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}var ro=oo(Iu),eo=Tr||function(n,t){return Et.setTimeout(n,t)},uo=oo(Ru);function io(n,t,r){var e=t+"";return uo(n,function(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Wn,"{\n/* [wrapped with "+t+"] */\n")}(e,function(n,t){return Pt(U,function(r){var e="_."+r[0];t&r[1]&&!Vt(n,e)&&n.push(e)}),n.sort()}(function(n){var t=n.match(Cn);return t?t[1].split(Un):[]}(e),r)))}function oo(t){var r=0,e=0;return function(){var u=Vr(),i=k-(u-e);if(e=u,i>0){if(++r>=A)return arguments[0]}else r=0;return t.apply(n,arguments)}}function fo(t,r){var e=-1,u=t.length,i=u-1;for(r=r===n?u:r;++e<r;){var o=mu(e,i),f=t[o];t[o]=t[e],t[e]=f}return t.length=r,t}var ao=function(n){var t=af(n,function(n){return r.size===i&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(In,function(n,r,e,u){t.push(e?u.replace(Tn,"$1"):r||n)}),t});function co(n){if("string"==typeof n||Bf(n))return n;var t=n+"";return"0"==t&&1/n==-R?"-0":t}function lo(n){if(null!=n){try{return lt.call(n)}catch(t){}try{return n+""}catch(t){}}return""}function so(n){if(n instanceof ye)return n.clone();var t=new ge(n.__wrapped__,n.__chain__);return t.__actions__=ri(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}var ho=ju(function(n,t){return mf(n)?$e(n,qe(t,1,mf,!0)):[]}),po=ju(function(t,r){var e=jo(r);return mf(e)&&(e=n),mf(t)?$e(t,qe(r,1,mf,!0),Ui(e,2)):[]}),vo=ju(function(t,r){var e=jo(r);return mf(e)&&(e=n),mf(t)?$e(t,qe(r,1,mf,!0),n,e):[]});function _o(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:Nf(r);return u<0&&(u=Zr(e+u,0)),rr(n,Ui(t,3),u)}function go(t,r,e){var u=null==t?0:t.length;if(!u)return-1;var i=u-1;return e!==n&&(i=Nf(e),i=e<0?Zr(u+i,0):Kr(i,u-1)),rr(t,Ui(r,3),i,!0)}function yo(n){return null!=n&&n.length?qe(n,1):[]}function bo(t){return t&&t.length?t[0]:n}var wo=ju(function(n){var t=Ht(n,qu);return t.length&&t[0]===n[0]?ru(t):[]}),mo=ju(function(t){var r=jo(t),e=Ht(t,qu);return r===jo(e)?r=n:e.pop(),e.length&&e[0]===t[0]?ru(e,Ui(r,2)):[]}),xo=ju(function(t){var r=jo(t),e=Ht(t,qu);return(r="function"==typeof r?r:n)&&e.pop(),e.length&&e[0]===t[0]?ru(e,n,r):[]});function jo(t){var r=null==t?0:t.length;return r?t[r-1]:n}var Ao=ju(ko);function ko(n,t){return n&&n.length&&t&&t.length?bu(n,t):n}var Oo=Ei(function(n,t){var r=null==n?0:n.length,e=We(n,t);return wu(n,Ht(t,function(n){return Zi(n,r)?+n:n}).sort(Xu)),e});function Io(n){return null==n?n:Jr.call(n)}var Ro=ju(function(n){return Tu(qe(n,1,mf,!0))}),Eo=ju(function(t){var r=jo(t);return mf(r)&&(r=n),Tu(qe(t,1,mf,!0),Ui(r,2))}),zo=ju(function(t){var r=jo(t);return r="function"==typeof r?r:n,Tu(qe(t,1,mf,!0),n,r)});function So(n){if(!n||!n.length)return[];var t=0;return n=Kt(n,function(n){if(mf(n))return t=Zr(n.length,t),!0}),sr(t,function(t){return Ht(n,fr(t))})}function Lo(t,r){if(!t||!t.length)return[];var e=So(t);return null==r?e:Ht(e,function(t){return Ft(r,n,t)})}var Wo=ju(function(n,t){return mf(n)?$e(n,t):[]}),Co=ju(function(n){return Nu(Kt(n,mf))}),Uo=ju(function(t){var r=jo(t);return mf(r)&&(r=n),Nu(Kt(t,mf),Ui(r,2))}),Bo=ju(function(t){var r=jo(t);return r="function"==typeof r?r:n,Nu(Kt(t,mf),n,r)}),To=ju(So);var $o=ju(function(t){var r=t.length,e=r>1?t[r-1]:n;return e="function"==typeof e?(t.pop(),e):n,Lo(t,e)});function Do(n){var t=pe(n);return t.__chain__=!0,t}function Mo(n,t){return t(n)}var Fo=Ei(function(t){var r=t.length,e=r?t[0]:0,u=this.__wrapped__,i=function(n){return We(n,t)};return!(r>1||this.__actions__.length)&&u instanceof ye&&Zi(e)?((u=u.slice(e,+e+(r?1:0))).__actions__.push({func:Mo,args:[i],thisArg:n}),new ge(u,this.__chain__).thru(function(t){return r&&!t.length&&t.push(n),t})):this.thru(i)});var No=ui(function(n,t,r){st.call(n,r)?++n[r]:Le(n,r,1)});var Po=si(_o),qo=si(go);function Zo(n,t){return(df(n)?Pt:De)(n,Ui(t,3))}function Ko(n,t){return(df(n)?qt:Me)(n,Ui(t,3))}var Vo=ui(function(n,t,r){st.call(n,r)?n[r].push(t):Le(n,r,[t])});var Go=ju(function(n,t,r){var e=-1,u="function"==typeof t,i=wf(n)?Yn(n.length):[];return De(n,function(n){i[++e]=u?Ft(t,n,r):eu(n,t,r)}),i}),Ho=ui(function(n,t,r){Le(n,r,t)});function Jo(n,t){return(df(n)?Ht:hu)(n,Ui(t,3))}var Yo=ui(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]});var Qo=ju(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ki(n,t[0],t[1])?t=[]:r>2&&Ki(t[0],t[1],t[2])&&(t=[t[0]]),yu(n,qe(t,1),[])}),Xo=Br||function(){return Et.Date.now()};function nf(t,r,e){return r=e?n:r,r=t&&null==r?t.length:r,Ai(t,b,n,n,n,n,r)}function tf(t,r){var u;if("function"!=typeof r)throw new it(e);return t=Nf(t),function(){return--t>0&&(u=r.apply(this,arguments)),t<=1&&(r=n),u}}var rf=ju(function(n,t,r){var e=h;if(r.length){var u=jr(r,Ci(rf));e|=y}return Ai(n,e,t,r,u)}),ef=ju(function(n,t,r){var e=h|p;if(r.length){var u=jr(r,Ci(ef));e|=y}return Ai(t,e,n,r,u)});function uf(t,r,u){var i,o,f,a,c,l,s=0,h=!1,p=!1,v=!0;if("function"!=typeof t)throw new it(e);function _(r){var e=i,u=o;return i=o=n,s=r,a=t.apply(u,e)}function g(t){var e=t-l;return l===n||e>=r||e<0||p&&t-s>=f}function y(){var n=Xo();if(g(n))return d(n);c=eo(y,function(n){var t=r-(n-l);return p?Kr(t,f-(n-s)):t}(n))}function d(t){return c=n,v&&i?_(t):(i=o=n,a)}function b(){var t=Xo(),e=g(t);if(i=arguments,o=this,l=t,e){if(c===n)return function(n){return s=n,c=eo(y,r),h?_(n):a}(l);if(p)return Hu(c),c=eo(y,r),_(l)}return c===n&&(c=eo(y,r)),a}return r=qf(r)||0,Rf(u)&&(h=!!u.leading,f=(p="maxWait"in u)?Zr(qf(u.maxWait)||0,r):f,v="trailing"in u?!!u.trailing:v),b.cancel=function(){c!==n&&Hu(c),s=0,i=l=o=c=n},b.flush=function(){return c===n?a:d(Xo())},b}var of=ju(function(n,t){return Te(n,1,t)}),ff=ju(function(n,t,r){return Te(n,qf(t)||0,r)});function af(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new it(e);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(af.Cache||we),r}function cf(n){if("function"!=typeof n)throw new it(e);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}af.Cache=we;var lf=Vu(function(n,t){var r=(t=1==t.length&&df(t[0])?Ht(t[0],hr(Ui())):Ht(qe(t,1),hr(Ui()))).length;return ju(function(e){for(var u=-1,i=Kr(e.length,r);++u<i;)e[u]=t[u].call(this,e[u]);return Ft(n,this,e)})}),sf=ju(function(t,r){var e=jr(r,Ci(sf));return Ai(t,y,n,r,e)}),hf=ju(function(t,r){var e=jr(r,Ci(hf));return Ai(t,d,n,r,e)}),pf=Ei(function(t,r){return Ai(t,w,n,n,n,r)});function vf(n,t){return n===t||n!=n&&t!=t}var _f=bi(Xe),gf=bi(function(n,t){return n>=t}),yf=uu(function(){return arguments}())?uu:function(n){return Ef(n)&&st.call(n,"callee")&&!ar.call(n,"callee")},df=Yn.isArray,bf=Ut?hr(Ut):function(n){return Ef(n)&&Qe(n)==en};function wf(n){return null!=n&&If(n.length)&&!kf(n)}function mf(n){return Ef(n)&&wf(n)}var xf=Fr||qa,jf=Bt?hr(Bt):function(n){return Ef(n)&&Qe(n)==M};function Af(n){if(!Ef(n))return!1;var t=Qe(n);return t==N||t==F||"string"==typeof n.message&&"string"==typeof n.name&&!Lf(n)}function kf(n){if(!Rf(n))return!1;var t=Qe(n);return t==P||t==q||t==$||t==H}function Of(n){return"number"==typeof n&&n==Nf(n)}function If(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=E}function Rf(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function Ef(n){return null!=n&&"object"==typeof n}var zf=Tt?hr(Tt):function(n){return Ef(n)&&Fi(n)==Z};function Sf(n){return"number"==typeof n||Ef(n)&&Qe(n)==K}function Lf(n){if(!Ef(n)||Qe(n)!=G)return!1;var t=Ct(n);if(null===t)return!0;var r=st.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&lt.call(r)==dt}var Wf=$t?hr($t):function(n){return Ef(n)&&Qe(n)==J};var Cf=Dt?hr(Dt):function(n){return Ef(n)&&Fi(n)==Y};function Uf(n){return"string"==typeof n||!df(n)&&Ef(n)&&Qe(n)==Q}function Bf(n){return"symbol"==typeof n||Ef(n)&&Qe(n)==X}var Tf=Mt?hr(Mt):function(n){return Ef(n)&&If(n.length)&&!!xt[Qe(n)]};var $f=bi(su),Df=bi(function(n,t){return n<=t});function Mf(n){if(!n)return[];if(wf(n))return Uf(n)?Ir(n):ri(n);if(Lr&&n[Lr])return function(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}(n[Lr]());var t=Fi(n);return(t==Z?mr:t==Y?Ar:va)(n)}function Ff(n){return n?(n=qf(n))===R||n===-R?(n<0?-1:1)*z:n==n?n:0:0===n?n:0}function Nf(n){var t=Ff(n),r=t%1;return t==t?r?t-r:t:0}function Pf(n){return n?Ce(Nf(n),0,L):0}function qf(n){if("number"==typeof n)return n;if(Bf(n))return S;if(Rf(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=Rf(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(zn,"");var r=Fn.test(n);return r||Pn.test(n)?Ot(n.slice(2),r?2:8):Mn.test(n)?S:+n}function Zf(n){return ei(n,oa(n))}function Kf(n){return null==n?"":Bu(n)}var Vf=ii(function(n,t){if(Ji(t)||wf(t))ei(t,ia(t),n);else for(var r in t)st.call(t,r)&&Re(n,r,t[r])}),Gf=ii(function(n,t){ei(t,oa(t),n)}),Hf=ii(function(n,t,r,e){ei(t,oa(t),n,e)}),Jf=ii(function(n,t,r,e){ei(t,ia(t),n,e)}),Yf=Ei(We);var Qf=ju(function(t,r){t=rt(t);var e=-1,u=r.length,i=u>2?r[2]:n;for(i&&Ki(r[0],r[1],i)&&(u=1);++e<u;)for(var o=r[e],f=oa(o),a=-1,c=f.length;++a<c;){var l=f[a],s=t[l];(s===n||vf(s,at[l])&&!st.call(t,l))&&(t[l]=o[l])}return t}),Xf=ju(function(t){return t.push(n,Oi),Ft(aa,n,t)});function na(t,r,e){var u=null==t?n:Je(t,r);return u===n?e:u}function ta(n,t){return null!=n&&Ni(n,t,tu)}var ra=vi(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gt.call(t)),n[t]=r},Ra(Sa)),ea=vi(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gt.call(t)),st.call(n,t)?n[t].push(r):n[t]=[r]},Ui),ua=ju(eu);function ia(n){return wf(n)?je(n):cu(n)}function oa(n){return wf(n)?je(n,!0):lu(n)}var fa=ii(function(n,t,r){_u(n,t,r)}),aa=ii(function(n,t,r,e){_u(n,t,r,e)}),ca=Ei(function(n,t){var r={};if(null==n)return r;var e=!1;t=Ht(t,function(t){return t=Ku(t,n),e||(e=t.length>1),t}),ei(n,Si(n),r),e&&(r=Ue(r,f|a|c,Ii));for(var u=t.length;u--;)$u(r,t[u]);return r});var la=Ei(function(n,t){return null==n?{}:function(n,t){return du(n,t,function(t,r){return ta(n,r)})}(n,t)});function sa(n,t){if(null==n)return{};var r=Ht(Si(n),function(n){return[n]});return t=Ui(t),du(n,r,function(n,r){return t(n,r[0])})}var ha=ji(ia),pa=ji(oa);function va(n){return null==n?[]:pr(n,ia(n))}var _a=ci(function(n,t,r){return t=t.toLowerCase(),n+(r?ga(t):t)});function ga(n){return Aa(Kf(n).toLowerCase())}function ya(n){return(n=Kf(n))&&n.replace(Zn,yr).replace(_t,"")}var da=ci(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),ba=ci(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),wa=ai("toLowerCase");var ma=ci(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()});var xa=ci(function(n,t,r){return n+(r?" ":"")+Aa(t)});var ja=ci(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Aa=ai("toUpperCase");function ka(t,r,e){return t=Kf(t),(r=e?n:r)===n?function(n){return bt.test(n)}(t)?function(n){return n.match(yt)||[]}(t):function(n){return n.match(Bn)||[]}(t):t.match(r)||[]}var Oa=ju(function(t,r){try{return Ft(t,n,r)}catch(e){return Af(e)?e:new Xn(e)}}),Ia=Ei(function(n,t){return Pt(t,function(t){t=co(t),Le(n,t,rf(n[t],n))}),n});function Ra(n){return function(){return n}}var Ea=hi(),za=hi(!0);function Sa(n){return n}function La(n){return au("function"==typeof n?n:Ue(n,f))}var Wa=ju(function(n,t){return function(r){return eu(r,n,t)}}),Ca=ju(function(n,t){return function(r){return eu(n,r,t)}});function Ua(n,t,r){var e=ia(t),u=He(t,e);null!=r||Rf(t)&&(u.length||!e.length)||(r=t,t=n,n=this,u=He(t,ia(t)));var i=!(Rf(r)&&"chain"in r&&!r.chain),o=kf(n);return Pt(u,function(r){var e=t[r];n[r]=e,o&&(n.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=n(this.__wrapped__);return(r.__actions__=ri(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,Jt([this.value()],arguments))})}),n}function Ba(){}var Ta=gi(Ht),$a=gi(Zt),Da=gi(Xt);function Ma(n){return Vi(n)?fr(co(n)):function(n){return function(t){return Je(t,n)}}(n)}var Fa=di(),Na=di(!0);function Pa(){return[]}function qa(){return!1}var Za=_i(function(n,t){return n+t},0),Ka=mi("ceil"),Va=_i(function(n,t){return n/t},1),Ga=mi("floor");var Ha,Ja=_i(function(n,t){return n*t},1),Ya=mi("round"),Qa=_i(function(n,t){return n-t},0);return pe.after=function(n,t){if("function"!=typeof t)throw new it(e);return n=Nf(n),function(){if(--n<1)return t.apply(this,arguments)}},pe.ary=nf,pe.assign=Vf,pe.assignIn=Gf,pe.assignInWith=Hf,pe.assignWith=Jf,pe.at=Yf,pe.before=tf,pe.bind=rf,pe.bindAll=Ia,pe.bindKey=ef,pe.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return df(n)?n:[n]},pe.chain=Do,pe.chunk=function(t,r,e){r=(e?Ki(t,r,e):r===n)?1:Zr(Nf(r),0);var u=null==t?0:t.length;if(!u||r<1)return[];for(var i=0,o=0,f=Yn($r(u/r));i<u;)f[o++]=zu(t,i,i+=r);return f},pe.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u},pe.concat=function(){var n=arguments.length;if(!n)return[];for(var t=Yn(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return Jt(df(r)?ri(r):[r],qe(t,1))},pe.cond=function(n){var t=null==n?0:n.length,r=Ui();return n=t?Ht(n,function(n){if("function"!=typeof n[1])throw new it(e);return[r(n[0]),n[1]]}):[],ju(function(r){for(var e=-1;++e<t;){var u=n[e];if(Ft(u[0],this,r))return Ft(u[1],this,r)}})},pe.conforms=function(n){return function(n){var t=ia(n);return function(r){return Be(r,n,t)}}(Ue(n,f))},pe.constant=Ra,pe.countBy=No,pe.create=function(n,t){var r=ve(n);return null==t?r:Se(r,t)},pe.curry=function t(r,e,u){var i=Ai(r,_,n,n,n,n,n,e=u?n:e);return i.placeholder=t.placeholder,i},pe.curryRight=function t(r,e,u){var i=Ai(r,g,n,n,n,n,n,e=u?n:e);return i.placeholder=t.placeholder,i},pe.debounce=uf,pe.defaults=Qf,pe.defaultsDeep=Xf,pe.defer=of,pe.delay=ff,pe.difference=ho,pe.differenceBy=po,pe.differenceWith=vo,pe.drop=function(t,r,e){var u=null==t?0:t.length;return u?zu(t,(r=e||r===n?1:Nf(r))<0?0:r,u):[]},pe.dropRight=function(t,r,e){var u=null==t?0:t.length;return u?zu(t,0,(r=u-(r=e||r===n?1:Nf(r)))<0?0:r):[]},pe.dropRightWhile=function(n,t){return n&&n.length?Mu(n,Ui(t,3),!0,!0):[]},pe.dropWhile=function(n,t){return n&&n.length?Mu(n,Ui(t,3),!0):[]},pe.fill=function(t,r,e,u){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&Ki(t,r,e)&&(e=0,u=i),function(t,r,e,u){var i=t.length;for((e=Nf(e))<0&&(e=-e>i?0:i+e),(u=u===n||u>i?i:Nf(u))<0&&(u+=i),u=e>u?0:Pf(u);e<u;)t[e++]=r;return t}(t,r,e,u)):[]},pe.filter=function(n,t){return(df(n)?Kt:Pe)(n,Ui(t,3))},pe.flatMap=function(n,t){return qe(Jo(n,t),1)},pe.flatMapDeep=function(n,t){return qe(Jo(n,t),R)},pe.flatMapDepth=function(t,r,e){return e=e===n?1:Nf(e),qe(Jo(t,r),e)},pe.flatten=yo,pe.flattenDeep=function(n){return null!=n&&n.length?qe(n,R):[]},pe.flattenDepth=function(t,r){return null!=t&&t.length?qe(t,r=r===n?1:Nf(r)):[]},pe.flip=function(n){return Ai(n,m)},pe.flow=Ea,pe.flowRight=za,pe.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},pe.functions=function(n){return null==n?[]:He(n,ia(n))},pe.functionsIn=function(n){return null==n?[]:He(n,oa(n))},pe.groupBy=Vo,pe.initial=function(n){return null!=n&&n.length?zu(n,0,-1):[]},pe.intersection=wo,pe.intersectionBy=mo,pe.intersectionWith=xo,pe.invert=ra,pe.invertBy=ea,pe.invokeMap=Go,pe.iteratee=La,pe.keyBy=Ho,pe.keys=ia,pe.keysIn=oa,pe.map=Jo,pe.mapKeys=function(n,t){var r={};return t=Ui(t,3),Ve(n,function(n,e,u){Le(r,t(n,e,u),n)}),r},pe.mapValues=function(n,t){var r={};return t=Ui(t,3),Ve(n,function(n,e,u){Le(r,e,t(n,e,u))}),r},pe.matches=function(n){return pu(Ue(n,f))},pe.matchesProperty=function(n,t){return vu(n,Ue(t,f))},pe.memoize=af,pe.merge=fa,pe.mergeWith=aa,pe.method=Wa,pe.methodOf=Ca,pe.mixin=Ua,pe.negate=cf,pe.nthArg=function(n){return n=Nf(n),ju(function(t){return gu(t,n)})},pe.omit=ca,pe.omitBy=function(n,t){return sa(n,cf(Ui(t)))},pe.once=function(n){return tf(2,n)},pe.orderBy=function(t,r,e,u){return null==t?[]:(df(r)||(r=null==r?[]:[r]),df(e=u?n:e)||(e=null==e?[]:[e]),yu(t,r,e))},pe.over=Ta,pe.overArgs=lf,pe.overEvery=$a,pe.overSome=Da,pe.partial=sf,pe.partialRight=hf,pe.partition=Yo,pe.pick=la,pe.pickBy=sa,pe.property=Ma,pe.propertyOf=function(t){return function(r){return null==t?n:Je(t,r)}},pe.pull=Ao,pe.pullAll=ko,pe.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?bu(n,t,Ui(r,2)):n},pe.pullAllWith=function(t,r,e){return t&&t.length&&r&&r.length?bu(t,r,n,e):t},pe.pullAt=Oo,pe.range=Fa,pe.rangeRight=Na,pe.rearg=pf,pe.reject=function(n,t){return(df(n)?Kt:Pe)(n,cf(Ui(t,3)))},pe.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=Ui(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return wu(n,u),r},pe.rest=function(t,r){if("function"!=typeof t)throw new it(e);return ju(t,r=r===n?r:Nf(r))},pe.reverse=Io,pe.sampleSize=function(t,r,e){return r=(e?Ki(t,r,e):r===n)?1:Nf(r),(df(t)?ke:ku)(t,r)},pe.set=function(n,t,r){return null==n?n:Ou(n,t,r)},pe.setWith=function(t,r,e,u){return u="function"==typeof u?u:n,null==t?t:Ou(t,r,e,u)},pe.shuffle=function(n){return(df(n)?Oe:Eu)(n)},pe.slice=function(t,r,e){var u=null==t?0:t.length;return u?(e&&"number"!=typeof e&&Ki(t,r,e)?(r=0,e=u):(r=null==r?0:Nf(r),e=e===n?u:Nf(e)),zu(t,r,e)):[]},pe.sortBy=Qo,pe.sortedUniq=function(n){return n&&n.length?Cu(n):[]},pe.sortedUniqBy=function(n,t){return n&&n.length?Cu(n,Ui(t,2)):[]},pe.split=function(t,r,e){return e&&"number"!=typeof e&&Ki(t,r,e)&&(r=e=n),(e=e===n?L:e>>>0)?(t=Kf(t))&&("string"==typeof r||null!=r&&!Wf(r))&&!(r=Bu(r))&&wr(t)?Gu(Ir(t),0,e):t.split(r,e):[]},pe.spread=function(n,t){if("function"!=typeof n)throw new it(e);return t=null==t?0:Zr(Nf(t),0),ju(function(r){var e=r[t],u=Gu(r,0,t);return e&&Jt(u,e),Ft(n,this,u)})},pe.tail=function(n){var t=null==n?0:n.length;return t?zu(n,1,t):[]},pe.take=function(t,r,e){return t&&t.length?zu(t,0,(r=e||r===n?1:Nf(r))<0?0:r):[]},pe.takeRight=function(t,r,e){var u=null==t?0:t.length;return u?zu(t,(r=u-(r=e||r===n?1:Nf(r)))<0?0:r,u):[]},pe.takeRightWhile=function(n,t){return n&&n.length?Mu(n,Ui(t,3),!1,!0):[]},pe.takeWhile=function(n,t){return n&&n.length?Mu(n,Ui(t,3)):[]},pe.tap=function(n,t){return t(n),n},pe.throttle=function(n,t,r){var u=!0,i=!0;if("function"!=typeof n)throw new it(e);return Rf(r)&&(u="leading"in r?!!r.leading:u,i="trailing"in r?!!r.trailing:i),uf(n,t,{leading:u,maxWait:t,trailing:i})},pe.thru=Mo,pe.toArray=Mf,pe.toPairs=ha,pe.toPairsIn=pa,pe.toPath=function(n){return df(n)?Ht(n,co):Bf(n)?[n]:ri(ao(Kf(n)))},pe.toPlainObject=Zf,pe.transform=function(n,t,r){var e=df(n),u=e||xf(n)||Tf(n);if(t=Ui(t,4),null==r){var i=n&&n.constructor;r=u?e?new i:[]:Rf(n)&&kf(i)?ve(Ct(n)):{}}return(u?Pt:Ve)(n,function(n,e,u){return t(r,n,e,u)}),r},pe.unary=function(n){return nf(n,1)},pe.union=Ro,pe.unionBy=Eo,pe.unionWith=zo,pe.uniq=function(n){return n&&n.length?Tu(n):[]},pe.uniqBy=function(n,t){return n&&n.length?Tu(n,Ui(t,2)):[]},pe.uniqWith=function(t,r){return r="function"==typeof r?r:n,t&&t.length?Tu(t,n,r):[]},pe.unset=function(n,t){return null==n||$u(n,t)},pe.unzip=So,pe.unzipWith=Lo,pe.update=function(n,t,r){return null==n?n:Du(n,t,Zu(r))},pe.updateWith=function(t,r,e,u){return u="function"==typeof u?u:n,null==t?t:Du(t,r,Zu(e),u)},pe.values=va,pe.valuesIn=function(n){return null==n?[]:pr(n,oa(n))},pe.without=Wo,pe.words=ka,pe.wrap=function(n,t){return sf(Zu(t),n)},pe.xor=Co,pe.xorBy=Uo,pe.xorWith=Bo,pe.zip=To,pe.zipObject=function(n,t){return Pu(n||[],t||[],Re)},pe.zipObjectDeep=function(n,t){return Pu(n||[],t||[],Ou)},pe.zipWith=$o,pe.entries=ha,pe.entriesIn=pa,pe.extend=Gf,pe.extendWith=Hf,Ua(pe,pe),pe.add=Za,pe.attempt=Oa,pe.camelCase=_a,pe.capitalize=ga,pe.ceil=Ka,pe.clamp=function(t,r,e){return e===n&&(e=r,r=n),e!==n&&(e=(e=qf(e))==e?e:0),r!==n&&(r=(r=qf(r))==r?r:0),Ce(qf(t),r,e)},pe.clone=function(n){return Ue(n,c)},pe.cloneDeep=function(n){return Ue(n,f|c)},pe.cloneDeepWith=function(t,r){return Ue(t,f|c,r="function"==typeof r?r:n)},pe.cloneWith=function(t,r){return Ue(t,c,r="function"==typeof r?r:n)},pe.conformsTo=function(n,t){return null==t||Be(n,t,ia(t))},pe.deburr=ya,pe.defaultTo=function(n,t){return null==n||n!=n?t:n},pe.divide=Va,pe.endsWith=function(t,r,e){t=Kf(t),r=Bu(r);var u=t.length,i=e=e===n?u:Ce(Nf(e),0,u);return(e-=r.length)>=0&&t.slice(e,i)==r},pe.eq=vf,pe.escape=function(n){return(n=Kf(n))&&mn.test(n)?n.replace(bn,dr):n},pe.escapeRegExp=function(n){return(n=Kf(n))&&En.test(n)?n.replace(Rn,"\\$&"):n},pe.every=function(t,r,e){var u=df(t)?Zt:Fe;return e&&Ki(t,r,e)&&(r=n),u(t,Ui(r,3))},pe.find=Po,pe.findIndex=_o,pe.findKey=function(n,t){return tr(n,Ui(t,3),Ve)},pe.findLast=qo,pe.findLastIndex=go,pe.findLastKey=function(n,t){return tr(n,Ui(t,3),Ge)},pe.floor=Ga,pe.forEach=Zo,pe.forEachRight=Ko,pe.forIn=function(n,t){return null==n?n:Ze(n,Ui(t,3),oa)},pe.forInRight=function(n,t){return null==n?n:Ke(n,Ui(t,3),oa)},pe.forOwn=function(n,t){return n&&Ve(n,Ui(t,3))},pe.forOwnRight=function(n,t){return n&&Ge(n,Ui(t,3))},pe.get=na,pe.gt=_f,pe.gte=gf,pe.has=function(n,t){return null!=n&&Ni(n,t,nu)},pe.hasIn=ta,pe.head=bo,pe.identity=Sa,pe.includes=function(n,t,r,e){n=wf(n)?n:va(n),r=r&&!e?Nf(r):0;var u=n.length;return r<0&&(r=Zr(u+r,0)),Uf(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&er(n,t,r)>-1},pe.indexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:Nf(r);return u<0&&(u=Zr(e+u,0)),er(n,t,u)},pe.inRange=function(t,r,e){return r=Ff(r),e===n?(e=r,r=0):e=Ff(e),function(n,t,r){return n>=Kr(t,r)&&n<Zr(t,r)}(t=qf(t),r,e)},pe.invoke=ua,pe.isArguments=yf,pe.isArray=df,pe.isArrayBuffer=bf,pe.isArrayLike=wf,pe.isArrayLikeObject=mf,pe.isBoolean=function(n){return!0===n||!1===n||Ef(n)&&Qe(n)==D},pe.isBuffer=xf,pe.isDate=jf,pe.isElement=function(n){return Ef(n)&&1===n.nodeType&&!Lf(n)},pe.isEmpty=function(n){if(null==n)return!0;if(wf(n)&&(df(n)||"string"==typeof n||"function"==typeof n.splice||xf(n)||Tf(n)||yf(n)))return!n.length;var t=Fi(n);if(t==Z||t==Y)return!n.size;if(Ji(n))return!cu(n).length;for(var r in n)if(st.call(n,r))return!1;return!0},pe.isEqual=function(n,t){return iu(n,t)},pe.isEqualWith=function(t,r,e){var u=(e="function"==typeof e?e:n)?e(t,r):n;return u===n?iu(t,r,n,e):!!u},pe.isError=Af,pe.isFinite=function(n){return"number"==typeof n&&Nr(n)},pe.isFunction=kf,pe.isInteger=Of,pe.isLength=If,pe.isMap=zf,pe.isMatch=function(n,t){return n===t||ou(n,t,Ti(t))},pe.isMatchWith=function(t,r,e){return e="function"==typeof e?e:n,ou(t,r,Ti(r),e)},pe.isNaN=function(n){return Sf(n)&&n!=+n},pe.isNative=function(n){if(Hi(n))throw new Xn(r);return fu(n)},pe.isNil=function(n){return null==n},pe.isNull=function(n){return null===n},pe.isNumber=Sf,pe.isObject=Rf,pe.isObjectLike=Ef,pe.isPlainObject=Lf,pe.isRegExp=Wf,pe.isSafeInteger=function(n){return Of(n)&&n>=-E&&n<=E},pe.isSet=Cf,pe.isString=Uf,pe.isSymbol=Bf,pe.isTypedArray=Tf,pe.isUndefined=function(t){return t===n},pe.isWeakMap=function(n){return Ef(n)&&Fi(n)==tn},pe.isWeakSet=function(n){return Ef(n)&&Qe(n)==rn},pe.join=function(n,t){return null==n?"":Pr.call(n,t)},pe.kebabCase=da,pe.last=jo,pe.lastIndexOf=function(t,r,e){var u=null==t?0:t.length;if(!u)return-1;var i=u;return e!==n&&(i=(i=Nf(e))<0?Zr(u+i,0):Kr(i,u-1)),r==r?function(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}(t,r,i):rr(t,ir,i,!0)},pe.lowerCase=ba,pe.lowerFirst=wa,pe.lt=$f,pe.lte=Df,pe.max=function(t){return t&&t.length?Ne(t,Sa,Xe):n},pe.maxBy=function(t,r){return t&&t.length?Ne(t,Ui(r,2),Xe):n},pe.mean=function(n){return or(n,Sa)},pe.meanBy=function(n,t){return or(n,Ui(t,2))},pe.min=function(t){return t&&t.length?Ne(t,Sa,su):n},pe.minBy=function(t,r){return t&&t.length?Ne(t,Ui(r,2),su):n},pe.stubArray=Pa,pe.stubFalse=qa,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=Ja,pe.nth=function(t,r){return t&&t.length?gu(t,Nf(r)):n},pe.noConflict=function(){return Et._===this&&(Et._=At),this},pe.noop=Ba,pe.now=Xo,pe.pad=function(n,t,r){n=Kf(n);var e=(t=Nf(t))?Or(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return yi(Dr(u),r)+n+yi($r(u),r)},pe.padEnd=function(n,t,r){n=Kf(n);var e=(t=Nf(t))?Or(n):0;return t&&e<t?n+yi(t-e,r):n},pe.padStart=function(n,t,r){n=Kf(n);var e=(t=Nf(t))?Or(n):0;return t&&e<t?yi(t-e,r)+n:n},pe.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),Gr(Kf(n).replace(Sn,""),t||0)},pe.random=function(t,r,e){if(e&&"boolean"!=typeof e&&Ki(t,r,e)&&(r=e=n),e===n&&("boolean"==typeof r?(e=r,r=n):"boolean"==typeof t&&(e=t,t=n)),t===n&&r===n?(t=0,r=1):(t=Ff(t),r===n?(r=t,t=0):r=Ff(r)),t>r){var u=t;t=r,r=u}if(e||t%1||r%1){var i=Hr();return Kr(t+i*(r-t+kt("1e-"+((i+"").length-1))),r)}return mu(t,r)},pe.reduce=function(n,t,r){var e=df(n)?Yt:cr,u=arguments.length<3;return e(n,Ui(t,4),r,u,De)},pe.reduceRight=function(n,t,r){var e=df(n)?Qt:cr,u=arguments.length<3;return e(n,Ui(t,4),r,u,Me)},pe.repeat=function(t,r,e){return r=(e?Ki(t,r,e):r===n)?1:Nf(r),xu(Kf(t),r)},pe.replace=function(){var n=arguments,t=Kf(n[0]);return n.length<3?t:t.replace(n[1],n[2])},pe.result=function(t,r,e){var u=-1,i=(r=Ku(r,t)).length;for(i||(i=1,t=n);++u<i;){var o=null==t?n:t[co(r[u])];o===n&&(u=i,o=e),t=kf(o)?o.call(t):o}return t},pe.round=Ya,pe.runInContext=Gn,pe.sample=function(n){return(df(n)?Ae:Au)(n)},pe.size=function(n){if(null==n)return 0;if(wf(n))return Uf(n)?Or(n):n.length;var t=Fi(n);return t==Z||t==Y?n.size:cu(n).length},pe.snakeCase=ma,pe.some=function(t,r,e){var u=df(t)?Xt:Su;return e&&Ki(t,r,e)&&(r=n),u(t,Ui(r,3))},pe.sortedIndex=function(n,t){return Lu(n,t)},pe.sortedIndexBy=function(n,t,r){return Wu(n,t,Ui(r,2))},pe.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=Lu(n,t);if(e<r&&vf(n[e],t))return e}return-1},pe.sortedLastIndex=function(n,t){return Lu(n,t,!0)},pe.sortedLastIndexBy=function(n,t,r){return Wu(n,t,Ui(r,2),!0)},pe.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var r=Lu(n,t,!0)-1;if(vf(n[r],t))return r}return-1},pe.startCase=xa,pe.startsWith=function(n,t,r){return n=Kf(n),r=null==r?0:Ce(Nf(r),0,n.length),t=Bu(t),n.slice(r,r+t.length)==t},pe.subtract=Qa,pe.sum=function(n){return n&&n.length?lr(n,Sa):0},pe.sumBy=function(n,t){return n&&n.length?lr(n,Ui(t,2)):0},pe.template=function(t,r,e){var u=pe.templateSettings;e&&Ki(t,r,e)&&(r=n),t=Kf(t),r=Hf({},r,u,ki);var i,o,f=Hf({},r.imports,u.imports,ki),a=ia(f),c=pr(f,a),l=0,s=r.interpolate||Kn,h="__p += '",p=et((r.escape||Kn).source+"|"+s.source+"|"+(s===An?$n:Kn).source+"|"+(r.evaluate||Kn).source+"|$","g"),v="//# sourceURL="+(st.call(r,"sourceURL")?(r.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++mt+"]")+"\n";t.replace(p,function(n,r,e,u,f,a){return e||(e=u),h+=t.slice(l,a).replace(Vn,br),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+n.length,n}),h+="';\n";var _=st.call(r,"variable")&&r.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(_n,""):h).replace(gn,"$1").replace(yn,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Oa(function(){return nt(a,v+"return "+h).apply(n,c)});if(g.source=h,Af(g))throw g;return g},pe.times=function(n,t){if((n=Nf(n))<1||n>E)return[];var r=L,e=Kr(n,L);t=Ui(t),n-=L;for(var u=sr(e,t);++r<n;)t(r);return u},pe.toFinite=Ff,pe.toInteger=Nf,pe.toLength=Pf,pe.toLower=function(n){return Kf(n).toLowerCase()},pe.toNumber=qf,pe.toSafeInteger=function(n){return n?Ce(Nf(n),-E,E):0===n?n:0},pe.toString=Kf,pe.toUpper=function(n){return Kf(n).toUpperCase()},pe.trim=function(t,r,e){if((t=Kf(t))&&(e||r===n))return t.replace(zn,"");if(!t||!(r=Bu(r)))return t;var u=Ir(t),i=Ir(r);return Gu(u,_r(u,i),gr(u,i)+1).join("")},pe.trimEnd=function(t,r,e){if((t=Kf(t))&&(e||r===n))return t.replace(Ln,"");if(!t||!(r=Bu(r)))return t;var u=Ir(t);return Gu(u,0,gr(u,Ir(r))+1).join("")},pe.trimStart=function(t,r,e){if((t=Kf(t))&&(e||r===n))return t.replace(Sn,"");if(!t||!(r=Bu(r)))return t;var u=Ir(t);return Gu(u,_r(u,Ir(r))).join("")},pe.truncate=function(t,r){var e=x,u=j;if(Rf(r)){var i="separator"in r?r.separator:i;e="length"in r?Nf(r.length):e,u="omission"in r?Bu(r.omission):u}var o=(t=Kf(t)).length;if(wr(t)){var f=Ir(t);o=f.length}if(e>=o)return t;var a=e-Or(u);if(a<1)return u;var c=f?Gu(f,0,a).join(""):t.slice(0,a);if(i===n)return c+u;if(f&&(a+=c.length-a),Wf(i)){if(t.slice(a).search(i)){var l,s=c;for(i.global||(i=et(i.source,Kf(Dn.exec(i))+"g")),i.lastIndex=0;l=i.exec(s);)var h=l.index;c=c.slice(0,h===n?a:h)}}else if(t.indexOf(Bu(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+u},pe.unescape=function(n){return(n=Kf(n))&&wn.test(n)?n.replace(dn,Rr):n},pe.uniqueId=function(n){var t=++ht;return Kf(n)+t},pe.upperCase=ja,pe.upperFirst=Aa,pe.each=Zo,pe.eachRight=Ko,pe.first=bo,Ua(pe,(Ha={},Ve(pe,function(n,t){st.call(pe.prototype,t)||(Ha[t]=n)}),Ha),{chain:!1}),pe.VERSION="4.17.15",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){pe[n].placeholder=pe}),Pt(["drop","take"],function(t,r){ye.prototype[t]=function(e){e=e===n?1:Zr(Nf(e),0);var u=this.__filtered__&&!r?new ye(this):this.clone();return u.__filtered__?u.__takeCount__=Kr(e,u.__takeCount__):u.__views__.push({size:Kr(e,L),type:t+(u.__dir__<0?"Right":"")}),u},ye.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Pt(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==O||3==r;ye.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:Ui(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),Pt(["head","last"],function(n,t){var r="take"+(t?"Right":"");ye.prototype[n]=function(){return this[r](1).value()[0]}}),Pt(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");ye.prototype[n]=function(){return this.__filtered__?new ye(this):this[r](1)}}),ye.prototype.compact=function(){return this.filter(Sa)},ye.prototype.find=function(n){return this.filter(n).head()},ye.prototype.findLast=function(n){return this.reverse().find(n)},ye.prototype.invokeMap=ju(function(n,t){return"function"==typeof n?new ye(this):this.map(function(r){return eu(r,n,t)})}),ye.prototype.reject=function(n){return this.filter(cf(Ui(n)))},ye.prototype.slice=function(t,r){t=Nf(t);var e=this;return e.__filtered__&&(t>0||r<0)?new ye(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),r!==n&&(e=(r=Nf(r))<0?e.dropRight(-r):e.take(r-t)),e)},ye.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ye.prototype.toArray=function(){return this.take(L)},Ve(ye.prototype,function(t,r){var e=/^(?:filter|find|map|reject)|While$/.test(r),u=/^(?:head|last)$/.test(r),i=pe[u?"take"+("last"==r?"Right":""):r],o=u||/^find/.test(r);i&&(pe.prototype[r]=function(){var r=this.__wrapped__,f=u?[1]:arguments,a=r instanceof ye,c=f[0],l=a||df(r),s=function(n){var t=i.apply(pe,Jt([n],f));return u&&h?t[0]:t};l&&e&&"function"==typeof c&&1!=c.length&&(a=l=!1);var h=this.__chain__,p=!!this.__actions__.length,v=o&&!h,_=a&&!p;if(!o&&l){r=_?r:new ye(this);var g=t.apply(r,f);return g.__actions__.push({func:Mo,args:[s],thisArg:n}),new ge(g,h)}return v&&_?t.apply(this,f):(g=this.thru(s),v?u?g.value()[0]:g.value():g)})}),Pt(["pop","push","shift","sort","splice","unshift"],function(n){var t=ot[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);pe.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(df(u)?u:[],n)}return this[r](function(r){return t.apply(df(r)?r:[],n)})}}),Ve(ye.prototype,function(n,t){var r=pe[t];if(r){var e=r.name+"";st.call(ue,e)||(ue[e]=[]),ue[e].push({name:t,func:r})}}),ue[pi(n,p).name]=[{name:"wrapper",func:n}],ye.prototype.clone=function(){var n=new ye(this.__wrapped__);return n.__actions__=ri(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ri(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ri(this.__views__),n},ye.prototype.reverse=function(){if(this.__filtered__){var n=new ye(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},ye.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,r=df(n),e=t<0,u=r?n.length:0,i=function(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Kr(t,n+o);break;case"takeRight":n=Zr(n,t-o)}}return{start:n,end:t}}(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Kr(a,this.__takeCount__);if(!r||!e&&u==a&&p==a)return Fu(n,this.__actions__);var v=[];n:for(;a--&&h<p;){for(var _=-1,g=n[c+=t];++_<s;){var y=l[_],d=y.iteratee,b=y.type,w=d(g);if(b==I)g=w;else if(!w){if(b==O)continue n;break n}}v[h++]=g}return v},pe.prototype.at=Fo,pe.prototype.chain=function(){return Do(this)},pe.prototype.commit=function(){return new ge(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===n&&(this.__values__=Mf(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},pe.prototype.plant=function(t){for(var r,e=this;e instanceof _e;){var u=so(e);u.__index__=0,u.__values__=n,r?i.__wrapped__=u:r=u;var i=u;e=e.__wrapped__}return i.__wrapped__=t,r},pe.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof ye){var r=t;return this.__actions__.length&&(r=new ye(this)),(r=r.reverse()).__actions__.push({func:Mo,args:[Io],thisArg:n}),new ge(r,this.__chain__)}return this.thru(Io)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Fu(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,Lr&&(pe.prototype[Lr]=function(){return this}),pe}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Et._=Er,define(function(){return Er})):St?((St.exports=Er)._=Er,zt._=Er):Et._=Er}).call(this);
},{}],"Ftbu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("lodash"),t=new RegExp("{[^/{}]*}","g");class r{constructor(e,t){this.before=e,this.after=t}}function n({after:t=(()=>{}),before:r=(()=>{}),contextOnlyHandler:n,dataConstructor:c=(e=>e.data),eventType:u,handler:l,labels:d={},legacyEventType:f,options:p={},provider:g,service:h,triggerResource:m}){const v=(e,i)=>{f&&i.eventType===f&&(i.eventType=g+"."+u,i.resource={service:h,name:i.resource});const p={data:e,context:i};let v;if("google.firebase.database"===g&&(i.authType=a(p),"ADMIN"!==i.authType?i.auth=s(p,i.authType):delete i.auth),null==m()?Object.defineProperty(i,"params",{get:()=>{throw new Error("context.params is not available when using the handler namespace.")}}):i.params=i.params||o(i,m),r(p),d&&d["deployment-scheduled"])v=n(i);else{const e=c(p);v=l(e,i)}return void 0===v&&console.warn("Function returned undefined, expected Promise or value"),Promise.resolve(v).then(e=>(t(p),e)).catch(e=>(t(p),Promise.reject(e)))};return Object.defineProperty(v,"__trigger",{get:()=>{if(null==m())return{};const t=e.assign(i(p),{eventTrigger:{resource:m(),eventType:f||g+"."+u,service:h}});return e.isEmpty(d)||(t.labels=d),t}}),v.run=l||n,v}function o(r,n){if(r.params)return r.params;if(!r.resource)return{};const o=n(),s=o.match(t),a={};if(s){const t=e.split(o,"/"),n=e.split(r.resource.name,"/");e.forEach(s,r=>{const o=r.slice(1,-1),s=e.indexOf(t,r);a[o]=n[s]})}return a}function s(t,r){return"UNAUTHENTICATED"===r?null:{uid:e.get(t,"context.auth.variable.uid"),token:e.get(t,"context.auth.variable.token")}}function a(t){return e.get(t,"context.auth.admin")?"ADMIN":e.has(t,"context.auth.variable")?"USER":"UNAUTHENTICATED"}function i(t){const r={};if(t.regions&&(r.regions=t.regions),t.timeoutSeconds&&(r.timeout=t.timeoutSeconds.toString()+"s"),t.memory){const n={"128MB":128,"256MB":256,"512MB":512,"1GB":1024,"2GB":2048};r.availableMemoryMb=e.get(n,t.memory)}return t.schedule&&(r.schedule=t.schedule),r}exports.Change=r,function(t){function r(t,r,n){const o=e.assign({},r),s=n.split(",");return e.forEach(s,r=>{const n=e.get(t,r);void 0===n?e.unset(o,r):e.set(o,r,n)}),o}t.fromObjects=function(e,r){return new t(e,r)},t.fromJSON=function(n,o=function(e){return e}){let s=e.assign({},n.before);return n.fieldMask&&(s=r(s,n.after,n.fieldMask)),t.fromObjects(o(s||{}),o(n.after||{}))},t.applyFieldMask=r}(r=exports.Change||(exports.Change={})),exports.makeCloudFunction=n,exports.optionsToTrigger=i;
},{"lodash":"hKJs"}],"Exy1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("lodash"),t=require("../cloud-functions");function s(e){return r(e,{})}function r(e,t){return new o(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return"projects/"+process.env.GCLOUD_PROJECT+"/events/"+e},t)}exports.provider="google.analytics",exports.service="app-measurement.com",exports.event=s,exports._eventWithOptions=r;class o{constructor(e,t){this.triggerResource=e,this.options=t}onLog(e){return t.makeCloudFunction({handler:e,provider:exports.provider,eventType:"event.log",service:exports.service,legacyEventType:"providers/google.firebase.analytics/eventTypes/event.log",triggerResource:this.triggerResource,dataConstructor:e=>new i(e.data),options:this.options})}}exports.AnalyticsEventBuilder=o;class i{constructor(t){if(this.params={},t.eventDim&&t.eventDim.length>0){const s=t.eventDim[0];a(s,this,"name"),a(s,this,"params",t=>e.mapValues(t,m)),p(s,this,"valueInUsd","valueInUSD"),p(s,this,"date","reportingDate"),f(s,this,"timestampMicros","logTime"),f(s,this,"previousTimestampMicros","previousLogTime")}p(t,this,"userDim","user",e=>new n(e))}}exports.AnalyticsEvent=i;class n{constructor(t){l(t,this,["userId","deviceInfo","geoInfo","appInfo"]),f(t,this,"firstOpenTimestampMicros","firstOpenTime"),this.userProperties={},a(t,this,"userProperties",t=>e.mapValues(t,e=>new u(e))),a(t,this,"bundleInfo",e=>new c(e)),!this.userId&&this.userProperties.user_id&&(this.userId=this.userProperties.user_id.value)}}exports.UserDimensions=n;class u{constructor(e){a(e,this,"value",v),f(e,this,"setTimestampUsec","setTime")}}exports.UserPropertyValue=u;class c{constructor(e){a(e,this,"bundleSequenceId"),h(e,this,"serverTimestampOffsetMicros","serverTimestampOffset")}}function p(t,s,r,o,i=e.identity){void 0!==t[r]&&(s[o]=i(t[r]))}function a(t,s,r,o=e.identity){p(t,s,r,r,o)}function l(e,t,s){for(const r of s)a(e,t,r)}function v(t){const s=e.keys(t)[0];return e.toString(t[s])}exports.ExportBundleInfo=c;const d=["intValue","floatValue","doubleValue"];function m(t){const s=e.keys(t)[0],r=v(t);return e.includes(d,s)?e.toNumber(r):r}function h(t,s,r,o){void 0!==t[r]&&(s[o]=e.round(t[r]/1e3))}function f(e,t,s,r){void 0!==e[s]&&(t[r]=new Date(e[s]/1e3).toISOString())}
},{"lodash":"hKJs","../cloud-functions":"Ftbu"}],"wJ8Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("lodash"),t=require("../cloud-functions");function r(){return s({})}function s(e){return new a(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return"projects/"+process.env.GCLOUD_PROJECT},e)}exports.provider="google.firebase.auth",exports.service="firebaseauth.googleapis.com",exports.user=r,exports._userWithOptions=s;class o{constructor(e,t){this.creationTime=e,this.lastSignInTime=t}toJSON(){return{creationTime:this.creationTime,lastSignInTime:this.lastSignInTime}}}exports.UserRecordMetadata=o;class a{constructor(e,t){this.triggerResource=e,this.options=t}static dataConstructor(e){return i(e.data)}onCreate(e){return this.onOperation(e,"user.create")}onDelete(e){return this.onOperation(e,"user.delete")}onOperation(e,r){return t.makeCloudFunction({handler:e,provider:exports.provider,eventType:r,service:exports.service,triggerResource:this.triggerResource,dataConstructor:a.dataConstructor,legacyEventType:`providers/firebase.auth/eventTypes/${r}`,options:this.options})}}function i(t){const r=e.assign({},{email:null,emailVerified:!1,displayName:null,photoURL:null,phoneNumber:null,disabled:!1,providerData:[],customClaims:{},passwordSalt:null,passwordHash:null,tokensValidAfterTime:null},t),s=e.get(r,"metadata");return s?e.set(r,"metadata",new o(s.createdAt||s.creationTime,s.lastSignedInAt||s.lastSignInTime)):e.set(r,"metadata",new o(null,null)),e.forEach(r.providerData,t=>{e.set(t,"toJSON",()=>t)}),e.set(r,"toJSON",()=>{const t=e.pick(r,["uid","email","emailVerified","displayName","photoURL","phoneNumber","disabled","passwordHash","passwordSalt","tokensValidAfterTime"]);return t.metadata=e.get(r,"metadata").toJSON(),t.customClaims=e.cloneDeep(r.customClaims),t.providerData=e.map(r.providerData,e=>e.toJSON()),t}),r}exports.UserBuilder=a,exports.userRecordConstructor=i;
},{"lodash":"hKJs","../cloud-functions":"Ftbu"}],"wq4F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../cloud-functions");function r(){return s({})}function s(e){return new t(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return"projects/"+process.env.GCLOUD_PROJECT},e)}exports.provider="google.firebase.crashlytics",exports.service="fabric.io",exports.issue=r,exports._issueWithOptions=s;class t{constructor(e,r){this.triggerResource=e,this.options=r}onNewDetected(e){throw new Error('"onNewDetected" is now deprecated, please use "onNew"')}onNew(e){return this.onEvent(e,"issue.new")}onRegressed(e){return this.onEvent(e,"issue.regressed")}onVelocityAlert(e){return this.onEvent(e,"issue.velocityAlert")}onEvent(r,s){return e.makeCloudFunction({handler:r,provider:exports.provider,eventType:s,service:exports.service,legacyEventType:`providers/firebase.crashlytics/eventTypes/${s}`,triggerResource:this.triggerResource,options:this.options})}}exports.IssueBuilder=t;
},{"../cloud-functions":"Ftbu"}],"Irg2":[function(require,module,exports) {
"use strict";function e(e){return r(void 0,e)}function r(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(e[n],t[n]));return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepCopy=e,exports.deepExtend=r;
},{}],"5IpL":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(i,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])})(i,s)};return function(i,s){function r(){this.constructor=i}e(i,s),i.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../utils/deep-copy"),s=function(i){function s(e){var r=i.call(this,e.message)||this;return r.errorInfo=e,r.__proto__=s.prototype,r}return e(s,i),Object.defineProperty(s.prototype,"code",{get:function(){return this.errorInfo.code},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"message",{get:function(){return this.errorInfo.message},enumerable:!0,configurable:!0}),s.prototype.toJSON=function(){return{code:this.code,message:this.message}},s}(Error);exports.FirebaseError=s;var r=function(i){function s(e,r,t){var a=i.call(this,{code:e+"/"+r,message:t})||this;return a.codePrefix=e,a.__proto__=s.prototype,a}return e(s,i),s.prototype.hasCode=function(e){return this.codePrefix+"/"+e===this.code},s}(s),t=function(i){function s(e,r){var t=i.call(this,"app",e,r)||this;return t.__proto__=s.prototype,t}return e(s,i),s}(r);exports.FirebaseAppError=t;var a=function(s){function r(e,i){var t=s.call(this,"auth",e.code,i||e.message)||this;return t.__proto__=r.prototype,t}return e(r,s),r.fromServerError=function(e,s,t){var a=(e||"").indexOf(":"),o=null;-1!==a&&(o=e.substring(a+1).trim(),e=e.substring(0,a).trim());var n=m[e]||"INTERNAL_ERROR",I=i.deepCopy(N[n]);if(I.message=o||s||I.message,"INTERNAL_ERROR"===n&&void 0!==t)try{I.message+=' Raw server response: "'+JSON.stringify(t)+'"'}catch(d){}return new r(I)},r}(r);exports.FirebaseAuthError=a;var o=function(i){function s(e,s){return i.call(this,{code:"database/"+e.code,message:s||e.message})||this}return e(s,i),s}(s);exports.FirebaseDatabaseError=o;var n=function(i){function s(e,s){return i.call(this,{code:"firestore/"+e.code,message:s||e.message})||this}return e(s,i),s}(s);exports.FirebaseFirestoreError=n;var I=function(i){function s(e,s){return i.call(this,{code:"instance-id/"+e.code,message:s||e.message})||this}return e(s,i),s}(s);exports.FirebaseInstanceIdError=I;var d=function(s){function r(e,i){var t=s.call(this,"messaging",e.code,i||e.message)||this;return t.__proto__=r.prototype,t}return e(r,s),r.fromServerError=function(e,s,t){var a=D[e]||"UNKNOWN_ERROR",o=i.deepCopy(A[a]);if(o.message=s||o.message,"UNKNOWN_ERROR"===a&&void 0!==t)try{o.message+=' Raw server response: "'+JSON.stringify(t)+'"'}catch(n){}return new r(o)},r.fromTopicManagementServerError=function(e,s,t){var a=T[e]||"UNKNOWN_ERROR",o=i.deepCopy(A[a]);if(o.message=s||o.message,"UNKNOWN_ERROR"===a&&void 0!==t)try{o.message+=' Raw server response: "'+JSON.stringify(t)+'"'}catch(n){}return new r(o)},r}(r);exports.FirebaseMessagingError=d;var _=function(i){function s(e,s){return i.call(this,"project-management",e,s)||this}return e(s,i),s}(r);exports.FirebaseProjectManagementError=_;var E=function(){function e(){}return e.APP_DELETED="app-deleted",e.DUPLICATE_APP="duplicate-app",e.INVALID_ARGUMENT="invalid-argument",e.INTERNAL_ERROR="internal-error",e.INVALID_APP_NAME="invalid-app-name",e.INVALID_APP_OPTIONS="invalid-app-options",e.INVALID_CREDENTIAL="invalid-credential",e.NETWORK_ERROR="network-error",e.NETWORK_TIMEOUT="network-timeout",e.NO_APP="no-app",e.UNABLE_TO_PARSE_RESPONSE="unable-to-parse-response",e}();exports.AppErrorCodes=E;var N=function(){function e(){}return e.BILLING_NOT_ENABLED={code:"billing-not-enabled",message:"Feature requires billing to be enabled."},e.CLAIMS_TOO_LARGE={code:"claims-too-large",message:"Developer claims maximum payload size exceeded."},e.CONFIGURATION_EXISTS={code:"configuration-exists",message:"A configuration already exists with the provided identifier."},e.CONFIGURATION_NOT_FOUND={code:"configuration-not-found",message:"There is no configuration corresponding to the provided identifier."},e.ID_TOKEN_EXPIRED={code:"id-token-expired",message:"The provided Firebase ID token is expired."},e.INVALID_ARGUMENT={code:"argument-error",message:"Invalid argument provided."},e.INVALID_CONFIG={code:"invalid-config",message:"The provided configuration is invalid."},e.EMAIL_ALREADY_EXISTS={code:"email-already-exists",message:"The email address is already in use by another account."},e.FORBIDDEN_CLAIM={code:"reserved-claim",message:"The specified developer claim is reserved and cannot be specified."},e.INVALID_ID_TOKEN={code:"invalid-id-token",message:"The provided ID token is not a valid Firebase ID token."},e.ID_TOKEN_REVOKED={code:"id-token-revoked",message:"The Firebase ID token has been revoked."},e.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred."},e.INVALID_CLAIMS={code:"invalid-claims",message:"The provided custom claim attributes are invalid."},e.INVALID_CONTINUE_URI={code:"invalid-continue-uri",message:"The continue URL must be a valid URL string."},e.INVALID_CREATION_TIME={code:"invalid-creation-time",message:"The creation time must be a valid UTC date string."},e.INVALID_CREDENTIAL={code:"invalid-credential",message:"Invalid credential object provided."},e.INVALID_DISABLED_FIELD={code:"invalid-disabled-field",message:"The disabled field must be a boolean."},e.INVALID_DISPLAY_NAME={code:"invalid-display-name",message:"The displayName field must be a valid string."},e.INVALID_DYNAMIC_LINK_DOMAIN={code:"invalid-dynamic-link-domain",message:"The provided dynamic link domain is not configured or authorized for the current project."},e.INVALID_EMAIL_VERIFIED={code:"invalid-email-verified",message:"The emailVerified field must be a boolean."},e.INVALID_EMAIL={code:"invalid-email",message:"The email address is improperly formatted."},e.INVALID_HASH_ALGORITHM={code:"invalid-hash-algorithm",message:"The hash algorithm must match one of the strings in the list of supported algorithms."},e.INVALID_HASH_BLOCK_SIZE={code:"invalid-hash-block-size",message:"The hash block size must be a valid number."},e.INVALID_HASH_DERIVED_KEY_LENGTH={code:"invalid-hash-derived-key-length",message:"The hash derived key length must be a valid number."},e.INVALID_HASH_KEY={code:"invalid-hash-key",message:"The hash key must a valid byte buffer."},e.INVALID_HASH_MEMORY_COST={code:"invalid-hash-memory-cost",message:"The hash memory cost must be a valid number."},e.INVALID_HASH_PARALLELIZATION={code:"invalid-hash-parallelization",message:"The hash parallelization must be a valid number."},e.INVALID_HASH_ROUNDS={code:"invalid-hash-rounds",message:"The hash rounds must be a valid number."},e.INVALID_HASH_SALT_SEPARATOR={code:"invalid-hash-salt-separator",message:"The hashing algorithm salt separator field must be a valid byte buffer."},e.INVALID_LAST_SIGN_IN_TIME={code:"invalid-last-sign-in-time",message:"The last sign-in time must be a valid UTC date string."},e.INVALID_OAUTH_CLIENT_ID={code:"invalid-oauth-client-id",message:"The provided OAuth client ID is invalid."},e.INVALID_PAGE_TOKEN={code:"invalid-page-token",message:"The page token must be a valid non-empty string."},e.INVALID_PASSWORD={code:"invalid-password",message:"The password must be a string with at least 6 characters."},e.INVALID_PASSWORD_HASH={code:"invalid-password-hash",message:"The password hash must be a valid byte buffer."},e.INVALID_PASSWORD_SALT={code:"invalid-password-salt",message:"The password salt must be a valid byte buffer."},e.INVALID_PHONE_NUMBER={code:"invalid-phone-number",message:"The phone number must be a non-empty E.164 standard compliant identifier string."},e.INVALID_PHOTO_URL={code:"invalid-photo-url",message:"The photoURL field must be a valid URL."},e.INVALID_PROVIDER_DATA={code:"invalid-provider-data",message:"The providerData must be a valid array of UserInfo objects."},e.INVALID_PROVIDER_ID={code:"invalid-provider-id",message:"The providerId must be a valid supported provider identifier string."},e.INVALID_SESSION_COOKIE_DURATION={code:"invalid-session-cookie-duration",message:"The session cookie duration must be a valid number in milliseconds between 5 minutes and 2 weeks."},e.INVALID_UID={code:"invalid-uid",message:"The uid must be a non-empty string with at most 128 characters."},e.INVALID_USER_IMPORT={code:"invalid-user-import",message:"The user record to import is invalid."},e.INVALID_TOKENS_VALID_AFTER_TIME={code:"invalid-tokens-valid-after-time",message:"The tokensValidAfterTime must be a valid UTC number in seconds."},e.MISSING_ANDROID_PACKAGE_NAME={code:"missing-android-pkg-name",message:"An Android Package Name must be provided if the Android App is required to be installed."},e.MISSING_CONFIG={code:"missing-config",message:"The provided configuration is missing required attributes."},e.MISSING_CONTINUE_URI={code:"missing-continue-uri",message:"A valid continue URL must be provided in the request."},e.MISSING_IOS_BUNDLE_ID={code:"missing-ios-bundle-id",message:"The request is missing an iOS Bundle ID."},e.MISSING_ISSUER={code:"missing-issuer",message:"The OAuth/OIDC configuration issuer must not be empty."},e.MISSING_HASH_ALGORITHM={code:"missing-hash-algorithm",message:"Importing users with password hashes requires that the hashing algorithm and its parameters be provided."},e.MISSING_OAUTH_CLIENT_ID={code:"missing-oauth-client-id",message:"The OAuth/OIDC configuration client ID must not be empty."},e.MISSING_PROVIDER_ID={code:"missing-provider-id",message:"A valid provider ID must be provided in the request."},e.MISSING_SAML_RELYING_PARTY_CONFIG={code:"missing-saml-relying-party-config",message:"The SAML configuration provided is missing a relying party configuration."},e.MAXIMUM_USER_COUNT_EXCEEDED={code:"maximum-user-count-exceeded",message:"The maximum allowed number of users to import has been exceeded."},e.MISSING_UID={code:"missing-uid",message:"A uid identifier is required for the current operation."},e.OPERATION_NOT_ALLOWED={code:"operation-not-allowed",message:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."},e.PHONE_NUMBER_ALREADY_EXISTS={code:"phone-number-already-exists",message:"The user with the provided phone number already exists."},e.PROJECT_NOT_FOUND={code:"project-not-found",message:"No Firebase project was found for the provided credential."},e.INSUFFICIENT_PERMISSION={code:"insufficient-permission",message:'Credential implementation provided to initializeApp() via the "credential" property has insufficient permission to access the requested resource. See https://firebase.google.com/docs/admin/setup for details on how to authenticate this SDK with appropriate permissions.'},e.SESSION_COOKIE_EXPIRED={code:"session-cookie-expired",message:"The Firebase session cookie is expired."},e.SESSION_COOKIE_REVOKED={code:"session-cookie-revoked",message:"The Firebase session cookie has been revoked."},e.UID_ALREADY_EXISTS={code:"uid-already-exists",message:"The user with the provided uid already exists."},e.UNAUTHORIZED_DOMAIN={code:"unauthorized-continue-uri",message:"The domain of the continue URL is not whitelisted. Whitelist the domain in the Firebase console."},e.USER_NOT_FOUND={code:"user-not-found",message:"There is no user record corresponding to the provided identifier."},e}();exports.AuthClientErrorCode=N;var A=function(){function e(){}return e.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},e.INVALID_RECIPIENT={code:"invalid-recipient",message:"Invalid message recipient provided."},e.INVALID_PAYLOAD={code:"invalid-payload",message:"Invalid message payload provided."},e.INVALID_DATA_PAYLOAD_KEY={code:"invalid-data-payload-key",message:"The data message payload contains an invalid key. See the reference documentation for the DataMessagePayload type for restricted keys."},e.PAYLOAD_SIZE_LIMIT_EXCEEDED={code:"payload-size-limit-exceeded",message:"The provided message payload exceeds the FCM size limits. See the error documentation for more details."},e.INVALID_OPTIONS={code:"invalid-options",message:"Invalid message options provided."},e.INVALID_REGISTRATION_TOKEN={code:"invalid-registration-token",message:"Invalid registration token provided. Make sure it matches the registration token the client app receives from registering with FCM."},e.REGISTRATION_TOKEN_NOT_REGISTERED={code:"registration-token-not-registered",message:"The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons. See the error documentation for more details. Remove this registration token and stop using it to send messages."},e.MISMATCHED_CREDENTIAL={code:"mismatched-credential",message:"The credential used to authenticate this SDK does not have permission to send messages to the device corresponding to the provided registration token. Make sure the credential and registration token both belong to the same Firebase project."},e.INVALID_PACKAGE_NAME={code:"invalid-package-name",message:'The message was addressed to a registration token whose package name does not match the provided "restrictedPackageName" option.'},e.DEVICE_MESSAGE_RATE_EXCEEDED={code:"device-message-rate-exceeded",message:"The rate of messages to a particular device is too high. Reduce the number of messages sent to this device and do not immediately retry sending to this device."},e.TOPICS_MESSAGE_RATE_EXCEEDED={code:"topics-message-rate-exceeded",message:"The rate of messages to subscribers to a particular topic is too high. Reduce the number of messages sent for this topic, and do not immediately retry sending to this topic."},e.MESSAGE_RATE_EXCEEDED={code:"message-rate-exceeded",message:"Sending limit exceeded for the message target."},e.INVALID_APNS_CREDENTIALS={code:"invalid-apns-credentials",message:"A message targeted to an iOS device could not be sent because the required APNs SSL certificate was not uploaded or has expired. Check the validity of your development and production certificates."},e.TOO_MANY_TOPICS={code:"too-many-topics",message:"The maximum number of topics the provided registration token can be subscribed to has been exceeded."},e.AUTHENTICATION_ERROR={code:"authentication-error",message:"An error occurred when trying to authenticate to the FCM servers. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions."},e.SERVER_UNAVAILABLE={code:"server-unavailable",message:"The FCM server could not process the request in time. See the error documentation for more details."},e.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred. Please retry the request."},e.UNKNOWN_ERROR={code:"unknown-error",message:"An unknown server error was returned."},e}();exports.MessagingClientErrorCode=A;var c=function(){function e(){}return e.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},e.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid project ID provided."},e.INVALID_INSTANCE_ID={code:"invalid-instance-id",message:"Invalid instance ID provided."},e.API_ERROR={code:"api-error",message:"Instance ID API call failed."},e}();exports.InstanceIdClientErrorCode=c;var m={BILLING_NOT_ENABLED:"BILLING_NOT_ENABLED",CLAIMS_TOO_LARGE:"CLAIMS_TOO_LARGE",CONFIGURATION_EXISTS:"CONFIGURATION_EXISTS",CONFIGURATION_NOT_FOUND:"CONFIGURATION_NOT_FOUND",INSUFFICIENT_PERMISSION:"INSUFFICIENT_PERMISSION",INVALID_CONFIG:"INVALID_CONFIG",INVALID_CONFIG_ID:"INVALID_PROVIDER_ID",INVALID_CONTINUE_URI:"INVALID_CONTINUE_URI",INVALID_DYNAMIC_LINK_DOMAIN:"INVALID_DYNAMIC_LINK_DOMAIN",DUPLICATE_EMAIL:"EMAIL_ALREADY_EXISTS",DUPLICATE_LOCAL_ID:"UID_ALREADY_EXISTS",EMAIL_EXISTS:"EMAIL_ALREADY_EXISTS",FORBIDDEN_CLAIM:"FORBIDDEN_CLAIM",INVALID_CLAIMS:"INVALID_CLAIMS",INVALID_DURATION:"INVALID_SESSION_COOKIE_DURATION",INVALID_EMAIL:"INVALID_EMAIL",INVALID_ID_TOKEN:"INVALID_ID_TOKEN",INVALID_OAUTH_CLIENT_ID:"INVALID_OAUTH_CLIENT_ID",INVALID_PAGE_SELECTION:"INVALID_PAGE_TOKEN",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",INVALID_PROVIDER_ID:"INVALID_PROVIDER_ID",INVALID_SERVICE_ACCOUNT:"INVALID_SERVICE_ACCOUNT",MISSING_ANDROID_PACKAGE_NAME:"MISSING_ANDROID_PACKAGE_NAME",MISSING_CONFIG:"MISSING_CONFIG",MISSING_CONFIG_ID:"MISSING_PROVIDER_ID",MISSING_IOS_BUNDLE_ID:"MISSING_IOS_BUNDLE_ID",MISSING_ISSUER:"MISSING_ISSUER",MISSING_LOCAL_ID:"MISSING_UID",MISSING_OAUTH_CLIENT_ID:"MISSING_OAUTH_CLIENT_ID",MISSING_PROVIDER_ID:"MISSING_PROVIDER_ID",MISSING_SAML_RELYING_PARTY_CONFIG:"MISSING_SAML_RELYING_PARTY_CONFIG",MISSING_USER_ACCOUNT:"MISSING_UID",OPERATION_NOT_ALLOWED:"OPERATION_NOT_ALLOWED",PERMISSION_DENIED:"INSUFFICIENT_PERMISSION",PHONE_NUMBER_EXISTS:"PHONE_NUMBER_ALREADY_EXISTS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOKEN_EXPIRED:"ID_TOKEN_EXPIRED",UNAUTHORIZED_DOMAIN:"UNAUTHORIZED_DOMAIN",USER_NOT_FOUND:"USER_NOT_FOUND",WEAK_PASSWORD:"INVALID_PASSWORD"},D={InvalidParameters:"INVALID_ARGUMENT",MismatchSenderId:"MISMATCHED_CREDENTIAL",Unavailable:"SERVER_UNAVAILABLE",InternalServerError:"INTERNAL_ERROR",InvalidRegistration:"INVALID_REGISTRATION_TOKEN",NotRegistered:"REGISTRATION_TOKEN_NOT_REGISTERED",InvalidPackageName:"INVALID_PACKAGE_NAME",MessageTooBig:"PAYLOAD_SIZE_LIMIT_EXCEEDED",InvalidDataKey:"INVALID_DATA_PAYLOAD_KEY",InvalidTtl:"INVALID_OPTIONS",DeviceMessageRateExceeded:"DEVICE_MESSAGE_RATE_EXCEEDED",TopicsMessageRateExceeded:"TOPICS_MESSAGE_RATE_EXCEEDED",InvalidApnsCredential:"INVALID_APNS_CREDENTIALS",NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",PERMISSION_DENIED:"MISMATCHED_CREDENTIAL",RESOURCE_EXHAUSTED:"MESSAGE_RATE_EXCEEDED",UNAUTHENTICATED:"INVALID_APNS_CREDENTIALS",APNS_AUTH_ERROR:"INVALID_APNS_CREDENTIALS",INTERNAL:"INTERNAL_ERROR",INVALID_ARGUMENT:"INVALID_ARGUMENT",QUOTA_EXCEEDED:"MESSAGE_RATE_EXCEEDED",SENDER_ID_MISMATCH:"MISMATCHED_CREDENTIAL",UNAVAILABLE:"SERVER_UNAVAILABLE",UNREGISTERED:"REGISTRATION_TOKEN_NOT_REGISTERED",UNSPECIFIED_ERROR:"UNKNOWN_ERROR"},T={NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",INVALID_ARGUMENT:"INVALID_REGISTRATION_TOKEN",TOO_MANY_TOPICS:"TOO_MANY_TOPICS",RESOURCE_EXHAUSTED:"TOO_MANY_TOPICS",PERMISSION_DENIED:"AUTHENTICATION_ERROR",DEADLINE_EXCEEDED:"SERVER_UNAVAILABLE",INTERNAL:"INTERNAL_ERROR",UNKNOWN:"UNKNOWN_ERROR"};
},{"../utils/deep-copy":"Irg2"}],"lesR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("url");function r(t){return t instanceof Buffer}function e(t){return Array.isArray(t)}function n(t){return e(t)&&0!==t.length}function s(t){return"boolean"==typeof t}function i(t){return"number"==typeof t&&!isNaN(t)}function o(t){return"string"==typeof t}function u(t){return!!o(t)&&/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}function f(t){return o(t)&&""!==t}function p(t){return"object"==typeof t&&!e(t)}function a(t){return p(t)&&null!==t}function c(t){return"string"==typeof t&&t.length>0&&t.length<=128}function y(t){return"string"==typeof t&&t.length>=6}function x(t){if("string"!=typeof t)return!1;return/^[^@]+@[^@]+$/.test(t)}function l(t){if("string"!=typeof t)return!1;return/^\+/.test(t)&&/[\da-zA-Z]+/.test(t)}function g(r){if("string"!=typeof r)return!1;if(/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(r))return!1;try{var e=t.parse(r),n=e.protocol,s=e.slashes,i=e.hostname,o=e.pathname;if("http:"!==n&&"https:"!==n||!s)return!1;if(!/^[a-zA-Z0-9]+[\w\-]*([\.]?[a-zA-Z0-9]+[\w\-]*)*$/.test(i))return!1;if(o&&"/"!==o&&!/^(\/[\w\-\.\~\!\$\'\(\)\*\+\,\;\=\:\@\%]+)*\/?$/.test(o))return!1}catch(u){return!1}return!0}function h(t){if("string"!=typeof t)return!1;return/^(\/topics\/)?(private\/)?[a-zA-Z0-9-_.~%]+$/.test(t)}exports.isBuffer=r,exports.isArray=e,exports.isNonEmptyArray=n,exports.isBoolean=s,exports.isNumber=i,exports.isString=o,exports.isBase64String=u,exports.isNonEmptyString=f,exports.isObject=p,exports.isNonNullObject=a,exports.isUid=c,exports.isPassword=y,exports.isEmail=x,exports.isPhoneNumber=l,exports.isURL=g,exports.isTopic=h;
},{}],"c8Dz":[function(require,module,exports) {
var i=require("events").EventEmitter,t=require("util").inherits;function e(i,t,e,s,h){for(var o=0;o<h;++o,++t,++s)if(i[t]!==e[s])return!1;return!0}function s(i){"string"==typeof i&&(i=new Buffer(i));var t,e,s=i.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=i,this._bufpos=0,this._lookbehind=new Buffer(s),e=0;e<256;++e)this._occ[e]=s;if(s>=1)for(t=0;t<s-1;++t)this._occ[i[t]]=s-1-t}t(s,i),s.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},s.prototype.push=function(i,t){var e,s;for(Buffer.isBuffer(i)||(i=new Buffer(i,"binary")),s=i.length,this._bufpos=t||0;e!==s&&this.matches<this.maxMatches;)e=this._sbmh_feed(i);return e},s.prototype._sbmh_feed=function(i){var t=i.length,s=this._needle,h=s.length,o=-this._lookbehind_size,_=s[h-1],n=this._occ,r=this._lookbehind;if(o<0){for(;o<0&&o<=t-h;){if((u=this._sbmh_lookup_char(i,o+h-1))===_&&this._sbmh_memcmp(i,o,h-1))return this._lookbehind_size=0,++this.matches,o>-this._lookbehind_size?this.emit("info",!0,r,0,this._lookbehind_size+o):this.emit("info",!0),this._bufpos=o+h,o+h;o+=n[u]}if(o<0)for(;o<0&&!this._sbmh_memcmp(i,o,t-o);)o++;if(!(o>=0)){var f=this._lookbehind_size+o;return f>0&&this.emit("info",!1,r,0,f),r.copy(r,0,f,this._lookbehind_size-f),this._lookbehind_size-=f,i.copy(r,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,r,0,this._lookbehind_size),this._lookbehind_size=0}for(o>=0&&(o+=this._bufpos);o<=t-h;){var u;if((u=i[o+h-1])===_&&i[o]===s[0]&&e(s,0,i,o,h-1))return++this.matches,o>0?this.emit("info",!0,i,this._bufpos,o):this.emit("info",!0),this._bufpos=o+h,o+h;o+=n[u]}if(o<t){for(;o<t&&(i[o]!==s[0]||!e(i,o,s,0,t-o));)++o;o<t&&(i.copy(r,0,o,o+(t-o)),this._lookbehind_size=t-o)}return o>0&&this.emit("info",!1,i,this._bufpos,o<t?o:t),this._bufpos=t,t},s.prototype._sbmh_lookup_char=function(i,t){return t<0?this._lookbehind[this._lookbehind_size+t]:i[t]},s.prototype._sbmh_memcmp=function(i,t,e){for(var s=0;s<e;){if(this._sbmh_lookup_char(i,t+s)!==this._needle[s])return!1;++s}return!0},module.exports=s;
},{}],"tdTR":[function(require,module,exports) {
var e=require("util").inherits,r=require("stream").Readable;function t(e){r.call(this,e)}e(t,r),t.prototype._read=function(e){},module.exports=t;
},{}],"p9ns":[function(require,module,exports) {
var e=require("events").EventEmitter,i=require("util").inherits,s=require("streamsearch"),r=Buffer.from("\r\n\r\n"),t=/\r\n/g,h=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/,a=2e3,n=81920;function f(i){e.call(this);var t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=i&&"number"==typeof i.maxHeaderPairs?i.maxHeaderPairs:a,this.buffer="",this.header={},this.finished=!1,this.ss=new s(r),this.ss.on("info",function(e,i,s,r){i&&!t.maxed&&(t.nread+(r-s)>n?(r=n-t.nread,t.nread=n):t.nread+=r-s,t.nread===n&&(t.maxed=!0),t.buffer+=i.toString("binary",s,r)),e&&t._finish()})}i(f,e),f.prototype.push=function(e){var i=this.ss.push(e);if(this.finished)return i},f.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},f.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;var e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)},f.prototype._parseHeader=function(){if(this.npairs!==this.maxHeaderPairs){for(var e,i,s=this.buffer.split(t),r=s.length,a=!1,n=0;n<r;++n)if(0!==s[n].length)if("\t"===s[n][0]||" "===s[n][0])this.header[i][this.header[i].length-1]+=s[n];else{if(!(e=h.exec(s[n]))){this.buffer=s[n],a=!0;break}if(i=e[1].toLowerCase(),e[2]?void 0===this.header[i]?this.header[i]=[e[2]]:this.header[i].push(e[2]):this.header[i]=[""],++this.npairs===this.maxHeaderPairs)break}a||(this.buffer="")}},module.exports=f;
},{"streamsearch":"c8Dz"}],"8uZX":[function(require,module,exports) {
var i=require("stream").Writable,t=require("util").inherits,s=require("streamsearch"),e=require("./PartStream"),r=require("./HeaderParser"),h=45,a=Buffer.from("-"),_=Buffer.from("\r\n"),n=function(){};function p(t){if(!(this instanceof p))return new p(t);if(i.call(this,t),!t||!t.headerFirst&&"string"!=typeof t.boundary)throw new TypeError("Boundary required");"string"==typeof t.boundary?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst;var s=this;this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts="number"==typeof t.partHwm?{highWaterMark:t.partHwm}:{},this._pause=!1,this._hparser=new r(t),this._hparser.on("header",function(i){s._inHeader=!1,s._part.emit("header",i)})}t(p,i),p.prototype.emit=function(t){if("finish"!==t||this._realFinish)i.prototype.emit.apply(this,arguments);else if(!this._finished){var s=this;process.nextTick(function(){if(s.emit("error",new Error("Unexpected end of multipart data")),s._part&&!s._ignoreData){var i=s._isPreamble?"Preamble":"Part";return s._part.emit("error",new Error(i+" terminated early due to unexpected end of multipart data")),s._part.push(null),void process.nextTick(function(){s._realFinish=!0,s.emit("finish"),s._realFinish=!1})}s._realFinish=!0,s.emit("finish"),s._realFinish=!1})}},p.prototype._write=function(i,t,s){if(!this._hparser&&!this._bparser)return s();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new e(this._partOpts),this._events.preamble?this.emit("preamble",this._part):this._ignore());var r=this._hparser.push(i);if(this._inHeader||void 0===r||!(r<i.length))return s();i=i.slice(r)}this._firstWrite&&(this._bparser.push(_),this._firstWrite=!1),this._bparser.push(i),this._pause?this._cb=s:s()},p.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},p.prototype.setBoundary=function(i){var t=this;this._bparser=new s("\r\n--"+i),this._bparser.on("info",function(i,s,e,r){t._oninfo(i,s,e,r)})},p.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",n),this._part.resume())},p.prototype._oninfo=function(i,t,s,r){var _,n,p,o=this,u=0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&s+u<r;){if(t[s+u]!==h){this._dashes&&(_=a),this._dashes=0;break}++u,++this._dashes}if(2===this._dashes&&(s+u<r&&this._events.trailer&&this.emit("trailer",t.slice(s+u,r)),this.reset(),this._finished=!0,0===o._parts&&(o._realFinish=!0,o.emit("finish"),o._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new e(this._partOpts),this._part._read=function(i){o._unpause()},p=this._isPreamble?"preamble":"part",this._events[p]?this.emit(p,this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),t&&s<r&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(_&&this._part.push(_),this._part.push(t.slice(s,r))||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(_&&this._hparser.push(_),n=this._hparser.push(t.slice(s,r)),!this._inHeader&&void 0!==n&&n<r&&this._oninfo(!1,t,s+n,r))),i&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:(++this._parts,this._part.on("end",function(){0==--o._parts&&(o._finished?(o._realFinish=!0,o.emit("finish"),o._realFinish=!1):o._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},p.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){var i=this._cb;this._cb=void 0,i()}},module.exports=p;
},{"streamsearch":"c8Dz","./PartStream":"tdTR","./HeaderParser":"p9ns"}],"owx1":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./error"),r=require("./validator"),o=require("http"),n=require("https"),i=require("url"),s=require("events"),a=function(){function t(t){this.status=t.status,this.headers=t.headers,this.text=t.data;try{this.parsedData=JSON.parse(t.data)}catch(e){this.parsedData=void 0,this.parseError=e}this.request=t.config.method+" "+t.config.url}return Object.defineProperty(t.prototype,"data",{get:function(){if(this.isJson())return this.parsedData;throw new e.FirebaseAppError(e.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,'Error while parsing response data: "'+this.parseError.toString()+'". Raw server response: "'+this.text+'". Status code: "'+this.status+'". Outgoing request: "'+this.request+'."')},enumerable:!0,configurable:!0}),t.prototype.isJson=function(){return void 0!==this.parsedData},t}(),u=function(){function t(t){this.status=t.status,this.headers=t.headers,this.multipart=t.multipart}return Object.defineProperty(t.prototype,"text",{get:function(){throw new e.FirebaseAppError(e.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as text")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){throw new e.FirebaseAppError(e.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as JSON")},enumerable:!0,configurable:!0}),t.prototype.isJson=function(){return!1},t}(),p=function(e){function r(t){var o=e.call(this,"Server responded with status "+t.status+".")||this;return o.response=t,Object.setPrototypeOf(o,r.prototype),o}return t(r,e),r}(Error);function l(){return{maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}}function c(t){if(!r.isNumber(t.maxRetries)||t.maxRetries<0)throw new e.FirebaseAppError(e.AppErrorCodes.INVALID_ARGUMENT,"maxRetries must be a non-negative integer");if(void 0!==t.backOffFactor&&(!r.isNumber(t.backOffFactor)||t.backOffFactor<0))throw new e.FirebaseAppError(e.AppErrorCodes.INVALID_ARGUMENT,"backOffFactor must be a non-negative number");if(!r.isNumber(t.maxDelayInMillis)||t.maxDelayInMillis<0)throw new e.FirebaseAppError(e.AppErrorCodes.INVALID_ARGUMENT,"maxDelayInMillis must be a non-negative integer");if(void 0!==t.statusCodes&&!r.isArray(t.statusCodes))throw new e.FirebaseAppError(e.AppErrorCodes.INVALID_ARGUMENT,"statusCodes must be an array");if(void 0!==t.ioErrorCodes&&!r.isArray(t.ioErrorCodes))throw new e.FirebaseAppError(e.AppErrorCodes.INVALID_ARGUMENT,"ioErrorCodes must be an array")}exports.HttpError=p,exports.defaultRetryConfig=l;var h=function(){function t(t){void 0===t&&(t=l()),this.retry=t,this.retry&&c(this.retry)}return t.prototype.send=function(t){return this.sendWithRetry(t)},t.prototype.sendWithRetry=function(t,r){var o=this;return void 0===r&&(r=0),d.invoke(t).then(function(t){return o.createHttpResponse(t)}).catch(function(n){var i=o.getRetryDelayMillis(r,n),s=i[0];if(i[1]&&s<=o.retry.maxDelayInMillis)return o.waitForRetry(s).then(function(){return o.sendWithRetry(t,r+1)});if(n.response)throw new p(o.createHttpResponse(n.response));if("ETIMEDOUT"===n.code)throw new e.FirebaseAppError(e.AppErrorCodes.NETWORK_TIMEOUT,"Error while making request: "+n.message+".");throw new e.FirebaseAppError(e.AppErrorCodes.NETWORK_ERROR,"Error while making request: "+n.message+". Error code: "+n.code)})},t.prototype.createHttpResponse=function(t){return t.multipart?new u(t):new a(t)},t.prototype.waitForRetry=function(t){return t>0?new Promise(function(e){setTimeout(e,t)}):Promise.resolve()},t.prototype.getRetryDelayMillis=function(t,e){if(!this.isRetryEligible(t,e))return[0,!1];var r=e.response;if(r&&r.headers["retry-after"]){var o=this.parseRetryAfterIntoMillis(r.headers["retry-after"]);if(o>0)return[o,!0]}return[this.backOffDelayMillis(t),!0]},t.prototype.isRetryEligible=function(t,e){return!!this.retry&&(!(t>=this.retry.maxRetries)&&(e.response?-1!==(this.retry.statusCodes||[]).indexOf(e.response.status):-1!==(this.retry.ioErrorCodes||[]).indexOf(e.code)))},t.prototype.parseRetryAfterIntoMillis=function(t){var e=parseInt(t,10);if(!isNaN(e))return 1e3*e;var r=new Date(t);return isNaN(r.getTime())?-1:r.getTime()-Date.now()},t.prototype.backOffDelayMillis=function(t){if(0===t)return 0;var e=this.retry.backOffFactor||0,r=Math.pow(2,t)*e;return Math.min(1e3*r,this.retry.maxDelayInMillis)},t}();function f(t,o){var n=r.isBuffer(t)?t.toString("utf-8"):t,i=n.indexOf("\r\n\r\n"),s=n.substring(0,i).split("\r\n"),u=s[0].trim().split(/\s/)[1],p={};s.slice(1).forEach(function(t){var e=t.indexOf(":"),r=t.substring(0,e).trim().toLowerCase(),o=t.substring(e+1).trim();p[r]=o});var l=n.substring(i+4);l.endsWith("\n")&&(l=l.slice(0,-1)),l.endsWith("\r")&&(l=l.slice(0,-1));var c={status:parseInt(u,10),headers:p,data:l,config:o,request:null};if(!r.isNumber(c.status))throw new e.FirebaseAppError(e.AppErrorCodes.INTERNAL_ERROR,"Malformed HTTP status line.");return new a(c)}exports.HttpClient=h,exports.parseHttpResponse=f;var d=function(){function t(t){var e=this;try{this.config=new y(t),this.options=this.config.buildRequestOptions(),this.entity=this.config.buildEntity(this.options.headers),this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r,e.execute()})}catch(r){this.promise=Promise.reject(this.enhanceError(r,null))}}return t.invoke=function(e){return new t(e).promise},t.prototype.execute=function(){var t=this,e=("https:"===this.options.protocol?n:o).request(this.options,function(r){t.handleResponse(r,e)});e.on("error",function(r){e.aborted||t.enhanceAndReject(r,null,e)});var r=this.config.timeout;r&&e.setTimeout(this.config.timeout,function(){e.abort(),t.rejectWithError("timeout of "+r+"ms exceeded","ETIMEDOUT",e)}),e.end(this.entity)},t.prototype.handleResponse=function(t,e){if(!e.aborted){var r={status:t.statusCode,headers:t.headers,request:e,data:void 0,config:this.config},o=this.getMultipartBoundary(t.headers),n=this.uncompressResponse(t);o?this.handleMultipartResponse(r,n,o):this.handleRegularResponse(r,n)}},t.prototype.getMultipartBoundary=function(t){var e=t["content-type"];if(!e.startsWith("multipart/"))return null;return e.split(";").slice(1).map(function(t){return t.trim().split("=")}).reduce(function(t,e){if(2===e.length){var r={};return r[e[0]]=e[1],Object.assign(t,r)}return t},{}).boundary},t.prototype.uncompressResponse=function(t){var e=t;if(-1!==["gzip","compress","deflate"].indexOf(t.headers["content-encoding"])){var r=require("zlib");e=e.pipe(r.createUnzip()),delete t.headers["content-encoding"]}return e},t.prototype.handleMultipartResponse=function(t,e,r){var o=this,n=new(require("dicer"))({boundary:r}),i=[];n.on("part",function(t){var e=[];t.on("data",function(t){e.push(t)}),t.on("end",function(){i.push(Buffer.concat(e))})}),n.on("finish",function(){t.data=null,t.multipart=i,o.finalizeResponse(t)}),e.pipe(n)},t.prototype.handleRegularResponse=function(t,e){var r=this,o=[];e.on("data",function(t){o.push(t)}),e.on("error",function(e){var o=t.request;o.aborted||r.enhanceAndReject(e,null,o)}),e.on("end",function(){t.data=Buffer.concat(o).toString(),r.finalizeResponse(t)})},t.prototype.finalizeResponse=function(t){t.status>=200&&t.status<300?this.resolve(t):this.rejectWithError("Request failed with status code "+t.status,null,t.request,t)},t.prototype.rejectWithError=function(t,e,r,o){var n=new Error(t);this.enhanceAndReject(n,e,r,o)},t.prototype.enhanceAndReject=function(t,e,r,o){this.reject(this.enhanceError(t,e,r,o))},t.prototype.enhanceError=function(t,e,r,o){return t.config=this.config,e&&(t.code=e),t.request=r,t.response=o,t},t}(),y=function(){function t(t){this.config=t}return Object.defineProperty(t.prototype,"method",{get:function(){return this.config.method},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.config.url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){return this.config.headers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.config.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeout",{get:function(){return this.config.timeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"httpAgent",{get:function(){return this.config.httpAgent},enumerable:!0,configurable:!0}),t.prototype.buildRequestOptions=function(){var t=this.buildUrl(),e=t.protocol,r=t.port;r||(r="https:"===e?"443":"80");return{protocol:e,hostname:t.hostname,port:r,path:t.path,method:this.method,agent:this.httpAgent,headers:Object.assign({},this.headers)}},t.prototype.buildEntity=function(t){var e;if(!this.hasEntity()||!this.isEntityEnclosingRequest())return e;if(r.isBuffer(this.data))e=this.data;else if(r.isObject(this.data))e=Buffer.from(JSON.stringify(this.data),"utf-8"),void 0===t["content-type"]&&(t["content-type"]="application/json;charset=utf-8");else{if(!r.isString(this.data))throw new Error("Request data must be a string, a Buffer or a json serializable object");e=Buffer.from(this.data,"utf-8")}return t["Content-Length"]=e.length.toString(),e},t.prototype.buildUrl=function(){var t=this.urlWithProtocol();if(!this.hasEntity()||this.isEntityEnclosingRequest())return i.parse(t);if(!r.isObject(this.data))throw new Error(this.method+" requests cannot have a body");var e=new i.URL(t),o=this.data;for(var n in o)o.hasOwnProperty(n)&&e.searchParams.append(n,o[n]);return i.parse(e.toString())},t.prototype.urlWithProtocol=function(){var t=this.url;return t.startsWith("http://")||t.startsWith("https://")?t:"https://"+t},t.prototype.hasEntity=function(){return!!this.data},t.prototype.isEntityEnclosingRequest=function(){return"GET"!==this.method&&"HEAD"!==this.method},t}(),m=function(e){function r(t){var r=e.call(this)||this;return r.app=t,r}return t(r,e),r.prototype.send=function(t){var r=this;return this.app.INTERNAL.getToken().then(function(o){var n=Object.assign({},t);n.headers=Object.assign({},t.headers);return n.headers.Authorization="Bearer "+o.accessToken,!n.httpAgent&&r.app.options.httpAgent&&(n.httpAgent=r.app.options.httpAgent),e.prototype.send.call(r,n)})},r}(h);exports.AuthorizedHttpClient=m;var g=function(){function t(t,e){void 0===e&&(e="POST"),this.endpoint=t,this.httpMethod=e,this.setRequestValidator(null).setResponseValidator(null)}return t.prototype.getEndpoint=function(){return this.endpoint},t.prototype.getHttpMethod=function(){return this.httpMethod},t.prototype.setRequestValidator=function(t){return this.requestValidator=t||function(t){},this},t.prototype.getRequestValidator=function(){return this.requestValidator},t.prototype.setResponseValidator=function(t){return this.responseValidator=t||function(t){},this},t.prototype.getResponseValidator=function(){return this.responseValidator},t}();exports.ApiSettings=g;var E=function(e){function r(t,r,o){void 0===t&&(t=1e3),void 0===r&&(r=1e4),void 0===o&&(o=6e4);var n=e.call(this)||this;return n.initialPollingDelayMillis=t,n.maxPollingDelayMillis=r,n.masterTimeoutMillis=o,n.numTries=0,n.completed=!1,n}return t(r,e),r.prototype.poll=function(t){var e=this;if(this.pollCallback)throw new Error("poll() can only be called once per instance of ExponentialBackoffPoller");return this.pollCallback=t,this.on("poll",this.repoll),this.masterTimer=setTimeout(function(){e.completed||(e.markCompleted(),e.reject(new Error("ExponentialBackoffPoller deadline exceeded - Master timeout reached")))},this.masterTimeoutMillis),new Promise(function(t,r){e.resolve=t,e.reject=r,e.repoll()})},r.prototype.repoll=function(){var t=this;this.pollCallback().then(function(e){if(!t.completed){if(!e)return t.repollTimer=setTimeout(function(){return t.emit("poll")},t.getPollingDelayMillis()),void t.numTries++;t.markCompleted(),t.resolve(e)}}).catch(function(e){t.completed||(t.markCompleted(),t.reject(e))})},r.prototype.getPollingDelayMillis=function(){var t=Math.pow(2,this.numTries)*this.initialPollingDelayMillis;return Math.min(t,this.maxPollingDelayMillis)},r.prototype.markCompleted=function(){this.completed=!0,this.masterTimer&&clearTimeout(this.masterTimer),this.repollTimer&&clearTimeout(this.repollTimer)},r}(s.EventEmitter);exports.ExponentialBackoffPoller=E;
},{"./error":"5IpL","./validator":"lesR","dicer":"8uZX"}],"jo0T":[function(require,module,exports) {
module.exports={options:{usePureJavaScript:!1}};
},{}],"Dl1Y":[function(require,module,exports) {
var r={};module.exports=r;var e={};function t(r,e){var t=0,n=e.length,o=e.charAt(0),f=[0];for(t=0;t<r.length();++t){for(var a=0,h=r.at(t);a<f.length;++a)h+=f[a]<<8,f[a]=h%n,h=h/n|0;for(;h>0;)f.push(h%n),h=h/n|0}var i="";for(t=0;0===r.at(t)&&t<r.length()-1;++t)i+=o;for(t=f.length-1;t>=0;--t)i+=e[f[t]];return i}r.encode=function(r,e,n){if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var o="";if(r instanceof Uint8Array){var f=0,a=e.length,h=e.charAt(0),i=[0];for(f=0;f<r.length;++f){for(var g=0,u=r[f];g<i.length;++g)u+=i[g]<<8,i[g]=u%a,u=u/a|0;for(;u>0;)i.push(u%a),u=u/a|0}for(f=0;0===r[f]&&f<r.length-1;++f)o+=h;for(f=i.length-1;f>=0;--f)o+=e[i[f]]}else o=t(r,e);if(n){var l=new RegExp(".{1,"+n+"}","g");o=o.match(l).join("\r\n")}return o},r.decode=function(r,t){if("string"!=typeof r)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var n=e[t];if(!n){n=e[t]=[];for(var o=0;o<t.length;++o)n[t.charCodeAt(o)]=o}r=r.replace(/\s/g,"");var f=t.length,a=t.charAt(0),h=[0];for(o=0;o<r.length;o++){var i=n[r.charCodeAt(o)];if(void 0===i)return;for(var g=0,u=i;g<h.length;++g)u+=h[g]*f,h[g]=255&u,u>>=8;for(;u>0;)h.push(255&u),u>>=8}for(var l=0;r[l]===a&&l<r.length-1;++l)h.push(0);return"undefined"!=typeof Buffer?Buffer.from(h.reverse()):new Uint8Array(h.reverse())};
},{}],"V/zX":[function(require,module,exports) {
var t=require("./forge"),e=require("./baseN"),r=module.exports=t.util=t.util||{};function n(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function i(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(r.isArrayBuffer(t)||r.isArrayBufferView(t))if("undefined"!=typeof Buffer&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(a){for(var n=0;n<e.length;++n)this.putByte(e[n])}}else(t instanceof i||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick)return r.nextTick=process.nextTick,void("function"==typeof setImmediate?r.setImmediate=setImmediate:r.setImmediate=r.nextTick);if("function"==typeof setImmediate)return r.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(r.nextTick=function(t){return setImmediate(t)});if(r.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",e=[];r.setImmediate=function(r){e.push(r),1===e.length&&window.postMessage(t,"*")},window.addEventListener("message",function(r){if(r.source===window&&r.data===t){r.stopPropagation();var n=e.slice();e.length=0,n.forEach(function(t){t()})}},!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,a=document.createElement("div");e=[];new MutationObserver(function(){var t=e.slice();e.length=0,t.forEach(function(t){t()})}).observe(a,{attributes:!0});var o=r.setImmediate;r.setImmediate=function(t){Date.now()-n>15?(n=Date.now(),o(t)):(e.push(t),1===e.length&&a.setAttribute("a",i=!i))}}r.nextTick=r.setImmediate}(),r.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,r.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},r.isArrayBufferView=function(t){return t&&r.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},r.ByteBuffer=i,r.ByteStringBuffer=i;var a=4096;function o(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var n=r.isArrayBuffer(t),i=r.isArrayBufferView(t);if(n||i)return this.data=n?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}r.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>a&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},r.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},r.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},r.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(r.encodeUtf8(t))},r.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},r.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},r.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},r.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},r.ByteStringBuffer.prototype.putInt=function(t,e){n(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},r.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},r.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},r.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},r.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},r.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},r.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},r.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},r.ByteStringBuffer.prototype.getInt=function(t){n(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},r.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},r.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},r.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},r.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},r.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var t=r.createBuffer(this.data);return t.read=this.read,t},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())},r.DataBuffer=o,r.DataBuffer.prototype.length=function(){return this.write-this.read},r.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},r.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},r.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},r.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},r.DataBuffer.prototype.putBytes=function(t,e){if(r.isArrayBufferView(t)){var n=(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-i.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(i),this.write+=n,this}if(r.isArrayBuffer(t)){var i=new Uint8Array(t);return this.accommodate(i.byteLength),new Uint8Array(this.data.buffer).set(i,this.write),this.write+=i.byteLength,this}if(t instanceof r.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&r.isArrayBufferView(t.data)){i=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(i.byteLength),new Uint8Array(t.data.byteLength,this.write).set(i),this.write+=i.byteLength,this}if(t instanceof r.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var a;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(t,a,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),a=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(t,a,this.write),this;if("utf8"===e&&(t=r.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(a),this;if("utf16"===e)return this.accommodate(2*t.length),a=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},r.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},r.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},r.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},r.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},r.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},r.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},r.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},r.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},r.DataBuffer.prototype.putInt=function(t,e){n(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},r.DataBuffer.prototype.putSignedInt=function(t,e){return n(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},r.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},r.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},r.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},r.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},r.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},r.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},r.DataBuffer.prototype.getInt=function(t){n(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},r.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},r.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},r.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},r.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},r.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)},r.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},r.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},r.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},r.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},r.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return r.binary.raw.encode(e);if("hex"===t)return r.binary.hex.encode(e);if("base64"===t)return r.binary.base64.encode(e);if("utf8"===t)return r.text.utf8.decode(e);if("utf16"===t)return r.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},r.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=r.encodeUtf8(t)),new r.ByteBuffer(t)},r.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},r.xorBytes=function(t,e,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+=a},r.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},r.bytesToHex=function(t){return r.createBuffer(t).toHex()},r.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";r.encode64=function(t,e){for(var r,n,i,a="",o="",f=0;f<t.length;)r=t.charCodeAt(f++),n=t.charCodeAt(f++),i=t.charCodeAt(f++),a+=s.charAt(r>>2),a+=s.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=s.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":s.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+=a},r.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,a="",o=0;o<t.length;)e=f[t.charCodeAt(o++)-43],r=f[t.charCodeAt(o++)-43],n=f[t.charCodeAt(o++)-43],i=f[t.charCodeAt(o++)-43],a+=String.fromCharCode(e<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},r.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},r.decodeUtf8=function(t){return decodeURIComponent(escape(t))},r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},r.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},r.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n},r.binary.hex.encode=r.bytesToHex,r.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,a=r=r||0;for(1&t.length&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n},r.binary.base64.encode=function(t,e){for(var r,n,i,a="",o="",f=0;f<t.byteLength;)r=t[f++],n=t[f++],i=t[f++],a+=s.charAt(r>>2),a+=s.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=s.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":s.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+=a},r.binary.base64.decode=function(t,e,r){var n,i,a,o,s=e;s||(s=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,h=r=r||0;u<t.length;)n=f[t.charCodeAt(u++)-43],i=f[t.charCodeAt(u++)-43],a=f[t.charCodeAt(u++)-43],o=f[t.charCodeAt(u++)-43],s[h++]=n<<2|i>>4,64!==a&&(s[h++]=(15&i)<<4|a>>2,64!==o&&(s[h++]=(3&a)<<6|o));return e?h-r:s.subarray(0,h)},r.binary.base58.encode=function(t,e){return r.binary.baseN.encode(t,u,e)},r.binary.base58.decode=function(t,e){return r.binary.baseN.decode(t,u,e)},r.text={utf8:{},utf16:{}},r.text.utf8.encode=function(t,e,n){t=r.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length));for(var a=n=n||0,o=0;o<t.length;++o)i[a++]=t.charCodeAt(o);return e?a-n:i},r.text.utf8.decode=function(t){return r.decodeUtf8(String.fromCharCode.apply(null,t))},r.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),a=r=r||0,o=r,s=0;s<t.length;++s)i[o++]=t.charCodeAt(s),a+=2;return e?a-r:n},r.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},r.deflate=function(t,e,n){if(e=r.decode64(t.deflate(r.encode64(e)).rval),n){var i=2;32&e.charCodeAt(1)&&(i=6),e=e.substring(i,e.length-4)}return e},r.inflate=function(t,e,n){var i=t.inflate(r.encode64(e)).rval;return null===i?null:r.decode64(i)};var h=function(t,e,n){if(!t)throw new Error("WebStorage not available.");var i;if(null===n?i=t.removeItem(e):(n=r.encode64(JSON.stringify(n)),i=t.setItem(e,n)),void 0!==i&&!0!==i.rval){var a=new Error(i.error.message);throw a.id=i.error.id,a.name=i.error.name,a}},d=function(t,e){if(!t)throw new Error("WebStorage not available.");var n=t.getItem(e);if(t.init)if(null===n.rval){if(n.error){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(r.decode64(n))),n},c=function(t,e,r,n){var i=d(t,e);null===i&&(i={}),i[r]=n,h(t,e,i)},p=function(t,e,r){var n=d(t,e);return null!==n&&(n=r in n?n[r]:null),n},y=function(t,e,r){var n=d(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),h(t,e,n)}},g=function(t,e){h(t,e,null)},l=function(t,e,r){var n,i=null;void 0===r&&(r=["web","flash"]);var a=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),a="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),a=!0)}catch(f){o=f}if(a)break}if(!a)throw o;return i};r.setItem=function(t,e,r,n,i){l(c,arguments,i)},r.getItem=function(t,e,r,n){return l(p,arguments,n)},r.removeItem=function(t,e,r,n){l(y,arguments,n)},r.clearItems=function(t,e,r){l(g,arguments,r)},r.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var B=null;r.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in e||(e[i]=[]),i in Object.prototype||null===a||e[i].push(unescape(a))}return e};return void 0===t?(null===B&&(B="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=B):e=r(t),e},r.parseFragment=function(t){var e=t,n="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),n=t.substring(i+1));var a=e.split("/");return a.length>0&&""===a[0]&&a.shift(),{pathString:e,queryString:n,path:a,query:""===n?{}:r.getQueryVariables(n)}},r.makeRequest=function(t){var e=r.parseFragment(t),n={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var r=n.getQuery(t);return r?r[r.length-1]:e}};return n},r.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},r.setPath=function(t,e,r){if("object"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var a=e[n++];if(n==i)t[a]=r;else{var o=a in t;(!o||o&&"object"!=typeof t[a]||o&&null===t[a])&&(t[a]={}),t=t[a]}}},r.getPath=function(t,e,r){for(var n=0,i=e.length,a=!0;a&&n<i&&"object"==typeof t&&null!==t;){var o=e[n++];(a=o in t)&&(t=t[o])}return a?t:r},r.deletePath=function(t,e){if("object"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||"object"!=typeof t[i]||null===t[i])break;t=t[i]}}},r.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},r.format=function(t){for(var e,r,n=/%./g,i=0,a=[],o=0;e=n.exec(t);){(r=t.substring(o,n.lastIndex-2)).length>0&&a.push(r),o=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[1+i++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(t.substring(o)),a.join("")},r.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,o=void 0===r?",":r,s=void 0===n?".":n,f=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",h=u.length>3?u.length%3:0;return f+(h?u.substr(0,h)+s:"")+u.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-u).toFixed(a).slice(2):"")},r.formatSize=function(t){return t=t>=1073741824?r.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?r.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?r.formatNumber(t/1024,0)+" KiB":r.formatNumber(t,0)+" bytes"},r.bytesFromIP=function(t){return-1!==t.indexOf(".")?r.bytesFromIPv4(t):-1!==t.indexOf(":")?r.bytesFromIPv6(t):null},r.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=r.createBuffer(),n=0;n<t.length;++n){var i=parseInt(t[n],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()},r.bytesFromIPv6=function(t){for(var e=0,n=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++e,!0})).length+e),i=r.createBuffer(),a=0;a<8;++a)if(t[a]&&0!==t[a].length){var o=r.hexToBytes(t[a]);o.length<2&&i.putByte(0),i.putBytes(o)}else i.fillWithByte(0,n),n=0;return i.getBytes()},r.bytesToIP=function(t){return 4===t.length?r.bytesToIPv4(t):16===t.length?r.bytesToIPv6(t):null},r.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},r.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],n=[],i=0,a=0;a<t.length;a+=2){for(var o=r.bytesToHex(t[a]+t[a+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=n[n.length-1],f=e.length;s&&f===s.end+1?(s.end=f,s.end-s.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:f,end:f})}e.push(o)}if(n.length>0){var u=n[i];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),0===u.start&&e.unshift(""),7===u.end&&e.push(""))}return e.join(":")},r.estimateCores=function(t,e){if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in r&&!t.update)return e(null,r.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return r.cores=navigator.hardwareConcurrency,e(null,r.cores);if("undefined"==typeof Worker)return r.cores=1,e(null,r.cores);if("undefined"==typeof Blob)return r.cores=2,e(null,r.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function t(i,a,o){if(0===a){var s=Math.floor(i.reduce(function(t,e){return t+e},0)/i.length);return r.cores=Math.max(1,s),URL.revokeObjectURL(n),e(null,r.cores)}!function(t,e){for(var r=[],i=[],a=0;a<t;++a){var o=new Worker(n);o.addEventListener("message",function(n){if(i.push(n.data),i.length===t){for(var a=0;a<t;++a)r[a].terminate();e(null,i)}}),r.push(o)}for(var a=0;a<t;++a)r[a].postMessage(a)}(o,function(e,r){i.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],a=r[n]=[],o=0;o<t;++o)if(n!==o){var s=e[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(o,r)),t(i,a-1,o)})}([],5,16)};
},{"./forge":"jo0T","./baseN":"Dl1Y"}],"nYxo":[function(require,module,exports) {
var t=require("./forge");require("./util"),module.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(i,e){var r=i;if("string"==typeof r&&(r=t.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},t.cipher.createDecipher=function(i,e){var r=i;if("string"==typeof r&&(r=t.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},t.cipher.registerAlgorithm=function(i,e){i=i.toUpperCase(),t.cipher.algorithms[i]=e},t.cipher.getAlgorithm=function(i){return(i=i.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[i]:null};var i=t.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(i){i=i||{};var e={};for(var r in i)e[r]=i[r];e.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=i.output||t.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(i){return t(this.blockSize,i,!1)},this.mode.unpad=function(i){return t(this.blockSize,i,!0)});var i={};return i.decrypt=this._decrypt,i.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,i))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,i))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,i)))};
},{"./forge":"jo0T","./util":"V/zX"}],"mw61":[function(require,module,exports) {
var t=require("./forge");require("./util"),t.cipher=t.cipher||{};var i=module.exports=t.cipher.modes=t.cipher.modes||{};function s(i){if("string"==typeof i&&(i=t.util.createBuffer(i)),t.util.isArray(i)&&i.length>4){var s=i;i=t.util.createBuffer();for(var e=0;e<s.length;++e)i.putByte(s[e])}return t.util.isArray(i)||(i=[i.getInt32(),i.getInt32(),i.getInt32(),i.getInt32()]),i}function e(t){t[t.length-1]=t[t.length-1]+1&4294967295}function h(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e])},i.ecb.prototype.decrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e])},i.ecb.prototype.pad=function(t,i){var s=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(s,s),!0},i.ecb.prototype.unpad=function(t,i){if(i.overflow>0)return!1;var s=t.length(),e=t.at(s-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,i){var s=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(s,s),!0},i.cbc.prototype.unpad=function(t,i){if(i.overflow>0)return!1;var s=t.length(),e=t.at(s-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},i.cfb=function(i){i=i||{},this.name="CFB",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,i,s){var e=t.length();if(0===e)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)this._inBlock[h]=t.getInt32()^this._outBlock[h],i.putInt32(this._inBlock[h]);else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialBlock[h]=t.getInt32()^this._outBlock[h],this._partialOutput.putInt32(this._partialBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,i,s){var e=t.length();if(0===e)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)this._inBlock[h]=t.getInt32(),i.putInt32(this._inBlock[h]^this._outBlock[h]);else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialBlock[h]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[h]^this._outBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.ofb=function(i){i=i||{},this.name="OFB",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,i,s){var e=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)i.putInt32(t.getInt32()^this._outBlock[h]),this._inBlock[h]=this._outBlock[h];else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialOutput.putInt32(t.getInt32()^this._outBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._outBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(i){i=i||{},this.name="CTR",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,i,s){var h=t.length();if(0===h)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&h>=this.blockSize)for(var r=0;r<this._ints;++r)i.putInt32(t.getInt32()^this._outBlock[r]);else{var o=(this.blockSize-h)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(t.getInt32()^this._outBlock[r]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!s)return i.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;i.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}e(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(i){i=i||{},this.name="GCM",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(i){if(!("iv"in i))throw new Error("Invalid IV parameter.");var s,r=t.util.createBuffer(i.iv);if(this._cipherLength=0,s="additionalData"in i?t.util.createBuffer(i.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in i?i.tagLength:128,this._tag=null,i.decrypt&&(this._tag=t.util.createBuffer(i.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(h(8*o)))}this._inBlock=this._j0.slice(0),e(this._inBlock),this._partialBytes=0,s=t.util.createBuffer(s),this._aDataLength=h(8*s.length());var a=s.length()%this.blockSize;for(a&&s.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];s.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[s.getInt32(),s.getInt32(),s.getInt32(),s.getInt32()])},i.gcm.prototype.encrypt=function(t,i,s){var h=t.length();if(0===h)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&h>=this.blockSize){for(var r=0;r<this._ints;++r)i.putInt32(this._outBlock[r]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-h)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(t.getInt32()^this._outBlock[r]);if(0===o||s){if(s){var a=h%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(r=0;r<this._ints;++r)this._outBlock[r]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!s)return t.read-=this.blockSize,i.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;i.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),e(this._inBlock)},i.gcm.prototype.decrypt=function(t,i,s){var h=t.length();if(h<this.blockSize&&!(s&&h>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),e(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var r=0;r<this._ints;++r)i.putInt32(this._outBlock[r]^this._hashBlock[r]);h<this.blockSize?this._cipherLength+=h%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(i,s){var e=!0;s.decrypt&&s.overflow&&i.truncate(this.blockSize-s.overflow),this.tag=t.util.createBuffer();var r=this._aDataLength.concat(h(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,r);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),s.decrypt&&this.tag.bytes()!==this._tag&&(e=!1),e},i.gcm.prototype.multiply=function(t,i){for(var s=[0,0,0,0],e=i.slice(0),h=0;h<128;++h){t[h/32|0]&1<<31-h%32&&(s[0]^=e[0],s[1]^=e[1],s[2]^=e[2],s[3]^=e[3]),this.pow(e,e)}return s},i.gcm.prototype.pow=function(t,i){for(var s=1&t[3],e=3;e>0;--e)i[e]=t[e]>>>1|(1&t[e-1])<<31;i[0]=t[0]>>>1,s&&(i[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var i=[0,0,0,0],s=0;s<32;++s){var e=t[s/8|0]>>>4*(7-s%8)&15,h=this._m[s][e];i[0]^=h[0],i[1]^=h[1],i[2]^=h[2],i[3]^=h[3]}return i},i.gcm.prototype.ghash=function(t,i,s){return i[0]^=s[0],i[1]^=s[1],i[2]^=s[2],i[3]^=s[3],this.tableMultiply(i)},i.gcm.prototype.generateHashTable=function(t,i){for(var s=8/i,e=4*s,h=16*s,r=new Array(h),o=0;o<h;++o){var a=[0,0,0,0],n=(e-1-o%e)*i;a[o/e|0]=1<<i-1<<n,r[o]=this.generateSubHashTable(this.multiply(a,t),i)}return r},i.gcm.prototype.generateSubHashTable=function(t,i){var s=1<<i,e=s>>>1,h=new Array(s);h[e]=t.slice(0);for(var r=e>>>1;r>0;)this.pow(h[2*r],h[r]=[]),r>>=1;for(r=2;r<e;){for(var o=1;o<r;++o){var a=h[r],n=h[o];h[r+o]=[a[0]^n[0],a[1]^n[1],a[2]^n[2],a[3]^n[3]]}r*=2}for(h[0]=[0,0,0,0],r=e+1;r<s;++r){var l=h[r^e];h[r]=[t[0]^l[0],t[1]^l[1],t[2]^l[2],t[3]^l[3]]}return h};
},{"./forge":"jo0T","./util":"V/zX"}],"M7sO":[function(require,module,exports) {
var e=require("./forge");function r(r,t){e.cipher.registerAlgorithm(r,function(){return new e.aes.Algorithm(r,t)})}require("./cipher"),require("./cipherModes"),require("./util"),module.exports=e.aes=e.aes||{},e.aes.startEncrypting=function(e,r,t,n){var i=s({key:e,output:t,decrypt:!1,mode:n});return i.start(r),i},e.aes.createEncryptionCipher=function(e,r){return s({key:e,output:null,decrypt:!1,mode:r})},e.aes.startDecrypting=function(e,r,t,n){var i=s({key:e,output:t,decrypt:!0,mode:n});return i.start(r),i},e.aes.createDecryptionCipher=function(e,r){return s({key:e,output:null,decrypt:!0,mode:r})},e.aes.Algorithm=function(e,r){c||f();var t=this;t.name=e,t.mode=new r({blockSize:16,cipher:{encrypt:function(e,r){return l(t._w,e,r,!1)},decrypt:function(e,r){return l(t._w,e,r,!0)}}}),t._init=!1},e.aes.Algorithm.prototype.initialize=function(r){if(!this._init){var t,n=r.key;if("string"!=typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(e.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=e.util.createBuffer();for(var i=0;i<t.length;++i)n.putByte(t[i])}}else n=e.util.createBuffer(n);if(!e.util.isArray(n)){t=n,n=[];var o=t.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)n.push(t.getInt32())}}if(!e.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var a=this.mode.name,c=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=p(n,r.decrypt&&!c),this._init=!0}},e.aes._expandKey=function(e,r){return c||f(),p(e,r)},e.aes._updateBlock=l,r("AES-ECB",e.cipher.modes.ecb),r("AES-CBC",e.cipher.modes.cbc),r("AES-CFB",e.cipher.modes.cfb),r("AES-OFB",e.cipher.modes.ofb),r("AES-CTR",e.cipher.modes.ctr),r("AES-GCM",e.cipher.modes.gcm);var t,n,i,o,a,c=!1,u=4;function f(){c=!0,i=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),r=0;r<128;++r)e[r]=r<<1,e[r+128]=r+128<<1^283;t=new Array(256),n=new Array(256),o=new Array(4),a=new Array(4);for(r=0;r<4;++r)o[r]=new Array(256),a[r]=new Array(256);var u,f,p,l,s,h,y,d=0,g=0;for(r=0;r<256;++r){l=(l=g^g<<1^g<<2^g<<3^g<<4)>>8^255&l^99,t[d]=l,n[l]=d,h=(s=e[l])<<24^l<<16^l<<8^l^s,y=((u=e[d])^(f=e[u])^(p=e[f]))<<24^(d^p)<<16^(d^f^p)<<8^d^u^p;for(var m=0;m<4;++m)o[m][d]=h,a[m][l]=y,h=h<<24|h>>>8,y=y<<24|y>>>8;0===d?d=g=1:(d=u^e[e[e[u^p]]],g^=e[e[g]])}}function p(e,r){for(var n,o=e.slice(0),c=1,f=o.length,p=u*(f+6+1),l=f;l<p;++l)n=o[l-1],l%f==0?(n=t[n>>>16&255]<<24^t[n>>>8&255]<<16^t[255&n]<<8^t[n>>>24]^i[c]<<24,c++):f>6&&l%f==4&&(n=t[n>>>24]<<24^t[n>>>16&255]<<16^t[n>>>8&255]<<8^t[255&n]),o[l]=o[l-f]^n;if(r){for(var s,h=a[0],y=a[1],d=a[2],g=a[3],m=o.slice(0),v=(l=0,(p=o.length)-u);l<p;l+=u,v-=u)if(0===l||l===p-u)m[l]=o[v],m[l+1]=o[v+3],m[l+2]=o[v+2],m[l+3]=o[v+1];else for(var A=0;A<u;++A)s=o[v+A],m[l+(3&-A)]=h[t[s>>>24]]^y[t[s>>>16&255]]^d[t[s>>>8&255]]^g[t[255&s]];o=m}return o}function l(e,r,i,c){var u,f,p,l,s,h,y,d,g,m,v,A,C=e.length/4-1;c?(u=a[0],f=a[1],p=a[2],l=a[3],s=n):(u=o[0],f=o[1],p=o[2],l=o[3],s=t),h=r[0]^e[0],y=r[c?3:1]^e[1],d=r[2]^e[2],g=r[c?1:3]^e[3];for(var w=3,B=1;B<C;++B)m=u[h>>>24]^f[y>>>16&255]^p[d>>>8&255]^l[255&g]^e[++w],v=u[y>>>24]^f[d>>>16&255]^p[g>>>8&255]^l[255&h]^e[++w],A=u[d>>>24]^f[g>>>16&255]^p[h>>>8&255]^l[255&y]^e[++w],g=u[g>>>24]^f[h>>>16&255]^p[y>>>8&255]^l[255&d]^e[++w],h=m,y=v,d=A;i[0]=s[h>>>24]<<24^s[y>>>16&255]<<16^s[d>>>8&255]<<8^s[255&g]^e[++w],i[c?3:1]=s[y>>>24]<<24^s[d>>>16&255]<<16^s[g>>>8&255]<<8^s[255&h]^e[++w],i[2]=s[d>>>24]<<24^s[g>>>16&255]<<16^s[h>>>8&255]<<8^s[255&y]^e[++w],i[c?1:3]=s[g>>>24]<<24^s[h>>>16&255]<<16^s[y>>>8&255]<<8^s[255&d]^e[++w]}function s(r){var t,n="AES-"+((r=r||{}).mode||"CBC").toUpperCase(),i=(t=r.decrypt?e.cipher.createDecipher(n,r.key):e.cipher.createCipher(n,r.key)).start;return t.start=function(r,n){var o=null;n instanceof e.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=r,i.call(t,n)},t}
},{"./forge":"jo0T","./cipher":"nYxo","./cipherModes":"mw61","./util":"V/zX"}],"QA/b":[function(require,module,exports) {
var i=require("./forge");i.pki=i.pki||{};var t=module.exports=i.pki.oids=i.oids=i.oids||{};function e(i,e){t[i]=e,t[e]=i}function s(i,e){t[i]=e}e("1.2.840.113549.1.1.1","rsaEncryption"),e("1.2.840.113549.1.1.4","md5WithRSAEncryption"),e("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),e("1.2.840.113549.1.1.7","RSAES-OAEP"),e("1.2.840.113549.1.1.8","mgf1"),e("1.2.840.113549.1.1.9","pSpecified"),e("1.2.840.113549.1.1.10","RSASSA-PSS"),e("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),e("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),e("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),e("1.2.840.10040.4.3","dsa-with-sha1"),e("1.3.14.3.2.7","desCBC"),e("1.3.14.3.2.26","sha1"),e("2.16.840.1.101.3.4.2.1","sha256"),e("2.16.840.1.101.3.4.2.2","sha384"),e("2.16.840.1.101.3.4.2.3","sha512"),e("1.2.840.113549.2.5","md5"),e("1.2.840.113549.1.7.1","data"),e("1.2.840.113549.1.7.2","signedData"),e("1.2.840.113549.1.7.3","envelopedData"),e("1.2.840.113549.1.7.4","signedAndEnvelopedData"),e("1.2.840.113549.1.7.5","digestedData"),e("1.2.840.113549.1.7.6","encryptedData"),e("1.2.840.113549.1.9.1","emailAddress"),e("1.2.840.113549.1.9.2","unstructuredName"),e("1.2.840.113549.1.9.3","contentType"),e("1.2.840.113549.1.9.4","messageDigest"),e("1.2.840.113549.1.9.5","signingTime"),e("1.2.840.113549.1.9.6","counterSignature"),e("1.2.840.113549.1.9.7","challengePassword"),e("1.2.840.113549.1.9.8","unstructuredAddress"),e("1.2.840.113549.1.9.14","extensionRequest"),e("1.2.840.113549.1.9.20","friendlyName"),e("1.2.840.113549.1.9.21","localKeyId"),e("1.2.840.113549.1.9.22.1","x509Certificate"),e("1.2.840.113549.1.12.10.1.1","keyBag"),e("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),e("1.2.840.113549.1.12.10.1.3","certBag"),e("1.2.840.113549.1.12.10.1.4","crlBag"),e("1.2.840.113549.1.12.10.1.5","secretBag"),e("1.2.840.113549.1.12.10.1.6","safeContentsBag"),e("1.2.840.113549.1.5.13","pkcs5PBES2"),e("1.2.840.113549.1.5.12","pkcs5PBKDF2"),e("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),e("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),e("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),e("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),e("1.2.840.113549.2.7","hmacWithSHA1"),e("1.2.840.113549.2.8","hmacWithSHA224"),e("1.2.840.113549.2.9","hmacWithSHA256"),e("1.2.840.113549.2.10","hmacWithSHA384"),e("1.2.840.113549.2.11","hmacWithSHA512"),e("1.2.840.113549.3.7","des-EDE3-CBC"),e("2.16.840.1.101.3.4.1.2","aes128-CBC"),e("2.16.840.1.101.3.4.1.22","aes192-CBC"),e("2.16.840.1.101.3.4.1.42","aes256-CBC"),e("2.5.4.3","commonName"),e("2.5.4.5","serialName"),e("2.5.4.6","countryName"),e("2.5.4.7","localityName"),e("2.5.4.8","stateOrProvinceName"),e("2.5.4.10","organizationName"),e("2.5.4.11","organizationalUnitName"),e("2.16.840.1.113730.1.1","nsCertType"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),e("2.5.29.14","subjectKeyIdentifier"),e("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),e("2.5.29.17","subjectAltName"),e("2.5.29.18","issuerAltName"),e("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),e("2.5.29.31","cRLDistributionPoints"),e("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),e("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),e("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),e("1.3.6.1.4.1.11129.2.4.2","timestampList"),e("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),e("1.3.6.1.5.5.7.3.1","serverAuth"),e("1.3.6.1.5.5.7.3.2","clientAuth"),e("1.3.6.1.5.5.7.3.3","codeSigning"),e("1.3.6.1.5.5.7.3.4","emailProtection"),e("1.3.6.1.5.5.7.3.8","timeStamping");
},{"./forge":"jo0T"}],"zryk":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./oids");var t=module.exports=e.asn1=e.asn1||{};function r(e,t,r){if(r>t){var a=new Error("Too few bytes to parse DER.");throw a.available=e.length(),a.remaining=t,a.requested=r,a}}t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(r,a,n,s,i){if(e.util.isArray(s)){for(var u=[],o=0;o<s.length;++o)void 0!==s[o]&&u.push(s[o]);s=u}var l={tagClass:r,type:a,constructed:n,composed:n||e.util.isArray(s),value:s};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=t.copy(l)),l},t.copy=function(r,a){var n;if(e.util.isArray(r)){n=[];for(var s=0;s<r.length;++s)n.push(t.copy(r[s],a));return n}return"string"==typeof r?r:(n={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:t.copy(r.value,a)},a&&!a.excludeBitStringContents&&(n.bitStringContents=r.bitStringContents),n)},t.equals=function(r,a,n){if(e.util.isArray(r)){if(!e.util.isArray(a))return!1;if(r.length!==a.length)return!1;for(var s=0;s<r.length;++s)if(!t.equals(r[s],a[s]))return!1;return!0}if(typeof r!=typeof a)return!1;if("string"==typeof r)return r===a;var i=r.tagClass===a.tagClass&&r.type===a.type&&r.constructed===a.constructed&&r.composed===a.composed&&t.equals(r.value,a.value);return n&&n.includeBitStringContents&&(i=i&&r.bitStringContents===a.bitStringContents),i},t.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var a=function(e,t){var a=e.getByte();if(128!==a){var n;if(128&a){var s=127&a;r(e,--t,s),n=e.getInt(s<<3)}else n=a;if(n<0)throw new Error("Negative length: "+n);return n}};function n(e,s,i,u){var o;r(e,s,2);var l=e.getByte();s--;var p=192&l,g=31&l;o=e.length();var c,T,f=a(e,s);if(s-=o-e.length(),void 0!==f&&f>s){if(u.strict){var v=new Error("Too few bytes to read ASN.1 value.");throw v.available=e.length(),v.remaining=s,v.requested=f,v}f=s}var y=32==(32&l);if(y)if(c=[],void 0===f)for(;;){if(r(e,s,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),s-=2;break}o=e.length(),c.push(n(e,s,i+1,u)),s-=o-e.length()}else for(;f>0;)o=e.length(),c.push(n(e,f,i+1,u)),s-=o-e.length(),f-=o-e.length();if(void 0===c&&p===t.Class.UNIVERSAL&&g===t.Type.BITSTRING&&(T=e.bytes(f)),void 0===c&&u.decodeBitStrings&&p===t.Class.UNIVERSAL&&g===t.Type.BITSTRING&&f>1){var d=e.read,h=s,I=0;if(g===t.Type.BITSTRING&&(r(e,s,1),I=e.getByte(),s--),0===I)try{o=e.length();var C=n(e,s,i+1,{verbose:u.verbose,strict:!0,decodeBitStrings:!0}),S=o-e.length();s-=S,g==t.Type.BITSTRING&&S++;var b=C.tagClass;S!==f||b!==t.Class.UNIVERSAL&&b!==t.Class.CONTEXT_SPECIFIC||(c=[C])}catch(B){}void 0===c&&(e.read=d,s=h)}if(void 0===c){if(void 0===f){if(u.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=s}if(g===t.Type.BMPSTRING)for(c="";f>0;f-=2)r(e,s,2),c+=String.fromCharCode(e.getInt16()),s-=2;else c=e.getBytes(f)}var E=void 0===T?null:{bitStringContents:T};return t.create(p,g,y,c,E)}t.fromDer=function(t,r){return void 0===r&&(r={strict:!0,decodeBitStrings:!0}),"boolean"==typeof r&&(r={strict:r,decodeBitStrings:!0}),"strict"in r||(r.strict=!0),"decodeBitStrings"in r||(r.decodeBitStrings=!0),"string"==typeof t&&(t=e.util.createBuffer(t)),n(t,t.length(),0,r)},t.toDer=function(r){var a=e.util.createBuffer(),n=r.tagClass|r.type,s=e.util.createBuffer(),i=!1;if("bitStringContents"in r&&(i=!0,r.original&&(i=t.equals(r,r.original))),i)s.putBytes(r.bitStringContents);else if(r.composed){r.constructed?n|=32:s.putByte(0);for(var u=0;u<r.value.length;++u)void 0!==r.value[u]&&s.putBuffer(t.toDer(r.value[u]))}else if(r.type===t.Type.BMPSTRING)for(u=0;u<r.value.length;++u)s.putInt16(r.value.charCodeAt(u));else r.type===t.Type.INTEGER&&r.value.length>1&&(0===r.value.charCodeAt(0)&&0==(128&r.value.charCodeAt(1))||255===r.value.charCodeAt(0)&&128==(128&r.value.charCodeAt(1)))?s.putBytes(r.value.substr(1)):s.putBytes(r.value);if(a.putByte(n),s.length()<=127)a.putByte(127&s.length());else{var o=s.length(),l="";do{l+=String.fromCharCode(255&o),o>>>=8}while(o>0);a.putByte(128|l.length);for(u=l.length-1;u>=0;--u)a.putByte(l.charCodeAt(u))}return a.putBuffer(s),a},t.oidToDer=function(t){var r,a,n,s,i=t.split("."),u=e.util.createBuffer();u.putByte(40*parseInt(i[0],10)+parseInt(i[1],10));for(var o=2;o<i.length;++o){r=!0,a=[],n=parseInt(i[o],10);do{s=127&n,n>>>=7,r||(s|=128),a.push(s),r=!1}while(n>0);for(var l=a.length-1;l>=0;--l)u.putByte(a[l])}return u},t.derToOid=function(t){var r;"string"==typeof t&&(t=e.util.createBuffer(t));var a=t.getByte();r=Math.floor(a/40)+"."+a%40;for(var n=0;t.length()>0;)n<<=7,128&(a=t.getByte())?n+=127&a:(r+="."+(n+a),n=0);return r},t.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var a=parseInt(e.substr(2,2),10)-1,n=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var o=e.charAt(10),l=10;"+"!==o&&"-"!==o&&(u=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,a,n),t.setUTCHours(s,i,u,0),l&&("+"===(o=e.charAt(l))||"-"===o)){var p=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);p*=6e4,"+"===o?t.setTime(+t-p):t.setTime(+t+p)}return t},t.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),a=parseInt(e.substr(4,2),10)-1,n=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),o=0,l=0,p=!1;"Z"===e.charAt(e.length-1)&&(p=!0);var g=e.length-5,c=e.charAt(g);"+"!==c&&"-"!==c||(l=60*parseInt(e.substr(g+1,2),10)+parseInt(e.substr(g+4,2),10),l*=6e4,"+"===c&&(l*=-1),p=!0);return"."===e.charAt(14)&&(o=1e3*parseFloat(e.substr(14),10)),p?(t.setUTCFullYear(r,a,n),t.setUTCHours(s,i,u,o),t.setTime(+t+l)):(t.setFullYear(r,a,n),t.setHours(s,i,u,o)),t},t.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},t.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},t.integerToDer=function(t){var r=e.util.createBuffer();if(t>=-128&&t<128)return r.putSignedInt(t,8);if(t>=-32768&&t<32768)return r.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return r.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return r.putSignedInt(t,32);var a=new Error("Integer too large; max is 32-bits.");throw a.integer=t,a},t.derToInteger=function(t){"string"==typeof t&&(t=e.util.createBuffer(t));var r=8*t.length();if(r>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(r)},t.validate=function(r,a,n,s){var i=!1;if(r.tagClass!==a.tagClass&&void 0!==a.tagClass||r.type!==a.type&&void 0!==a.type)s&&(r.tagClass!==a.tagClass&&s.push("["+a.name+'] Expected tag class "'+a.tagClass+'", got "'+r.tagClass+'"'),r.type!==a.type&&s.push("["+a.name+'] Expected type "'+a.type+'", got "'+r.type+'"'));else if(r.constructed===a.constructed||void 0===a.constructed){if(i=!0,a.value&&e.util.isArray(a.value))for(var u=0,o=0;i&&o<a.value.length;++o)i=a.value[o].optional||!1,r.value[u]&&((i=t.validate(r.value[u],a.value[o],n,s))?++u:a.value[o].optional&&(i=!0)),!i&&s&&s.push("["+a.name+'] Tag class "'+a.tagClass+'", type "'+a.type+'" expected value length "'+a.value.length+'", got "'+r.value.length+'"');if(i&&n)if(a.capture&&(n[a.capture]=r.value),a.captureAsn1&&(n[a.captureAsn1]=r),a.captureBitStringContents&&"bitStringContents"in r&&(n[a.captureBitStringContents]=r.bitStringContents),a.captureBitStringValue&&"bitStringContents"in r)if(r.bitStringContents.length<2)n[a.captureBitStringValue]="";else{if(0!==r.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[a.captureBitStringValue]=r.bitStringContents.slice(1)}}else s&&s.push("["+a.name+'] Expected constructed "'+a.constructed+'", got "'+r.constructed+'"');return i};var s=/[^\\u0000-\\u00ff]/;t.prettyPrint=function(r,a,n){var i="";n=n||2,(a=a||0)>0&&(i+="\n");for(var u="",o=0;o<a*n;++o)u+=" ";switch(i+=u+"Tag: ",r.tagClass){case t.Class.UNIVERSAL:i+="Universal:";break;case t.Class.APPLICATION:i+="Application:";break;case t.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case t.Class.PRIVATE:i+="Private:"}if(r.tagClass===t.Class.UNIVERSAL)switch(i+=r.type,r.type){case t.Type.NONE:i+=" (None)";break;case t.Type.BOOLEAN:i+=" (Boolean)";break;case t.Type.INTEGER:i+=" (Integer)";break;case t.Type.BITSTRING:i+=" (Bit string)";break;case t.Type.OCTETSTRING:i+=" (Octet string)";break;case t.Type.NULL:i+=" (Null)";break;case t.Type.OID:i+=" (Object Identifier)";break;case t.Type.ODESC:i+=" (Object Descriptor)";break;case t.Type.EXTERNAL:i+=" (External or Instance of)";break;case t.Type.REAL:i+=" (Real)";break;case t.Type.ENUMERATED:i+=" (Enumerated)";break;case t.Type.EMBEDDED:i+=" (Embedded PDV)";break;case t.Type.UTF8:i+=" (UTF8)";break;case t.Type.ROID:i+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:i+=" (Sequence)";break;case t.Type.SET:i+=" (Set)";break;case t.Type.PRINTABLESTRING:i+=" (Printable String)";break;case t.Type.IA5String:i+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:i+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case t.Type.BMPSTRING:i+=" (BMP String)"}else i+=r.type;if(i+="\n",i+=u+"Constructed: "+r.constructed+"\n",r.composed){var l=0,p="";for(o=0;o<r.value.length;++o)void 0!==r.value[o]&&(l+=1,p+=t.prettyPrint(r.value[o],a+1,n),o+1<r.value.length&&(p+=","));i+=u+"Sub values: "+l+p}else{if(i+=u+"Value: ",r.type===t.Type.OID){var g=t.derToOid(r.value);i+=g,e.pki&&e.pki.oids&&g in e.pki.oids&&(i+=" ("+e.pki.oids[g]+") ")}if(r.type===t.Type.INTEGER)try{i+=t.derToInteger(r.value)}catch(T){i+="0x"+e.util.bytesToHex(r.value)}else if(r.type===t.Type.BITSTRING){if(r.value.length>1?i+="0x"+e.util.bytesToHex(r.value.slice(1)):i+="(none)",r.value.length>0){var c=r.value.charCodeAt(0);1==c?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else r.type===t.Type.OCTETSTRING?(s.test(r.value)||(i+="("+r.value+") "),i+="0x"+e.util.bytesToHex(r.value)):r.type===t.Type.UTF8?i+=e.util.decodeUtf8(r.value):r.type===t.Type.PRINTABLESTRING||r.type===t.Type.IA5String?i+=r.value:s.test(r.value)?i+="0x"+e.util.bytesToHex(r.value):0===r.value.length?i+="[null]":i+=r.value}return i};
},{"./forge":"jo0T","./util":"V/zX","./oids":"QA/b"}],"Pz7H":[function(require,module,exports) {
var m=require("./forge");module.exports=m.md=m.md||{},m.md.algorithms=m.md.algorithms||{};
},{"./forge":"jo0T"}],"1Q5I":[function(require,module,exports) {
var t=require("./forge");require("./md"),require("./util");var e=module.exports=t.hmac=t.hmac||{};e.create=function(){var e=null,r=null,u=null,a=null,i={start:function(i,l){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');r=t.md.algorithms[i].create()}else r=i;if(null===l)l=e;else{if("string"==typeof l)l=t.util.createBuffer(l);else if(t.util.isArray(l)){var n=l;l=t.util.createBuffer();for(var f=0;f<n.length;++f)l.putByte(n[f])}var o=l.length();o>r.blockLength&&(r.start(),r.update(l.bytes()),l=r.digest()),u=t.util.createBuffer(),a=t.util.createBuffer(),o=l.length();for(f=0;f<o;++f){n=l.at(f);u.putByte(54^n),a.putByte(92^n)}if(o<r.blockLength)for(n=r.blockLength-o,f=0;f<n;++f)u.putByte(54),a.putByte(92);e=l,u=u.bytes(),a=a.bytes()}r.start(),r.update(u)},update:function(t){r.update(t)},getMac:function(){var t=r.digest().bytes();return r.start(),r.update(a),r.update(t),r.digest()}};return i.digest=i.getMac,i};
},{"./forge":"jo0T","./md":"Pz7H","./util":"V/zX"}],"Qu+P":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.md5=e.md5||{};e.md.md5=e.md.algorithms.md5=t,t.create=function(){g||u();var t=null,h=e.util.createBuffer(),n=new Array(16),l={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var r=l.messageLengthSize/4,n=0;n<r;++n)l.fullMessageLength.push(0);return h=e.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},l}};return l.start(),l.update=function(r,g){"utf8"===g&&(r=e.util.encodeUtf8(r));var u=r.length;l.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var s=l.fullMessageLength.length-1;s>=0;--s)l.fullMessageLength[s]+=u[1],u[1]=u[0]+(l.fullMessageLength[s]/4294967296>>>0),l.fullMessageLength[s]=l.fullMessageLength[s]>>>0,u[0]=u[1]/4294967296>>>0;return h.putBytes(r),a(t,n,h),(h.read>2048||0===h.length())&&h.compact(),l},l.digest=function(){var g=e.util.createBuffer();g.putBytes(h.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1;g.putBytes(r.substr(0,l.blockLength-u));for(var s,f=0,o=l.fullMessageLength.length-1;o>=0;--o)f=(s=8*l.fullMessageLength[o]+f)/4294967296>>>0,g.putInt32Le(s>>>0);var L={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};a(L,n,g);var i=e.util.createBuffer();return i.putInt32Le(L.h0),i.putInt32Le(L.h1),i.putInt32Le(L.h2),i.putInt32Le(L.h3),i},l};var r=null,h=null,n=null,l=null,g=!1;function u(){r=String.fromCharCode(128),r+=e.util.fillString(String.fromCharCode(0),64),h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=new Array(64);for(var t=0;t<64;++t)l[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));g=!0}function a(e,t,r){for(var g,u,a,s,f,o,L,i=r.length();i>=64;){for(u=e.h0,a=e.h1,s=e.h2,f=e.h3,L=0;L<16;++L)t[L]=r.getInt32Le(),g=u+(f^a&(s^f))+l[L]+t[L],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;for(;L<32;++L)g=u+(s^f&(a^s))+l[L]+t[h[L]],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;for(;L<48;++L)g=u+(a^s^f)+l[L]+t[h[L]],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;for(;L<64;++L)g=u+(s^(a|~f))+l[L]+t[h[L]],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;e.h0=e.h0+u|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+f|0,i-=64}}
},{"./forge":"jo0T","./md":"Pz7H","./util":"V/zX"}],"GGWf":[function(require,module,exports) {
var e=require("./forge");require("./util");var r=module.exports=e.pem=e.pem||{};function n(e){for(var r=e.name+": ",n=[],a=function(e,r){return" "+r},t=0;t<e.values.length;++t)n.push(e.values[t].replace(/^(\S+\r\n)/,a));r+=n.join(",")+"\r\n";var o=0,s=-1;for(t=0;t<r.length;++t,++o)if(o>65&&-1!==s){var l=r[s];","===l?(++s,r=r.substr(0,s)+"\r\n "+r.substr(s)):r=r.substr(0,s)+"\r\n"+l+r.substr(s+1),o=t-s-1,s=-1,++t}else" "!==r[t]&&"\t"!==r[t]&&","!==r[t]||(s=t);return r}function a(e){return e.replace(/^\s+/,"")}r.encode=function(r,a){a=a||{};var t,o="-----BEGIN "+r.type+"-----\r\n";if(r.procType&&(o+=n(t={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]})),r.contentDomain&&(o+=n(t={name:"Content-Domain",values:[r.contentDomain]})),r.dekInfo&&(t={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&t.values.push(r.dekInfo.parameters),o+=n(t)),r.headers)for(var s=0;s<r.headers.length;++s)o+=n(r.headers[s]);return r.procType&&(o+="\r\n"),o+=e.util.encode64(r.body,a.maxline||64)+"\r\n",o+="-----END "+r.type+"-----\r\n"},r.decode=function(r){for(var n,t=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,l=/\r?\n/;n=o.exec(r);){var i={type:n[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:e.util.decode64(n[3])};if(t.push(i),n[2]){for(var f=n[2].split(l),u=0;n&&u<f.length;){for(var p=f[u].replace(/\s+$/,""),d=u+1;d<f.length;++d){var m=f[d];if(!/\s/.test(m[0]))break;p+=m,u=d}if(n=p.match(s)){for(var h={name:n[1],values:[]},c=n[2].split(","),v=0;v<c.length;++v)h.values.push(a(c[v]));if(i.procType)if(i.contentDomain||"Content-Domain"!==h.name)if(i.dekInfo||"DEK-Info"!==h.name)i.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');i.dekInfo={algorithm:c[0],parameters:c[1]||null}}else i.contentDomain=c[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');i.procType={version:c[0],type:c[1]}}}++u}if("ENCRYPTED"===i.procType&&!i.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===t.length)throw new Error("Invalid PEM formatted message.");return t};
},{"./forge":"jo0T","./util":"V/zX"}],"/s2H":[function(require,module,exports) {
var e=require("./forge");function r(r,t){e.cipher.registerAlgorithm(r,function(){return new e.des.Algorithm(r,t)})}require("./cipher"),require("./cipherModes"),require("./util"),module.exports=e.des=e.des||{},e.des.startEncrypting=function(e,r,t,i){var n=h({key:e,output:t,decrypt:!1,mode:i||(null===r?"ECB":"CBC")});return n.start(r),n},e.des.createEncryptionCipher=function(e,r){return h({key:e,output:null,decrypt:!1,mode:r})},e.des.startDecrypting=function(e,r,t,i){var n=h({key:e,output:t,decrypt:!0,mode:i||(null===r?"ECB":"CBC")});return n.start(r),n},e.des.createDecryptionCipher=function(e,r){return h({key:e,output:null,decrypt:!0,mode:r})},e.des.Algorithm=function(e,r){var t=this;t.name=e,t.mode=new r({blockSize:8,cipher:{encrypt:function(e,r){return d(t._keys,e,r,!1)},decrypt:function(e,r){return d(t._keys,e,r,!0)}}}),t._init=!1},e.des.Algorithm.prototype.initialize=function(r){if(!this._init){var t=e.util.createBuffer(r.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=a(t),this._init=!0}},r("DES-ECB",e.cipher.modes.ecb),r("DES-CBC",e.cipher.modes.cbc),r("DES-CFB",e.cipher.modes.cfb),r("DES-OFB",e.cipher.modes.ofb),r("DES-CTR",e.cipher.modes.ctr),r("3DES-ECB",e.cipher.modes.ecb),r("3DES-CBC",e.cipher.modes.cbc),r("3DES-CFB",e.cipher.modes.cfb),r("3DES-OFB",e.cipher.modes.ofb),r("3DES-CTR",e.cipher.modes.ctr);var t=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],i=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],n=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],o=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],s=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function a(e){for(var r,t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],i=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],c=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],u=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],p=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],s=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],a=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],l=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,C=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,B=0;B<m;B++){var D=e.getInt32(),g=e.getInt32();D^=(r=252645135&(D>>>4^g))<<4,D^=r=65535&((g^=r)>>>-16^D),D^=(r=858993459&(D>>>2^(g^=r<<-16)))<<2,D^=r=65535&((g^=r)>>>-16^D),D^=(r=1431655765&(D>>>1^(g^=r<<-16)))<<1,D^=r=16711935&((g^=r)>>>8^D),r=(D^=(r=1431655765&(D>>>1^(g^=r<<8)))<<1)<<8|(g^=r)>>>20&240,D=g<<24|g<<8&16711680|g>>>8&65280|g>>>24&240,g=r;for(var S=0;S<E.length;++S){E[S]?(D=D<<2|D>>>26,g=g<<2|g>>>26):(D=D<<1|D>>>27,g=g<<1|g>>>27);var k=t[(D&=-15)>>>28]|i[D>>>24&15]|n[D>>>20&15]|c[D>>>16&15]|o[D>>>12&15]|u[D>>>8&15]|p[D>>>4&15],b=s[(g&=-15)>>>28]|a[g>>>24&15]|d[g>>>20&15]|h[g>>>16&15]|f[g>>>12&15]|l[g>>>8&15]|y[g>>>4&15];r=65535&(b>>>16^k),C[v++]=k^r,C[v++]=b^r<<16}}return C}function d(e,r,a,d){var h,f,l=32===e.length?3:9;h=3===l?d?[30,-2,-2]:[0,32,2]:d?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y=r[0],m=r[1];y^=(f=252645135&(y>>>4^m))<<4,y^=(f=65535&(y>>>16^(m^=f)))<<16,y^=f=858993459&((m^=f)>>>2^y),y^=f=16711935&((m^=f<<2)>>>8^y),y=(y^=(f=1431655765&(y>>>1^(m^=f<<8)))<<1)<<1|y>>>31,m=(m^=f)<<1|m>>>31;for(var C=0;C<l;C+=3){for(var E=h[C+1],v=h[C+2],B=h[C];B!=E;B+=v){var D=m^e[B],g=(m>>>4|m<<28)^e[B+1];f=y,y=m,m=f^(i[D>>>24&63]|c[D>>>16&63]|u[D>>>8&63]|s[63&D]|t[g>>>24&63]|n[g>>>16&63]|o[g>>>8&63]|p[63&g])}f=y,y=m,m=f}m=m>>>1|m<<31,m^=f=1431655765&((y=y>>>1|y<<31)>>>1^m),m^=(f=16711935&(m>>>8^(y^=f<<1)))<<8,m^=(f=858993459&(m>>>2^(y^=f)))<<2,m^=f=65535&((y^=f)>>>16^m),m^=f=252645135&((y^=f<<16)>>>4^m),y^=f<<4,a[0]=y,a[1]=m}function h(r){var t,i="DES-"+((r=r||{}).mode||"CBC").toUpperCase(),n=(t=r.decrypt?e.cipher.createDecipher(i,r.key):e.cipher.createCipher(i,r.key)).start;return t.start=function(r,i){var c=null;i instanceof e.util.ByteBuffer&&(c=i,i={}),(i=i||{}).output=c,i.iv=r,n.call(t,i)},t}
},{"./forge":"jo0T","./cipher":"nYxo","./cipherModes":"mw61","./util":"V/zX"}],"CyRr":[function(require,module,exports) {
var t=require("./forge");require("./hmac"),require("./md"),require("./util");var r,e=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(r=require("crypto")),module.exports=t.pbkdf2=e.pbkdf2=function(e,n,i,u,l,s){if("function"==typeof l&&(s=l,l=null),t.util.isNodejs&&!t.options.usePureJavaScript&&r.pbkdf2&&(null===l||"object"!=typeof l)&&(r.pbkdf2Sync.length>4||!l||"sha1"===l))return"string"!=typeof l&&(l="sha1"),e=new Buffer(e,"binary"),n=new Buffer(n,"binary"),s?4===r.pbkdf2Sync.length?r.pbkdf2(e,n,i,u,function(t,r){if(t)return s(t);s(null,r.toString("binary"))}):r.pbkdf2(e,n,i,u,l,function(t,r){if(t)return s(t);s(null,r.toString("binary"))}):4===r.pbkdf2Sync.length?r.pbkdf2Sync(e,n,i,u).toString("binary"):r.pbkdf2Sync(e,n,i,u,l).toString("binary");if(null==l&&(l="sha1"),"string"==typeof l){if(!(l in t.md.algorithms))throw new Error("Unknown hash algorithm: "+l);l=t.md[l].create()}var a=l.digestLength;if(u>4294967295*a){var o=new Error("Derived key is too long.");if(s)return s(o);throw o}var f=Math.ceil(u/a),d=u-(f-1)*a,p=t.hmac.create();p.start(l,e);var y,g,c,b="";if(!s){for(var h=1;h<=f;++h){p.start(null,null),p.update(n),p.update(t.util.int32ToBytes(h)),y=c=p.digest().getBytes();for(var k=2;k<=i;++k)p.start(null,null),p.update(c),g=p.digest().getBytes(),y=t.util.xorBytes(y,g,a),c=g;b+=h<f?y:y.substr(0,d)}return b}h=1;function v(){if(h>f)return s(null,b);p.start(null,null),p.update(n),p.update(t.util.int32ToBytes(h)),y=c=p.digest().getBytes(),k=2,S()}function S(){if(k<=i)return p.start(null,null),p.update(c),g=p.digest().getBytes(),y=t.util.xorBytes(y,g,a),c=g,++k,t.util.setImmediate(S);b+=h<f?y:y.substr(0,d),++h,v()}v()};
},{"./forge":"jo0T","./hmac":"1Q5I","./md":"Pz7H","./util":"V/zX"}],"1pxz":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha256=e.sha256||{};e.md.sha256=e.md.algorithms.sha256=t,t.create=function(){n||g();var t=null,r=e.util.createBuffer(),s=new Array(64),l={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var h=l.messageLengthSize/4,n=0;n<h;++n)l.fullMessageLength.push(0);return r=e.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},l}};return l.start(),l.update=function(h,n){"utf8"===n&&(h=e.util.encodeUtf8(h));var g=h.length;l.messageLength+=g,g=[g/4294967296>>>0,g>>>0];for(var a=l.fullMessageLength.length-1;a>=0;--a)l.fullMessageLength[a]+=g[1],g[1]=g[0]+(l.fullMessageLength[a]/4294967296>>>0),l.fullMessageLength[a]=l.fullMessageLength[a]>>>0,g[0]=g[1]/4294967296>>>0;return r.putBytes(h),u(t,s,r),(r.read>2048||0===r.length())&&r.compact(),l},l.digest=function(){var n=e.util.createBuffer();n.putBytes(r.bytes());var g,a=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1;n.putBytes(h.substr(0,l.blockLength-a));for(var f=8*l.fullMessageLength[0],i=0;i<l.fullMessageLength.length-1;++i)f+=(g=8*l.fullMessageLength[i+1])/4294967296>>>0,n.putInt32(f>>>0),f=g>>>0;n.putInt32(f);var o={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(o,s,n);var L=e.util.createBuffer();return L.putInt32(o.h0),L.putInt32(o.h1),L.putInt32(o.h2),L.putInt32(o.h3),L.putInt32(o.h4),L.putInt32(o.h5),L.putInt32(o.h6),L.putInt32(o.h7),L},l};var h=null,n=!1,r=null;function g(){h=String.fromCharCode(128),h+=e.util.fillString(String.fromCharCode(0),64),r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0}function u(e,t,h){for(var n,g,u,s,l,a,f,i,o,L,c,p,m,v=h.length();v>=64;){for(l=0;l<16;++l)t[l]=h.getInt32();for(;l<64;++l)n=((n=t[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,g=((g=t[l-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3,t[l]=n+t[l-7]+g+t[l-16]|0;for(a=e.h0,f=e.h1,i=e.h2,o=e.h3,L=e.h4,c=e.h5,p=e.h6,m=e.h7,l=0;l<64;++l)u=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),s=a&f|i&(a^f),n=m+((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(p^L&(c^p))+r[l]+t[l],m=p,p=c,c=L,L=o+n>>>0,o=i,i=f,f=a,a=n+(g=u+s)>>>0;e.h0=e.h0+a|0,e.h1=e.h1+f|0,e.h2=e.h2+i|0,e.h3=e.h3+o|0,e.h4=e.h4+L|0,e.h5=e.h5+c|0,e.h6=e.h6+p|0,e.h7=e.h7+m|0,v-=64}}
},{"./forge":"jo0T","./md":"Pz7H","./util":"V/zX"}],"NyZB":[function(require,module,exports) {
var e=require("./forge");require("./util");var t=null;!e.util.isNodejs||e.options.usePureJavaScript||process.versions["node-webkit"]||(t=require("crypto"));var r=module.exports=e.prng=e.prng||{};r.create=function(r){for(var n={plugin:r,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},o=r.md,s=new Array(32),l=0;l<32;++l)s[l]=o.create();function i(){if(n.pools[0].messageLength>=32)return a();var e=32-n.pools[0].messageLength<<5;n.collect(n.seedFileSync(e)),a()}function a(){n.reseeds=4294967295===n.reseeds?0:n.reseeds+1;var e=n.plugin.md.create();e.update(n.keyBytes);for(var t=1,r=0;r<32;++r)n.reseeds%t==0&&(e.update(n.pools[r].digest().getBytes()),n.pools[r].start()),t<<=1;n.keyBytes=e.digest().getBytes(),e.start(),e.update(n.keyBytes);var o=e.digest().getBytes();n.key=n.plugin.formatKey(n.keyBytes),n.seed=n.plugin.formatSeed(o),n.generated=0}function u(t){var r=null;if("undefined"!=typeof window){var n=window.crypto||window.msCrypto;n&&n.getRandomValues&&(r=function(e){return n.getRandomValues(e)})}var o=e.util.createBuffer();if(r)for(;o.length()<t;){var s=Math.max(1,Math.min(t-o.length(),65536)/4),l=new Uint32Array(Math.floor(s));try{r(l);for(var i=0;i<l.length;++i)o.putInt32(l[i])}catch(d){if(!("undefined"!=typeof QuotaExceededError&&d instanceof QuotaExceededError))throw d}}if(o.length()<t)for(var a,u,f,g=Math.floor(65536*Math.random());o.length()<t;){u=16807*(65535&g),u+=(32767&(a=16807*(g>>16)))<<16,g=4294967295&(u=(2147483647&(u+=a>>15))+(u>>31));for(i=0;i<3;++i)f=g>>>(i<<3),f^=Math.floor(256*Math.random()),o.putByte(String.fromCharCode(255&f))}return o.getBytes(t)}return n.pools=s,n.pool=0,n.generate=function(t,r){if(!r)return n.generateSync(t);var o=n.plugin.cipher,s=n.plugin.increment,l=n.plugin.formatKey,i=n.plugin.formatSeed,u=e.util.createBuffer();n.key=null,function f(g){if(g)return r(g);if(u.length()>=t)return r(null,u.getBytes(t));n.generated>1048575&&(n.key=null);if(null===n.key)return e.util.nextTick(function(){!function(e){if(n.pools[0].messageLength>=32)return a(),e();var t=32-n.pools[0].messageLength<<5;n.seedFile(t,function(t,r){if(t)return e(t);n.collect(r),a(),e()})}(f)});var d=o(n.key,n.seed);n.generated+=d.length;u.putBytes(d);n.key=l(o(n.key,s(n.seed)));n.seed=i(o(n.key,n.seed));e.util.setImmediate(f)}()},n.generateSync=function(t){var r=n.plugin.cipher,o=n.plugin.increment,s=n.plugin.formatKey,l=n.plugin.formatSeed;n.key=null;for(var a=e.util.createBuffer();a.length()<t;){n.generated>1048575&&(n.key=null),null===n.key&&i();var u=r(n.key,n.seed);n.generated+=u.length,a.putBytes(u),n.key=s(r(n.key,o(n.seed))),n.seed=l(r(n.key,n.seed))}return a.getBytes(t)},t?(n.seedFile=function(e,r){t.randomBytes(e,function(e,t){if(e)return r(e);r(null,t.toString())})},n.seedFileSync=function(e){return t.randomBytes(e).toString()}):(n.seedFile=function(e,t){try{t(null,u(e))}catch(r){t(r)}},n.seedFileSync=u),n.collect=function(e){for(var t=e.length,r=0;r<t;++r)n.pools[n.pool].update(e.substr(r,1)),n.pool=31===n.pool?0:n.pool+1},n.collectInt=function(e,t){for(var r="",o=0;o<t;o+=8)r+=String.fromCharCode(e>>o&255);n.collect(r)},n.registerWorker=function(e){if(e===self)n.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",function(t){var r=t.data;r.forge&&r.forge.prng&&n.seedFile(r.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})})}},n};
},{"./forge":"jo0T","./util":"V/zX"}],"DEP9":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./sha256"),require("./prng"),require("./util"),e.random&&e.random.getBytes?module.exports=e.random:function(t){var n={},r=new Array(4),o=e.util.createBuffer();function a(){var t=e.prng.create(n);return t.getBytes=function(e,n){return t.generate(e,n)},t.getBytesSync=function(e){return t.generate(e)},t}n.formatKey=function(t){var n=e.util.createBuffer(t);return(t=new Array(4))[0]=n.getInt32(),t[1]=n.getInt32(),t[2]=n.getInt32(),t[3]=n.getInt32(),e.aes._expandKey(t,!1)},n.formatSeed=function(t){var n=e.util.createBuffer(t);return(t=new Array(4))[0]=n.getInt32(),t[1]=n.getInt32(),t[2]=n.getInt32(),t[3]=n.getInt32(),t},n.cipher=function(t,n){return e.aes._updateBlock(t,n,r,!1),o.putInt32(r[0]),o.putInt32(r[1]),o.putInt32(r[2]),o.putInt32(r[3]),o.getBytes()},n.increment=function(e){return++e[3],e},n.md=e.md.sha256;var u=a(),i=null;if("undefined"!=typeof window){var c=window.crypto||window.msCrypto;c&&c.getRandomValues&&(i=function(e){return c.getRandomValues(e)})}if(e.options.usePureJavaScript||!e.util.isNodejs&&!i){if("undefined"==typeof window||window.document,u.collectInt(+new Date,32),"undefined"!=typeof navigator){var f="";for(var d in navigator)try{"string"==typeof navigator[d]&&(f+=navigator[d])}catch(l){}u.collect(f),f=null}t&&(t().mousemove(function(e){u.collectInt(e.clientX,16),u.collectInt(e.clientY,16)}),t().keypress(function(e){u.collectInt(e.charCode,8)}))}if(e.random)for(var d in u)e.random[d]=u[d];else e.random=u;e.random.createInstance=a,module.exports=e.random}("undefined"!=typeof jQuery?jQuery:null);
},{"./forge":"jo0T","./aes":"M7sO","./sha256":"1pxz","./prng":"NyZB","./util":"V/zX"}],"oIOP":[function(require,module,exports) {
var t=require("./forge");require("./util");var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],e=[1,2,3,5],n=function(t,r){return t<<r&65535|(65535&t)>>16-r},u=function(t,r){return(65535&t)>>r|t<<16-r&65535};module.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(e,n){"string"==typeof e&&(e=t.util.createBuffer(e)),n=n||128;var u,f=e,i=e.length(),c=n,a=Math.ceil(c/8),o=255>>(7&c);for(u=i;u<128;u++)f.putByte(r[f.at(u-1)+f.at(u-i)&255]);for(f.setAt(128-a,r[f.at(128-a)&o]),u=127-a;u>=0;u--)f.setAt(u,r[f.at(u+1)^f.at(u+a)]);return f};var f=function(r,f,i){var c,a,o,l,p=!1,g=null,h=null,s=null,v=[];for(r=t.rc2.expandKey(r,f),o=0;o<64;o++)v.push(r.getInt16Le());i?(c=function(t){for(o=0;o<4;o++)t[o]+=v[l]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),t[o]=n(t[o],e[o]),l++},a=function(t){for(o=0;o<4;o++)t[o]+=v[63&t[(o+3)%4]]}):(c=function(t){for(o=3;o>=0;o--)t[o]=u(t[o],e[o]),t[o]-=v[l]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),l--},a=function(t){for(o=3;o>=0;o--)t[o]-=v[63&t[(o+3)%4]]});var y=function(t){var r=[];for(o=0;o<4;o++){var e=g.getInt16Le();null!==s&&(i?e^=s.getInt16Le():s.putInt16Le(e)),r.push(65535&e)}l=i?0:63;for(var n=0;n<t.length;n++)for(var u=0;u<t[n][0];u++)t[n][1](r);for(o=0;o<4;o++)null!==s&&(i?s.putInt16Le(r[o]):r[o]^=s.getInt16Le()),h.putInt16Le(r[o])},B=null;return B={start:function(r,e){r&&"string"==typeof r&&(r=t.util.createBuffer(r)),p=!1,g=t.util.createBuffer(),h=e||new t.util.createBuffer,s=r,B.output=h},update:function(t){for(p||g.putBuffer(t);g.length()>=8;)y([[5,c],[1,a],[6,c],[1,a],[5,c]])},finish:function(t){var r=!0;if(i)if(t)r=t(8,g,!i);else{var e=8===g.length()?8:8-g.length();g.fillWithByte(e,e)}if(r&&(p=!0,B.update()),!i&&(r=0===g.length()))if(t)r=t(8,h,!i);else{var n=h.length(),u=h.at(n-1);u>n?r=!1:h.truncate(u)}return r}}};t.rc2.startEncrypting=function(r,e,n){var u=t.rc2.createEncryptionCipher(r,128);return u.start(e,n),u},t.rc2.createEncryptionCipher=function(t,r){return f(t,r,!0)},t.rc2.startDecrypting=function(r,e,n){var u=t.rc2.createDecryptionCipher(r,128);return u.start(e,n),u},t.rc2.createDecryptionCipher=function(t,r){return f(t,r,!1)};
},{"./forge":"jo0T","./util":"V/zX"}],"Uxw/":[function(require,module,exports) {
var t,i=require("./forge");module.exports=i.jsbn=i.jsbn||{};var o=0xdeadbeefcafe,r=15715070==(16777215&o);function s(t,i,o){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function a(){return new s(null)}function h(t,i,o,r,s,a){for(;--a>=0;){var h=i*this.data[t++]+o.data[r]+s;s=Math.floor(h/67108864),o.data[r++]=67108863&h}return s}function e(t,i,o,r,s,a){for(var h=32767&i,e=i>>15;--a>=0;){var n=32767&this.data[t],u=this.data[t++]>>15,f=e*n+u*h;s=((n=h*n+((32767&f)<<15)+o.data[r]+(1073741823&s))>>>30)+(f>>>15)+e*u+(s>>>30),o.data[r++]=1073741823&n}return s}function n(t,i,o,r,s,a){for(var h=16383&i,e=i>>14;--a>=0;){var n=16383&this.data[t],u=this.data[t++]>>14,f=e*n+u*h;s=((n=h*n+((16383&f)<<14)+o.data[r]+s)>>28)+(f>>14)+e*u,o.data[r++]=268435455&n}return s}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=n,t=28):r&&"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=e,t=30):r&&"Netscape"!=navigator.appName?(s.prototype.am=h,t=26):(s.prototype.am=n,t=28),s.prototype.DB=t,s.prototype.DM=(1<<t)-1,s.prototype.DV=1<<t;var u=52;s.prototype.FV=Math.pow(2,u),s.prototype.F1=u-t,s.prototype.F2=2*t-u;var f,p,d="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(f="0".charCodeAt(0),p=0;p<=9;++p)c[f++]=p;for(f="a".charCodeAt(0),p=10;p<36;++p)c[f++]=p;for(f="A".charCodeAt(0),p=10;p<36;++p)c[f++]=p;function m(t){return d.charAt(t)}function l(t,i){var o=c[t.charCodeAt(i)];return null==o?-1:o}function T(t){for(var i=this.t-1;i>=0;--i)t.data[i]=this.data[i];t.t=this.t,t.s=this.s}function v(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function y(t){var i=a();return i.fromInt(t),i}function D(t,i){var o;if(16==i)o=4;else if(8==i)o=3;else if(256==i)o=8;else if(2==i)o=1;else if(32==i)o=5;else{if(4!=i)return void this.fromRadix(t,i);o=2}this.t=0,this.s=0;for(var r=t.length,a=!1,h=0;--r>=0;){var e=8==o?255&t[r]:l(t,r);e<0?"-"==t.charAt(r)&&(a=!0):(a=!1,0==h?this.data[this.t++]=e:h+o>this.DB?(this.data[this.t-1]|=(e&(1<<this.DB-h)-1)<<h,this.data[this.t++]=e>>this.DB-h):this.data[this.t-1]|=e<<h,(h+=o)>=this.DB&&(h-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,h>0&&(this.data[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),a&&s.ZERO.subTo(this,this)}function b(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function B(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,a="",h=this.t,e=this.DB-h*this.DB%i;if(h-- >0)for(e<this.DB&&(o=this.data[h]>>e)>0&&(s=!0,a=m(o));h>=0;)e<i?(o=(this.data[h]&(1<<e)-1)<<i-e,o|=this.data[--h]>>(e+=this.DB-i)):(o=this.data[h]>>(e-=i)&r,e<=0&&(e+=this.DB,--h)),o>0&&(s=!0),s&&(a+=m(o));return s?a:"0"}function g(){var t=a();return s.ZERO.subTo(this,t),t}function S(){return this.s<0?this.negate():this}function M(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(0!=(i=o-t.t))return this.s<0?-i:i;for(;--o>=0;)if(0!=(i=this.data[o]-t.data[o]))return i;return 0}function w(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function E(){return this.t<=0?0:this.DB*(this.t-1)+w(this.data[this.t-1]^this.s&this.DM)}function O(t,i){var o;for(o=this.t-1;o>=0;--o)i.data[o+t]=this.data[o];for(o=t-1;o>=0;--o)i.data[o]=0;i.t=this.t+t,i.s=this.s}function R(t,i){for(var o=t;o<this.t;++o)i.data[o-t]=this.data[o];i.t=Math.max(this.t-t,0),i.s=this.s}function V(t,i){var o,r=t%this.DB,s=this.DB-r,a=(1<<s)-1,h=Math.floor(t/this.DB),e=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i.data[o+h+1]=this.data[o]>>s|e,e=(this.data[o]&a)<<r;for(o=h-1;o>=0;--o)i.data[o]=0;i.data[h]=e,i.t=this.t+h+1,i.s=this.s,i.clamp()}function q(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)i.t=0;else{var r=t%this.DB,s=this.DB-r,a=(1<<r)-1;i.data[0]=this.data[o]>>r;for(var h=o+1;h<this.t;++h)i.data[h-o-1]|=(this.data[h]&a)<<s,i.data[h-o]=this.data[h]>>r;r>0&&(i.data[this.t-o-1]|=(this.s&a)<<s),i.t=this.t-o,i.clamp()}}function A(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this.data[o]-t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=r<0?-1:0,r<-1?i.data[o++]=this.DV+r:r>0&&(i.data[o++]=r),i.t=o,i.clamp()}function N(t,i){var o=this.abs(),r=t.abs(),a=o.t;for(i.t=a+r.t;--a>=0;)i.data[a]=0;for(a=0;a<r.t;++a)i.data[a+o.t]=o.am(0,r.data[a],i,a,0,o.t);i.s=0,i.clamp(),this.s!=t.s&&s.ZERO.subTo(i,i)}function x(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t.data[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i.data[o],t,2*o,0,1);(t.data[o+i.t]+=i.am(o+1,2*i.data[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t.data[o+i.t]-=i.DV,t.data[o+i.t+1]=1)}t.t>0&&(t.data[t.t-1]+=i.am(o,i.data[o],t,2*o,0,1)),t.s=0,t.clamp()}function L(t,i,o){var r=t.abs();if(!(r.t<=0)){var h=this.abs();if(h.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=a());var e=a(),n=this.s,u=t.s,f=this.DB-w(r.data[r.t-1]);f>0?(r.lShiftTo(f,e),h.lShiftTo(f,o)):(r.copyTo(e),h.copyTo(o));var p=e.t,d=e.data[p-1];if(0!=d){var c=d*(1<<this.F1)+(p>1?e.data[p-2]>>this.F2:0),m=this.FV/c,l=(1<<this.F1)/c,T=1<<this.F2,v=o.t,y=v-p,D=null==i?a():i;for(e.dlShiftTo(y,D),o.compareTo(D)>=0&&(o.data[o.t++]=1,o.subTo(D,o)),s.ONE.dlShiftTo(p,D),D.subTo(e,e);e.t<p;)e.data[e.t++]=0;for(;--y>=0;){var b=o.data[--v]==d?this.DM:Math.floor(o.data[v]*m+(o.data[v-1]+T)*l);if((o.data[v]+=e.am(0,b,o,y,0,p))<b)for(e.dlShiftTo(y,D),o.subTo(D,o);o.data[v]<--b;)o.subTo(D,o)}null!=i&&(o.drShiftTo(p,i),n!=u&&s.ZERO.subTo(i,i)),o.t=p,o.clamp(),f>0&&o.rShiftTo(f,o),n<0&&s.ZERO.subTo(o,o)}}}function I(t){var i=a();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(s.ZERO)>0&&t.subTo(i,i),i}function Z(t){this.m=t}function F(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function P(t){return t}function C(t){t.divRemTo(this.m,null,t)}function j(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function k(t,i){t.squareTo(i),this.reduce(i)}function z(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var i=3&t;return(i=(i=(i=(i=i*(2-(15&t)*i)&15)*(2-(255&t)*i)&255)*(2-((65535&t)*i&65535))&65535)*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i}function U(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function G(t){var i=a();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(s.ZERO)>0&&this.m.subTo(i,i),i}function H(t){var i=a();return t.copyTo(i),this.reduce(i),i}function J(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t.data[i],r=o*this.mpl+((o*this.mph+(t.data[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=i+this.m.t,t.data[o]+=this.m.am(0,r,t,i,0,this.m.t);t.data[o]>=t.DV;)t.data[o]-=t.DV,t.data[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function K(t,i){t.squareTo(i),this.reduce(i)}function Q(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function W(){return 0==(this.t>0?1&this.data[0]:this.s)}function X(t,i){if(t>4294967295||t<1)return s.ONE;var o=a(),r=a(),h=i.convert(this),e=w(t)-1;for(h.copyTo(o);--e>=0;)if(i.sqrTo(o,r),(t&1<<e)>0)i.mulTo(r,h,o);else{var n=o;o=r,r=n}return i.revert(o)}function Y(t,i){var o;return o=t<256||i.isEven()?new Z(i):new U(i),this.exp(t,o)}function $(){var t=a();return this.copyTo(t),t}function _(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function tt(){return 0==this.t?this.s:this.data[0]<<24>>24}function it(){return 0==this.t?this.s:this.data[0]<<16>>16}function ot(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function rt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function st(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var i=this.chunkSize(t),o=Math.pow(t,i),r=y(o),s=a(),h=a(),e="";for(this.divRemTo(r,s,h);s.signum()>0;)e=(o+h.intValue()).toString(t).substr(1)+e,s.divRemTo(r,s,h);return h.intValue().toString(t)+e}function at(t,i){this.fromInt(0),null==i&&(i=10);for(var o=this.chunkSize(i),r=Math.pow(i,o),a=!1,h=0,e=0,n=0;n<t.length;++n){var u=l(t,n);u<0?"-"==t.charAt(n)&&0==this.signum()&&(a=!0):(e=i*e+u,++h>=o&&(this.dMultiply(r),this.dAddOffset(e,0),h=0,e=0))}h>0&&(this.dMultiply(Math.pow(i,h)),this.dAddOffset(e,0)),a&&s.ZERO.subTo(this,this)}function ht(t,i,o){if("number"==typeof i)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),mt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var r=new Array,a=7&t;r.length=1+(t>>3),i.nextBytes(r),a>0?r[0]&=(1<<a)-1:r[0]=0,this.fromString(r,256)}}function et(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-- >0)for(r<this.DB&&(o=this.data[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this.data[t]&(1<<r)-1)<<8-r,o|=this.data[--t]>>(r+=this.DB-8)):(o=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function nt(t){return 0==this.compareTo(t)}function ut(t){return this.compareTo(t)<0?this:t}function ft(t){return this.compareTo(t)>0?this:t}function pt(t,i,o){var r,s,a=Math.min(t.t,this.t);for(r=0;r<a;++r)o.data[r]=i(this.data[r],t.data[r]);if(t.t<this.t){for(s=t.s&this.DM,r=a;r<this.t;++r)o.data[r]=i(this.data[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=a;r<t.t;++r)o.data[r]=i(s,t.data[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()}function dt(t,i){return t&i}function ct(t){var i=a();return this.bitwiseTo(t,dt,i),i}function mt(t,i){return t|i}function lt(t){var i=a();return this.bitwiseTo(t,mt,i),i}function Tt(t,i){return t^i}function vt(t){var i=a();return this.bitwiseTo(t,Tt,i),i}function yt(t,i){return t&~i}function Dt(t){var i=a();return this.bitwiseTo(t,yt,i),i}function bt(){for(var t=a(),i=0;i<this.t;++i)t.data[i]=this.DM&~this.data[i];return t.t=this.t,t.s=~this.s,t}function Bt(t){var i=a();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i}function gt(t){var i=a();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i}function St(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function Mt(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+St(this.data[t]);return this.s<0?this.t*this.DB:-1}function wt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function Et(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=wt(this.data[o]^i);return t}function Ot(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this.data[i]&1<<t%this.DB)}function Rt(t,i){var o=s.ONE.shiftLeft(t);return this.bitwiseTo(o,i,o),o}function Vt(t){return this.changeBit(t,mt)}function qt(t){return this.changeBit(t,yt)}function At(t){return this.changeBit(t,Tt)}function Nt(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this.data[o]+t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=r<0?-1:0,r>0?i.data[o++]=r:r<-1&&(i.data[o++]=this.DV+r),i.t=o,i.clamp()}function xt(t){var i=a();return this.addTo(t,i),i}function Lt(t){var i=a();return this.subTo(t,i),i}function It(t){var i=a();return this.multiplyTo(t,i),i}function Zt(t){var i=a();return this.divRemTo(t,i,null),i}function Ft(t){var i=a();return this.divRemTo(t,null,i),i}function Pt(t){var i=a(),o=a();return this.divRemTo(t,i,o),new Array(i,o)}function Ct(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function jt(t,i){if(0!=t){for(;this.t<=i;)this.data[this.t++]=0;for(this.data[i]+=t;this.data[i]>=this.DV;)this.data[i]-=this.DV,++i>=this.t&&(this.data[this.t++]=0),++this.data[i]}}function kt(){}function zt(t){return t}function Ut(t,i,o){t.multiplyTo(i,o)}function Gt(t,i){t.squareTo(i)}function Ht(t){return this.exp(t,new kt)}function Jt(t,i,o){var r,s=Math.min(this.t+t.t,i);for(o.s=0,o.t=s;s>0;)o.data[--s]=0;for(r=o.t-this.t;s<r;++s)o.data[s+this.t]=this.am(0,t.data[s],o,s,0,this.t);for(r=Math.min(t.t,i);s<r;++s)this.am(0,t.data[s],o,s,0,i-s);o.clamp()}function Kt(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o.data[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o.data[this.t+r-i]=this.am(i-r,t.data[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)}function Qt(t){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Wt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=a();return t.copyTo(i),this.reduce(i),i}function Xt(t){return t}function Yt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function $t(t,i){t.squareTo(i),this.reduce(i)}function _t(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function ti(t,i){var o,r,s=t.bitLength(),h=y(1);if(s<=0)return h;o=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new Z(i):i.isEven()?new Qt(i):new U(i);var e=new Array,n=3,u=o-1,f=(1<<o)-1;if(e[1]=r.convert(this),o>1){var p=a();for(r.sqrTo(e[1],p);n<=f;)e[n]=a(),r.mulTo(p,e[n-2],e[n]),n+=2}var d,c,m=t.t-1,l=!0,T=a();for(s=w(t.data[m])-1;m>=0;){for(s>=u?d=t.data[m]>>s-u&f:(d=(t.data[m]&(1<<s+1)-1)<<u-s,m>0&&(d|=t.data[m-1]>>this.DB+s-u)),n=o;0==(1&d);)d>>=1,--n;if((s-=n)<0&&(s+=this.DB,--m),l)e[d].copyTo(h),l=!1;else{for(;n>1;)r.sqrTo(h,T),r.sqrTo(T,h),n-=2;n>0?r.sqrTo(h,T):(c=h,h=T,T=c),r.mulTo(T,e[d],h)}for(;m>=0&&0==(t.data[m]&1<<s);)r.sqrTo(h,T),c=h,h=T,T=c,--s<0&&(s=this.DB-1,--m)}return r.revert(h)}function ii(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),a=o.getLowestSetBit();if(a<0)return i;for(s<a&&(a=s),a>0&&(i.rShiftTo(a,i),o.rShiftTo(a,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return a>0&&o.lShiftTo(a,o),o}function oi(t){if(t<=0)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this.data[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this.data[r])%t;return o}function ri(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return s.ZERO;for(var o=t.clone(),r=this.clone(),a=y(1),h=y(0),e=y(0),n=y(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),i?(a.isEven()&&h.isEven()||(a.addTo(this,a),h.subTo(t,h)),a.rShiftTo(1,a)):h.isEven()||h.subTo(t,h),h.rShiftTo(1,h);for(;r.isEven();)r.rShiftTo(1,r),i?(e.isEven()&&n.isEven()||(e.addTo(this,e),n.subTo(t,n)),e.rShiftTo(1,e)):n.isEven()||n.subTo(t,n),n.rShiftTo(1,n);o.compareTo(r)>=0?(o.subTo(r,o),i&&a.subTo(e,a),h.subTo(n,h)):(r.subTo(o,r),i&&e.subTo(a,e),n.subTo(h,n))}return 0!=r.compareTo(s.ONE)?s.ZERO:n.compareTo(t)>=0?n.subtract(t):n.signum()<0?(n.addTo(t,n),n.signum()<0?n.add(t):n):n}Z.prototype.convert=F,Z.prototype.revert=P,Z.prototype.reduce=C,Z.prototype.mulTo=j,Z.prototype.sqrTo=k,U.prototype.convert=G,U.prototype.revert=H,U.prototype.reduce=J,U.prototype.mulTo=Q,U.prototype.sqrTo=K,s.prototype.copyTo=T,s.prototype.fromInt=v,s.prototype.fromString=D,s.prototype.clamp=b,s.prototype.dlShiftTo=O,s.prototype.drShiftTo=R,s.prototype.lShiftTo=V,s.prototype.rShiftTo=q,s.prototype.subTo=A,s.prototype.multiplyTo=N,s.prototype.squareTo=x,s.prototype.divRemTo=L,s.prototype.invDigit=z,s.prototype.isEven=W,s.prototype.exp=X,s.prototype.toString=B,s.prototype.negate=g,s.prototype.abs=S,s.prototype.compareTo=M,s.prototype.bitLength=E,s.prototype.mod=I,s.prototype.modPowInt=Y,s.ZERO=y(0),s.ONE=y(1),kt.prototype.convert=zt,kt.prototype.revert=zt,kt.prototype.mulTo=Ut,kt.prototype.sqrTo=Gt,Qt.prototype.convert=Wt,Qt.prototype.revert=Xt,Qt.prototype.reduce=Yt,Qt.prototype.mulTo=_t,Qt.prototype.sqrTo=$t;var si=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ai=(1<<26)/si[si.length-1];function hi(t){var i,o=this.abs();if(1==o.t&&o.data[0]<=si[si.length-1]){for(i=0;i<si.length;++i)if(o.data[0]==si[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<si.length;){for(var r=si[i],s=i+1;s<si.length&&r<ai;)r*=si[s++];for(r=o.modInt(r);i<s;)if(r%si[i++]==0)return!1}return o.millerRabin(t)}function ei(t){var i=this.subtract(s.ONE),o=i.getLowestSetBit();if(o<=0)return!1;for(var r,a=i.shiftRight(o),h=ni(),e=0;e<t;++e){do{r=new s(this.bitLength(),h)}while(r.compareTo(s.ONE)<=0||r.compareTo(i)>=0);var n=r.modPow(a,this);if(0!=n.compareTo(s.ONE)&&0!=n.compareTo(i)){for(var u=1;u++<o&&0!=n.compareTo(i);)if(0==(n=n.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=n.compareTo(i))return!1}}return!0}function ni(){return{nextBytes:function(t){for(var i=0;i<t.length;++i)t[i]=Math.floor(256*Math.random())}}}s.prototype.chunkSize=ot,s.prototype.toRadix=st,s.prototype.fromRadix=at,s.prototype.fromNumber=ht,s.prototype.bitwiseTo=pt,s.prototype.changeBit=Rt,s.prototype.addTo=Nt,s.prototype.dMultiply=Ct,s.prototype.dAddOffset=jt,s.prototype.multiplyLowerTo=Jt,s.prototype.multiplyUpperTo=Kt,s.prototype.modInt=oi,s.prototype.millerRabin=ei,s.prototype.clone=$,s.prototype.intValue=_,s.prototype.byteValue=tt,s.prototype.shortValue=it,s.prototype.signum=rt,s.prototype.toByteArray=et,s.prototype.equals=nt,s.prototype.min=ut,s.prototype.max=ft,s.prototype.and=ct,s.prototype.or=lt,s.prototype.xor=vt,s.prototype.andNot=Dt,s.prototype.not=bt,s.prototype.shiftLeft=Bt,s.prototype.shiftRight=gt,s.prototype.getLowestSetBit=Mt,s.prototype.bitCount=Et,s.prototype.testBit=Ot,s.prototype.setBit=Vt,s.prototype.clearBit=qt,s.prototype.flipBit=At,s.prototype.add=xt,s.prototype.subtract=Lt,s.prototype.multiply=It,s.prototype.divide=Zt,s.prototype.remainder=Ft,s.prototype.divideAndRemainder=Pt,s.prototype.modPow=ti,s.prototype.modInverse=ri,s.prototype.pow=Ht,s.prototype.gcd=ii,s.prototype.isProbablePrime=hi;
},{"./forge":"jo0T"}],"z+NJ":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha1=e.sha1||{};e.md.sha1=e.md.algorithms.sha1=t,t.create=function(){r||n();var t=null,s=e.util.createBuffer(),u=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var h=a.messageLengthSize/4,r=0;r<h;++r)a.fullMessageLength.push(0);return s=e.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(h,r){"utf8"===r&&(h=e.util.encodeUtf8(h));var n=h.length;a.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=n[1],n[1]=n[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,n[0]=n[1]/4294967296>>>0;return s.putBytes(h),g(t,u,s),(s.read>2048||0===s.length())&&s.compact(),a},a.digest=function(){var r=e.util.createBuffer();r.putBytes(s.bytes());var n,l=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;r.putBytes(h.substr(0,a.blockLength-l));for(var f=8*a.fullMessageLength[0],o=0;o<a.fullMessageLength.length-1;++o)f+=(n=8*a.fullMessageLength[o+1])/4294967296>>>0,r.putInt32(f>>>0),f=n>>>0;r.putInt32(f);var i={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};g(i,u,r);var L=e.util.createBuffer();return L.putInt32(i.h0),L.putInt32(i.h1),L.putInt32(i.h2),L.putInt32(i.h3),L.putInt32(i.h4),L},a};var h=null,r=!1;function n(){h=String.fromCharCode(128),h+=e.util.fillString(String.fromCharCode(0),64),r=!0}function g(e,t,h){for(var r,n,g,s,u,a,l,f=h.length();f>=64;){for(n=e.h0,g=e.h1,s=e.h2,u=e.h3,a=e.h4,l=0;l<16;++l)r=h.getInt32(),t[l]=r,r=(n<<5|n>>>27)+(u^g&(s^u))+a+1518500249+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<20;++l)r=(r=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|r>>>31,t[l]=r,r=(n<<5|n>>>27)+(u^g&(s^u))+a+1518500249+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<32;++l)r=(r=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|r>>>31,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+1859775393+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<40;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+1859775393+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<60;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g&s|u&(g^s))+a+2400959708+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<80;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+3395469782+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;e.h0=e.h0+n|0,e.h1=e.h1+g|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,e.h4=e.h4+a|0,f-=64}}
},{"./forge":"jo0T","./md":"Pz7H","./util":"V/zX"}],"gG+e":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./random"),require("./sha1");var t=module.exports=e.pkcs1=e.pkcs1||{};function r(t,r,g){g||(g=e.md.sha1.create());for(var n="",i=Math.ceil(r/g.digestLength),s=0;s<i;++s){var h=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);g.start(),g.update(t+h),n+=g.digest().getBytes()}return n.substring(0,r)}t.encode_rsa_oaep=function(t,g,n){var i,s,h,d;"string"==typeof n?(i=n,s=arguments[3]||void 0,h=arguments[4]||void 0):n&&(i=n.label||void 0,s=n.seed||void 0,h=n.md||void 0,n.mgf1&&n.mgf1.md&&(d=n.mgf1.md)),h?h.start():h=e.md.sha1.create(),d||(d=h);var a=Math.ceil(t.n.bitLength()/8),o=a-2*h.digestLength-2;if(g.length>o)throw(c=new Error("RSAES-OAEP input message length is too long.")).length=g.length,c.maxLength=o,c;i||(i=""),h.update(i,"raw");for(var l=h.digest(),u="",v=o-g.length,f=0;f<v;f++)u+="\0";var m=l.getBytes()+u+""+g;if(s){if(s.length!==h.digestLength){var c;throw(c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=s.length,c.digestLength=h.digestLength,c}}else s=e.random.getBytes(h.digestLength);var L=r(s,a-h.digestLength-1,d),A=e.util.xorBytes(m,L,m.length),E=r(A,h.digestLength,d);return"\0"+e.util.xorBytes(s,E,s.length)+A},t.decode_rsa_oaep=function(t,g,n){var i,s,h;"string"==typeof n?(i=n,s=arguments[3]||void 0):n&&(i=n.label||void 0,s=n.md||void 0,n.mgf1&&n.mgf1.md&&(h=n.mgf1.md));var d=Math.ceil(t.n.bitLength()/8);if(g.length!==d)throw(L=new Error("RSAES-OAEP encoded message length is invalid.")).length=g.length,L.expectedLength=d,L;if(void 0===s?s=e.md.sha1.create():s.start(),h||(h=s),d<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),s.update(i,"raw");for(var a=s.digest().getBytes(),o=g.charAt(0),l=g.substring(1,s.digestLength+1),u=g.substring(1+s.digestLength),v=r(u,s.digestLength,h),f=r(e.util.xorBytes(l,v,l.length),d-s.digestLength-1,h),m=e.util.xorBytes(u,f,u.length),c=m.substring(0,s.digestLength),L="\0"!==o,A=0;A<s.digestLength;++A)L|=a.charAt(A)!==c.charAt(A);for(var E=1,p=s.digestLength,w=s.digestLength;w<m.length;w++){var y=m.charCodeAt(w);L|=y&(E?65534:0),p+=E&=1&y^1}if(L||1!==m.charCodeAt(p))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(p+1)};
},{"./forge":"jo0T","./util":"V/zX","./random":"DEP9","./sha1":"z+NJ"}],"axfO":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./jsbn"),require("./random"),function(){if(e.prime)module.exports=e.prime;else{var r=module.exports=e.prime=e.prime||{},n=e.jsbn.BigInteger,t=[6,4,2,4,2,4,6,2],i=new n(null);i.fromInt(30);var o=function(e,r){return e|r};r.generateProbablePrime=function(r,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var u=t.prng||e.random,s={nextBytes:function(e){for(var r=u.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=r.charCodeAt(n)}};if("PRIMEINC"===o.name)return function(r,t,i,o){if("workers"in i)return function(r,t,i,o){if("undefined"==typeof Worker)return a(r,t,i,o);var u=f(r,t),s=i.workers,m=i.workLoad||100,l=30*m/8,d=i.workerScript||"forge/prime.worker.js";if(-1===s)return e.util.estimateCores(function(e,r){e&&(r=2),s=r-1,g()});function g(){s=Math.max(1,s);for(var e=[],i=0;i<s;++i)e[i]=new Worker(d);for(var i=0;i<s;++i)e[i].addEventListener("message",g);var a=!1;function g(i){if(!a){0;var s=i.data;if(s.found){for(var d=0;d<e.length;++d)e[d].terminate();return a=!0,o(null,new n(s.prime,16))}u.bitLength()>r&&(u=f(r,t));var g=u.toString(16);i.target.postMessage({hex:g,workLoad:m}),u.dAddOffset(l,0)}}}g()}(r,t,i,o);return a(r,t,i,o)}(r,s,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function a(r,n,i,o){var a=f(r,n),u=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in i&&(u=i.millerRabinTests);var s=10;"maxBlockTime"in i&&(s=i.maxBlockTime),function r(n,i,o,a,u,s,m){var l=+new Date;do{if(n.bitLength()>i&&(n=f(i,o)),n.isProbablePrime(u))return m(null,n);n.dAddOffset(t[a++%8],0)}while(s<0||+new Date-l<s);e.util.setImmediate(function(){r(n,i,o,a,u,s,m)})}(a,r,n,0,u,s,o)}function f(e,r){var t=new n(e,r),a=e-1;return t.testBit(a)||t.bitwiseTo(n.ONE.shiftLeft(a),o,t),t.dAddOffset(31-t.mod(i).byteValue(),0),t}}();
},{"./forge":"jo0T","./util":"V/zX","./jsbn":"Uxw/","./random":"DEP9"}],"tXBc":[function(require,module,exports) {
var e=require("./forge");if(require("./asn1"),require("./jsbn"),require("./oids"),require("./pkcs1"),require("./prime"),require("./random"),require("./util"),void 0===t)var t=e.jsbn.BigInteger;var r=e.asn1;e.pki=e.pki||{},module.exports=e.pki.rsa=e.rsa=e.rsa||{};var n=e.pki,a=[6,4,2,4,2,4,6,2],i={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},o={name:"RSAPrivateKey",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},s={name:"RSAPublicKey",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},u=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p=function(e){var t;if(!(e.algorithm in n.oids)){var a=new Error("Unknown message digest algorithm.");throw a.algorithm=e.algorithm,a}t=n.oids[e.algorithm];var i=r.oidToDer(t).getBytes(),o=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),s=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);s.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,i)),s.value.push(r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,""));var u=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,e.digest().getBytes());return o.value.push(s),o.value.push(u),r.toDer(o).getBytes()},l=function(r,n,a){if(a)return r.modPow(n.e,n.n);if(!n.p||!n.q)return r.modPow(n.d,n.n);var i;n.dP||(n.dP=n.d.mod(n.p.subtract(t.ONE))),n.dQ||(n.dQ=n.d.mod(n.q.subtract(t.ONE))),n.qInv||(n.qInv=n.q.modInverse(n.p));do{i=new t(e.util.bytesToHex(e.random.getBytes(n.n.bitLength()/8)),16)}while(i.compareTo(n.n)>=0||!i.gcd(n.n).equals(t.ONE));for(var o=(r=r.multiply(i.modPow(n.e,n.n)).mod(n.n)).mod(n.p).modPow(n.dP,n.p),s=r.mod(n.q).modPow(n.dQ,n.q);o.compareTo(s)<0;)o=o.add(n.p);var u=o.subtract(s).multiply(n.qInv).mod(n.p).multiply(n.q).add(s);return u=u.multiply(i.modInverse(n.n)).mod(n.n)};function c(t,r,n){var a=e.util.createBuffer(),i=Math.ceil(r.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}a.putByte(0),a.putByte(n);var s,u=i-3-t.length;if(0===n||1===n){s=0===n?0:255;for(var p=0;p<u;++p)a.putByte(s)}else for(;u>0;){var l=0,c=e.random.getBytes(u);for(p=0;p<u;++p)0===(s=c.charCodeAt(p))?++l:a.putByte(s);u=l}return a.putByte(0),a.putBytes(t),a}function y(t,r,n,a){var i=Math.ceil(r.n.bitLength()/8),o=e.util.createBuffer(t),s=o.getByte(),u=o.getByte();if(0!==s||n&&0!==u&&1!==u||!n&&2!=u||n&&0===u&&void 0===a)throw new Error("Encryption block is invalid.");var p=0;if(0===u){p=i-3-a;for(var l=0;l<p;++l)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(p=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++p}else if(2===u)for(p=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++p}if(0!==o.getByte()||p!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function f(r,a,i){"function"==typeof a&&(i=a,a={});var o={algorithm:{name:(a=a||{}).algorithm||"PRIMEINC",options:{workers:a.workers||2,workLoad:a.workLoad||100,workerScript:a.workerScript}}};function s(){u(r.pBits,function(e,t){return e?i(e):(r.p=t,null!==r.q?p(e,r.q):void u(r.qBits,p))})}function u(t,r){e.prime.generateProbablePrime(t,o,r)}function p(e,a){if(e)return i(e);if(r.q=a,r.p.compareTo(r.q)<0){var o=r.p;r.p=r.q,r.q=o}if(0!==r.p.subtract(t.ONE).gcd(r.e).compareTo(t.ONE))return r.p=null,void s();if(0!==r.q.subtract(t.ONE).gcd(r.e).compareTo(t.ONE))return r.q=null,void u(r.qBits,p);if(r.p1=r.p.subtract(t.ONE),r.q1=r.q.subtract(t.ONE),r.phi=r.p1.multiply(r.q1),0!==r.phi.gcd(r.e).compareTo(t.ONE))return r.p=r.q=null,void s();if(r.n=r.p.multiply(r.q),r.n.bitLength()!==r.bits)return r.q=null,void u(r.qBits,p);var l=r.e.modInverse(r.phi);r.keys={privateKey:n.rsa.setPrivateKey(r.n,r.e,l,r.p,r.q,l.mod(r.p1),l.mod(r.q1),r.q.modInverse(r.p)),publicKey:n.rsa.setPublicKey(r.n,r.e)},i(null,r.keys)}"prng"in a&&(o.prng=a.prng),s()}function E(t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=e.util.hexToBytes(r);return n.length>1&&(0===n.charCodeAt(0)&&0==(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128==(128&n.charCodeAt(1)))?n.substr(1):n}function d(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function v(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function S(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function m(t){for(var r=e.util.hexToBytes(t.toString(16)),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}function g(e){if("RSA"!==e.kty)throw new Error('Unsupported key algorithm "'+e.kty+'"; algorithm must be "RSA".');return n.setRsaPrivateKey(R(e.n),R(e.e),R(e.d),R(e.p),R(e.q),R(e.dp),R(e.dq),R(e.qi))}function N(e){if("RSA"!==e.kty)throw new Error('Key algorithm must be "RSA".');return n.setRsaPublicKey(R(e.n),R(e.e))}function R(r){return new t(e.util.bytesToHex(e.util.decode64(r)),16)}n.rsa.encrypt=function(r,n,a){var i,o=a,s=Math.ceil(n.n.bitLength()/8);!1!==a&&!0!==a?(o=2===a,i=c(r,n,a)):(i=e.util.createBuffer()).putBytes(r);for(var u=new t(i.toHex(),16),p=l(u,n,o).toString(16),y=e.util.createBuffer(),f=s-Math.ceil(p.length/2);f>0;)y.putByte(0),--f;return y.putBytes(e.util.hexToBytes(p)),y.getBytes()},n.rsa.decrypt=function(r,n,a,i){var o=Math.ceil(n.n.bitLength()/8);if(r.length!==o){var s=new Error("Encrypted message length is invalid.");throw s.length=r.length,s.expected=o,s}var u=new t(e.util.createBuffer(r).toHex(),16);if(u.compareTo(n.n)>=0)throw new Error("Encrypted message is invalid.");for(var p=l(u,n,a).toString(16),c=e.util.createBuffer(),f=o-Math.ceil(p.length/2);f>0;)c.putByte(0),--f;return c.putBytes(e.util.hexToBytes(p)),!1!==i?y(c.getBytes(),n,a):c.getBytes()},n.rsa.createKeyPairGenerationState=function(r,n,a){"string"==typeof r&&(r=parseInt(r,10)),r=r||2048;var i,o=(a=a||{}).prng||e.random,s={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=a.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(i={algorithm:u,state:0,bits:r,rng:s,eInt:n||65537,e:new t(null),p:null,q:null,qBits:r>>1,pBits:r-(r>>1),pqState:0,num:null,keys:null}).e.fromInt(i.eInt),i},n.rsa.stepKeyPairGenerationState=function(e,r){"algorithm"in e||(e.algorithm="PRIMEINC");var i=new t(null);i.fromInt(30);for(var o,s=0,u=function(e,t){return e|t},p=+new Date,l=0;null===e.keys&&(r<=0||l<r);){if(0===e.state){var c=null===e.p?e.pBits:e.qBits,y=c-1;0===e.pqState?(e.num=new t(c,e.rng),e.num.testBit(y)||e.num.bitwiseTo(t.ONE.shiftLeft(y),u,e.num),e.num.dAddOffset(31-e.num.mod(i).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(d(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(a[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(t.ONE).gcd(e.e).compareTo(t.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(t.ONE),e.q1=e.q.subtract(t.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(t.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:n.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:n.rsa.setPublicKey(e.n,e.e)}}l+=(o=+new Date)-p,p=o}return null!==e.keys},n.rsa.generateKeyPair=function(t,a,i,o){if(1===arguments.length?"object"==typeof t?(i=t,t=void 0):"function"==typeof t&&(o=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof a?(o=a,a=void 0):"number"!=typeof a&&(i=a,a=void 0):(i=t,o=a,t=void 0,a=void 0):3===arguments.length&&("number"==typeof a?"function"==typeof i&&(o=i,i=void 0):(o=i,i=a,a=void 0)),i=i||{},void 0===t&&(t=i.bits||2048),void 0===a&&(a=i.e||65537),!e.options.usePureJavaScript&&o&&t>=256&&t<=16384&&(65537===a||3===a)){if(v("generateKey")&&v("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:m(a),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){o(e)}).then(function(t){if(t){var a=n.privateKeyFromAsn1(r.fromDer(e.util.createBuffer(t)));o(null,{privateKey:a,publicKey:n.setRsaPublicKey(a.n,a.e)})}});if(S("generateKey")&&S("exportKey")){var s=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:m(a),hash:{name:"SHA-256"}},!0,["sign","verify"]);return s.oncomplete=function(t){var a=t.target.result,i=window.msCrypto.subtle.exportKey("pkcs8",a.privateKey);i.oncomplete=function(t){var a=t.target.result,i=n.privateKeyFromAsn1(r.fromDer(e.util.createBuffer(a)));o(null,{privateKey:i,publicKey:n.setRsaPublicKey(i.n,i.e)})},i.onerror=function(e){o(e)}},void(s.onerror=function(e){o(e)})}}var u=n.rsa.createKeyPairGenerationState(t,a,i);if(!o)return n.rsa.stepKeyPairGenerationState(u,0),u.keys;f(u,i,o)},n.setRsaPublicKey=n.rsa.setPublicKey=function(t,a){var i={n:t,e:a,encrypt:function(t,r,a){if("string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===r)r={encode:function(e,t,r){return c(e,t,2).getBytes()}};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={encode:function(t,r){return e.pkcs1.encode_rsa_oaep(r,t,a)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(r))r={encode:function(e){return e}};else if("string"==typeof r)throw new Error('Unsupported encryption scheme: "'+r+'".');var o=r.encode(t,i,!0);return n.rsa.encrypt(o,i,!0)},verify:function(e,t,a){"string"==typeof a?a=a.toUpperCase():void 0===a&&(a="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===a?a={verify:function(e,t){return t=y(t,i,!0),e===r.fromDer(t).value[1].value}}:"NONE"!==a&&"NULL"!==a&&null!==a||(a={verify:function(e,t){return e===(t=y(t,i,!0))}});var o=n.rsa.decrypt(t,i,!0,!1);return a.verify(e,o,i.n.bitLength())}};return i},n.setRsaPrivateKey=n.rsa.setPrivateKey=function(t,r,a,i,o,s,u,l){var c={n:t,e:r,d:a,p:i,q:o,dP:s,dQ:u,qInv:l,decrypt:function(t,r,a){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5");var i=n.rsa.decrypt(t,c,!1,!1);if("RSAES-PKCS1-V1_5"===r)r={decode:y};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={decode:function(t,r){return e.pkcs1.decode_rsa_oaep(r,t,a)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(r))throw new Error('Unsupported encryption scheme: "'+r+'".');r={decode:function(e){return e}}}return r.decode(i,c,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var a=t.encode(e,c.n.bitLength());return n.rsa.encrypt(a,c,r)}};return c},n.wrapRsaPrivateKey=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(0).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.oids.rsaEncryption).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(e).getBytes())])},n.privateKeyFromAsn1=function(a){var s,u,p,l,c,y,f,E,d={},v=[];if(r.validate(a,i,d,v)&&(a=r.fromDer(e.util.createBuffer(d.privateKey))),d={},v=[],!r.validate(a,o,d,v)){var S=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw S.errors=v,S}return s=e.util.createBuffer(d.privateKeyModulus).toHex(),u=e.util.createBuffer(d.privateKeyPublicExponent).toHex(),p=e.util.createBuffer(d.privateKeyPrivateExponent).toHex(),l=e.util.createBuffer(d.privateKeyPrime1).toHex(),c=e.util.createBuffer(d.privateKeyPrime2).toHex(),y=e.util.createBuffer(d.privateKeyExponent1).toHex(),f=e.util.createBuffer(d.privateKeyExponent2).toHex(),E=e.util.createBuffer(d.privateKeyCoefficient).toHex(),n.setRsaPrivateKey(new t(s,16),new t(u,16),new t(p,16),new t(l,16),new t(c,16),new t(y,16),new t(f,16),new t(E,16))},n.privateKeyToAsn1=n.privateKeyToRSAPrivateKey=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(0).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.n)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.e)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.d)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.p)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.q)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.dP)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.dQ)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.qInv))])},n.publicKeyFromAsn1=function(a){var i={},o=[];if(r.validate(a,u,i,o)){var p,l=r.derToOid(i.publicKeyOid);if(l!==n.oids.rsaEncryption)throw(p=new Error("Cannot read public key. Unknown OID.")).oid=l,p;a=i.rsaPublicKey}if(o=[],!r.validate(a,s,i,o))throw(p=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=o,p;var c=e.util.createBuffer(i.publicKeyModulus).toHex(),y=e.util.createBuffer(i.publicKeyExponent).toHex();return n.setRsaPublicKey(new t(c,16),new t(y,16))},n.publicKeyToAsn1=n.publicKeyToSubjectPublicKeyInfo=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.oids.rsaEncryption).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,[n.publicKeyToRSAPublicKey(e)])])},n.publicKeyToRSAPublicKey=function(e){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.n)),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,E(e.e))])};
},{"./forge":"jo0T","./asn1":"zryk","./jsbn":"Uxw/","./oids":"QA/b","./pkcs1":"gG+e","./prime":"axfO","./random":"DEP9","./util":"V/zX"}],"yYUg":[function(require,module,exports) {
var e=require("./forge");if(require("./aes"),require("./asn1"),require("./des"),require("./md"),require("./oids"),require("./pbkdf2"),require("./pem"),require("./random"),require("./rc2"),require("./rsa"),require("./util"),void 0===t)var t=e.jsbn.BigInteger;var r=e.asn1,a=e.pki=e.pki||{};module.exports=a.pbe=e.pbe=e.pbe||{};var s=a.oids,n={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},i={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};function p(e,t){return e.start().update(t).digest().getBytes()}function c(e){var t;if(e){if(!(t=a.oids[r.derToOid(e)])){var s=new Error("Unsupported PRF OID.");throw s.oid=e,s.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],s}}else t="hmacWithSHA1";return y(t)}function y(t){var r=e.md;switch(t){case"hmacWithSHA224":r=e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var a=new Error("Unsupported PRF algorithm.");throw a.algorithm=t,a.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],a}if(!(r&&t in r))throw new Error("Unknown hash algorithm: "+t);return r[t].create()}function E(t,s,n,i){var o=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,t),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.getBytes())]);return"hmacWithSHA1"!==i&&o.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,e.util.hexToBytes(n.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids[i]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),o}a.encryptPrivateKeyInfo=function(t,n,i){(i=i||{}).saltSize=i.saltSize||8,i.count=i.count||2048,i.algorithm=i.algorithm||"aes128",i.prfAlgorithm=i.prfAlgorithm||"sha1";var o,p,c,C=e.random.getBytesSync(i.saltSize),d=i.count,l=r.integerToDer(d);if(0===i.algorithm.indexOf("aes")||"des"===i.algorithm){var u,h,S;switch(i.algorithm){case"aes128":o=16,u=16,h=s["aes128-CBC"],S=e.aes.createEncryptionCipher;break;case"aes192":o=24,u=16,h=s["aes192-CBC"],S=e.aes.createEncryptionCipher;break;case"aes256":o=32,u=16,h=s["aes256-CBC"],S=e.aes.createEncryptionCipher;break;case"des":o=8,u=8,h=s.desCBC,S=e.des.createEncryptionCipher;break;default:throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=i.algorithm,T}var m="hmacWith"+i.prfAlgorithm.toUpperCase(),f=y(m),B=e.pkcs5.pbkdf2(n,C,d,o,f),g=e.random.getBytesSync(u);(v=S(B)).start(g),v.update(r.toDer(t)),v.finish(),c=v.output.getBytes();var A=E(C,l,o,m);p=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pkcs5PBKDF2).getBytes()),A]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,g)])])])}else{var T;if("3des"!==i.algorithm)throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=i.algorithm,T;o=24;var v,I=new e.util.ByteBuffer(C);B=a.pbe.generatePkcs12Key(n,I,1,d,o),g=a.pbe.generatePkcs12Key(n,I,2,d,o);(v=e.des.createEncryptionCipher(B)).start(g),v.update(r.toDer(t)),v.finish(),c=v.output.getBytes(),p=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,l.getBytes())])])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[p,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(t,s){var i=null,o={},p=[];if(!r.validate(t,n,o,p)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=p,c}var y=r.derToOid(o.encryptionOid),E=a.pbe.getCipher(y,o.encryptionParams,s),C=e.util.createBuffer(o.encryptedData);return E.update(C),E.finish()&&(i=r.fromDer(E.output)),i},a.encryptedPrivateKeyToPem=function(t,a){var s={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(t).getBytes()};return e.pem.encode(s,{maxline:a})},a.encryptedPrivateKeyFromPem=function(t){var a=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==a.type){var s=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return r.fromDer(a.body)},a.encryptRsaPrivateKey=function(t,s,n){if(!(n=n||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(t));return i=a.encryptPrivateKeyInfo(i,s,n),a.encryptedPrivateKeyToPem(i)}var o,p,c,y;switch(n.algorithm){case"aes128":o="AES-128-CBC",c=16,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,p=e.random.getBytesSync(8),y=e.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,p=e.random.getBytesSync(8),y=e.des.createEncryptionCipher;break;default:var E=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw E.algorithm=n.algorithm,E}var C=y(e.pbe.opensslDeriveBytes(s,p.substr(0,8),c));C.start(p),C.update(r.toDer(a.privateKeyToAsn1(t))),C.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:e.util.bytesToHex(p).toUpperCase()},body:C.output.getBytes()};return e.pem.encode(d)},a.decryptRsaPrivateKey=function(t,s){var n=null,i=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,p;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,p=e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,p=e.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,p=e.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,p=e.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,p=e.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,p=function(t){return e.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":o=8,p=function(t){return e.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":o=16,p=function(t){return e.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var y=e.util.hexToBytes(i.dekInfo.parameters),E=p(e.pbe.opensslDeriveBytes(s,y.substr(0,8),o));if(E.start(y),E.update(e.util.createBuffer(i.body)),!E.finish())return n;n=E.output.getBytes()}else n=i.body;return null!==(n="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(r.fromDer(n),s):r.fromDer(n))&&(n=a.privateKeyFromAsn1(n)),n},a.pbe.generatePkcs12Key=function(t,r,a,s,n,i){var o,p;if(null==i){if(!("sha1"in e.md))throw new Error('"sha1" hash algorithm unavailable.');i=e.md.sha1.create()}var c=i.digestLength,y=i.blockLength,E=new e.util.ByteBuffer,C=new e.util.ByteBuffer;if(null!=t){for(p=0;p<t.length;p++)C.putInt16(t.charCodeAt(p));C.putInt16(0)}var d=C.length(),l=r.length(),u=new e.util.ByteBuffer;u.fillWithByte(a,y);var h=y*Math.ceil(l/y),S=new e.util.ByteBuffer;for(p=0;p<h;p++)S.putByte(r.at(p%l));var m=y*Math.ceil(d/y),f=new e.util.ByteBuffer;for(p=0;p<m;p++)f.putByte(C.at(p%d));var B=S;B.putBuffer(f);for(var g=Math.ceil(n/c),A=1;A<=g;A++){var T=new e.util.ByteBuffer;T.putBytes(u.bytes()),T.putBytes(B.bytes());for(var v=0;v<s;v++)i.start(),i.update(T.getBytes()),T=i.digest();var I=new e.util.ByteBuffer;for(p=0;p<y;p++)I.putByte(T.at(p%c));var R=Math.ceil(l/y)+Math.ceil(d/y),N=new e.util.ByteBuffer;for(o=0;o<R;o++){var P=new e.util.ByteBuffer(B.getBytes(y)),b=511;for(p=I.length()-1;p>=0;p--)b>>=8,b+=I.at(p)+P.at(p),P.setAt(p,255&b);N.putBuffer(P)}B=N,E.putBuffer(T)}return E.truncate(E.length()-n),E},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var s=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw s.oid=e,s.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],s}},a.pbe.getCipherForPBES2=function(t,s,n){var o,p={},y=[];if(!r.validate(s,i,p,y))throw(o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=y,o;if((t=r.derToOid(p.kdfOid))!==a.oids.pkcs5PBKDF2)throw(o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,o.supportedOids=["pkcs5PBKDF2"],o;if((t=r.derToOid(p.encOid))!==a.oids["aes128-CBC"]&&t!==a.oids["aes192-CBC"]&&t!==a.oids["aes256-CBC"]&&t!==a.oids["des-EDE3-CBC"]&&t!==a.oids.desCBC)throw(o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o;var E,C,d=p.kdfSalt,l=e.util.createBuffer(p.kdfIterationCount);switch(l=l.getInt(l.length()<<3),a.oids[t]){case"aes128-CBC":E=16,C=e.aes.createDecryptionCipher;break;case"aes192-CBC":E=24,C=e.aes.createDecryptionCipher;break;case"aes256-CBC":E=32,C=e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":E=24,C=e.des.createDecryptionCipher;break;case"desCBC":E=8,C=e.des.createDecryptionCipher}var u=c(p.prfOid),h=e.pkcs5.pbkdf2(n,d,l,E,u),S=p.encIv,m=C(h);return m.start(S),m},a.pbe.getCipherForPKCS12PBE=function(t,s,n){var i={},p=[];if(!r.validate(s,o,i,p))throw(u=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=p,u;var y,E,C,d=e.util.createBuffer(i.salt),l=e.util.createBuffer(i.iterations);switch(l=l.getInt(l.length()<<3),t){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:y=24,E=8,C=e.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:y=5,E=8,C=function(t,r){var a=e.rc2.createDecryptionCipher(t,40);return a.start(r,null),a};break;default:var u;throw(u=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,u}var h=c(i.prfOid),S=a.pbe.generatePkcs12Key(n,d,1,l,y,h);return h.start(),C(S,a.pbe.generatePkcs12Key(n,d,2,l,E,h))},a.pbe.opensslDeriveBytes=function(t,r,a,s){if(null==s){if(!("md5"in e.md))throw new Error('"md5" hash algorithm unavailable.');s=e.md.md5.create()}null===r&&(r="");for(var n=[p(s,t+r)],i=16,o=1;i<a;++o,i+=16)n.push(p(s,n[o-1]+t+r));return n.join("").substr(0,a)};
},{"./forge":"jo0T","./aes":"M7sO","./asn1":"zryk","./des":"/s2H","./md":"Pz7H","./oids":"QA/b","./pbkdf2":"CyRr","./pem":"GGWf","./random":"DEP9","./rc2":"oIOP","./rsa":"tXBc","./util":"V/zX"}],"W7Yj":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./util");var t=e.asn1,a=module.exports=e.pkcs7asn1=e.pkcs7asn1||{};e.pkcs7=e.pkcs7||{},e.pkcs7.asn1=a;var s={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=s;var n={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},a.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)};var r={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[r]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};
},{"./forge":"jo0T","./asn1":"zryk","./util":"V/zX"}],"8D79":[function(require,module,exports) {
var e=require("./forge");require("./util"),e.mgf=e.mgf||{};var t=module.exports=e.mgf.mgf1=e.mgf1=e.mgf1||{};t.create=function(t){return{generate:function(r,u){for(var f=new e.util.ByteBuffer,g=Math.ceil(u/t.digestLength),n=0;n<g;n++){var a=new e.util.ByteBuffer;a.putInt32(n),t.start(),t.update(r+a.getBytes()),f.putBuffer(t.digest())}return f.truncate(f.length()-u),f.getBytes()}}};
},{"./forge":"jo0T","./util":"V/zX"}],"gTMN":[function(require,module,exports) {
var e=require("./forge");require("./mgf1"),module.exports=e.mgf=e.mgf||{},e.mgf.mgf1=e.mgf1;
},{"./forge":"jo0T","./mgf1":"8D79"}],"h9wD":[function(require,module,exports) {
var t=require("./forge");require("./random"),require("./util");var e=module.exports=t.pss=t.pss||{};e.create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var r,o=e.md,n=e.mgf,s=o.digestLength,a=e.salt||null;if("string"==typeof a&&(a=t.util.createBuffer(a)),"saltLength"in e)r=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");r=a.length()}if(null!==a&&a.length()!==r)throw new Error("Given salt length does not match length of given salt.");var i=e.prng||t.random,f={encode:function(e,f){var g,u,h=f-1,l=Math.ceil(h/8),d=e.digest().getBytes();if(l<s+r+2)throw new Error("Message is too long to encrypt.");u=null===a?i.getBytesSync(r):a.bytes();var c=new t.util.ByteBuffer;c.fillWithByte(0,8),c.putBytes(d),c.putBytes(u),o.start(),o.update(c.getBytes());var y=o.digest().getBytes(),B=new t.util.ByteBuffer;B.fillWithByte(0,l-r-s-2),B.putByte(1),B.putBytes(u);var C=B.getBytes(),p=l-s-1,v=n.generate(y,p),w="";for(g=0;g<p;g++)w+=String.fromCharCode(C.charCodeAt(g)^v.charCodeAt(g));var m=65280>>8*l-h&255;return(w=String.fromCharCode(w.charCodeAt(0)&~m)+w.substr(1))+y+String.fromCharCode(188)},verify:function(e,a,i){var f,g=i-1,u=Math.ceil(g/8);if(a=a.substr(-u),u<s+r+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(u-1))throw new Error("Encoded message does not end in 0xBC.");var h=u-s-1,l=a.substr(0,h),d=a.substr(h,s),c=65280>>8*u-g&255;if(0!=(l.charCodeAt(0)&c))throw new Error("Bits beyond keysize not zero as expected.");var y=n.generate(d,h),B="";for(f=0;f<h;f++)B+=String.fromCharCode(l.charCodeAt(f)^y.charCodeAt(f));B=String.fromCharCode(B.charCodeAt(0)&~c)+B.substr(1);var C=u-s-r-2;for(f=0;f<C;f++)if(0!==B.charCodeAt(f))throw new Error("Leftmost octets not zero as expected");if(1!==B.charCodeAt(C))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var p=B.substr(-r),v=new t.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(e),v.putBytes(p),o.start(),o.update(v.getBytes()),d===o.digest().getBytes()}};return f};
},{"./forge":"jo0T","./random":"DEP9","./util":"V/zX"}],"znFO":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./asn1"),require("./des"),require("./md"),require("./mgf"),require("./oids"),require("./pem"),require("./pss"),require("./rsa"),require("./util");var t=e.asn1,r=module.exports=e.pki=e.pki||{},a=r.oids,i={};i.CN=a.commonName,i.commonName="CN",i.C=a.countryName,i.countryName="C",i.L=a.localityName,i.localityName="L",i.ST=a.stateOrProvinceName,i.stateOrProvinceName="ST",i.O=a.organizationName,i.organizationName="O",i.OU=a.organizationalUnitName,i.organizationalUnitName="OU",i.E=a.emailAddress,i.emailAddress="E";var s=e.pki.rsa.publicKeyValidator,n={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},c={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function l(e,t){"string"==typeof t&&(t={shortName:t});for(var r,a=null,i=0;null===a&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?a=r:t.name&&t.name===r.name?a=r:t.shortName&&t.shortName===r.shortName&&(a=r);return a}r.RDNAttributesAsArray=function(e,r){for(var s,n,o,u=[],c=0;c<e.value.length;++c){s=e.value[c];for(var l=0;l<s.value.length;++l)o={},n=s.value[l],o.type=t.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in a&&(o.name=a[o.type],o.name in i&&(o.shortName=i[o.name])),r&&(r.update(o.type),r.update(o.value)),u.push(o)}return u},r.CRIAttributesAsArray=function(e){for(var s=[],n=0;n<e.length;++n)for(var o=e[n],u=t.derToOid(o.value[0].value),c=o.value[1].value,l=0;l<c.length;++l){var d={};if(d.type=u,d.value=c[l].value,d.valueTagClass=c[l].type,d.type in a&&(d.name=a[d.type],d.name in i&&(d.shortName=i[d.name])),d.type===a.extensionRequest){d.extensions=[];for(var f=0;f<d.value.length;++f)d.extensions.push(r.certificateExtensionFromAsn1(d.value[f]))}s.push(d)}return s};var d=function(e,r,i){var s={};if(e!==a["RSASSA-PSS"])return s;i&&(s={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var n={},u=[];if(!t.validate(r,o,n,u)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=u,c}return void 0!==n.hashOid&&(s.hash=s.hash||{},s.hash.algorithmOid=t.derToOid(n.hashOid)),void 0!==n.maskGenOid&&(s.mgf=s.mgf||{},s.mgf.algorithmOid=t.derToOid(n.maskGenOid),s.mgf.hash=s.mgf.hash||{},s.mgf.hash.algorithmOid=t.derToOid(n.maskGenHashOid)),void 0!==n.saltLength&&(s.saltLength=n.saltLength.charCodeAt(0)),s};function f(r){for(var a,i,s=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),n=r.attributes,o=0;o<n.length;++o){var u=(a=n[o]).value,c=t.Type.PRINTABLESTRING;"valueTagClass"in a&&(c=a.valueTagClass)===t.Type.UTF8&&(u=e.util.encodeUtf8(u)),i=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.type).getBytes()),t.create(t.Class.UNIVERSAL,c,!1,u)])]),s.value.push(i)}return s}function C(r){for(var a={},i=0;i<r.length;++i){var s=r[i];if(s.shortName&&(s.valueTagClass===t.Type.UTF8||s.valueTagClass===t.Type.PRINTABLESTRING||s.valueTagClass===t.Type.IA5STRING)){var n=s.value;s.valueTagClass===t.Type.UTF8&&(n=e.util.encodeUtf8(s.value)),s.shortName in a?e.util.isArray(a[s.shortName])?a[s.shortName].push(n):a[s.shortName]=[a[s.shortName],n]:a[s.shortName]=n}}return a}function p(e){for(var s,n=0;n<e.length;++n){if(void 0===(s=e[n]).name&&(s.type&&s.type in r.oids?s.name=r.oids[s.type]:s.shortName&&s.shortName in i&&(s.name=r.oids[i[s.shortName]])),void 0===s.type){if(!(s.name&&s.name in r.oids))throw(u=new Error("Attribute type not specified.")).attribute=s,u;s.type=r.oids[s.name]}if(void 0===s.shortName&&s.name&&s.name in i&&(s.shortName=i[s.name]),s.type===a.extensionRequest&&(s.valueConstructed=!0,s.valueTagClass=t.Type.SEQUENCE,!s.value&&s.extensions)){s.value=[];for(var o=0;o<s.extensions.length;++o)s.value.push(r.certificateExtensionToAsn1(m(s.extensions[o])))}var u;if(void 0===s.value)throw(u=new Error("Attribute value not specified.")).attribute=s,u}}function m(i,s){if(s=s||{},void 0===i.name&&i.id&&i.id in r.oids&&(i.name=r.oids[i.id]),void 0===i.id){if(!(i.name&&i.name in r.oids))throw(v=new Error("Extension ID not specified.")).extension=i,v;i.id=r.oids[i.name]}if(void 0!==i.value)return i;if("keyUsage"===i.name){var n=0,o=0,u=0;i.digitalSignature&&(o|=128,n=7),i.nonRepudiation&&(o|=64,n=6),i.keyEncipherment&&(o|=32,n=5),i.dataEncipherment&&(o|=16,n=4),i.keyAgreement&&(o|=8,n=3),i.keyCertSign&&(o|=4,n=2),i.cRLSign&&(o|=2,n=1),i.encipherOnly&&(o|=1,n=0),i.decipherOnly&&(u|=128,n=7);var c=String.fromCharCode(n);0!==u?c+=String.fromCharCode(o)+String.fromCharCode(u):0!==o&&(c+=String.fromCharCode(o)),i.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("basicConstraints"===i.name)i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),i.cA&&i.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in i&&i.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.pathLenConstraint).getBytes()));else if("extKeyUsage"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var l=i.value.value;for(var d in i)!0===i[d]&&(d in a?l.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a[d]).getBytes())):-1!==d.indexOf(".")&&l.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(d).getBytes())))}else if("nsCertType"===i.name){n=0,o=0;i.client&&(o|=128,n=7),i.server&&(o|=64,n=6),i.email&&(o|=32,n=5),i.objsign&&(o|=16,n=4),i.reserved&&(o|=8,n=3),i.sslCA&&(o|=4,n=2),i.emailCA&&(o|=2,n=1),i.objCA&&(o|=1,n=0);c=String.fromCharCode(n);0!==o&&(c+=String.fromCharCode(o)),i.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("subjectAltName"===i.name||"issuerAltName"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var C=0;C<i.altNames.length;++C){c=(E=i.altNames[C]).value;if(7===E.type&&E.ip){if(null===(c=e.util.bytesFromIP(E.ip)))throw(v=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=i,v}else 8===E.type&&(c=E.oid?t.oidToDer(t.oidToDer(E.oid)):t.oidToDer(c));i.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,E.type,!1,c))}}else if("subjectKeyIdentifier"===i.name&&s.cert){var p=s.cert.generateSubjectKeyIdentifier();i.subjectKeyIdentifier=p.toHex(),i.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===i.name&&s.cert){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);l=i.value.value;if(i.keyIdentifier){var m=!0===i.keyIdentifier?s.cert.generateSubjectKeyIdentifier().getBytes():i.keyIdentifier;l.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,m))}if(i.authorityCertIssuer){var h=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[f(!0===i.authorityCertIssuer?s.cert.issuer:i.authorityCertIssuer)])];l.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,h))}if(i.serialNumber){var g=e.util.hexToBytes(!0===i.serialNumber?s.cert.serialNumber:i.serialNumber);l.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if("cRLDistributionPoints"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);l=i.value.value;var E,y=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),T=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(C=0;C<i.altNames.length;++C){c=(E=i.altNames[C]).value;if(7===E.type&&E.ip){if(null===(c=e.util.bytesFromIP(E.ip)))throw(v=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=i,v}else 8===E.type&&(c=E.oid?t.oidToDer(t.oidToDer(E.oid)):t.oidToDer(c));T.value.push(t.create(t.Class.CONTEXT_SPECIFIC,E.type,!1,c))}y.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[T])),l.push(y)}var v;if(void 0===i.value)throw(v=new Error("Extension value not specified.")).extension=i,v;return i}function h(e,r){switch(e){case a["RSASSA-PSS"]:var i=[];return void 0!==r.hash.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),void 0!==r.mgf.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),void 0!==r.saltLength&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,i);default:return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}}function g(r){var a=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===r.attributes.length)return a;for(var i=r.attributes,s=0;s<i.length;++s){var n=i[s],o=n.value,u=t.Type.UTF8;"valueTagClass"in n&&(u=n.valueTagClass),u===t.Type.UTF8&&(o=e.util.encodeUtf8(o));var c=!1;"valueConstructed"in n&&(c=n.valueConstructed);var l=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,u,c,o)])]);a.value.push(l)}return a}r.certificateFromPem=function(a,i,s){var n=e.pem.decode(a)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=t.fromDer(n.body,s);return r.certificateFromAsn1(u,i)},r.certificateToPem=function(a,i){var s={type:"CERTIFICATE",body:t.toDer(r.certificateToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.publicKeyFromPem=function(a){var i=e.pem.decode(a)[0];if("PUBLIC KEY"!==i.type&&"RSA PUBLIC KEY"!==i.type){var s=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw s.headerType=i.type,s}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=t.fromDer(i.body);return r.publicKeyFromAsn1(n)},r.publicKeyToPem=function(a,i){var s={type:"PUBLIC KEY",body:t.toDer(r.publicKeyToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.publicKeyToRSAPublicKeyPem=function(a,i){var s={type:"RSA PUBLIC KEY",body:t.toDer(r.publicKeyToRSAPublicKey(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.getPublicKeyFingerprint=function(a,i){var s,n=(i=i||{}).md||e.md.sha1.create();switch(i.type||"RSAPublicKey"){case"RSAPublicKey":s=t.toDer(r.publicKeyToRSAPublicKey(a)).getBytes();break;case"SubjectPublicKeyInfo":s=t.toDer(r.publicKeyToAsn1(a)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+i.type+'".')}n.start(),n.update(s);var o=n.digest();if("hex"===i.encoding){var u=o.toHex();return i.delimiter?u.match(/.{2}/g).join(i.delimiter):u}if("binary"===i.encoding)return o.getBytes();if(i.encoding)throw new Error('Unknown encoding "'+i.encoding+'".');return o},r.certificationRequestFromPem=function(a,i,s){var n=e.pem.decode(a)[0];if("CERTIFICATE REQUEST"!==n.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=t.fromDer(n.body,s);return r.certificationRequestFromAsn1(u,i)},r.certificationRequestToPem=function(a,i){var s={type:"CERTIFICATE REQUEST",body:t.toDer(r.certificationRequestToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.createCertificate=function(){var i={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return i.siginfo.algorithmOid=null,i.validity={},i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.issuer={},i.issuer.getField=function(e){return l(i.issuer,e)},i.issuer.addField=function(e){p([e]),i.issuer.attributes.push(e)},i.issuer.attributes=[],i.issuer.hash=null,i.subject={},i.subject.getField=function(e){return l(i.subject,e)},i.subject.addField=function(e){p([e]),i.subject.attributes.push(e)},i.subject.attributes=[],i.subject.hash=null,i.extensions=[],i.publicKey=null,i.md=null,i.setSubject=function(e,t){p(e),i.subject.attributes=e,delete i.subject.uniqueId,t&&(i.subject.uniqueId=t),i.subject.hash=null},i.setIssuer=function(e,t){p(e),i.issuer.attributes=e,delete i.issuer.uniqueId,t&&(i.issuer.uniqueId=t),i.issuer.hash=null},i.setExtensions=function(e){for(var t=0;t<e.length;++t)m(e[t],{cert:i});i.extensions=e},i.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var t,r=null,a=0;null===r&&a<i.extensions.length;++a)t=i.extensions[a],e.id&&t.id===e.id?r=t:e.name&&t.name===e.name&&(r=t);return r},i.sign=function(s,n){i.md=n||e.md.sha1.create();var o=a[i.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=i.md.algorithm,u}i.signatureOid=i.siginfo.algorithmOid=o,i.tbsCertificate=r.getTBSCertificate(i);var c=t.toDer(i.tbsCertificate);i.md.update(c.getBytes()),i.signature=s.sign(i.md)},i.verify=function(s){var n=!1;if(!i.issued(s)){var o=s.issuer,u=i.subject;throw(m=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=o.attributes,m.actualIssuer=u.attributes,m}var c=s.md;if(null===c){if(s.signatureOid in a)switch(a[s.signatureOid]){case"sha1WithRSAEncryption":c=e.md.sha1.create();break;case"md5WithRSAEncryption":c=e.md.md5.create();break;case"sha256WithRSAEncryption":c=e.md.sha256.create();break;case"sha384WithRSAEncryption":c=e.md.sha384.create();break;case"sha512WithRSAEncryption":c=e.md.sha512.create();break;case"RSASSA-PSS":c=e.md.sha256.create()}if(null===c)throw(m=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=s.signatureOid,m;var l=s.tbsCertificate||r.getTBSCertificate(s),d=t.toDer(l);c.update(d.getBytes())}if(null!==c){var f;switch(s.signatureOid){case a.sha1WithRSAEncryption:f=void 0;break;case a["RSASSA-PSS"]:var C,p,m;if(void 0===(C=a[s.signatureParameters.mgf.hash.algorithmOid])||void 0===e.md[C])throw(m=new Error("Unsupported MGF hash function.")).oid=s.signatureParameters.mgf.hash.algorithmOid,m.name=C,m;if(void 0===(p=a[s.signatureParameters.mgf.algorithmOid])||void 0===e.mgf[p])throw(m=new Error("Unsupported MGF function.")).oid=s.signatureParameters.mgf.algorithmOid,m.name=p,m;if(p=e.mgf[p].create(e.md[C].create()),void 0===(C=a[s.signatureParameters.hash.algorithmOid])||void 0===e.md[C])throw{message:"Unsupported RSASSA-PSS hash function.",oid:s.signatureParameters.hash.algorithmOid,name:C};f=e.pss.create(e.md[C].create(),p,s.signatureParameters.saltLength)}n=i.publicKey.verify(c.digest().getBytes(),s.signature,f)}return n},i.isIssuer=function(e){var t=!1,r=i.issuer,a=e.subject;if(r.hash&&a.hash)t=r.hash===a.hash;else if(r.attributes.length===a.attributes.length){var s,n;t=!0;for(var o=0;t&&o<r.attributes.length;++o)s=r.attributes[o],n=a.attributes[o],s.type===n.type&&s.value===n.value||(t=!1)}return t},i.issued=function(e){return e.isIssuer(i)},i.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(i.publicKey,{type:"RSAPublicKey"})},i.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<i.extensions.length;++r){var s=i.extensions[r];if(s.id===t){var n=i.generateSubjectKeyIdentifier().getBytes();return e.util.hexToBytes(s.subjectKeyIdentifier)===n}}return!1},i},r.certificateFromAsn1=function(i,s){var o={},u=[];if(!t.validate(i,n,o,u))throw(m=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=u,m;if(t.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=r.createCertificate();c.version=o.certVersion?o.certVersion.charCodeAt(0):0;var f=e.util.createBuffer(o.certSerialNumber);c.serialNumber=f.toHex(),c.signatureOid=e.asn1.derToOid(o.certSignatureOid),c.signatureParameters=d(c.signatureOid,o.certSignatureParams,!0),c.siginfo.algorithmOid=e.asn1.derToOid(o.certinfoSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,o.certinfoSignatureParams,!1),c.signature=o.certSignature;var C=[];if(void 0!==o.certValidity1UTCTime&&C.push(t.utcTimeToDate(o.certValidity1UTCTime)),void 0!==o.certValidity2GeneralizedTime&&C.push(t.generalizedTimeToDate(o.certValidity2GeneralizedTime)),void 0!==o.certValidity3UTCTime&&C.push(t.utcTimeToDate(o.certValidity3UTCTime)),void 0!==o.certValidity4GeneralizedTime&&C.push(t.generalizedTimeToDate(o.certValidity4GeneralizedTime)),C.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(C.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=C[0],c.validity.notAfter=C[1],c.tbsCertificate=o.tbsCertificate,s){var m;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=e.md.sha1.create();break;case"md5WithRSAEncryption":c.md=e.md.md5.create();break;case"sha256WithRSAEncryption":c.md=e.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=e.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=e.md.sha512.create();break;case"RSASSA-PSS":c.md=e.md.sha256.create()}if(null===c.md)throw(m=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,m;var h=t.toDer(c.tbsCertificate);c.md.update(h.getBytes())}var g=e.md.sha1.create();c.issuer.getField=function(e){return l(c.issuer,e)},c.issuer.addField=function(e){p([e]),c.issuer.attributes.push(e)},c.issuer.attributes=r.RDNAttributesAsArray(o.certIssuer,g),o.certIssuerUniqueId&&(c.issuer.uniqueId=o.certIssuerUniqueId),c.issuer.hash=g.digest().toHex();var E=e.md.sha1.create();return c.subject.getField=function(e){return l(c.subject,e)},c.subject.addField=function(e){p([e]),c.subject.attributes.push(e)},c.subject.attributes=r.RDNAttributesAsArray(o.certSubject,E),o.certSubjectUniqueId&&(c.subject.uniqueId=o.certSubjectUniqueId),c.subject.hash=E.digest().toHex(),o.certExtensions?c.extensions=r.certificateExtensionsFromAsn1(o.certExtensions):c.extensions=[],c.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),c},r.certificateExtensionsFromAsn1=function(e){for(var t=[],a=0;a<e.value.length;++a)for(var i=e.value[a],s=0;s<i.value.length;++s)t.push(r.certificateExtensionFromAsn1(i.value[s]));return t},r.certificateExtensionFromAsn1=function(r){var i={};if(i.id=t.derToOid(r.value[0].value),i.critical=!1,r.value[1].type===t.Type.BOOLEAN?(i.critical=0!==r.value[1].value.charCodeAt(0),i.value=r.value[2].value):i.value=r.value[1].value,i.id in a)if(i.name=a[i.id],"keyUsage"===i.name){var s=0,n=0;(u=t.fromDer(i.value)).value.length>1&&(s=u.value.charCodeAt(1),n=u.value.length>2?u.value.charCodeAt(2):0),i.digitalSignature=128==(128&s),i.nonRepudiation=64==(64&s),i.keyEncipherment=32==(32&s),i.dataEncipherment=16==(16&s),i.keyAgreement=8==(8&s),i.keyCertSign=4==(4&s),i.cRLSign=2==(2&s),i.encipherOnly=1==(1&s),i.decipherOnly=128==(128&n)}else if("basicConstraints"===i.name){(u=t.fromDer(i.value)).value.length>0&&u.value[0].type===t.Type.BOOLEAN?i.cA=0!==u.value[0].value.charCodeAt(0):i.cA=!1;var o=null;u.value.length>0&&u.value[0].type===t.Type.INTEGER?o=u.value[0].value:u.value.length>1&&(o=u.value[1].value),null!==o&&(i.pathLenConstraint=t.derToInteger(o))}else if("extKeyUsage"===i.name)for(var u=t.fromDer(i.value),c=0;c<u.value.length;++c){var l=t.derToOid(u.value[c].value);l in a?i[a[l]]=!0:i[l]=!0}else if("nsCertType"===i.name){s=0;(u=t.fromDer(i.value)).value.length>1&&(s=u.value.charCodeAt(1)),i.client=128==(128&s),i.server=64==(64&s),i.email=32==(32&s),i.objsign=16==(16&s),i.reserved=8==(8&s),i.sslCA=4==(4&s),i.emailCA=2==(2&s),i.objCA=1==(1&s)}else if("subjectAltName"===i.name||"issuerAltName"===i.name){var d;i.altNames=[];u=t.fromDer(i.value);for(var f=0;f<u.value.length;++f){var C={type:(d=u.value[f]).type,value:d.value};switch(i.altNames.push(C),d.type){case 1:case 2:case 6:break;case 7:C.ip=e.util.bytesToIP(d.value);break;case 8:C.oid=t.derToOid(d.value)}}}else if("subjectKeyIdentifier"===i.name){u=t.fromDer(i.value);i.subjectKeyIdentifier=e.util.bytesToHex(u.value)}return i},r.certificationRequestFromAsn1=function(i,s){var n={},o=[];if(!t.validate(i,c,n,o))throw(f=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=o,f;if(t.derToOid(n.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=r.createCertificationRequest();if(u.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,u.signatureOid=e.asn1.derToOid(n.csrSignatureOid),u.signatureParameters=d(u.signatureOid,n.csrSignatureParams,!0),u.siginfo.algorithmOid=e.asn1.derToOid(n.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,n.csrSignatureParams,!1),u.signature=n.csrSignature,u.certificationRequestInfo=n.certificationRequestInfo,s){var f;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=e.md.sha1.create();break;case"md5WithRSAEncryption":u.md=e.md.md5.create();break;case"sha256WithRSAEncryption":u.md=e.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=e.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=e.md.sha512.create();break;case"RSASSA-PSS":u.md=e.md.sha256.create()}if(null===u.md)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,f;var C=t.toDer(u.certificationRequestInfo);u.md.update(C.getBytes())}var m=e.md.sha1.create();return u.subject.getField=function(e){return l(u.subject,e)},u.subject.addField=function(e){p([e]),u.subject.attributes.push(e)},u.subject.attributes=r.RDNAttributesAsArray(n.certificationRequestInfoSubject,m),u.subject.hash=m.digest().toHex(),u.publicKey=r.publicKeyFromAsn1(n.subjectPublicKeyInfo),u.getAttribute=function(e){return l(u,e)},u.addAttribute=function(e){p([e]),u.attributes.push(e)},u.attributes=r.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),u},r.createCertificationRequest=function(){var i={version:0,signatureOid:null,signature:null,siginfo:{}};return i.siginfo.algorithmOid=null,i.subject={},i.subject.getField=function(e){return l(i.subject,e)},i.subject.addField=function(e){p([e]),i.subject.attributes.push(e)},i.subject.attributes=[],i.subject.hash=null,i.publicKey=null,i.attributes=[],i.getAttribute=function(e){return l(i,e)},i.addAttribute=function(e){p([e]),i.attributes.push(e)},i.md=null,i.setSubject=function(e){p(e),i.subject.attributes=e,i.subject.hash=null},i.setAttributes=function(e){p(e),i.attributes=e},i.sign=function(s,n){i.md=n||e.md.sha1.create();var o=a[i.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=i.md.algorithm,u}i.signatureOid=i.siginfo.algorithmOid=o,i.certificationRequestInfo=r.getCertificationRequestInfo(i);var c=t.toDer(i.certificationRequestInfo);i.md.update(c.getBytes()),i.signature=s.sign(i.md)},i.verify=function(){var s=!1,n=i.md;if(null===n){if(i.signatureOid in a)switch(a[i.signatureOid]){case"sha1WithRSAEncryption":n=e.md.sha1.create();break;case"md5WithRSAEncryption":n=e.md.md5.create();break;case"sha256WithRSAEncryption":n=e.md.sha256.create();break;case"sha384WithRSAEncryption":n=e.md.sha384.create();break;case"sha512WithRSAEncryption":n=e.md.sha512.create();break;case"RSASSA-PSS":n=e.md.sha256.create()}if(null===n)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=i.signatureOid,f;var o=i.certificationRequestInfo||r.getCertificationRequestInfo(i),u=t.toDer(o);n.update(u.getBytes())}if(null!==n){var c;switch(i.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,d,f;if(void 0===(l=a[i.signatureParameters.mgf.hash.algorithmOid])||void 0===e.md[l])throw(f=new Error("Unsupported MGF hash function.")).oid=i.signatureParameters.mgf.hash.algorithmOid,f.name=l,f;if(void 0===(d=a[i.signatureParameters.mgf.algorithmOid])||void 0===e.mgf[d])throw(f=new Error("Unsupported MGF function.")).oid=i.signatureParameters.mgf.algorithmOid,f.name=d,f;if(d=e.mgf[d].create(e.md[l].create()),void 0===(l=a[i.signatureParameters.hash.algorithmOid])||void 0===e.md[l])throw(f=new Error("Unsupported RSASSA-PSS hash function.")).oid=i.signatureParameters.hash.algorithmOid,f.name=l,f;c=e.pss.create(e.md[l].create(),d,i.signatureParameters.saltLength)}s=i.publicKey.verify(n.digest().getBytes(),i.signature,c)}return s},i},r.getTBSCertificate=function(a){var i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(a.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(a.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.siginfo.algorithmOid).getBytes()),h(a.siginfo.algorithmOid,a.siginfo.parameters)]),f(a.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(a.validity.notBefore)),t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(a.validity.notAfter))]),f(a.subject),r.publicKeyToAsn1(a.publicKey)]);return a.issuer.uniqueId&&i.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+a.issuer.uniqueId)])),a.subject.uniqueId&&i.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+a.subject.uniqueId)])),a.extensions.length>0&&i.value.push(r.certificateExtensionsToAsn1(a.extensions)),i},r.getCertificationRequestInfo=function(e){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),f(e.subject),r.publicKeyToAsn1(e.publicKey),g(e)])},r.distinguishedNameToAsn1=function(e){return f(e)},r.certificateToAsn1=function(e){var a=e.tbsCertificate||r.getTBSCertificate(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),h(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.certificateExtensionsToAsn1=function(e){var a=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);a.value.push(i);for(var s=0;s<e.length;++s)i.value.push(r.certificateExtensionToAsn1(e[s]));return a},r.certificateExtensionToAsn1=function(e){var r=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.id).getBytes())),e.critical&&r.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255)));var a=e.value;return"string"!=typeof e.value&&(a=t.toDer(a).getBytes()),r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a)),r},r.certificationRequestToAsn1=function(e){var a=e.certificationRequestInfo||r.getCertificationRequestInfo(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),h(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.createCaStore=function(a){var i={certs:{}};function s(e){return n(e),i.certs[e.hash]||null}function n(t){if(!t.hash){var a=e.md.sha1.create();t.attributes=r.RDNAttributesAsArray(f(t),a),t.hash=a.digest().toHex()}}if(i.getIssuer=function(e){return s(e.issuer)},i.addCertificate=function(t){if("string"==typeof t&&(t=e.pki.certificateFromPem(t)),n(t.subject),!i.hasCertificate(t))if(t.subject.hash in i.certs){var r=i.certs[t.subject.hash];e.util.isArray(r)||(r=[r]),r.push(t),i.certs[t.subject.hash]=r}else i.certs[t.subject.hash]=t},i.hasCertificate=function(a){"string"==typeof a&&(a=e.pki.certificateFromPem(a));var i=s(a.subject);if(!i)return!1;e.util.isArray(i)||(i=[i]);for(var n=t.toDer(r.certificateToAsn1(a)).getBytes(),o=0;o<i.length;++o){if(n===t.toDer(r.certificateToAsn1(i[o])).getBytes())return!0}return!1},i.listAllCertificates=function(){var t=[];for(var r in i.certs)if(i.certs.hasOwnProperty(r)){var a=i.certs[r];if(e.util.isArray(a))for(var s=0;s<a.length;++s)t.push(a[s]);else t.push(a)}return t},i.removeCertificate=function(a){var o;if("string"==typeof a&&(a=e.pki.certificateFromPem(a)),n(a.subject),!i.hasCertificate(a))return null;var u=s(a.subject);if(!e.util.isArray(u))return o=i.certs[a.subject.hash],delete i.certs[a.subject.hash],o;for(var c=t.toDer(r.certificateToAsn1(a)).getBytes(),l=0;l<u.length;++l){c===t.toDer(r.certificateToAsn1(u[l])).getBytes()&&(o=u[l],u.splice(l,1))}return 0===u.length&&delete i.certs[a.subject.hash],o},a)for(var o=0;o<a.length;++o){var u=a[o];i.addCertificate(u)}return i},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(t,a,i){var s=(a=a.slice(0)).slice(0),n=new Date,o=!0,u=null,c=0;do{var l=a.shift(),d=null,f=!1;if((n<l.validity.notBefore||n>l.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:n}),null===u){if(null===(d=a[0]||t.getIssuer(l))&&l.isIssuer(l)&&(f=!0,d=l),d){var C=d;e.util.isArray(C)||(C=[C]);for(var p=!1;!p&&C.length>0;){d=C.shift();try{p=d.verify(l)}catch(S){}}p||(u={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}null!==u||d&&!f||t.hasCertificate(l)||(u={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(null===u&&d&&!l.isIssuer(d)&&(u={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),null===u)for(var m={keyUsage:!0,basicConstraints:!0},h=0;null===u&&h<l.extensions.length;++h){var g=l.extensions[h];!g.critical||g.name in m||(u={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(null===u&&(!o||0===a.length&&(!d||f))){var E=l.getExtension("basicConstraints"),y=l.getExtension("keyUsage");if(null!==y&&(y.keyCertSign&&null!==E||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate})),null!==u||null===E||E.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),null===u&&null!==y&&"pathLenConstraint"in E)c-1>E.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}var T=null===u||u.error,v=i?i(T,c,s):T;if(!0!==v)throw!0===T&&(u={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(v||0===v)&&("object"!=typeof v||e.util.isArray(v)?"string"==typeof v&&(u.error=v):(v.message&&(u.message=v.message),v.error&&(u.error=v.error))),u;u=null,o=!1,++c}while(a.length>0);return!0};
},{"./forge":"jo0T","./aes":"M7sO","./asn1":"zryk","./des":"/s2H","./md":"Pz7H","./mgf":"gTMN","./oids":"QA/b","./pem":"GGWf","./pss":"h9wD","./rsa":"tXBc","./util":"V/zX"}],"/pAa":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./hmac"),require("./oids"),require("./pkcs7asn1"),require("./pbe"),require("./random"),require("./rsa"),require("./sha1"),require("./util"),require("./x509");var a=e.asn1,t=e.pki,r=module.exports=e.pkcs12=e.pkcs12||{},s={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},o={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},n={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},l={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function i(e,a,t,r){for(var s=[],o=0;o<e.length;o++)for(var n=0;n<e[o].safeBags.length;n++){var c=e[o].safeBags[n];void 0!==r&&c.type!==r||(null!==a?void 0!==c.attributes[a]&&c.attributes[a].indexOf(t)>=0&&s.push(c):s.push(c))}return s}function C(a){if(a.composed||a.constructed){for(var t=e.util.createBuffer(),r=0;r<a.value.length;++r)t.putBytes(a.value[r].value);a.composed=a.constructed=!1,a.value=t.getBytes()}return a}function d(e,r,o,n){if((r=a.fromDer(r,o)).tagClass!==a.Class.UNIVERSAL||r.type!==a.Type.SEQUENCE||!0!==r.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var c=0;c<r.value.length;c++){var l=r.value[c],i={},d=[];if(!a.validate(l,s,i,d))throw(S=new Error("Cannot read ContentInfo.")).errors=d,S;var p={encrypted:!1},u=null,T=i.content.value[0];switch(a.derToOid(i.contentType)){case t.oids.data:if(T.tagClass!==a.Class.UNIVERSAL||T.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=C(T).value;break;case t.oids.encryptedData:u=E(T,n),p.encrypted=!0;break;default:var S;throw(S=new Error("Unsupported PKCS#12 contentType.")).contentType=a.derToOid(i.contentType),S}p.safeBags=y(u,o,n),e.safeContents.push(p)}}function E(r,s){var o={},n=[];if(!a.validate(r,e.pkcs7.asn1.encryptedDataValidator,o,n))throw(c=new Error("Cannot read EncryptedContentInfo.")).errors=n,c;var c,l=a.derToOid(o.contentType);if(l!==t.oids.data)throw(c=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=l,c;l=a.derToOid(o.encAlgorithm);var i=t.pbe.getCipher(l,o.encParameter,s),d=C(o.encryptedContentAsn1),E=e.util.createBuffer(d.value);if(i.update(E),!i.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return i.output.getBytes()}function y(e,r,s){if(!r&&0===e.length)return[];if((e=a.fromDer(e,r)).tagClass!==a.Class.UNIVERSAL||e.type!==a.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var o=[],c=0;c<e.value.length;c++){var i=e.value[c],C={},d=[];if(!a.validate(i,n,C,d))throw(S=new Error("Cannot read SafeBag.")).errors=d,S;var E,y,u={type:a.derToOid(C.bagId),attributes:p(C.bagAttributes)};o.push(u);var T=C.bagValue.value[0];switch(u.type){case t.oids.pkcs8ShroudedKeyBag:if(null===(T=t.decryptPrivateKeyInfo(T,s)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case t.oids.keyBag:try{u.key=t.privateKeyFromAsn1(T)}catch(I){u.key=null,u.asn1=T}continue;case t.oids.certBag:E=l,y=function(){if(a.derToOid(C.certId)!==t.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=a.derToOid(C.certId),e}var s=a.fromDer(C.cert,r);try{u.cert=t.certificateFromAsn1(s,!0)}catch(I){u.cert=null,u.asn1=s}};break;default:var S;throw(S=new Error("Unsupported PKCS#12 SafeBag type.")).oid=u.type,S}if(void 0!==E&&!a.validate(T,E,C,d))throw(S=new Error("Cannot read PKCS#12 "+E.name)).errors=d,S;y()}return o}function p(e){var r={};if(void 0!==e)for(var s=0;s<e.length;++s){var o={},n=[];if(!a.validate(e[s],c,o,n)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=n,l}var i=a.derToOid(o.oid);if(void 0!==t.oids[i]){r[t.oids[i]]=[];for(var C=0;C<o.values.length;++C)r[t.oids[i]].push(o.values[C].value)}}return r}r.pkcs12FromAsn1=function(s,n,c){"string"==typeof n?(c=n,n=!0):void 0===n&&(n=!0);var l={};if(!a.validate(s,o,l,[]))throw(E=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=E,E;var E,y={version:l.version.charCodeAt(0),safeContents:[],getBags:function(a){var t,r={};return"localKeyId"in a?t=a.localKeyId:"localKeyIdHex"in a&&(t=e.util.hexToBytes(a.localKeyIdHex)),void 0===t&&!("friendlyName"in a)&&"bagType"in a&&(r[a.bagType]=i(y.safeContents,null,null,a.bagType)),void 0!==t&&(r.localKeyId=i(y.safeContents,"localKeyId",t,a.bagType)),"friendlyName"in a&&(r.friendlyName=i(y.safeContents,"friendlyName",a.friendlyName,a.bagType)),r},getBagsByFriendlyName:function(e,a){return i(y.safeContents,"friendlyName",e,a)},getBagsByLocalKeyId:function(e,a){return i(y.safeContents,"localKeyId",e,a)}};if(3!==l.version.charCodeAt(0))throw(E=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=l.version.charCodeAt(0),E;if(a.derToOid(l.contentType)!==t.oids.data)throw(E=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=a.derToOid(l.contentType),E;var p=l.content.value[0];if(p.tagClass!==a.Class.UNIVERSAL||p.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(p=C(p),l.mac){var u=null,T=0,S=a.derToOid(l.macAlgorithm);switch(S){case t.oids.sha1:u=e.md.sha1.create(),T=20;break;case t.oids.sha256:u=e.md.sha256.create(),T=32;break;case t.oids.sha384:u=e.md.sha384.create(),T=48;break;case t.oids.sha512:u=e.md.sha512.create(),T=64;break;case t.oids.md5:u=e.md.md5.create(),T=16}if(null===u)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+S);var I=new e.util.ByteBuffer(l.macSalt),g="macIterations"in l?parseInt(e.util.bytesToHex(l.macIterations),16):1,N=r.generateKey(c,I,3,g,T,u),f=e.hmac.create();if(f.start(u,N),f.update(p.value),f.getMac().getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return d(y,p.value,n,c),y},r.toPkcs12Asn1=function(s,o,n,c){(c=c||{}).saltSize=c.saltSize||8,c.count=c.count||2048,c.algorithm=c.algorithm||c.encAlgorithm||"aes128","useMac"in c||(c.useMac=!0),"localKeyId"in c||(c.localKeyId=null),"generateLocalKeyId"in c||(c.generateLocalKeyId=!0);var l,i=c.localKeyId;if(null!==i)i=e.util.hexToBytes(i);else if(c.generateLocalKeyId)if(o){var C=e.util.isArray(o)?o[0]:o;"string"==typeof C&&(C=t.certificateFromPem(C)),(R=e.md.sha1.create()).update(a.toDer(t.certificateToAsn1(C)).getBytes()),i=R.digest().getBytes()}else i=e.random.getBytes(20);var d=[];null!==i&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,i)])])),"friendlyName"in c&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,c.friendlyName)])])),d.length>0&&(l=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,d));var E=[],y=[];null!==o&&(y=e.util.isArray(o)?o:[o]);for(var p=[],u=0;u<y.length;++u){"string"==typeof(o=y[u])&&(o=t.certificateFromPem(o));var T=0===u?l:void 0,S=t.certificateToAsn1(o),I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(S).getBytes())])])]),T]);p.push(I)}if(p.length>0){var g=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,p),N=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(g).getBytes())])]);E.push(N)}var f=null;if(null!==s){var m=t.wrapRsaPrivateKey(t.privateKeyToAsn1(s));f=null===n?a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[m]),l]):a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[t.encryptPrivateKeyInfo(m,n,c)]),l]);var v=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[f]),A=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(v).getBytes())])]);E.push(A)}var U,h=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,E);if(c.useMac){var R=e.md.sha1.create(),V=new e.util.ByteBuffer(e.random.getBytes(c.saltSize)),L=c.count,B=(s=r.generateKey(n,V,3,L,20),e.hmac.create());B.start(R,s),B.update(a.toDer(h).getBytes());var O=B.getMac();U=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,O.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(L).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(h).getBytes())])]),U])},r.generateKey=e.pbe.generatePkcs12Key;
},{"./forge":"jo0T","./asn1":"zryk","./hmac":"1Q5I","./oids":"QA/b","./pkcs7asn1":"W7Yj","./pbe":"yYUg","./random":"DEP9","./rsa":"tXBc","./sha1":"z+NJ","./util":"V/zX","./x509":"znFO"}],"8T0u":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./oids"),require("./pbe"),require("./pem"),require("./pbkdf2"),require("./pkcs12"),require("./pss"),require("./rsa"),require("./util"),require("./x509");var r=e.asn1,o=module.exports=e.pki=e.pki||{};o.pemToDer=function(r){var o=e.pem.decode(r)[0];if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(o.body)},o.privateKeyFromPem=function(t){var p=e.pem.decode(t)[0];if("PRIVATE KEY"!==p.type&&"RSA PRIVATE KEY"!==p.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=p.type,i}if(p.procType&&"ENCRYPTED"===p.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=r.fromDer(p.body);return o.privateKeyFromAsn1(n)},o.privateKeyToPem=function(t,p){var i={type:"RSA PRIVATE KEY",body:r.toDer(o.privateKeyToAsn1(t)).getBytes()};return e.pem.encode(i,{maxline:p})},o.privateKeyInfoToPem=function(o,t){var p={type:"PRIVATE KEY",body:r.toDer(o).getBytes()};return e.pem.encode(p,{maxline:t})};
},{"./forge":"jo0T","./asn1":"zryk","./oids":"QA/b","./pbe":"yYUg","./pem":"GGWf","./pbkdf2":"CyRr","./pkcs12":"/pAa","./pss":"h9wD","./rsa":"tXBc","./util":"V/zX","./x509":"znFO"}],"8xlg":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./hmac"),require("./md5"),require("./pem"),require("./pki"),require("./random"),require("./sha1"),require("./util");var t=function(t,r,n,i){var a=e.util.createBuffer(),s=t.length>>1,o=s+(1&t.length),c=t.substr(0,o),l=t.substr(s,o),u=e.util.createBuffer(),p=e.hmac.create();n=r+n;var d=Math.ceil(i/16),f=Math.ceil(i/20);p.start("MD5",c);var h=e.util.createBuffer();u.putBytes(n);for(var v=0;v<d;++v)p.start(null,null),p.update(u.getBytes()),u.putBuffer(p.digest()),p.start(null,null),p.update(u.bytes()+n),h.putBuffer(p.digest());p.start("SHA1",l);var g=e.util.createBuffer();u.clear(),u.putBytes(n);for(v=0;v<f;++v)p.start(null,null),p.update(u.getBytes()),u.putBuffer(p.digest()),p.start(null,null),p.update(u.bytes()+n),g.putBuffer(p.digest());return a.putBytes(e.util.xorBytes(h.getBytes(),g.getBytes(),i)),a},r=function(e,t,r,n){},n=function(t,r,n){var i=e.hmac.create();i.start("SHA1",t);var a=e.util.createBuffer();return a.putInt32(r[0]),a.putInt32(r[1]),a.putByte(n.type),a.putByte(n.version.major),a.putByte(n.version.minor),a.putInt16(n.length),a.putBytes(n.fragment.bytes()),i.update(a.getBytes()),i.digest().getBytes()},i=function(t,r,n){var i=!1;try{var a=t.deflate(r.fragment.getBytes());r.fragment=e.util.createBuffer(a),r.length=a.length,i=!0}catch(s){}return i},a=function(t,r,n){var i=!1;try{var a=t.inflate(r.fragment.getBytes());r.fragment=e.util.createBuffer(a),r.length=a.length,i=!0}catch(s){}return i},s=function(t,r){var n=0;switch(r){case 1:n=t.getByte();break;case 2:n=t.getInt16();break;case 3:n=t.getInt24();break;case 4:n=t.getInt32()}return e.util.createBuffer(t.getBytes(n))},o=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(e){var t=null;for(var r in c.CipherSuites){var n=c.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},c.handleUnexpected=function(e,t){!e.open&&e.entity===c.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(c.queue(e,c.createAlert(e,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(e)),e.process()},c.parseHelloMessage=function(t,r,n){var i=null,a=t.entity===c.ConnectionEnd.client;if(n<38)t.error(t,{message:a?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var o=r.fragment,l=o.length();if(i={version:{major:o.getByte(),minor:o.getByte()},random:e.util.createBuffer(o.getBytes(32)),session_id:s(o,1),extensions:[]},a?(i.cipher_suite=o.getBytes(2),i.compression_method=o.getByte()):(i.cipher_suites=s(o,2),i.compression_methods=s(o,1)),(l=n-(l-o.length()))>0){for(var u=s(o,2);u.length()>0;)i.extensions.push({type:[u.getByte(),u.getByte()],data:s(u,2)});if(!a)for(var p=0;p<i.extensions.length;++p){var d=i.extensions[p];if(0===d.type[0]&&0===d.type[1])for(var f=s(d.data,2);f.length()>0;){if(0!==f.getByte())break;t.session.extensions.server_name.serverNameList.push(s(f,2).getBytes())}}}if(t.session.version&&(i.version.major!==t.session.version.major||i.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(a)t.session.cipherSuite=c.getCipherSuite(i.cipher_suite);else for(var h=e.util.createBuffer(i.cipher_suites.bytes());h.length()>0&&(t.session.cipherSuite=c.getCipherSuite(h.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:e.util.bytesToHex(i.cipher_suite)});t.session.compressionMethod=a?i.compression_method:c.CompressionMethod.none}return i},c.createSecurityParameters=function(e,t){var r=e.entity===c.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:c.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}},c.handleServerHello=function(e,t,r){var n=c.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=h,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=u,e.session.resuming=!1,c.createSecurityParameters(e,n)),e.session.id=i,e.process()}},c.handleClientHello=function(t,r,n){var i=c.parseHelloMessage(t,r,n);if(!t.fail){var a=i.session_id.bytes(),s=null;if(t.sessionCache&&(null===(s=t.sessionCache.getSession(a))?a="":(s.version.major!==i.version.major||s.version.minor>i.version.minor)&&(s=null,a="")),0===a.length&&(a=e.random.getBytes(32)),t.session.id=a,t.session.clientHelloVersion=i.version,t.session.sp={},s)t.version=t.session.version=s.version,t.session.sp=s.sp;else{for(var o,l=1;l<c.SupportedVersions.length&&!((o=c.SupportedVersions[l]).minor<=i.version.minor);++l);t.version={major:o.major,minor:o.minor},t.session.version=t.version}null!==s?(t.expect=k,t.session.resuming=!0,t.session.sp.client_random=i.random.bytes()):(t.expect=!1!==t.verifyClient?_:C,t.session.resuming=!1,c.createSecurityParameters(t,i)),t.open=!0,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHello(t)})),t.session.resuming?(c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.pending=c.createConnectionState(t),t.state.current.write=t.state.pending.write,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)}))):(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)})),t.fail||(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerKeyExchange(t)})),!1!==t.verifyClient&&c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificateRequest(t)})),c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHelloDone(t)})))),c.flush(t),t.process()}},c.handleCertificate=function(t,r,n){if(n<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i,a,o=r.fragment,l={certificate_list:s(o,3)},u=[];try{for(;l.certificate_list.length()>0;)i=s(l.certificate_list,3),a=e.asn1.fromDer(i),i=e.pki.certificateFromAsn1(a,!0),u.push(i)}catch(f){return t.error(t,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var d=t.entity===c.ConnectionEnd.client;!d&&!0!==t.verifyClient||0!==u.length?0===u.length?t.expect=d?p:C:(d?t.session.serverCertificate=u[0]:t.session.clientCertificate=u[0],c.verifyCertificateChain(t,u)&&(t.expect=d?p:C)):t.error(t,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}),t.process()},c.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},c.handleClientKeyExchange=function(t,r,n){if(n<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var i=r.fragment,a={enc_pre_master_secret:s(i,2).getBytes()},o=null;if(t.getPrivateKey)try{o=t.getPrivateKey(t,t.session.serverCertificate),o=e.pki.privateKeyFromPem(o)}catch(p){t.error(t,{message:"Could not get private key.",cause:p,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===o)return t.error(t,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var l=t.session.sp;l.pre_master_secret=o.decrypt(a.enc_pre_master_secret);var u=t.session.clientHelloVersion;if(u.major!==l.pre_master_secret.charCodeAt(0)||u.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(p){l.pre_master_secret=e.random.getBytes(48)}t.expect=k,null!==t.session.clientCertificate&&(t.expect=B),t.process()},c.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:s(n,1),certificate_authorities:s(n,2)};e.session.certificateRequest=i,e.expect=f,e.process()},c.handleCertificateVerify=function(t,r,n){if(n<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i=r.fragment;i.read-=4;var a=i.bytes();i.read+=4;var o={signature:s(i,2).getBytes()},l=e.util.createBuffer();l.putBuffer(t.session.md5.digest()),l.putBuffer(t.session.sha1.digest()),l=l.getBytes();try{if(!t.session.clientCertificate.publicKey.verify(l,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(a),t.session.sha1.update(a)}catch(u){return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}t.expect=k,t.process()},c.handleServerHelloDone=function(t,r,n){if(n>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===t.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},a=t.verify(t,i.alert.description,0,[]);if(!0!==a)return(a||0===a)&&("object"!=typeof a||e.util.isArray(a)?"number"==typeof a&&(i.alert.description=a):(a.message&&(i.message=a.message),a.alert&&(i.alert.description=a.alert))),t.error(t,i)}null!==t.session.certificateRequest&&(r=c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)}),c.queue(t,r)),r=c.createRecord(t,{type:c.ContentType.handshake,data:c.createClientKeyExchange(t)}),c.queue(t,r),t.expect=y;var s=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateVerify(e,t)})),c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)})),e.expect=h,c.flush(e),e.process()};if(null===t.session.certificateRequest||null===t.session.clientCertificate)return s(t,null);c.getClientSignature(t,s)},c.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=e.entity===c.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=c.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?v:A,e.process()},c.handleFinished=function(r,n,i){var a=n.fragment;a.read-=4;var s=a.bytes();a.read+=4;var o=n.fragment.getBytes();(a=e.util.createBuffer()).putBuffer(r.session.md5.digest()),a.putBuffer(r.session.sha1.digest());var l=r.entity===c.ConnectionEnd.client,u=l?"server finished":"client finished",p=r.session.sp;if((a=t(p.master_secret,u,a.getBytes(),12)).getBytes()!==o)return r.error(r,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});r.session.md5.update(s),r.session.sha1.update(s),(r.session.resuming&&l||!r.session.resuming&&!l)&&(c.queue(r,c.createRecord(r,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),r.state.current.write=r.state.pending.write,r.state.pending=null,c.queue(r,c.createRecord(r,{type:c.ContentType.handshake,data:c.createFinished(r)}))),r.expect=l?g:b,r.handshaking=!1,++r.handshakes,r.peerCertificate=l?r.session.serverCertificate:r.session.clientCertificate,c.flush(r),r.isConnected=!0,r.connected(r),r.process()},c.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case c.Alert.Description.close_notify:r="Connection closed.";break;case c.Alert.Description.unexpected_message:r="Unexpected message.";break;case c.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case c.Alert.Description.decryption_failed:r="Decryption failed.";break;case c.Alert.Description.record_overflow:r="Record overflow.";break;case c.Alert.Description.decompression_failure:r="Decompression failed.";break;case c.Alert.Description.handshake_failure:r="Handshake failure.";break;case c.Alert.Description.bad_certificate:r="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case c.Alert.Description.certificate_expired:r="Certificate expired.";break;case c.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case c.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case c.Alert.Description.access_denied:r="Access denied.";break;case c.Alert.Description.decode_error:r="Decode error.";break;case c.Alert.Description.decrypt_error:r="Decrypt error.";break;case c.Alert.Description.export_restriction:r="Export restriction.";break;case c.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:r="Insufficient security.";break;case c.Alert.Description.internal_error:r="Internal error.";break;case c.Alert.Description.user_canceled:r="User canceled.";break;case c.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===c.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===c.ConnectionEnd.client?"server":"client",alert:i}),e.process()},c.handleHandshake=function(t,r){var n=r.fragment,i=n.getByte(),a=n.getInt24();if(a>n.length())return t.fragmented=r,r.fragment=e.util.createBuffer(),n.read-=4,t.process();t.fragmented=null,n.read-=4;var s=n.bytes(a+4);n.read+=4,i in K[t.entity][t.expect]?(t.entity!==c.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:e.md.md5.create(),sha1:e.md.sha1.create()}),i!==c.HandshakeType.hello_request&&i!==c.HandshakeType.certificate_verify&&i!==c.HandshakeType.finished&&(t.session.md5.update(s),t.session.sha1.update(s)),K[t.entity][t.expect][i](t,r,a)):c.handleUnexpected(t,r)},c.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},c.handleHeartbeat=function(t,r){var n=r.fragment,i=n.getByte(),a=n.getInt16(),s=n.getBytes(a);if(i===c.HeartbeatMessageType.heartbeat_request){if(t.handshaking||a>s.length)return t.process();c.queue(t,c.createRecord(t,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,s)})),c.flush(t)}else if(i===c.HeartbeatMessageType.heartbeat_response){if(s!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,e.util.createBuffer(s))}t.process()};var l=0,u=1,p=2,d=3,f=4,h=5,v=6,g=7,y=8,m=0,_=1,C=2,B=3,k=4,A=5,b=6,S=7,D=c.handleUnexpected,T=c.handleChangeCipherSpec,x=c.handleAlert,E=c.handleHandshake,w=c.handleApplicationData,R=c.handleHeartbeat,H=[];H[c.ConnectionEnd.client]=[[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[T,x,D,D,R],[D,x,E,D,R],[D,x,E,w,R],[D,x,E,D,R]],H[c.ConnectionEnd.server]=[[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[T,x,D,D,R],[D,x,E,D,R],[D,x,E,w,R],[D,x,E,D,R]];var q=c.handleHelloRequest,I=c.handleServerHello,L=c.handleCertificate,M=c.handleServerKeyExchange,j=c.handleCertificateRequest,F=c.handleServerHelloDone,V=c.handleFinished,K=[];K[c.ConnectionEnd.client]=[[D,D,I,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,L,M,j,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,M,j,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,j,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,V],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D]];var P=c.handleClientHello,N=c.handleClientKeyExchange,U=c.handleCertificateVerify;K[c.ConnectionEnd.server]=[[D,P,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,L,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,N,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,U,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,V],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D]],c.generateKeys=function(e,r){var n=t,i=r.client_random+r.server_random;e.session.resuming||(r.master_secret=n(r.pre_master_secret,"master secret",i,48).bytes(),r.pre_master_secret=null),i=r.server_random+r.client_random;var a=2*r.mac_key_length+2*r.enc_key_length,s=e.version.major===c.Versions.TLS_1_0.major&&e.version.minor===c.Versions.TLS_1_0.minor;s&&(a+=2*r.fixed_iv_length);var o=n(r.master_secret,"key expansion",i,a),l={client_write_MAC_key:o.getBytes(r.mac_key_length),server_write_MAC_key:o.getBytes(r.mac_key_length),client_write_key:o.getBytes(r.enc_key_length),server_write_key:o.getBytes(r.enc_key_length)};return s&&(l.client_write_IV=o.getBytes(r.fixed_iv_length),l.server_write_IV=o.getBytes(r.fixed_iv_length)),l},c.createConnectionState=function(e){var t=e.entity===c.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!e.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=c.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=i;break;default:throw new Error("Unsupported compression algorithm.")}}return n},c.createRandom=function(){var t=new Date,r=+t+6e4*t.getTimezoneOffset(),n=e.util.createBuffer();return n.putInt32(r),n.putBytes(e.random.getBytes(28)),n},c.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},c.createAlert=function(t,r){var n=e.util.createBuffer();return n.putByte(r.level),n.putByte(r.description),c.createRecord(t,{type:c.ContentType.alert,data:n})},c.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var r=e.util.createBuffer(),n=0;n<t.cipherSuites.length;++n){var i=t.cipherSuites[n];r.putByte(i.id[0]),r.putByte(i.id[1])}var a=r.length(),s=e.util.createBuffer();s.putByte(c.CompressionMethod.none);var l=s.length(),u=e.util.createBuffer();if(t.virtualHost){var p=e.util.createBuffer();p.putByte(0),p.putByte(0);var d=e.util.createBuffer();d.putByte(0),o(d,2,e.util.createBuffer(t.virtualHost));var f=e.util.createBuffer();o(f,2,d),o(p,2,f),u.putBuffer(p)}var h=u.length();h>0&&(h+=2);var v=t.session.id,g=v.length+1+2+4+28+2+a+1+l+h,y=e.util.createBuffer();return y.putByte(c.HandshakeType.client_hello),y.putInt24(g),y.putByte(t.version.major),y.putByte(t.version.minor),y.putBytes(t.session.sp.client_random),o(y,1,e.util.createBuffer(v)),o(y,2,r),o(y,1,s),h>0&&o(y,2,u),y},c.createServerHello=function(t){var r=t.session.id,n=r.length+1+2+4+28+2+1,i=e.util.createBuffer();return i.putByte(c.HandshakeType.server_hello),i.putInt24(n),i.putByte(t.version.major),i.putByte(t.version.minor),i.putBytes(t.session.sp.server_random),o(i,1,e.util.createBuffer(r)),i.putByte(t.session.cipherSuite.id[0]),i.putByte(t.session.cipherSuite.id[1]),i.putByte(t.session.compressionMethod),i},c.createCertificate=function(t){var r,n=t.entity===c.ConnectionEnd.client,i=null;t.getCertificate&&(r=n?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,i=t.getCertificate(t,r));var a=e.util.createBuffer();if(null!==i)try{e.util.isArray(i)||(i=[i]);for(var s=null,l=0;l<i.length;++l){var u=e.pem.decode(i[l])[0];if("CERTIFICATE"!==u.type&&"X509 CERTIFICATE"!==u.type&&"TRUSTED CERTIFICATE"!==u.type){var p=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw p.headerType=u.type,p}if(u.procType&&"ENCRYPTED"===u.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=e.util.createBuffer(u.body);null===s&&(s=e.asn1.fromDer(d.bytes(),!1));var f=e.util.createBuffer();o(f,3,d),a.putBuffer(f)}i=e.pki.certificateFromAsn1(s),n?t.session.clientCertificate=i:t.session.serverCertificate=i}catch(g){return t.error(t,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var h=3+a.length(),v=e.util.createBuffer();return v.putByte(c.HandshakeType.certificate),v.putInt24(h),o(v,3,a),v},c.createClientKeyExchange=function(t){var r=e.util.createBuffer();r.putByte(t.session.clientHelloVersion.major),r.putByte(t.session.clientHelloVersion.minor),r.putBytes(e.random.getBytes(46));var n=t.session.sp;n.pre_master_secret=r.getBytes();var i=(r=t.session.serverCertificate.publicKey.encrypt(n.pre_master_secret)).length+2,a=e.util.createBuffer();return a.putByte(c.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(r.length),a.putBytes(r),a},c.createServerKeyExchange=function(t){var r=e.util.createBuffer();return r},c.getClientSignature=function(t,r){var n=e.util.createBuffer();n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest()),n=n.getBytes(),t.getSignature=t.getSignature||function(t,r,n){var i=null;if(t.getPrivateKey)try{i=t.getPrivateKey(t,t.session.clientCertificate),i=e.pki.privateKeyFromPem(i)}catch(a){t.error(t,{message:"Could not get private key.",cause:a,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===i?t.error(t,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):r=i.sign(r,null),n(t,r)},t.getSignature(t,n,r)},c.createCertificateVerify=function(t,r){var n=r.length+2,i=e.util.createBuffer();return i.putByte(c.HandshakeType.certificate_verify),i.putInt24(n),i.putInt16(r.length),i.putBytes(r),i},c.createCertificateRequest=function(t){var r=e.util.createBuffer();r.putByte(1);var n=e.util.createBuffer();for(var i in t.caStore.certs){var a=t.caStore.certs[i],s=e.pki.distinguishedNameToAsn1(a.subject),l=e.asn1.toDer(s);n.putInt16(l.length()),n.putBuffer(l)}var u=1+r.length()+2+n.length(),p=e.util.createBuffer();return p.putByte(c.HandshakeType.certificate_request),p.putInt24(u),o(p,1,r),o(p,2,n),p},c.createServerHelloDone=function(t){var r=e.util.createBuffer();return r.putByte(c.HandshakeType.server_hello_done),r.putInt24(0),r},c.createChangeCipherSpec=function(){var t=e.util.createBuffer();return t.putByte(1),t},c.createFinished=function(r){var n=e.util.createBuffer();n.putBuffer(r.session.md5.digest()),n.putBuffer(r.session.sha1.digest());var i=r.entity===c.ConnectionEnd.client,a=r.session.sp,s=i?"client finished":"server finished";n=t(a.master_secret,s,n.getBytes(),12);var o=e.util.createBuffer();return o.putByte(c.HandshakeType.finished),o.putInt24(n.length()),o.putBuffer(n),o},c.createHeartbeat=function(t,r,n){void 0===n&&(n=r.length);var i=e.util.createBuffer();i.putByte(t),i.putInt16(n),i.putBytes(r);var a=i.length(),s=Math.max(16,a-n-3);return i.putBytes(e.random.getBytes(s)),i},c.queue=function(t,r){if(r&&(0!==r.fragment.length()||r.type!==c.ContentType.handshake&&r.type!==c.ContentType.alert&&r.type!==c.ContentType.change_cipher_spec)){if(r.type===c.ContentType.handshake){var n=r.fragment.bytes();t.session.md5.update(n),t.session.sha1.update(n),n=null}var i;if(r.fragment.length()<=c.MaxFragment)i=[r];else{i=[];for(var a=r.fragment.bytes();a.length>c.MaxFragment;)i.push(c.createRecord(t,{type:r.type,data:e.util.createBuffer(a.slice(0,c.MaxFragment))})),a=a.slice(c.MaxFragment);a.length>0&&i.push(c.createRecord(t,{type:r.type,data:e.util.createBuffer(a)}))}for(var s=0;s<i.length&&!t.fail;++s){var o=i[s];t.state.current.write.update(t,o)&&t.records.push(o)}}},c.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var O=function(t){switch(t){case!0:return!0;case e.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case e.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case e.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case e.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case e.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case e.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}},X=function(t){switch(t){case!0:return!0;case c.Alert.Description.bad_certificate:return e.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return e.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return e.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return e.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return e.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return e.pki.certificateError.unknown_ca;default:return e.pki.certificateError.bad_certificate}};for(var z in c.verifyCertificateChain=function(t,r){try{e.pki.verifyCertificateChain(t.caStore,r,function(r,n,i){O(r);var a=t.verify(t,r,n,i);if(!0!==a){if("object"==typeof a&&!e.util.isArray(a)){var s=new Error("The application rejected the certificate.");throw s.send=!0,s.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},a.message&&(s.message=a.message),a.alert&&(s.alert.description=a.alert),s}a!==r&&(a=X(a))}return a})}catch(i){var n=i;("object"!=typeof n||e.util.isArray(n))&&(n={send:!0,alert:{level:c.Alert.Level.fatal,description:O(i)}}),"send"in n||(n.send=!0),"alert"in n||(n.alert={level:c.Alert.Level.fatal,description:O(n.error)}),t.error(t,n)}return!t.fail},c.createSessionCache=function(t,r){var n=null;if(t&&t.getSession&&t.setSession&&t.order)n=t;else{for(var i in(n={}).cache=t||{},n.capacity=Math.max(r||100,1),n.order=[],t)n.order.length<=r?n.order.push(i):delete t[i];n.getSession=function(t){var r=null,i=null;if(t?i=e.util.bytesToHex(t):n.order.length>0&&(i=n.order[0]),null!==i&&i in n.cache)for(var a in r=n.cache[i],delete n.cache[i],n.order)if(n.order[a]===i){n.order.splice(a,1);break}return r},n.setSession=function(t,r){if(n.order.length===n.capacity){var i=n.order.shift();delete n.cache[i]}i=e.util.bytesToHex(t);n.order.push(i),n.cache[i]=r}}return n},c.createConnection=function(t){var r=null;r=t.caStore?e.util.isArray(t.caStore)?e.pki.createCaStore(t.caStore):t.caStore:e.pki.createCaStore();var n=t.cipherSuites||null;if(null===n)for(var i in n=[],c.CipherSuites)n.push(c.CipherSuites[i]);var a=t.server?c.ConnectionEnd.server:c.ConnectionEnd.client,s=t.sessionCache?c.createSessionCache(t.sessionCache):null,o={version:{major:c.Version.major,minor:c.Version.minor},entity:a,sessionId:t.sessionId,caStore:r,sessionCache:s,cipherSuites:n,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(e,t,r,n){return t},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:e.util.createBuffer(),tlsData:e.util.createBuffer(),data:e.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===c.ConnectionEnd.client?"client":"server"),r.send&&(c.queue(e,c.createAlert(e,r.alert)),c.flush(e));var n=!1!==r.fatal;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null,reset:function(e){o.version={major:c.Version.major,minor:c.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===c.ConnectionEnd.client?l:m,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||void 0===e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=c.createConnectionState(o)}};o.reset();return o.handshake=function(t){if(o.entity!==c.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var r=null;(t=t||"").length>0&&(o.sessionCache&&(r=o.sessionCache.getSession(t)),null===r&&(t="")),0===t.length&&o.sessionCache&&null!==(r=o.sessionCache.getSession())&&(t=r.id),o.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:e.md.md5.create(),sha1:e.md.sha1.create()},r&&(o.version=r.version,o.session.sp=r.sp),o.session.sp.client_random=c.createRandom().getBytes(),o.open=!0,c.queue(o,c.createRecord(o,{type:c.ContentType.handshake,data:c.createClientHello(o)})),c.flush(o)}},o.process=function(t){var r=0;return t&&o.input.putBytes(t),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(r=function(t){var r=0,n=t.input,i=n.length();if(i<5)r=5-i;else{t.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:e.util.createBuffer(),ready:!1};var a=t.record.version.major===t.version.major;a&&t.session&&t.session.version&&(a=t.record.version.minor===t.version.minor),a||t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return r}(o)),o.fail||null===o.record||o.record.ready||(r=function(e){var t=0,r=e.input,n=r.length();n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),e.record.ready=!0));return t}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(e,t){var r=t.type-c.ContentType.change_cipher_spec,n=H[e.entity][e.expect];r in n?n[r](e,t):c.handleUnexpected(e,t)}(o,o.record)),r},o.prepare=function(t){return c.queue(o,c.createRecord(o,{type:c.ContentType.application_data,data:e.util.createBuffer(t)})),c.flush(o)},o.prepareHeartbeatRequest=function(t,r){return t instanceof e.util.ByteBuffer&&(t=t.bytes()),void 0===r&&(r=t.length),o.expectedHeartbeatPayload=t,c.queue(o,c.createRecord(o,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,t,r)})),c.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,c.queue(o,c.createAlert(o,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(o)),o.closed(o)),o.reset(e)},o},module.exports=e.tls=e.tls||{},c)"function"!=typeof c[z]&&(e.tls[z]=c[z]);e.tls.prf_tls1=t,e.tls.hmac_sha1=n,e.tls.createSessionCache=c.createSessionCache,e.tls.createConnection=c.createConnection;
},{"./forge":"jo0T","./asn1":"zryk","./hmac":"1Q5I","./md5":"Qu+P","./pem":"GGWf","./pki":"8T0u","./random":"DEP9","./sha1":"z+NJ","./util":"V/zX"}],"ErHf":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./tls");var t=module.exports=e.tls;function r(r,n,a){var c=n.entity===e.tls.ConnectionEnd.client;r.read.cipherState={init:!1,cipher:e.cipher.createDecipher("AES-CBC",c?a.keys.server_write_key:a.keys.client_write_key),iv:c?a.keys.server_write_IV:a.keys.client_write_IV},r.write.cipherState={init:!1,cipher:e.cipher.createCipher("AES-CBC",c?a.keys.client_write_key:a.keys.server_write_key),iv:c?a.keys.client_write_IV:a.keys.server_write_IV},r.read.cipherFunction=_,r.write.cipherFunction=i,r.read.macLength=r.write.macLength=a.mac_length,r.read.macFunction=r.write.macFunction=t.hmac_sha1}function i(r,i){var a,c=!1,_=i.macFunction(i.macKey,i.sequenceNumber,r);r.fragment.putBytes(_),i.updateSequenceNumber(),a=r.version.minor===t.Versions.TLS_1_0.minor?i.cipherState.init?null:i.cipherState.iv:e.random.getBytesSync(16),i.cipherState.init=!0;var h=i.cipherState.cipher;return h.start({iv:a}),r.version.minor>=t.Versions.TLS_1_1.minor&&h.output.putBytes(a),h.update(r.fragment),h.finish(n)&&(r.fragment=h.output,r.length=r.fragment.length(),c=!0),c}function n(e,t,r){if(!r){var i=e-t.length()%e;t.fillWithByte(i-1,i)}return!0}function a(e,t,r){var i=!0;if(r){for(var n=t.length(),a=t.last(),c=n-1-a;c<n-1;++c)i=i&&t.at(c)==a;i&&t.truncate(a+1)}return i}t.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,e.cipher_type=t.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=t.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:r},t.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,e.cipher_type=t.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=t.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:r};var c=0;function _(r,i){var n,_=!1;++c,n=r.version.minor===t.Versions.TLS_1_0.minor?i.cipherState.init?null:i.cipherState.iv:r.fragment.getBytes(16),i.cipherState.init=!0;var u=i.cipherState.cipher;u.start({iv:n}),u.update(r.fragment),_=u.finish(a);var o=i.macLength,l=e.random.getBytesSync(o),m=u.output.length();m>=o?(r.fragment=u.output.getBytes(m-o),l=u.output.getBytes(o)):r.fragment=u.output.getBytes(),r.fragment=e.util.createBuffer(r.fragment),r.length=r.fragment.length();var s=i.macFunction(i.macKey,i.sequenceNumber,r);return i.updateSequenceNumber(),_=h(i.macKey,l,s)&&_}function h(t,r,i){var n=e.hmac.create();return n.start("SHA1",t),n.update(r),r=n.digest().getBytes(),n.start(null,null),n.update(i),r===(i=n.digest().getBytes())}
},{"./forge":"jo0T","./aes":"M7sO","./tls":"8xlg"}],"dv5d":[function(require,module,exports) {
var e=require("./forge");module.exports=e.debug=e.debug||{},e.debug.storage={},e.debug.get=function(g,d){var u;return void 0===g?u=e.debug.storage:g in e.debug.storage&&(u=void 0===d?e.debug.storage[g]:e.debug.storage[g][d]),u},e.debug.set=function(g,d,u){g in e.debug.storage||(e.debug.storage[g]={}),e.debug.storage[g][d]=u},e.debug.clear=function(g,d){void 0===g?e.debug.storage={}:g in e.debug.storage&&(void 0===d?delete e.debug.storage[g]:delete e.debug.storage[g][d])};
},{"./forge":"jo0T"}],"2kMy":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha512=e.sha512||{};e.md.sha512=e.md.algorithms.sha512=t;var a=e.sha384=e.sha512.sha384=e.sha512.sha384||{};a.create=function(){return t.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=a,e.sha512.sha256=e.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,t.create=function(t){if(s||l(),void 0===t&&(t="SHA-512"),!(t in h))throw new Error("Invalid SHA-512 algorithm: "+t);for(var a=h[t],n=null,u=e.util.createBuffer(),f=new Array(80),o=0;o<80;++o)f[o]=new Array(2);var i=64;switch(t){case"SHA-384":i=48;break;case"SHA-512/256":i=32;break;case"SHA-512/224":i=28}var c={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:i,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var t=c.messageLengthSize/4,r=0;r<t;++r)c.fullMessageLength.push(0);u=e.util.createBuffer(),n=new Array(a.length);for(r=0;r<a.length;++r)n[r]=a[r].slice(0);return c}};return c.start(),c.update=function(t,a){"utf8"===a&&(t=e.util.encodeUtf8(t));var r=t.length;c.messageLength+=r,r=[r/4294967296>>>0,r>>>0];for(var s=c.fullMessageLength.length-1;s>=0;--s)c.fullMessageLength[s]+=r[1],r[1]=r[0]+(c.fullMessageLength[s]/4294967296>>>0),c.fullMessageLength[s]=c.fullMessageLength[s]>>>0,r[0]=r[1]/4294967296>>>0;return u.putBytes(t),g(n,f,u),(u.read>2048||0===u.length())&&u.compact(),c},c.digest=function(){var a=e.util.createBuffer();a.putBytes(u.bytes());var s,h=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize&c.blockLength-1;a.putBytes(r.substr(0,c.blockLength-h));for(var l=8*c.fullMessageLength[0],o=0;o<c.fullMessageLength.length-1;++o)l+=(s=8*c.fullMessageLength[o+1])/4294967296>>>0,a.putInt32(l>>>0),l=s>>>0;a.putInt32(l);var i=new Array(n.length);for(o=0;o<n.length;++o)i[o]=n[o].slice(0);g(i,f,a);var m,L=e.util.createBuffer();m="SHA-512"===t?i.length:"SHA-384"===t?i.length-2:i.length-4;for(o=0;o<m;++o)L.putInt32(i[o][0]),o===m-1&&"SHA-512/224"===t||L.putInt32(i[o][1]);return L},c};var r=null,s=!1,n=null,h=null;function l(){r=String.fromCharCode(128),r+=e.util.fillString(String.fromCharCode(0),128),n=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(h={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],h["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],h["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],h["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0}function g(e,t,a){for(var r,s,h,l,g,u,f,o,i,c,m,L,S,d,A,v,H,M,p,w,y,b,B,I,k,C,q,z,x,E,U,j,D,F=a.length();F>=128;){for(q=0;q<16;++q)t[q][0]=a.getInt32()>>>0,t[q][1]=a.getInt32()>>>0;for(;q<80;++q)r=(((z=(E=t[q-2])[0])>>>19|(x=E[1])<<13)^(x>>>29|z<<3)^z>>>6)>>>0,s=((z<<13|x>>>19)^(x<<3|z>>>29)^(z<<26|x>>>6))>>>0,h=(((z=(j=t[q-15])[0])>>>1|(x=j[1])<<31)^(z>>>8|x<<24)^z>>>7)>>>0,l=((z<<31|x>>>1)^(z<<24|x>>>8)^(z<<25|x>>>7))>>>0,U=t[q-7],D=t[q-16],x=s+U[1]+l+D[1],t[q][0]=r+U[0]+h+D[0]+(x/4294967296>>>0)>>>0,t[q][1]=x>>>0;for(m=e[0][0],L=e[0][1],S=e[1][0],d=e[1][1],A=e[2][0],v=e[2][1],H=e[3][0],M=e[3][1],p=e[4][0],w=e[4][1],y=e[5][0],b=e[5][1],B=e[6][0],I=e[6][1],k=e[7][0],C=e[7][1],q=0;q<80;++q)f=((p>>>14|w<<18)^(p>>>18|w<<14)^(w>>>9|p<<23))>>>0,o=(B^p&(y^B))>>>0,g=((m>>>28|L<<4)^(L>>>2|m<<30)^(L>>>7|m<<25))>>>0,u=((m<<4|L>>>28)^(L<<30|m>>>2)^(L<<25|m>>>7))>>>0,i=(m&S|A&(m^S))>>>0,c=(L&d|v&(L^d))>>>0,x=C+(((p<<18|w>>>14)^(p<<14|w>>>18)^(w<<23|p>>>9))>>>0)+((I^w&(b^I))>>>0)+n[q][1]+t[q][1],r=k+f+o+n[q][0]+t[q][0]+(x/4294967296>>>0)>>>0,s=x>>>0,h=g+i+((x=u+c)/4294967296>>>0)>>>0,l=x>>>0,k=B,C=I,B=y,I=b,y=p,b=w,p=H+r+((x=M+s)/4294967296>>>0)>>>0,w=x>>>0,H=A,M=v,A=S,v=d,S=m,d=L,m=r+h+((x=s+l)/4294967296>>>0)>>>0,L=x>>>0;x=e[0][1]+L,e[0][0]=e[0][0]+m+(x/4294967296>>>0)>>>0,e[0][1]=x>>>0,x=e[1][1]+d,e[1][0]=e[1][0]+S+(x/4294967296>>>0)>>>0,e[1][1]=x>>>0,x=e[2][1]+v,e[2][0]=e[2][0]+A+(x/4294967296>>>0)>>>0,e[2][1]=x>>>0,x=e[3][1]+M,e[3][0]=e[3][0]+H+(x/4294967296>>>0)>>>0,e[3][1]=x>>>0,x=e[4][1]+w,e[4][0]=e[4][0]+p+(x/4294967296>>>0)>>>0,e[4][1]=x>>>0,x=e[5][1]+b,e[5][0]=e[5][0]+y+(x/4294967296>>>0)>>>0,e[5][1]=x>>>0,x=e[6][1]+I,e[6][0]=e[6][0]+B+(x/4294967296>>>0)>>>0,e[6][1]=x>>>0,x=e[7][1]+C,e[7][0]=e[7][0]+k+(x/4294967296>>>0)>>>0,e[7][1]=x>>>0,F-=128}}
},{"./forge":"jo0T","./md":"Pz7H","./util":"V/zX"}],"pe8u":[function(require,module,exports) {
var r=require("./forge");if(require("./jsbn"),require("./random"),require("./sha512"),require("./util"),void 0===n)var n=r.jsbn.BigInteger;var o=r.util.ByteBuffer,t="undefined"==typeof Buffer?Uint8Array:Buffer;r.pki=r.pki||{},module.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var e=r.ed25519;function a(r){var n=r.message;if(n instanceof Uint8Array)return n;var e=r.encoding;if(void 0===n){if(!r.md)throw new TypeError('"options.message" or "options.md" not specified.');n=r.md.digest().getBytes(),e="binary"}if("string"==typeof n&&!e)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof n){if("undefined"!=typeof Buffer)return new Buffer(n,e);n=new o(n,e)}else if(!(n instanceof o))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var a=new t(n.length()),f=0;f<a.length;++f)a[f]=n.at(f);return a}e.constants={},e.constants.PUBLIC_KEY_BYTE_LENGTH=32,e.constants.PRIVATE_KEY_BYTE_LENGTH=64,e.constants.SEED_BYTE_LENGTH=32,e.constants.SIGN_BYTE_LENGTH=64,e.constants.HASH_BYTE_LENGTH=64,e.generateKeyPair=function(n){var o=(n=n||{}).seed;if(void 0===o)o=r.random.getBytesSync(e.constants.SEED_BYTE_LENGTH);else if("string"==typeof o){if(o.length!==e.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+e.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(o instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');o=a({message:o,encoding:"binary"});for(var f=new t(e.constants.PUBLIC_KEY_BYTE_LENGTH),i=new t(e.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)i[s]=o[s];return y(f,i),{publicKey:f,privateKey:i}},e.publicKeyFromPrivateKey=function(r){var n=a({message:(r=r||{}).privateKey,encoding:"binary"});if(n.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);for(var o=new t(e.constants.PUBLIC_KEY_BYTE_LENGTH),f=0;f<o.length;++f)o[f]=n[32+f];return o},e.sign=function(r){var n=a(r=r||{}),o=a({message:r.privateKey,encoding:"binary"});if(o.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);var f=new t(e.constants.SIGN_BYTE_LENGTH+n.length);v(f,n,n.length,o);for(var i=new t(e.constants.SIGN_BYTE_LENGTH),s=0;s<i.length;++s)i[s]=f[s];return i},e.verify=function(r){var n=a(r=r||{});if(void 0===r.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var o=a({message:r.signature,encoding:"binary"});if(o.length!==e.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+e.constants.SIGN_BYTE_LENGTH);var f=a({message:r.publicKey,encoding:"binary"});if(f.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+e.constants.PUBLIC_KEY_BYTE_LENGTH);var i,s=new t(e.constants.SIGN_BYTE_LENGTH+n.length),u=new t(e.constants.SIGN_BYTE_LENGTH+n.length);for(i=0;i<e.constants.SIGN_BYTE_LENGTH;++i)s[i]=o[i];for(i=0;i<n.length;++i)s[i+e.constants.SIGN_BYTE_LENGTH]=n[i];return _(u,s,s.length,f)>=0};var f=C(),i=C([1]),s=C([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=C([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),E=C([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),c=C([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),l=C([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(n,a){var f=r.md.sha512.create(),i=new o(n);f.update(i.getBytes(a),"binary");const s=f.digest().getBytes();if("undefined"!=typeof Buffer)return new Buffer(s,"binary");for(var u=new t(e.constants.HASH_BYTE_LENGTH),E=0;E<64;++E)u[E]=s.charCodeAt(E);return u}function y(r,n){var o,t=[C(),C(),C(),C()],e=T(n,32);for(e[0]&=248,e[31]&=127,e[31]|=64,I(t,e),d(r,t),o=0;o<32;++o)n[o+32]=r[o];return 0}function v(r,n,o,t){var e,a,f=new Float64Array(64),i=[C(),C(),C(),C()],s=T(t,32);s[0]&=248,s[31]&=127,s[31]|=64;var u=o+64;for(e=0;e<o;++e)r[64+e]=n[e];for(e=0;e<32;++e)r[32+e]=s[32+e];var E=T(r.subarray(32),o+32);for(B(E),I(i,E),d(r,i),e=32;e<64;++e)r[e]=t[e];var c=T(r,o+64);for(B(c),e=32;e<64;++e)f[e]=0;for(e=0;e<32;++e)f[e]=E[e];for(e=0;e<32;++e)for(a=0;a<32;a++)f[e+a]+=c[e]*s[a];return g(r.subarray(32),f),u}function _(r,n,o,e){var a,f=new t(32),i=[C(),C(),C(),C()],s=[C(),C(),C(),C()];if(-1,o<64)return-1;if(G(s,e))return-1;for(a=0;a<o;++a)r[a]=n[a];for(a=0;a<32;++a)r[a+32]=e[a];var u=T(r,o);if(B(u),K(i,s,u),I(s,n.subarray(32)),p(i,s),d(f,i),o-=64,b(n,0,f,0)){for(a=0;a<o;++a)r[a]=0;return-1}for(a=0;a<o;++a)r[a]=n[a+64];return o}function g(r,n){var o,t,e,a;for(t=63;t>=32;--t){for(o=0,e=t-32,a=t-12;e<a;++e)n[e]+=o-16*n[t]*h[e-(t-32)],o=n[e]+128>>8,n[e]-=256*o;n[e]+=o,n[t]=0}for(o=0,e=0;e<32;++e)n[e]+=o-(n[31]>>4)*h[e],o=n[e]>>8,n[e]&=255;for(e=0;e<32;++e)n[e]-=o*h[e];for(t=0;t<32;++t)n[t+1]+=n[t]>>8,r[t]=255&n[t]}function B(r){for(var n=new Float64Array(64),o=0;o<64;++o)n[o]=r[o],r[o]=0;g(r,n)}function p(r,n){var o=C(),t=C(),e=C(),a=C(),f=C(),i=C(),s=C(),E=C(),c=C();V(o,r[1],r[0]),V(c,n[1],n[0]),q(o,o,c),R(t,r[0],r[1]),R(c,n[0],n[1]),q(t,t,c),q(e,r[3],n[3]),q(e,e,u),q(a,r[2],n[2]),R(a,a,a),V(f,t,o),V(i,a,e),R(s,a,e),R(E,t,o),q(r[0],f,i),q(r[1],E,s),q(r[2],s,i),q(r[3],f,E)}function w(r,n,o){for(var t=0;t<4;++t)U(r[t],n[t],o)}function d(r,n){var o=C(),t=C(),e=C();S(e,n[2]),q(o,n[0],e),q(t,n[1],e),Y(r,t),r[31]^=m(o)<<7}function Y(r,n){var o,t,e,a=C(),f=C();for(o=0;o<16;++o)f[o]=n[o];for(P(f),P(f),P(f),t=0;t<2;++t){for(a[0]=f[0]-65517,o=1;o<15;++o)a[o]=f[o]-65535-(a[o-1]>>16&1),a[o-1]&=65535;a[15]=f[15]-32767-(a[14]>>16&1),e=a[15]>>16&1,a[14]&=65535,U(f,a,1-e)}for(o=0;o<16;o++)r[2*o]=255&f[o],r[2*o+1]=f[o]>>8}function G(r,n){var o=C(),t=C(),e=C(),a=C(),u=C(),E=C(),c=C();return A(r[2],i),N(r[1],n),j(e,r[1]),q(a,e,s),V(e,e,r[2]),R(a,r[2],a),j(u,a),j(E,u),q(c,E,u),q(o,c,e),q(o,o,a),M(o,o),q(o,o,e),q(o,o,a),q(o,o,a),q(r[0],o,a),j(t,r[0]),q(t,t,a),L(t,e)&&q(r[0],r[0],l),j(t,r[0]),q(t,t,a),L(t,e)?-1:(m(r[0])===n[31]>>7&&V(r[0],f,r[0]),q(r[3],r[0],r[1]),0)}function N(r,n){var o;for(o=0;o<16;++o)r[o]=n[2*o]+(n[2*o+1]<<8);r[15]&=32767}function M(r,n){var o,t=C();for(o=0;o<16;++o)t[o]=n[o];for(o=250;o>=0;--o)j(t,t),1!==o&&q(t,t,n);for(o=0;o<16;++o)r[o]=t[o]}function L(r,n){var o=new t(32),e=new t(32);return Y(o,r),Y(e,n),b(o,0,e,0)}function b(r,n,o,t){return H(r,n,o,t,32)}function H(r,n,o,t,e){var a,f=0;for(a=0;a<e;++a)f|=r[n+a]^o[t+a];return(1&f-1>>>8)-1}function m(r){var n=new t(32);return Y(n,r),1&n[0]}function K(r,n,o){var t,e;for(A(r[0],f),A(r[1],i),A(r[2],i),A(r[3],f),e=255;e>=0;--e)w(r,n,t=o[e/8|0]>>(7&e)&1),p(n,r),p(r,r),w(r,n,t)}function I(r,n){var o=[C(),C(),C(),C()];A(o[0],E),A(o[1],c),A(o[2],i),q(o[3],E,c),K(r,o,n)}function A(r,n){var o;for(o=0;o<16;o++)r[o]=0|n[o]}function S(r,n){var o,t=C();for(o=0;o<16;++o)t[o]=n[o];for(o=253;o>=0;--o)j(t,t),2!==o&&4!==o&&q(t,t,n);for(o=0;o<16;++o)r[o]=t[o]}function P(r){var n,o,t=1;for(n=0;n<16;++n)o=r[n]+t+65535,t=Math.floor(o/65536),r[n]=o-65536*t;r[0]+=t-1+37*(t-1)}function U(r,n,o){for(var t,e=~(o-1),a=0;a<16;++a)t=e&(r[a]^n[a]),r[a]^=t,n[a]^=t}function C(r){var n,o=new Float64Array(16);if(r)for(n=0;n<r.length;++n)o[n]=r[n];return o}function R(r,n,o){for(var t=0;t<16;++t)r[t]=n[t]+o[t]}function V(r,n,o){for(var t=0;t<16;++t)r[t]=n[t]-o[t]}function j(r,n){q(r,n,n)}function q(r,n,o){var t,e,a=0,f=0,i=0,s=0,u=0,E=0,c=0,h=0,l=0,T=0,y=0,v=0,_=0,g=0,B=0,p=0,w=0,d=0,Y=0,G=0,N=0,M=0,L=0,b=0,H=0,m=0,K=0,I=0,A=0,S=0,P=0,U=o[0],C=o[1],R=o[2],V=o[3],j=o[4],q=o[5],F=o[6],D=o[7],k=o[8],x=o[9],z=o[10],J=o[11],O=o[12],Q=o[13],W=o[14],X=o[15];a+=(t=n[0])*U,f+=t*C,i+=t*R,s+=t*V,u+=t*j,E+=t*q,c+=t*F,h+=t*D,l+=t*k,T+=t*x,y+=t*z,v+=t*J,_+=t*O,g+=t*Q,B+=t*W,p+=t*X,f+=(t=n[1])*U,i+=t*C,s+=t*R,u+=t*V,E+=t*j,c+=t*q,h+=t*F,l+=t*D,T+=t*k,y+=t*x,v+=t*z,_+=t*J,g+=t*O,B+=t*Q,p+=t*W,w+=t*X,i+=(t=n[2])*U,s+=t*C,u+=t*R,E+=t*V,c+=t*j,h+=t*q,l+=t*F,T+=t*D,y+=t*k,v+=t*x,_+=t*z,g+=t*J,B+=t*O,p+=t*Q,w+=t*W,d+=t*X,s+=(t=n[3])*U,u+=t*C,E+=t*R,c+=t*V,h+=t*j,l+=t*q,T+=t*F,y+=t*D,v+=t*k,_+=t*x,g+=t*z,B+=t*J,p+=t*O,w+=t*Q,d+=t*W,Y+=t*X,u+=(t=n[4])*U,E+=t*C,c+=t*R,h+=t*V,l+=t*j,T+=t*q,y+=t*F,v+=t*D,_+=t*k,g+=t*x,B+=t*z,p+=t*J,w+=t*O,d+=t*Q,Y+=t*W,G+=t*X,E+=(t=n[5])*U,c+=t*C,h+=t*R,l+=t*V,T+=t*j,y+=t*q,v+=t*F,_+=t*D,g+=t*k,B+=t*x,p+=t*z,w+=t*J,d+=t*O,Y+=t*Q,G+=t*W,N+=t*X,c+=(t=n[6])*U,h+=t*C,l+=t*R,T+=t*V,y+=t*j,v+=t*q,_+=t*F,g+=t*D,B+=t*k,p+=t*x,w+=t*z,d+=t*J,Y+=t*O,G+=t*Q,N+=t*W,M+=t*X,h+=(t=n[7])*U,l+=t*C,T+=t*R,y+=t*V,v+=t*j,_+=t*q,g+=t*F,B+=t*D,p+=t*k,w+=t*x,d+=t*z,Y+=t*J,G+=t*O,N+=t*Q,M+=t*W,L+=t*X,l+=(t=n[8])*U,T+=t*C,y+=t*R,v+=t*V,_+=t*j,g+=t*q,B+=t*F,p+=t*D,w+=t*k,d+=t*x,Y+=t*z,G+=t*J,N+=t*O,M+=t*Q,L+=t*W,b+=t*X,T+=(t=n[9])*U,y+=t*C,v+=t*R,_+=t*V,g+=t*j,B+=t*q,p+=t*F,w+=t*D,d+=t*k,Y+=t*x,G+=t*z,N+=t*J,M+=t*O,L+=t*Q,b+=t*W,H+=t*X,y+=(t=n[10])*U,v+=t*C,_+=t*R,g+=t*V,B+=t*j,p+=t*q,w+=t*F,d+=t*D,Y+=t*k,G+=t*x,N+=t*z,M+=t*J,L+=t*O,b+=t*Q,H+=t*W,m+=t*X,v+=(t=n[11])*U,_+=t*C,g+=t*R,B+=t*V,p+=t*j,w+=t*q,d+=t*F,Y+=t*D,G+=t*k,N+=t*x,M+=t*z,L+=t*J,b+=t*O,H+=t*Q,m+=t*W,K+=t*X,_+=(t=n[12])*U,g+=t*C,B+=t*R,p+=t*V,w+=t*j,d+=t*q,Y+=t*F,G+=t*D,N+=t*k,M+=t*x,L+=t*z,b+=t*J,H+=t*O,m+=t*Q,K+=t*W,I+=t*X,g+=(t=n[13])*U,B+=t*C,p+=t*R,w+=t*V,d+=t*j,Y+=t*q,G+=t*F,N+=t*D,M+=t*k,L+=t*x,b+=t*z,H+=t*J,m+=t*O,K+=t*Q,I+=t*W,A+=t*X,B+=(t=n[14])*U,p+=t*C,w+=t*R,d+=t*V,Y+=t*j,G+=t*q,N+=t*F,M+=t*D,L+=t*k,b+=t*x,H+=t*z,m+=t*J,K+=t*O,I+=t*Q,A+=t*W,S+=t*X,p+=(t=n[15])*U,f+=38*(d+=t*R),i+=38*(Y+=t*V),s+=38*(G+=t*j),u+=38*(N+=t*q),E+=38*(M+=t*F),c+=38*(L+=t*D),h+=38*(b+=t*k),l+=38*(H+=t*x),T+=38*(m+=t*z),y+=38*(K+=t*J),v+=38*(I+=t*O),_+=38*(A+=t*Q),g+=38*(S+=t*W),B+=38*(P+=t*X),a=(t=(a+=38*(w+=t*C))+(e=1)+65535)-65536*(e=Math.floor(t/65536)),f=(t=f+e+65535)-65536*(e=Math.floor(t/65536)),i=(t=i+e+65535)-65536*(e=Math.floor(t/65536)),s=(t=s+e+65535)-65536*(e=Math.floor(t/65536)),u=(t=u+e+65535)-65536*(e=Math.floor(t/65536)),E=(t=E+e+65535)-65536*(e=Math.floor(t/65536)),c=(t=c+e+65535)-65536*(e=Math.floor(t/65536)),h=(t=h+e+65535)-65536*(e=Math.floor(t/65536)),l=(t=l+e+65535)-65536*(e=Math.floor(t/65536)),T=(t=T+e+65535)-65536*(e=Math.floor(t/65536)),y=(t=y+e+65535)-65536*(e=Math.floor(t/65536)),v=(t=v+e+65535)-65536*(e=Math.floor(t/65536)),_=(t=_+e+65535)-65536*(e=Math.floor(t/65536)),g=(t=g+e+65535)-65536*(e=Math.floor(t/65536)),B=(t=B+e+65535)-65536*(e=Math.floor(t/65536)),p=(t=p+e+65535)-65536*(e=Math.floor(t/65536)),a=(t=(a+=e-1+37*(e-1))+(e=1)+65535)-65536*(e=Math.floor(t/65536)),f=(t=f+e+65535)-65536*(e=Math.floor(t/65536)),i=(t=i+e+65535)-65536*(e=Math.floor(t/65536)),s=(t=s+e+65535)-65536*(e=Math.floor(t/65536)),u=(t=u+e+65535)-65536*(e=Math.floor(t/65536)),E=(t=E+e+65535)-65536*(e=Math.floor(t/65536)),c=(t=c+e+65535)-65536*(e=Math.floor(t/65536)),h=(t=h+e+65535)-65536*(e=Math.floor(t/65536)),l=(t=l+e+65535)-65536*(e=Math.floor(t/65536)),T=(t=T+e+65535)-65536*(e=Math.floor(t/65536)),y=(t=y+e+65535)-65536*(e=Math.floor(t/65536)),v=(t=v+e+65535)-65536*(e=Math.floor(t/65536)),_=(t=_+e+65535)-65536*(e=Math.floor(t/65536)),g=(t=g+e+65535)-65536*(e=Math.floor(t/65536)),B=(t=B+e+65535)-65536*(e=Math.floor(t/65536)),p=(t=p+e+65535)-65536*(e=Math.floor(t/65536)),a+=e-1+37*(e-1),r[0]=a,r[1]=f,r[2]=i,r[3]=s,r[4]=u,r[5]=E,r[6]=c,r[7]=h,r[8]=l,r[9]=T,r[10]=y,r[11]=v,r[12]=_,r[13]=g,r[14]=B,r[15]=p}
},{"./forge":"jo0T","./jsbn":"Uxw/","./random":"DEP9","./sha512":"2kMy","./util":"V/zX"}],"KF6y":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./random"),require("./jsbn"),module.exports=e.kem=e.kem||{};var t=e.jsbn.BigInteger;function r(t,r,n,i){t.generate=function(t,u){for(var a=new e.util.ByteBuffer,g=Math.ceil(u/i)+n,o=new e.util.ByteBuffer,s=n;s<g;++s){o.putInt32(s),r.start(),r.update(t+o.getBytes());var c=r.digest();a.putBytes(c.getBytes(i))}return a.truncate(a.length()-u),a.getBytes()}}e.kem.rsa={},e.kem.rsa.create=function(r,n){var i=(n=n||{}).prng||e.random,u={encrypt:function(n,u){var a,g=Math.ceil(n.n.bitLength()/8);do{a=new t(e.util.bytesToHex(i.getBytesSync(g)),16).mod(n.n)}while(a.equals(t.ZERO));var o=g-(a=e.util.hexToBytes(a.toString(16))).length;return o>0&&(a=e.util.fillString(String.fromCharCode(0),o)+a),{encapsulation:n.encrypt(a,"NONE"),key:r.generate(a,u)}},decrypt:function(e,t,n){var i=e.decrypt(t,"NONE");return r.generate(i,n)}};return u},e.kem.kdf1=function(e,t){r(this,e,0,t||e.digestLength)},e.kem.kdf2=function(e,t){r(this,e,1,t||e.digestLength)};
},{"./forge":"jo0T","./util":"V/zX","./random":"DEP9","./jsbn":"Uxw/"}],"jYop":[function(require,module,exports) {
var e=require("./forge");require("./util"),module.exports=e.log=e.log||{},e.log.levels=["none","error","warning","info","debug","verbose","max"];var l={},o=[],n=null;e.log.LEVEL_LOCKED=2,e.log.NO_LEVEL_CHECK=4,e.log.INTERPOLATE=8;for(var r=0;r<e.log.levels.length;++r){var a=e.log.levels[r];l[a]={index:r,name:a.toUpperCase()}}e.log.logMessage=function(n){for(var r=l[n.level].index,a=0;a<o.length;++a){var g=o[a];if(g.flags&e.log.NO_LEVEL_CHECK)g.f(n);else r<=l[g.level].index&&g.f(g,n)}},e.log.prepareStandard=function(e){"standard"in e||(e.standard=l[e.level].name+" ["+e.category+"] "+e.message)},e.log.prepareFull=function(l){if(!("full"in l)){var o=[l.message];o=o.concat([]||l.arguments),l.full=e.util.format.apply(this,o)}},e.log.prepareStandardFull=function(l){"standardFull"in l||(e.log.prepareStandard(l),l.standardFull=l.standard)};var g=["error","warning","info","debug","verbose"];for(r=0;r<g.length;++r)!function(l){e.log[l]=function(o,n){var r=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:l,category:o,message:n,arguments:r};e.log.logMessage(a)}}(g[r]);if(e.log.makeLogger=function(l){var o={flags:0,f:l};return e.log.setLevel(o,"none"),o},e.log.setLevel=function(l,o){var n=!1;if(l&&!(l.flags&e.log.LEVEL_LOCKED))for(var r=0;r<e.log.levels.length;++r){if(o==e.log.levels[r]){l.level=o,n=!0;break}}return n},e.log.lock=function(l,o){void 0===o||o?l.flags|=e.log.LEVEL_LOCKED:l.flags&=~e.log.LEVEL_LOCKED},e.log.addLogger=function(e){o.push(e)},"undefined"!=typeof console&&"log"in console){var s;if(console.error&&console.warn&&console.info&&console.debug){var t={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},i=function(l,o){e.log.prepareStandard(o);var n=t[o.level],r=[o.standard];r=r.concat(o.arguments.slice()),n.apply(console,r)};s=e.log.makeLogger(i)}else{i=function(l,o){e.log.prepareStandardFull(o),console.log(o.standardFull)};s=e.log.makeLogger(i)}e.log.setLevel(s,"debug"),e.log.addLogger(s),n=s}else console={log:function(){}};if(null!==n){var c=e.util.getQueryVariables();if("console.level"in c&&e.log.setLevel(n,c["console.level"].slice(-1)[0]),"console.lock"in c){var u=c["console.lock"].slice(-1)[0];"true"==u&&e.log.lock(n)}}e.log.consoleLogger=n;
},{"./forge":"jo0T","./util":"V/zX"}],"1/wb":[function(require,module,exports) {
module.exports=require("./md"),require("./md5"),require("./sha1"),require("./sha256"),require("./sha512");
},{"./md":"Pz7H","./md5":"Qu+P","./sha1":"z+NJ","./sha256":"1pxz","./sha512":"2kMy"}],"Q2t7":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./asn1"),require("./des"),require("./oids"),require("./pem"),require("./pkcs7asn1"),require("./random"),require("./util"),require("./x509");var t=e.asn1,r=module.exports=e.pkcs7=e.pkcs7||{};function n(n){var i={},a=[];if(!t.validate(n,r.asn1.recipientInfoValidator,i,a)){var s=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw s.errors=a,s}return{version:i.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(i.issuer),serialNumber:e.util.createBuffer(i.serial).toHex(),encryptedContent:{algorithm:t.derToOid(i.encAlgorithm),parameter:i.encParameter.value,content:i.encKey}}}function i(r){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.encryptedContent.content)])}function a(e){for(var t=[],r=0;r<e.length;++r)t.push(n(e[r]));return t}function s(e){for(var t=[],r=0;r<e.length;++r)t.push(i(e[r]));return t}function o(n){var i={},a=[];if(!t.validate(n,r.asn1.signerInfoValidator,i,a)){var s=new Error("Cannot read PKCS#7 SignerInfo. ASN.1 object is not an PKCS#7 SignerInfo.");throw s.errors=a,s}var o={version:i.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(i.issuer),serialNumber:e.util.createBuffer(i.serial).toHex(),digestAlgorithm:t.derToOid(i.digestAlgorithm),signatureAlgorithm:t.derToOid(i.signatureAlgorithm),signature:i.signature,authenticatedAttributes:[],unauthenticatedAttributes:[]};i.authenticatedAttributes,i.unauthenticatedAttributes;return o}function c(r){var n=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(r.authenticatedAttributesAsn1&&n.value.push(r.authenticatedAttributesAsn1),n.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),n.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.signature)),r.unauthenticatedAttributes.length>0){for(var i=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),a=0;a<r.unauthenticatedAttributes.length;++a){var s=r.unauthenticatedAttributes[a];i.values.push(u(s))}n.value.push(i)}return n}function p(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}function d(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}function u(r){var n;if(r.type===e.pki.oids.contentType)n=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.value).getBytes());else if(r.type===e.pki.oids.messageDigest)n=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.value.bytes());else if(r.type===e.pki.oids.signingTime){var i=new Date("1950-01-01T00:00:00Z"),a=new Date("2050-01-01T00:00:00Z"),s=r.value;if("string"==typeof s){var o=Date.parse(s);s=isNaN(o)?13===s.length?t.utcTimeToDate(s):t.generalizedTimeToDate(s):new Date(o)}n=s>=i&&s<a?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(s)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(s))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[n])])}function l(r){return[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.parameter.getBytes())]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.content.getBytes())])]}function C(r,n,i){var a={};if(!t.validate(n,i,a,[])){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(t.derToOid(a.contentType)!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(a.encryptedContent){var o="";if(e.util.isArray(a.encryptedContent))for(var c=0;c<a.encryptedContent.length;++c){if(a.encryptedContent[c].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=a.encryptedContent[c].value}else o=a.encryptedContent;r.encryptedContent={algorithm:t.derToOid(a.encAlgorithm),parameter:e.util.createBuffer(a.encParameter.value),content:e.util.createBuffer(o)}}if(a.content){o="";if(e.util.isArray(a.content))for(c=0;c<a.content.length;++c){if(a.content[c].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=a.content[c].value}else o=a.content;r.content=e.util.createBuffer(o)}return r.version=a.version.charCodeAt(0),r.rawCapture=a,a}function y(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var r;switch(t.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:r=e.aes.createDecryptionCipher(t.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:r=e.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(r.start(t.encryptedContent.parameter),r.update(t.encryptedContent.content),!r.finish())throw new Error("Symmetric decryption failed.");t.content=r.output}}r.messageFromPem=function(n){var i=e.pem.decode(n)[0];if("PKCS7"!==i.type){var a=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw a.headerType=i.type,a}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var s=t.fromDer(i.body);return r.messageFromAsn1(s)},r.messageToPem=function(r,n){var i={type:"PKCS7",body:t.toDer(r.toAsn1()).getBytes()};return e.pem.encode(i,{maxline:n})},r.messageFromAsn1=function(n){var i={},a=[];if(!t.validate(n,r.asn1.contentInfoValidator,i,a)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=a,s}var o,c=t.derToOid(i.contentType);switch(c){case e.pki.oids.envelopedData:o=r.createEnvelopedData();break;case e.pki.oids.encryptedData:o=r.createEncryptedData();break;case e.pki.oids.signedData:o=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return o.fromAsn1(i.content.value[0]),o},r.createSignedData=function(){var n=null;return n={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(C(n,t,r.asn1.signedDataValidator),n.certificates=[],n.crls=[],n.digestAlgorithmIdentifiers=[],n.contentInfo=null,n.signerInfos=[],n.rawCapture.certificates)for(var i=n.rawCapture.certificates.value,a=0;a<i.length;++a)n.certificates.push(e.pki.certificateFromAsn1(i[a]))},toAsn1:function(){n.contentInfo||n.sign();for(var r=[],i=0;i<n.certificates.length;++i)r.push(e.pki.certificateToAsn1(n.certificates[i]));var a=[],s=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(n.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,n.digestAlgorithmIdentifiers),n.contentInfo])]);return r.length>0&&s.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,r)),a.length>0&&s.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,a)),s.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,n.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),s])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var a=t.certificate;"string"==typeof a&&(a=e.pki.certificateFromPem(a)),r=a.issuer.attributes,i=a.serialNumber}var s=t.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof s&&(s=e.pki.privateKeyFromPem(s));var o=t.digestAlgorithm||e.pki.oids.sha1;switch(o){case e.pki.oids.sha1:case e.pki.oids.sha256:case e.pki.oids.sha384:case e.pki.oids.sha512:case e.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var p=!1,d=!1,u=0;u<c.length;++u){var l=c[u];if(p||l.type!==e.pki.oids.contentType){if(d||l.type!==e.pki.oids.messageDigest);else if(d=!0,p)break}else if(p=!0,d)break}if(!p||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}n.signers.push({key:s,version:1,issuer:r,serialNumber:i,digestAlgorithm:o,signatureAlgorithm:e.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(){var r;"object"==typeof n.content&&null!==n.contentInfo||(n.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes())]),"content"in n&&(n.content instanceof e.util.ByteBuffer?r=n.content.bytes():"string"==typeof n.content&&(r=e.util.encodeUtf8(n.content)),n.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r)]))));0!==n.signers.length&&function(r){if(n.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=t.derToOid(n.contentInfo.value[0].value),a=n.contentInfo.value[1];a=a.value[0];var s=t.toDer(a);for(var o in s.getByte(),t.getBerValueLength(s),s=s.getBytes(),r)r[o].start().update(s);for(var c=new Date,p=0;p<n.signers.length;++p){var l=n.signers[p];if(0===l.authenticatedAttributes.length){if(i!==e.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var C=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),y=0;y<l.authenticatedAttributes.length;++y){var f=l.authenticatedAttributes[y];f.type===e.pki.oids.messageDigest?f.value=r[l.digestAlgorithm].digest():f.type===e.pki.oids.signingTime&&(f.value||(f.value=c)),C.value.push(u(f)),l.authenticatedAttributesAsn1.value.push(u(f))}s=t.toDer(C).getBytes(),l.md.start().update(s)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}n.signerInfos=d(n.signers)}(function(){for(var r={},i=0;i<n.signers.length;++i){var a=n.signers[i],s=a.digestAlgorithm;s in r||(r[s]=e.md[e.pki.oids[s]].create()),0===a.authenticatedAttributes.length?a.md=r[s]:a.md=e.md[e.pki.oids[s]].create()}for(var s in n.digestAlgorithmIdentifiers=[],r)n.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(s).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return r}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=e.pki.certificateFromPem(t)),n.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},r.createEncryptedData=function(){var t=null;return t={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){C(t,e,r.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),y(t)}}},r.createEnvelopedData=function(){var n=null;return n={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){var t=C(n,e,r.asn1.envelopedDataValidator);n.recipients=a(t.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(n.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,s(n.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,l(n.encryptedContent))])])])},findRecipient:function(e){for(var t=e.issuer.attributes,r=0;r<n.recipients.length;++r){var i=n.recipients[r],a=i.issuer;if(i.serialNumber===e.serialNumber&&a.length===t.length){for(var s=!0,o=0;o<t.length;++o)if(a[o].type!==t[o].type||a[o].value!==t[o].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,r){if(void 0===n.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);n.encryptedContent.key=e.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}y(n)},addRecipient:function(t){n.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===n.encryptedContent.content){var i,a,s;switch(r=r||n.encryptedContent.algorithm,t=t||n.encryptedContent.key,r){case e.pki.oids["aes128-CBC"]:i=16,a=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:i=24,a=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:i=32,a=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:i=24,a=8,s=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=e.util.createBuffer(e.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");n.encryptedContent.algorithm=r,n.encryptedContent.key=t,n.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(a));var o=s(t);if(o.start(n.encryptedContent.parameter.copy()),o.update(n.content),!o.finish())throw new Error("Symmetric encryption failed.");n.encryptedContent.content=o.output}for(var c=0;c<n.recipients.length;++c){var p=n.recipients[c];if(void 0===p.encryptedContent.content)switch(p.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:p.encryptedContent.content=p.encryptedContent.key.encrypt(n.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}}}}};
},{"./forge":"jo0T","./aes":"M7sO","./asn1":"zryk","./des":"/s2H","./oids":"QA/b","./pem":"GGWf","./pkcs7asn1":"W7Yj","./random":"DEP9","./util":"V/zX","./x509":"znFO"}],"B4ah":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./hmac"),require("./md5"),require("./sha1"),require("./util");var t=module.exports=e.ssh=e.ssh||{};function r(t,r){var n=r.toString(16);n[0]>="8"&&(n="00"+n);var i=e.util.hexToBytes(n);t.putInt32(i.length),t.putBytes(i)}function n(e,t){e.putInt32(t.length),e.putString(t)}function i(){for(var t=e.md.sha1.create(),r=arguments.length,n=0;n<r;++n)t.update(arguments[n]);return t.digest()}t.privateKeyToPutty=function(t,u,a){var s=""===(u=u||"")?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: ssh-rsa\r\n";c+="Encryption: "+s+"\r\n",c+="Comment: "+(a=a||"")+"\r\n";var o=e.util.createBuffer();n(o,"ssh-rsa"),r(o,t.e),r(o,t.n);var f=e.util.encode64(o.bytes(),64),l=Math.floor(f.length/66)+1;c+="Public-Lines: "+l+"\r\n",c+=f;var p,h=e.util.createBuffer();if(r(h,t.d),r(h,t.p),r(h,t.q),r(h,t.qInv),u){var g=h.length()+16-1;g-=g%16;var v=i(h.bytes());v.truncate(v.length()-g+h.length()),h.putBuffer(v);var y=e.util.createBuffer();y.putBuffer(i("\0\0\0\0",u)),y.putBuffer(i("\0\0\0",u));var d=e.aes.createEncryptionCipher(y.truncate(8),"CBC");d.start(e.util.createBuffer().fillWithByte(0,16)),d.update(h.copy()),d.finish();var B=d.output;B.truncate(16),p=e.util.encode64(B.bytes(),64)}else p=e.util.encode64(h.bytes(),64);c+="\r\nPrivate-Lines: "+(l=Math.floor(p.length/66)+1)+"\r\n",c+=p;var m=i("putty-private-key-file-mac-key",u),b=e.util.createBuffer();n(b,"ssh-rsa"),n(b,s),n(b,a),b.putInt32(o.length()),b.putBuffer(o),b.putInt32(h.length()),b.putBuffer(h);var q=e.hmac.create();return q.start("sha1",m),q.update(b.bytes()),c+="\r\nPrivate-MAC: "+q.digest().toHex()+"\r\n"},t.publicKeyToOpenSSH=function(t,i){i=i||"";var u=e.util.createBuffer();return n(u,"ssh-rsa"),r(u,t.e),r(u,t.n),"ssh-rsa "+e.util.encode64(u.bytes())+" "+i},t.privateKeyToOpenSSH=function(t,r){return r?e.pki.encryptRsaPrivateKey(t,r,{legacy:!0,algorithm:"aes128"}):e.pki.privateKeyToPem(t)},t.getPublicKeyFingerprint=function(t,i){var u=(i=i||{}).md||e.md.md5.create(),a=e.util.createBuffer();n(a,"ssh-rsa"),r(a,t.e),r(a,t.n),u.start(),u.update(a.getBytes());var s=u.digest();if("hex"===i.encoding){var c=s.toHex();return i.delimiter?c.match(/.{2}/g).join(i.delimiter):c}if("binary"===i.encoding)return s.getBytes();if(i.encoding)throw new Error('Unknown encoding "'+i.encoding+'".');return s};
},{"./forge":"jo0T","./aes":"M7sO","./hmac":"1Q5I","./md5":"Qu+P","./sha1":"z+NJ","./util":"V/zX"}],"gHl4":[function(require,module,exports) {
var t=require("./forge");require("./debug"),require("./log"),require("./util");var e="forge.task",s=0,i={},a=0;t.debug.set(e,"tasks",i);var r={};t.debug.set(e,"queues",r);var n="?",u=30,o=20,l="ready",h="running",p="blocked",c="sleeping",f="done",k="error",m="stop",b="start",d="block",y="unblock",g="sleep",v="wakeup",w="cancel",T="fail",C={};C[l]={},C[l][m]=l,C[l][b]=h,C[l][w]=f,C[l][T]=k,C[h]={},C[h][m]=l,C[h][b]=h,C[h][d]=p,C[h][y]=h,C[h][g]=c,C[h][v]=h,C[h][w]=f,C[h][T]=k,C[p]={},C[p][m]=p,C[p][b]=p,C[p][d]=p,C[p][y]=p,C[p][g]=p,C[p][v]=p,C[p][w]=f,C[p][T]=k,C[c]={},C[c][m]=c,C[c][b]=c,C[c][d]=c,C[c][y]=c,C[c][g]=c,C[c][v]=c,C[c][w]=f,C[c][T]=k,C[f]={},C[f][m]=f,C[f][b]=f,C[f][d]=f,C[f][y]=f,C[f][g]=f,C[f][v]=f,C[f][w]=f,C[f][T]=k,C[k]={},C[k][m]=k,C[k][b]=k,C[k][d]=k,C[k][y]=k,C[k][g]=k,C[k][v]=k,C[k][w]=k,C[k][T]=k;var D=function(r){this.id=-1,this.name=r.name||n,this.parent=r.parent||null,this.run=r.run,this.subtasks=[],this.error=!1,this.state=l,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,i[this.id]=this,s>=1&&t.log.verbose(e,"[%s][%s] init",this.id,this.name,this)};D.prototype.debug=function(s){s=s||"",t.log.debug(e,s,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",r)},D.prototype.next=function(t,e){"function"==typeof t&&(e=t,t=this.name);var s=new D({run:e,name:t,parent:this});return s.state=h,s.type=this.type,s.successCallback=this.successCallback||null,s.failureCallback=this.failureCallback||null,this.subtasks.push(s),this},D.prototype.parallel=function(e,s){return t.util.isArray(e)&&(s=e,e=this.name),this.next(e,function(i){var a=i;a.block(s.length);for(var r=function(e,i){t.task.start({type:e,run:function(t){s[i](t)},success:function(t){a.unblock()},failure:function(t){a.unblock()}})},n=0;n<s.length;n++){r(e+"__parallel-"+i.id+"-"+n,n)}})},D.prototype.stop=function(){this.state=C[this.state][m]},D.prototype.start=function(){this.error=!1,this.state=C[this.state][b],this.state===h&&(this.start=new Date,this.run(this),I(this,0))},D.prototype.block=function(t){t=void 0===t?1:t,this.blocks+=t,this.blocks>0&&(this.state=C[this.state][d])},D.prototype.unblock=function(t){return t=void 0===t?1:t,this.blocks-=t,0===this.blocks&&this.state!==f&&(this.state=h,I(this,0)),this.blocks},D.prototype.sleep=function(t){t=void 0===t?0:t,this.state=C[this.state][g];var e=this;this.timeoutId=setTimeout(function(){e.timeoutId=null,e.state=h,I(e,0)},t)},D.prototype.wait=function(t){t.wait(this)},D.prototype.wakeup=function(){this.state===c&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=h,I(this,0))},D.prototype.cancel=function(){this.state=C[this.state][w],this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},D.prototype.fail=function(t){if(this.error=!0,x(this,!0),t)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,I(t,0);else{if(null!==this.parent){for(var e=this.parent;null!==e.parent;)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,e=e.parent;x(e,!0)}this.failureCallback&&this.failureCallback(this)}};var q=function(t){t.error=!1,t.state=C[t.state][b],setTimeout(function(){t.state===h&&(t.swapTime=+new Date,t.run(t),I(t,0))},0)},I=function(t,e){var s=e>u||+new Date-t.swapTime>o,i=function(e){if(e++,t.state===h)if(s&&(t.swapTime=+new Date),t.subtasks.length>0){var i=t.subtasks.shift();i.error=t.error,i.swapTime=t.swapTime,i.userData=t.userData,i.run(i),i.error||I(i,e)}else x(t),t.error||null!==t.parent&&(t.parent.error=t.error,t.parent.swapTime=t.swapTime,t.parent.userData=t.userData,I(t.parent,e))};s?setTimeout(i,0):i(e)},x=function(a,n){a.state=f,delete i[a.id],s>=1&&t.log.verbose(e,"[%s][%s] finish",a.id,a.name,a),null===a.parent&&(a.type in r?0===r[a.type].length?t.log.error(e,"[%s][%s] task queue empty [%s]",a.id,a.name,a.type):r[a.type][0]!==a?t.log.error(e,"[%s][%s] task not first in queue [%s]",a.id,a.name,a.type):(r[a.type].shift(),0===r[a.type].length?(s>=1&&t.log.verbose(e,"[%s][%s] delete queue [%s]",a.id,a.name,a.type),delete r[a.type]):(s>=1&&t.log.verbose(e,"[%s][%s] queue start next [%s] remain:%s",a.id,a.name,a.type,r[a.type].length),r[a.type][0].start())):t.log.error(e,"[%s][%s] task queue missing [%s]",a.id,a.name,a.type),n||(a.error&&a.failureCallback?a.failureCallback(a):!a.error&&a.successCallback&&a.successCallback(a)))};module.exports=t.task=t.task||{},t.task.start=function(i){var a=new D({run:i.run,name:i.name||n});a.type=i.type,a.successCallback=i.success||null,a.failureCallback=i.failure||null,a.type in r?r[i.type].push(a):(s>=1&&t.log.verbose(e,"[%s][%s] create queue [%s]",a.id,a.name,a.type),r[a.type]=[a],q(a))},t.task.cancel=function(t){t in r&&(r[t]=[r[t][0]])},t.task.createCondition=function(){var t={tasks:{},wait:function(e){e.id in t.tasks||(e.block(),t.tasks[e.id]=e)},notify:function(){var e=t.tasks;for(var s in t.tasks={},e)e[s].unblock()}};return t};
},{"./forge":"jo0T","./debug":"dv5d","./log":"jYop","./util":"V/zX"}],"EaCx":[function(require,module,exports) {
module.exports=require("./forge"),require("./aes"),require("./aesCipherSuites"),require("./asn1"),require("./cipher"),require("./debug"),require("./des"),require("./ed25519"),require("./hmac"),require("./kem"),require("./log"),require("./md.all"),require("./mgf1"),require("./pbkdf2"),require("./pem"),require("./pkcs1"),require("./pkcs12"),require("./pkcs7"),require("./pki"),require("./prime"),require("./prng"),require("./pss"),require("./random"),require("./rc2"),require("./ssh"),require("./task"),require("./tls"),require("./util");
},{"./forge":"jo0T","./aes":"M7sO","./aesCipherSuites":"ErHf","./asn1":"zryk","./cipher":"nYxo","./debug":"dv5d","./des":"/s2H","./ed25519":"pe8u","./hmac":"1Q5I","./kem":"KF6y","./log":"jYop","./md.all":"1/wb","./mgf1":"8D79","./pbkdf2":"CyRr","./pem":"GGWf","./pkcs1":"gG+e","./pkcs12":"/pAa","./pkcs7":"Q2t7","./pki":"8T0u","./prime":"axfO","./prng":"NyZB","./pss":"h9wD","./random":"DEP9","./rc2":"oIOP","./ssh":"B4ah","./task":"gHl4","./tls":"8xlg","./util":"V/zX"}],"udfh":[function(require,module,exports) {
var r=require("buffer"),e=r.Buffer;function o(r,e){for(var o in r)e[o]=r[o]}function n(r,o,n){return e(r,o,n)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(o(r,exports),exports.Buffer=n),n.prototype=Object.create(e.prototype),o(e,n),n.from=function(r,o,n){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,o,n)},n.alloc=function(r,o,n){if("number"!=typeof r)throw new TypeError("Argument must be a number");var t=e(r);return void 0!==o?"string"==typeof n?t.fill(o,n):t.fill(o):t.fill(0),t},n.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{}],"bgvo":[function(require,module,exports) {
var t=require("safe-buffer").Buffer,e=require("stream"),i=require("util");function r(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=t.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=t.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}i.inherits(r,e),r.prototype.write=function(e){this.buffer=t.concat([this.buffer,t.from(e)]),this.emit("data",e)},r.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1},module.exports=r;
},{"safe-buffer":"udfh"}],"lA7Q":[function(require,module,exports) {
"use strict";var e=require("buffer").Buffer,r=require("buffer").SlowBuffer;function t(r,t){if(!e.isBuffer(r)||!e.isBuffer(t))return!1;if(r.length!==t.length)return!1;for(var u=0,o=0;o<r.length;o++)u|=r[o]^t[o];return 0===u}module.exports=t,t.install=function(){e.prototype.equal=r.prototype.equal=function(e){return t(this,e)}};var u=e.prototype.equal,o=r.prototype.equal;t.restore=function(){e.prototype.equal=u,r.prototype.equal=o};
},{}],"XGGQ":[function(require,module,exports) {
"use strict";function r(r){return(r/8|0)+(r%8==0?0:1)}var n={ES256:r(256),ES384:r(384),ES512:r(521)};function t(r){var t=n[r];if(t)return t;throw new Error('Unknown algorithm "'+r+'"')}module.exports=t;
},{}],"T+35":[function(require,module,exports) {
"use strict";var r=require("safe-buffer").Buffer,e=require("./param-bytes-for-alg"),o=128,t=0,n=32,f=16,i=2,a=f|n|t<<6,s=i|t<<6;function c(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function l(t,n){t=u(t);var f=e(n),i=f+1,l=t.length,p=0;if(t[p++]!==a)throw new Error('Could not find expected "seq"');var w=t[p++];if(w===(1|o)&&(w=t[p++]),l-p<w)throw new Error('"seq" specified length of "'+w+'", only "'+(l-p)+'" remaining');if(t[p++]!==s)throw new Error('Could not find expected "int" for "r"');var h=t[p++];if(l-p-2<h)throw new Error('"r" specified length of "'+h+'", only "'+(l-p-2)+'" available');if(i<h)throw new Error('"r" specified length of "'+h+'", max of "'+i+'" is acceptable');var d=p;if(p+=h,t[p++]!==s)throw new Error('Could not find expected "int" for "s"');var g=t[p++];if(l-p!==g)throw new Error('"s" specified length of "'+g+'", expected "'+(l-p)+'"');if(i<g)throw new Error('"s" specified length of "'+g+'", max of "'+i+'" is acceptable');var y=p;if((p+=g)!==l)throw new Error('Expected to consume entire buffer, but "'+(l-p)+'" bytes remain');var b=f-h,v=f-g,E=r.allocUnsafe(b+h+v+g);for(p=0;p<b;++p)E[p]=0;t.copy(E,p,d+Math.max(-b,0),d+h);for(var m=p=f;p<m+v;++p)E[p]=0;return t.copy(E,p,y+Math.max(-v,0),y+g),E=c(E=E.toString("base64"))}function p(r,e,t){for(var n=0;e+n<t&&0===r[e+n];)++n;return r[e+n]>=o&&--n,n}function w(t,n){t=u(t);var f=e(n),i=t.length;if(i!==2*f)throw new TypeError('"'+n+'" signatures must be "'+2*f+'" bytes, saw "'+i+'"');var c=p(t,0,f),l=p(t,f,t.length),w=f-c,h=f-l,d=2+w+1+1+h,g=d<o,y=r.allocUnsafe((g?2:3)+d),b=0;return y[b++]=a,g?y[b++]=d:(y[b++]=1|o,y[b++]=255&d),y[b++]=s,y[b++]=w,c<0?(y[b++]=0,b+=t.copy(y,b,0,f)):b+=t.copy(y,b,c,f),y[b++]=s,y[b++]=h,l<0?(y[b++]=0,t.copy(y,b,f)):t.copy(y,b,f+l),y}module.exports={derToJose:l,joseToDer:w};
},{"safe-buffer":"udfh","./param-bytes-for-alg":"XGGQ"}],"Px1c":[function(require,module,exports) {
var r=require("buffer-equal-constant-time"),e=require("safe-buffer").Buffer,t=require("crypto"),n=require("ecdsa-sig-formatter"),o=require("util"),i='"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',f="secret must be a string or buffer",u="key must be a string or a buffer",a="key must be a string, a buffer or an object",c="function"==typeof t.createPublicKey;function s(r){if(!e.isBuffer(r)&&"string"!=typeof r){if(!c)throw l(u);if("object"!=typeof r)throw l(u);if("string"!=typeof r.type)throw l(u);if("string"!=typeof r.asymmetricKeyType)throw l(u);if("function"!=typeof r.export)throw l(u)}}function S(r){if(!e.isBuffer(r)&&"string"!=typeof r&&"object"!=typeof r)throw l(a)}function p(r){if(!e.isBuffer(r)){if("string"==typeof r)return r;if(!c)throw l(f);if("object"!=typeof r)throw l(f);if("secret"!==r.type)throw l(f);if("function"!=typeof r.export)throw l(f)}}function y(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(r){var e=4-(r=r.toString()).length%4;if(4!==e)for(var t=0;t<e;++t)r+="=";return r.replace(/\-/g,"+").replace(/_/g,"/")}function l(r){var e=[].slice.call(arguments,1),t=o.format.bind(o,r).apply(null,e);return new TypeError(t)}function b(r){return e.isBuffer(r)||"string"==typeof r}function h(r){return b(r)||(r=JSON.stringify(r)),r}function v(r){return function(e,n){p(n),e=h(e);var o=t.createHmac("sha"+r,n);return y((o.update(e),o.digest("base64")))}}function d(t){return function(n,o,i){var f=v(t)(n,i);return r(e.from(o),e.from(f))}}function A(r){return function(e,n){S(n),e=h(e);var o=t.createSign("RSA-SHA"+r);return y((o.update(e),o.sign(n,"base64")))}}function m(r){return function(e,n,o){s(o),e=h(e),n=g(n);var i=t.createVerify("RSA-SHA"+r);return i.update(e),i.verify(o,n,"base64")}}function _(r){return function(e,n){S(n),e=h(e);var o=t.createSign("RSA-SHA"+r);return y((o.update(e),o.sign({key:n,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function w(r){return function(e,n,o){s(o),e=h(e),n=g(n);var i=t.createVerify("RSA-SHA"+r);return i.update(e),i.verify({key:o,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function P(r){var e=A(r);return function(){var t=e.apply(null,arguments);return t=n.derToJose(t,"ES"+r)}}function R(r){var e=m(r);return function(t,o,i){return o=n.joseToDer(o,"ES"+r).toString("base64"),e(t,o,i)}}function E(){return function(){return""}}function H(){return function(r,e){return""===e}}c&&(u+=" or a KeyObject",f+="or a KeyObject"),module.exports=function(r){var e={hs:v,rs:A,ps:_,es:P,none:E},t={hs:d,rs:m,ps:w,es:R,none:H},n=r.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw l(i,r);var o=(n[1]||n[3]).toLowerCase(),f=n[2];return{sign:e[o](f),verify:t[o](f)}};
},{"buffer-equal-constant-time":"lA7Q","safe-buffer":"udfh","ecdsa-sig-formatter":"T+35"}],"mGv1":[function(require,module,exports) {
var r=require("buffer").Buffer;module.exports=function(e){return"string"==typeof e?e:"number"==typeof e||r.isBuffer(e)?e.toString():JSON.stringify(e)};
},{}],"qvnv":[function(require,module,exports) {
var e=require("safe-buffer").Buffer,t=require("./data-stream"),i=require("jwa"),r=require("stream"),a=require("./tostring"),s=require("util");function n(t,i){return e.from(t,i).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e,t,i){i=i||"utf8";var r=n(a(e),"binary"),h=n(a(t),i);return s.format("%s.%s",r,h)}function o(e){var t=e.header,r=e.payload,a=e.secret||e.privateKey,n=e.encoding,o=i(t.alg),c=h(t,r,n),d=o.sign(c,a);return s.format("%s.%s",c,d)}function c(e){var i=e.secret||e.privateKey||e.key,r=new t(i);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new t(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}s.inherits(c,r),c.prototype.sign=function(){try{var e=o({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}},c.sign=o,module.exports=c;
},{"safe-buffer":"udfh","./data-stream":"bgvo","jwa":"Px1c","./tostring":"mGv1"}],"sXEm":[function(require,module,exports) {
var t=require("safe-buffer").Buffer,e=require("./data-stream"),r=require("jwa"),i=require("stream"),n=require("./tostring"),s=require("util"),a=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){if(u(t))return t;try{return JSON.parse(t)}catch(e){return}}function c(e){var r=e.split(".",1)[0];return o(t.from(r,"base64").toString("binary"))}function f(t){return t.split(".",2).join(".")}function h(t){return t.split(".")[2]}function l(e,r){r=r||"utf8";var i=e.split(".")[1];return t.from(i,"base64").toString(r)}function d(t){return a.test(t)&&!!c(t)}function b(t,e,i){if(!e){var s=new Error("Missing algorithm parameter for jws.verify");throw s.code="MISSING_ALGORITHM",s}var a=h(t=n(t)),u=f(t);return r(e).verify(u,a,i)}function g(t,e){if(e=e||{},!d(t=n(t)))return null;var r=c(t);if(!r)return null;var i=l(t);return("JWT"===r.typ||e.json)&&(i=JSON.parse(i,e.encoding)),{header:r,payload:i,signature:h(t)}}function y(t){var r=(t=t||{}).secret||t.publicKey||t.key,i=new e(r);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=i,this.signature=new e(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}s.inherits(y,i),y.prototype.verify=function(){try{var t=b(this.signature.buffer,this.algorithm,this.key.buffer),e=g(this.signature.buffer,this.encoding);return this.emit("done",t,e),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},y.decode=g,y.isValid=d,y.verify=b,module.exports=y;
},{"safe-buffer":"udfh","./data-stream":"bgvo","jwa":"Px1c","./tostring":"mGv1"}],"hnM1":[function(require,module,exports) {
var e=require("./lib/sign-stream"),r=require("./lib/verify-stream"),i=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];exports.ALGORITHMS=i,exports.sign=e.sign,exports.verify=r.verify,exports.decode=r.decode,exports.isValid=r.isValid,exports.createSign=function(r){return new e(r)},exports.createVerify=function(e){return new r(e)};
},{"./lib/sign-stream":"qvnv","./lib/verify-stream":"sXEm"}],"UA5t":[function(require,module,exports) {
var e=require("jws");module.exports=function(r,a){a=a||{};var t=e.decode(r,a);if(!t)return null;var o=t.payload;if("string"==typeof o)try{var n=JSON.parse(o);"object"==typeof n&&(o=n)}catch(u){}return!0===a.complete?{header:t.header,payload:o,signature:t.signature}:o};
},{"jws":"hnM1"}],"5Qo+":[function(require,module,exports) {
var r=function(r,t){Error.call(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=r,t&&(this.inner=t)};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,module.exports=r;
},{}],"c5NO":[function(require,module,exports) {
var o=require("./JsonWebTokenError"),r=function(r,t){o.call(this,r),this.name="NotBeforeError",this.date=t};r.prototype=Object.create(o.prototype),r.prototype.constructor=r,module.exports=r;
},{"./JsonWebTokenError":"5Qo+"}],"4PfX":[function(require,module,exports) {
var r=require("./JsonWebTokenError"),e=function(e,o){r.call(this,e),this.name="TokenExpiredError",this.expiredAt=o};e.prototype=Object.create(r.prototype),e.prototype.constructor=e,module.exports=e;
},{"./JsonWebTokenError":"5Qo+"}],"1U8J":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var i=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"weeks":case"week":case"w":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function i(n){var c=Math.abs(n);return c>=a?o(n,c,a,"day"):c>=r?o(n,c,r,"hour"):c>=e?o(n,c,e,"minute"):c>=s?o(n,c,s,"second"):n+" ms"}function o(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&isFinite(s))return e.long?i(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"FTx2":[function(require,module,exports) {
var r=require("ms");module.exports=function(e,o){var t=o||Math.floor(Date.now()/1e3);if("string"==typeof e){var n=r(e);if(void 0===n)return;return Math.floor(t+n/1e3)}return"number"==typeof e?t+e:void 0};
},{"ms":"1U8J"}],"lKyF":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"p0W1":[function(require,module,exports) {
var e=require("./lib/JsonWebTokenError"),r=require("./lib/NotBeforeError"),i=require("./lib/TokenExpiredError"),n=require("./decode"),t=require("./lib/timespan"),u=require("jws"),a=require("xtend");module.exports=function(o,s,d,f){var c;if("function"!=typeof d||f||(f=d,d={}),d||(d={}),c=f||function(e,r){if(e)throw e;return r},(d=a(d)).clockTimestamp&&"number"!=typeof d.clockTimestamp)return c(new e("clockTimestamp must be a number"));var l=d.clockTimestamp||Math.floor(Date.now()/1e3);if(!o)return c(new e("jwt must be provided"));if("string"!=typeof o)return c(new e("jwt must be a string"));var w=o.split(".");if(3!==w.length)return c(new e("jwt malformed"));var m,p=""!==w[2].trim();if(!p&&s)return c(new e("jwt signature is required"));if(p&&!s)return c(new e("secret or public key must be provided"));p||d.algorithms||(d.algorithms=["none"]),d.algorithms||(d.algorithms=~s.toString().indexOf("BEGIN CERTIFICATE")||~s.toString().indexOf("BEGIN PUBLIC KEY")?["RS256","RS384","RS512","ES256","ES384","ES512"]:~s.toString().indexOf("BEGIN RSA PUBLIC KEY")?["RS256","RS384","RS512"]:["HS256","HS384","HS512"]);try{m=u.decode(o)}catch(y){return c(y)}if(!m)return c(new e("invalid token"));var g,b,v=m.header;if(!~d.algorithms.indexOf(v.alg))return c(new e("invalid algorithm"));try{g=u.verify(o,v.alg,s)}catch(h){return c(h)}if(!g)return c(new e("invalid signature"));try{b=n(o)}catch(y){return c(y)}if(void 0!==b.nbf&&!d.ignoreNotBefore){if("number"!=typeof b.nbf)return c(new e("invalid nbf value"));if(b.nbf>l+(d.clockTolerance||0))return c(new r("jwt not active",new Date(1e3*b.nbf)))}if(void 0!==b.exp&&!d.ignoreExpiration){if("number"!=typeof b.exp)return c(new e("invalid exp value"));if(l>=b.exp+(d.clockTolerance||0))return c(new i("jwt expired",new Date(1e3*b.exp)))}if(d.audience){var x=Array.isArray(d.audience)?d.audience:[d.audience];if(!(Array.isArray(b.aud)?b.aud:[b.aud]).some(function(e){return x.some(function(r){return r instanceof RegExp?r.test(e):r===e})}))return c(new e("jwt audience invalid. expected: "+x.join(" or ")))}if(d.issuer&&("string"==typeof d.issuer&&b.iss!==d.issuer||Array.isArray(d.issuer)&&-1===d.issuer.indexOf(b.iss)))return c(new e("jwt issuer invalid. expected: "+d.issuer));if(d.subject&&b.sub!==d.subject)return c(new e("jwt subject invalid. expected: "+d.subject));if(d.jwtid&&b.jti!==d.jwtid)return c(new e("jwt jwtid invalid. expected: "+d.jwtid));if(d.maxAge){if("number"!=typeof b.iat)return c(new e("iat required when maxAge is specified"));var j=t(d.maxAge,b.iat);if(void 0===j)return c(new e('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(l>=j+(d.clockTolerance||0))return c(new i("maxAge exceeded",new Date(1e3*j)))}return c(null,b)};
},{"./lib/JsonWebTokenError":"5Qo+","./lib/NotBeforeError":"c5NO","./lib/TokenExpiredError":"4PfX","./decode":"UA5t","./lib/timespan":"FTx2","jws":"hnM1","xtend":"lKyF"}],"JKX2":[function(require,module,exports) {
var n=1/0,r=9007199254740991,t=1.7976931348623157e308,e=NaN,u="[object Arguments]",o="[object Function]",c="[object GeneratorFunction]",f="[object String]",i="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,s=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\d*)$/,v=parseInt;function b(n,r){for(var t=-1,e=n?n.length:0,u=Array(e);++t<e;)u[t]=r(n[t],t,n);return u}function g(n,r,t,e){for(var u=n.length,o=t+(e?1:-1);e?o--:++o<u;)if(r(n[o],o,n))return o;return-1}function h(n,r,t){if(r!=r)return g(n,j,t);for(var e=t-1,u=n.length;++e<u;)if(n[e]===r)return e;return-1}function j(n){return n!=n}function m(n,r){for(var t=-1,e=Array(n);++t<n;)e[t]=r(t);return e}function O(n,r){return b(r,function(r){return n[r]})}function A(n,r){return function(t){return n(r(t))}}var $=Object.prototype,x=$.hasOwnProperty,S=$.toString,d=$.propertyIsEnumerable,F=A(Object.keys,Object),I=Math.max;function N(n,r){var t=P(n)||M(n)?m(n.length,String):[],e=t.length,u=!!e;for(var o in n)!r&&!x.call(n,o)||u&&("length"==o||w(o,e))||t.push(o);return t}function k(n){if(!E(n))return F(n);var r=[];for(var t in Object(n))x.call(n,t)&&"constructor"!=t&&r.push(t);return r}function w(n,t){return!!(t=null==t?r:t)&&("number"==typeof n||y.test(n))&&n>-1&&n%1==0&&n<t}function E(n){var r=n&&n.constructor;return n===("function"==typeof r&&r.prototype||$)}function G(n,r,t,e){n=q(n)?n:U(n),t=t&&!e?Q(t):0;var u=n.length;return t<0&&(t=I(u+t,0)),J(n)?t<=u&&n.indexOf(r,t)>-1:!!u&&h(n,r,t)>-1}function M(n){return z(n)&&x.call(n,"callee")&&(!d.call(n,"callee")||S.call(n)==u)}var P=Array.isArray;function q(n){return null!=n&&C(n.length)&&!B(n)}function z(n){return H(n)&&q(n)}function B(n){var r=D(n)?S.call(n):"";return r==o||r==c}function C(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r}function D(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}function H(n){return!!n&&"object"==typeof n}function J(n){return"string"==typeof n||!P(n)&&H(n)&&S.call(n)==f}function K(n){return"symbol"==typeof n||H(n)&&S.call(n)==i}function L(r){return r?(r=R(r))===n||r===-n?(r<0?-1:1)*t:r==r?r:0:0===r?r:0}function Q(n){var r=L(n),t=r%1;return r==r?t?r-t:r:0}function R(n){if("number"==typeof n)return n;if(K(n))return e;if(D(n)){var r="function"==typeof n.valueOf?n.valueOf():n;n=D(r)?r+"":r}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(a,"");var t=p.test(n);return t||s.test(n)?v(n.slice(2),t?2:8):l.test(n)?e:+n}function T(n){return q(n)?N(n):k(n)}function U(n){return n?O(n,T(n)):[]}module.exports=G;
},{}],"uSp9":[function(require,module,exports) {
var t="[object Boolean]",o=Object.prototype,e=o.toString;function n(o){return!0===o||!1===o||r(o)&&e.call(o)==t}function r(t){return!!t&&"object"==typeof t}module.exports=n;
},{}],"PwJQ":[function(require,module,exports) {
var t=1/0,e=1.7976931348623157e308,n=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,a=Object.prototype,p=a.toString;function s(t){return"number"==typeof t&&t==m(t)}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}function l(t){return"symbol"==typeof t||b(t)&&p.call(t)==r}function v(n){return n?(n=j(n))===t||n===-t?(n<0?-1:1)*e:n==n?n:0:0===n?n:0}function m(t){var e=v(t),n=e%1;return e==e?n?e-n:e:0}function j(t){if("number"==typeof t)return t;if(l(t))return n;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=f.test(t);return r||i.test(t)?c(t.slice(2),r?2:8):u.test(t)?n:+t}module.exports=s;
},{}],"WBq+":[function(require,module,exports) {
var t="[object Number]",e=Object.prototype,o=e.toString;function r(t){return!!t&&"object"==typeof t}function n(e){return"number"==typeof e||r(e)&&o.call(e)==t}module.exports=n;
},{}],"RphC":[function(require,module,exports) {
var t="[object Object]";function n(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(r){}return n}function r(t,n){return function(r){return t(n(r))}}var o=Function.prototype,c=Object.prototype,e=o.toString,u=c.hasOwnProperty,f=e.call(Object),i=c.toString,l=r(Object.getPrototypeOf,Object);function a(t){return!!t&&"object"==typeof t}function p(r){if(!a(r)||i.call(r)!=t||n(r))return!1;var o=l(r);if(null===o)return!0;var c=u.call(o,"constructor")&&o.constructor;return"function"==typeof c&&c instanceof c&&e.call(c)==f}module.exports=p;
},{}],"eG0A":[function(require,module,exports) {
var t="[object String]",r=Object.prototype,o=r.toString,e=Array.isArray;function n(t){return!!t&&"object"==typeof t}function c(r){return"string"==typeof r||!e(r)&&n(r)&&o.call(r)==t}module.exports=c;
},{}],"ZfZ9":[function(require,module,exports) {
var t="Expected a function",n=1/0,e=1.7976931348623157e308,r=NaN,o="[object Symbol]",u=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,a=Object.prototype,y=a.toString;function s(n,e){var r;if("function"!=typeof e)throw new TypeError(t);return n=$(n),function(){return--n>0&&(r=e.apply(this,arguments)),n<=1&&(e=void 0),r}}function l(t){return s(2,t)}function v(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function b(t){return!!t&&"object"==typeof t}function j(t){return"symbol"==typeof t||b(t)&&y.call(t)==o}function m(t){return t?(t=d(t))===n||t===-n?(t<0?-1:1)*e:t==t?t:0:0===t?t:0}function $(t){var n=m(t),e=n%1;return n==n?e?n-e:n:0}function d(t){if("number"==typeof t)return t;if(j(t))return r;if(v(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=v(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var e=i.test(t);return e||c.test(t)?p(t.slice(2),e?2:8):f.test(t)?r:+t}module.exports=l;
},{}],"e/97":[function(require,module,exports) {
var e=require("./lib/timespan"),r=require("xtend"),i=require("jws"),n=require("lodash.includes"),o=require("lodash.isboolean"),s=require("lodash.isinteger"),a=require("lodash.isnumber"),t=require("lodash.isplainobject"),d=require("lodash.isstring"),u=require("lodash.once"),l={expiresIn:{isValid:function(e){return s(e)||d(e)},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return s(e)||d(e)},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:n.bind(null,["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"]),message:'"algorithm" must be a valid string enum value'},header:{isValid:t,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:o,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'}},f={iat:{isValid:a,message:'"iat" should be a number of seconds'},exp:{isValid:a,message:'"exp" should be a number of seconds'},nbf:{isValid:a,message:'"nbf" should be a number of seconds'}};function p(e,r,i,n){if(!t(i))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(o){var s=e[o];if(s){if(!s.isValid(i[o]))throw new Error(s.message)}else if(!r)throw new Error('"'+o+'" is not allowed in "'+n+'"')})}function c(e){return p(l,!1,e,"options")}function m(e){return p(f,!0,e,"payload")}var b={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},g=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];module.exports=function(n,o,s,a){"function"==typeof s?(a=s,s={}):s=s||{};var t="object"==typeof n&&!Buffer.isBuffer(n),d=r({alg:s.algorithm||"HS256",typ:t?"JWT":void 0,kid:s.keyid},s.header);function l(e){if(a)return a(e);throw e}if(!o&&"none"!==s.algorithm)return l(new Error("secretOrPrivateKey must have a value"));if(void 0===n)return l(new Error("payload is required"));if(t){try{m(n)}catch(y){return l(y)}n=r(n)}else{var f=g.filter(function(e){return void 0!==s[e]});if(f.length>0)return l(new Error("invalid "+f.join(",")+" option for "+typeof n+" payload"))}if(void 0!==n.exp&&void 0!==s.expiresIn)return l(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==n.nbf&&void 0!==s.notBefore)return l(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{c(s)}catch(y){return l(y)}var p=n.iat||Math.floor(Date.now()/1e3);if(s.noTimestamp?delete n.iat:n.iat=p,void 0!==s.notBefore&&(n.nbf=e(s.notBefore),void 0===n.nbf))return l(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(void 0!==s.expiresIn&&"object"==typeof n&&(n.exp=e(s.expiresIn,p),void 0===n.exp))return l(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));Object.keys(b).forEach(function(e){var r=b[e];if(void 0!==s[e]){if(void 0!==n[r])return l(new Error('Bad "options.'+e+'" option. The payload already has an "'+r+'" property.'));n[r]=s[e]}});var h=s.encoding||"utf8";if("function"!=typeof a)return i.sign({header:d,payload:n,secret:o,encoding:h});a=a&&u(a),i.createSign({header:d,privateKey:o,payload:n,encoding:h}).once("error",a).once("done",function(e){a(null,e)})};
},{"./lib/timespan":"FTx2","xtend":"lKyF","jws":"hnM1","lodash.includes":"JKX2","lodash.isboolean":"uSp9","lodash.isinteger":"PwJQ","lodash.isnumber":"WBq+","lodash.isplainobject":"RphC","lodash.isstring":"eG0A","lodash.once":"ZfZ9"}],"pqRd":[function(require,module,exports) {
module.exports={decode:require("./decode"),verify:require("./verify"),sign:require("./sign"),JsonWebTokenError:require("./lib/JsonWebTokenError"),NotBeforeError:require("./lib/NotBeforeError"),TokenExpiredError:require("./lib/TokenExpiredError")};
},{"./decode":"UA5t","./verify":"p0W1","./sign":"e/97","./lib/JsonWebTokenError":"5Qo+","./lib/NotBeforeError":"c5NO","./lib/TokenExpiredError":"4PfX"}],"ktw5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),t=require("os"),r=require("path"),i=require("../utils/error"),n=require("../utils/api-request"),o="https://accounts.google.com/o/oauth2/token",s="accounts.google.com",a="/o/oauth2/token",p="metadata.google.internal",c="/computeMetadata/v1/instance/service-accounts/default/token",h=function(){var e=t.platform();return e&&e.length>=3&&"win"===e.substring(0,3).toLowerCase()?process.env.APPDATA:process.env.HOME&&r.resolve(process.env.HOME,".config")}(),f="gcloud/application_default_credentials.json",u=h&&r.resolve(h,f),l="www.googleapis.com",d="/oauth2/v4/token",A=3600,E="RS256";function w(e,t,r,i){var n=t[r]||t[i];void 0!==n&&(e[r]=n)}var g=function(){function t(e){var t;if(w(this,e,"clientId","client_id"),w(this,e,"clientSecret","client_secret"),w(this,e,"refreshToken","refresh_token"),w(this,e,"type","type"),"string"==typeof this.clientId&&this.clientId?"string"==typeof this.clientSecret&&this.clientSecret?"string"==typeof this.refreshToken&&this.refreshToken?"string"==typeof this.type&&this.type||(t='Refresh token must contain a "type" property.'):t='Refresh token must contain a "refresh_token" property.':t='Refresh token must contain a "client_secret" property.':t='Refresh token must contain a "client_id" property.',void 0!==t)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,t)}return t.fromPath=function(r){var n;try{n=e.readFileSync(r,"utf8")}catch(o){return null}try{return new t(JSON.parse(n))}catch(s){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse refresh token file: "+s)}},t}();exports.RefreshToken=g;var y=function(){function t(e){if("object"!=typeof e||null===e)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Certificate object must be an object.");var t;if(w(this,e,"projectId","project_id"),w(this,e,"privateKey","private_key"),w(this,e,"clientEmail","client_email"),"string"==typeof this.privateKey&&this.privateKey?"string"==typeof this.clientEmail&&this.clientEmail||(t='Certificate object must contain a string "client_email" property.'):t='Certificate object must contain a string "private_key" property.',void 0!==t)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,t);var r=require("node-forge");try{r.pki.privateKeyFromPem(this.privateKey)}catch(n){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse private key: "+n)}}return t.fromPath=function(r){if("string"!=typeof r)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse certificate key file: TypeError: path must be a string");try{return new t(JSON.parse(e.readFileSync(r,"utf8")))}catch(n){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse certificate key file: "+n)}},t}();function C(e,t){return e.send(t).then(function(e){var t=e.data;if(!t.access_token||!t.expires_in)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Unexpected response while fetching access token: "+JSON.stringify(t));return t}).catch(function(e){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,I(e))})}function I(e){return"Error fetching access token: "+(e instanceof n.HttpError?_(e.response):e.message)}function _(e){if(e.isJson()&&e.data.error){var t=e.data,r=t.error;return t.error_description&&(r+=" ("+t.error_description+")"),r}return e.text}exports.Certificate=y;var v=function(){function e(e,t){this.certificate="string"==typeof e?y.fromPath(e):new y(e),this.httpClient=new n.HttpClient,this.httpAgent=t}return e.prototype.getAccessToken=function(){var e=this.createAuthJwt_(),t={method:"POST",url:"https://"+s+a,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&assertion="+e,httpAgent:this.httpAgent};return C(this.httpClient,t)},e.prototype.getCertificate=function(){return this.certificate},e.prototype.createAuthJwt_=function(){var e={scope:["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/firebase.database","https://www.googleapis.com/auth/firebase.messaging","https://www.googleapis.com/auth/identitytoolkit","https://www.googleapis.com/auth/userinfo.email"].join(" ")};return require("jsonwebtoken").sign(e,this.certificate.privateKey,{audience:o,expiresIn:A,issuer:this.certificate.clientEmail,algorithm:E})},e}();function m(e){return T(e)?e.getCertificate():null}function T(e){return"getCertificate"in e}exports.CertCredential=v,exports.tryGetCertificate=m;var k=function(){function e(e,t){this.refreshToken="string"==typeof e?g.fromPath(e):new g(e),this.httpClient=new n.HttpClient,this.httpAgent=t}return e.prototype.getAccessToken=function(){var e="client_id="+this.refreshToken.clientId+"&client_secret="+this.refreshToken.clientSecret+"&refresh_token="+this.refreshToken.refreshToken+"&grant_type=refresh_token",t={method:"POST",url:"https://"+l+d,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e,httpAgent:this.httpAgent};return C(this.httpClient,t)},e}();exports.RefreshTokenCredential=k;var N=function(){function e(e){this.httpClient=new n.HttpClient,this.httpAgent=e}return e.prototype.getAccessToken=function(){var e={method:"GET",url:"http://"+p+c,headers:{"Metadata-Flavor":"Google"},httpAgent:this.httpAgent};return C(this.httpClient,e)},e}();exports.MetadataServiceCredential=N;var L=function(){function e(e){if(process.env.GOOGLE_APPLICATION_CREDENTIALS)this.credential_=b(process.env.GOOGLE_APPLICATION_CREDENTIALS,e);else{var t=g.fromPath(u);this.credential_=t?new k(t,e):new N(e)}}return e.prototype.getAccessToken=function(){return this.credential_.getAccessToken()},e.prototype.getCertificate=function(){return m(this.credential_)},e.prototype.getCredential=function(){return this.credential_},e}();function b(e,t){var r=D(e);if("object"!=typeof r)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse contents of the credentials file as an object");if("service_account"===r.type)return new v(r,t);if("authorized_user"===r.type)return new k(r,t);throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Invalid contents in the credentials file")}function D(t){if("string"!=typeof t)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse credentials file: TypeError: path must be a string");var r;try{r=e.readFileSync(t,"utf8")}catch(n){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to read credentials from file "+t+": "+n)}try{return JSON.parse(r)}catch(n){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse contents of the credentials file as an object: "+n)}}exports.ApplicationDefaultCredential=L;
},{"../utils/error":"5IpL","../utils/api-request":"owx1","node-forge":"EaCx","jsonwebtoken":"pqRd"}],"L70j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../auth/credential"),r=require("./validator");function t(e,r){Object.keys(r).forEach(function(t){if(t in e){var n=r[t];e[n]=e[t],delete e[t]}})}function n(e,r,t){Object.defineProperty(e,r,{value:t,writable:!1,enumerable:!0})}function o(t){var n=t.options;if(r.isNonEmptyString(n.projectId))return n.projectId;var o=e.tryGetCertificate(n.credential);if(null!=o&&r.isNonEmptyString(o.projectId))return o.projectId;var i=process.env.GOOGLE_CLOUD_PROJECT||process.env.GCLOUD_PROJECT;return r.isNonEmptyString(i)?i:null}function i(e){return e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")}function a(e,r){var t=e;return Object.keys(r||{}).forEach(function(e){t=t.replace(new RegExp("{"+e+"}","g"),r[e])}),t}function c(e){var t=[];if(!r.isNonNullObject(e))return t;var n=function(r){if(e.hasOwnProperty(r)&&void 0!==e[r]){var n=c(e[r]);n.length>0?n.forEach(function(e){t.push(r+"."+e)}):t.push(r)}};for(var o in e)n(o);return t}exports.renameProperties=t,exports.addReadonlyGetter=n,exports.getProjectId=o,exports.toWebSafeBase64=i,exports.formatString=a,exports.generateUpdateMask=c;
},{"../auth/credential":"ktw5","./validator":"lesR"}],"1VnO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/deep-copy"),t=require("../utils"),a=require("../utils/error");function i(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime()))return t.toUTCString()}catch(a){}return null}var r=function(){function e(e){t.addReadonlyGetter(this,"creationTime",i(e.createdAt)),t.addReadonlyGetter(this,"lastSignInTime",i(e.lastLoginAt))}return e.prototype.toJSON=function(){return{lastSignInTime:this.lastSignInTime,creationTime:this.creationTime}},e}();exports.UserMetadata=r;var d=function(){function e(e){if(!e.rawId||!e.providerId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user info response");t.addReadonlyGetter(this,"uid",e.rawId),t.addReadonlyGetter(this,"displayName",e.displayName),t.addReadonlyGetter(this,"email",e.email),t.addReadonlyGetter(this,"photoURL",e.photoUrl),t.addReadonlyGetter(this,"providerId",e.providerId),t.addReadonlyGetter(this,"phoneNumber",e.phoneNumber)}return e.prototype.toJSON=function(){return{uid:this.uid,displayName:this.displayName,email:this.email,photoURL:this.photoURL,providerId:this.providerId,phoneNumber:this.phoneNumber}},e}();exports.UserInfo=d;var o=function(){function o(e){if(!e.localId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user response");t.addReadonlyGetter(this,"uid",e.localId),t.addReadonlyGetter(this,"email",e.email),t.addReadonlyGetter(this,"emailVerified",!!e.emailVerified),t.addReadonlyGetter(this,"displayName",e.displayName),t.addReadonlyGetter(this,"photoURL",e.photoUrl),t.addReadonlyGetter(this,"phoneNumber",e.phoneNumber),t.addReadonlyGetter(this,"disabled",e.disabled||!1),t.addReadonlyGetter(this,"metadata",new r(e));for(var o=[],s=0,n=e.providerUserInfo||[];s<n.length;s++){var l=n[s];o.push(new d(l))}t.addReadonlyGetter(this,"providerData",o),t.addReadonlyGetter(this,"passwordHash",e.passwordHash),t.addReadonlyGetter(this,"passwordSalt",e.salt);try{t.addReadonlyGetter(this,"customClaims",JSON.parse(e.customAttributes))}catch(p){t.addReadonlyGetter(this,"customClaims",void 0)}var h=null;void 0!==e.validSince&&(h=i(1e3*e.validSince)),t.addReadonlyGetter(this,"tokensValidAfterTime",h||void 0)}return o.prototype.toJSON=function(){for(var t={uid:this.uid,email:this.email,emailVerified:this.emailVerified,displayName:this.displayName,photoURL:this.photoURL,phoneNumber:this.phoneNumber,disabled:this.disabled,metadata:this.metadata.toJSON(),passwordHash:this.passwordHash,passwordSalt:this.passwordSalt,customClaims:e.deepCopy(this.customClaims),tokensValidAfterTime:this.tokensValidAfterTime,providerData:[]},a=0,i=this.providerData;a<i.length;a++){var r=i[a];t.providerData.push(r.toJSON())}return t},o}();exports.UserRecord=o;
},{"../utils/deep-copy":"Irg2","../utils":"L70j","../utils/error":"5IpL"}],"DxCL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./credential"),t=require("../utils/error"),r=require("../utils/api-request"),i=require("../utils/validator"),o=require("../utils"),n="RS256",a=3600,s=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce"],c="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit",u=function(){function e(e){if(!e)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a certificate to initialize ServiceAccountSigner.");if(!i.isNonEmptyString(e.clientEmail)||!i.isNonEmptyString(e.privateKey))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a certificate with validate clientEmail and privateKey to initialize ServiceAccountSigner.");this.certificate=e}return e.prototype.sign=function(e){var t=require("crypto").createSign("RSA-SHA256");return t.update(e),Promise.resolve(t.sign(this.certificate.privateKey))},e.prototype.getAccountId=function(){return Promise.resolve(this.certificate.clientEmail)},e}();exports.ServiceAccountSigner=u;var l=function(){function e(e,r){if(!e)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"INTERNAL ASSERT: Must provide a HTTP client to initialize IAMSigner.");if(void 0!==r&&!i.isNonEmptyString(r))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"INTERNAL ASSERT: Service account ID must be undefined or a non-empty string.");this.httpClient=e,this.serviceAccountId=r}return e.prototype.sign=function(e){var o=this;return this.getAccountId().then(function(t){var r={method:"POST",url:"https://iam.googleapis.com/v1/projects/-/serviceAccounts/"+t+":signBlob",data:{bytesToSign:e.toString("base64")}};return o.httpClient.send(r)}).then(function(e){return Buffer.from(e.data.signature,"base64")}).catch(function(e){if(e instanceof r.HttpError){var o=e.response.data,n=void 0,a=void 0;if(i.isNonNullObject(o)&&o.error){n=o.error.status||null;a=o.error.message+"; Please refer to https://firebase.google.com/docs/auth/admin/create-custom-tokens for more details on how to use and troubleshoot this feature."||null}throw t.FirebaseAuthError.fromServerError(n,a,o)}throw e})},e.prototype.getAccountId=function(){var e=this;if(i.isNonEmptyString(this.serviceAccountId))return Promise.resolve(this.serviceAccountId);return(new r.HttpClient).send({method:"GET",url:"http://metadata/computeMetadata/v1/instance/service-accounts/default/email",headers:{"Metadata-Flavor":"Google"}}).then(function(t){return e.serviceAccountId=t.text,e.serviceAccountId}).catch(function(e){throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREDENTIAL,"Failed to determine service account. Make sure to initialize the SDK with a service account credential. Alternatively specify a service account with iam.serviceAccounts.signBlob permission. Original error: "+e)})},e}();function d(t){var o=e.tryGetCertificate(t.options.credential);return null!=o&&i.isNonEmptyString(o.privateKey)&&i.isNonEmptyString(o.clientEmail)?new u(o):new l(new r.AuthorizedHttpClient(t),t.options.serviceAccountId)}exports.IAMSigner=l,exports.cryptoSignerFromApp=d;var h=function(){function e(e){if(!i.isNonNullObject(e))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a CryptoSigner to use FirebaseTokenGenerator.");this.signer=e}return e.prototype.createCustomToken=function(e,r){var i,o=this;if("string"!=typeof e||""===e?i="First argument to createCustomToken() must be a non-empty string uid.":e.length>128?i="First argument to createCustomToken() must a uid with less than or equal to 128 characters.":this.isDeveloperClaimsValid_(r)||(i="Second argument to createCustomToken() must be an object containing the developer claims."),void 0!==i)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,i);var u={};if(void 0!==r)for(var l in r)if(r.hasOwnProperty(l)){if(-1!==s.indexOf(l))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'Developer claim "'+l+'" is reserved and cannot be specified.');u[l]=r[l]}return this.signer.getAccountId().then(function(t){var r={alg:n,typ:"JWT"},i=Math.floor(Date.now()/1e3),s={aud:c,iat:i,exp:i+a,iss:t,sub:t,uid:e};Object.keys(u).length>0&&(s.claims=u);var l=o.encodeSegment(r)+"."+o.encodeSegment(s),d=o.signer.sign(Buffer.from(l));return Promise.all([l,d])}).then(function(e){var t=e[0],r=e[1];return t+"."+o.encodeSegment(r)})},e.prototype.encodeSegment=function(e){var t=e instanceof Buffer?e:Buffer.from(JSON.stringify(e));return o.toWebSafeBase64(t).replace(/\=+$/,"")},e.prototype.isDeveloperClaimsValid_=function(e){return void 0===e||i.isNonNullObject(e)},e}();exports.FirebaseTokenGenerator=h;
},{"./credential":"ktw5","../utils/error":"5IpL","../utils/api-request":"owx1","../utils/validator":"lesR","../utils":"L70j"}],"LbPX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../utils/deep-copy"),e=require("../utils"),t=require("../utils/validator"),s=require("../utils/error");function a(r,e){if(void 0!==r[e]&&null!==r[e])return parseInt(r[e].toString(),10)}function o(r,a){var o,i={localId:r.uid,email:r.email,emailVerified:r.emailVerified,displayName:r.displayName,disabled:r.disabled,photoUrl:r.photoURL,phoneNumber:r.phoneNumber,providerUserInfo:[],customAttributes:r.customClaims&&JSON.stringify(r.customClaims)};if(void 0!==r.passwordHash){if(!t.isBuffer(r.passwordHash))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_PASSWORD_HASH);i.passwordHash=e.toWebSafeBase64(r.passwordHash)}if(void 0!==r.passwordSalt){if(!t.isBuffer(r.passwordSalt))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_PASSWORD_SALT);i.salt=e.toWebSafeBase64(r.passwordSalt)}for(o in t.isNonNullObject(r.metadata)&&(t.isNonEmptyString(r.metadata.creationTime)&&(i.createdAt=new Date(r.metadata.creationTime).getTime()),t.isNonEmptyString(r.metadata.lastSignInTime)&&(i.lastLoginAt=new Date(r.metadata.lastSignInTime).getTime())),t.isArray(r.providerData)&&r.providerData.forEach(function(r){i.providerUserInfo.push({providerId:r.providerId,rawId:r.uid,email:r.email,displayName:r.displayName,photoUrl:r.photoURL})}),i)void 0===i[o]&&delete i[o];return 0===i.providerUserInfo.length&&delete i.providerUserInfo,"function"==typeof a&&a(i),i}var i=function(){function i(r,e,t){this.users=r,this.options=e,this.userRequestValidator=t,this.requiresHashOptions=!1,this.validatedUsers=[],this.userImportResultErrors=[],this.indexMap={},this.validatedUsers=this.populateUsers(this.users,this.userRequestValidator),this.validatedOptions=this.populateOptions(this.options,this.requiresHashOptions)}return i.prototype.buildRequest=function(){var e=this.validatedUsers.map(function(e){return r.deepCopy(e)});return r.deepExtend({users:e},r.deepCopy(this.validatedOptions))},i.prototype.buildResponse=function(e){var t=this,a={successCount:this.users.length-this.userImportResultErrors.length,failureCount:this.userImportResultErrors.length,errors:r.deepCopy(this.userImportResultErrors)};return a.failureCount+=e.length,a.successCount-=e.length,e.forEach(function(r){a.errors.push({index:t.indexMap[r.index],error:new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_USER_IMPORT,r.message)})}),a.errors.sort(function(r,e){return r.index-e.index}),a},i.prototype.populateOptions=function(r,o){var i,h;if(!o)return{};if(!t.isNonNullObject(r))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_ARGUMENT,'"UserImportOptions" are required when importing users with passwords.');if(!t.isNonNullObject(r.hash))throw new s.FirebaseAuthError(s.AuthClientErrorCode.MISSING_HASH_ALGORITHM,'"hash.algorithm" is missing from the provided "UserImportOptions".');if(void 0===r.hash.algorithm||!t.isNonEmptyString(r.hash.algorithm))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'"hash.algorithm" must be a string matching the list of supported algorithms.');switch(r.hash.algorithm){case"HMAC_SHA512":case"HMAC_SHA256":case"HMAC_SHA1":case"HMAC_MD5":if(!t.isBuffer(r.hash.key))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_KEY,'A non-empty "hash.key" byte buffer must be provided for hash algorithm '+r.hash.algorithm+".");i={hashAlgorithm:r.hash.algorithm,signerKey:e.toWebSafeBase64(r.hash.key)};break;case"MD5":case"SHA1":case"SHA256":case"SHA512":case"PBKDF_SHA1":case"PBKDF2_SHA256":if(h=a(r.hash,"rounds"),isNaN(h)||h<0||h>12e4)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ROUNDS,'A valid "hash.rounds" number between 0 and 120000 must be provided for hash algorithm '+r.hash.algorithm+".");i={hashAlgorithm:r.hash.algorithm,rounds:h};break;case"SCRYPT":if(!t.isBuffer(r.hash.key))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_KEY,'A "hash.key" byte buffer must be provided for hash algorithm '+r.hash.algorithm+".");if(h=a(r.hash,"rounds"),isNaN(h)||h<=0||h>8)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ROUNDS,'A valid "hash.rounds" number between 1 and 8 must be provided for hash algorithm '+r.hash.algorithm+".");var n=a(r.hash,"memoryCost");if(isNaN(n)||n<=0||n>14)throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,'A valid "hash.memoryCost" number between 1 and 14 must be provided for hash algorithm '+r.hash.algorithm+".");if(void 0!==r.hash.saltSeparator&&!t.isBuffer(r.hash.saltSeparator))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_SALT_SEPARATOR,'"hash.saltSeparator" must be a byte buffer.');i={hashAlgorithm:r.hash.algorithm,signerKey:e.toWebSafeBase64(r.hash.key),rounds:h,memoryCost:n,saltSeparator:e.toWebSafeBase64(r.hash.saltSeparator||Buffer.from(""))};break;case"BCRYPT":i={hashAlgorithm:r.hash.algorithm};break;case"STANDARD_SCRYPT":var u=a(r.hash,"memoryCost");if(isNaN(u))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,'A valid "hash.memoryCost" number must be provided for hash algorithm '+r.hash.algorithm+".");var l=a(r.hash,"parallelization");if(isNaN(l))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_PARALLELIZATION,'A valid "hash.parallelization" number must be provided for hash algorithm '+r.hash.algorithm+".");var d=a(r.hash,"blockSize");if(isNaN(d))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_BLOCK_SIZE,'A valid "hash.blockSize" number must be provided for hash algorithm '+r.hash.algorithm+".");var p=a(r.hash,"derivedKeyLength");if(isNaN(p))throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_DERIVED_KEY_LENGTH,'A valid "hash.derivedKeyLength" number must be provided for hash algorithm '+r.hash.algorithm+".");i={hashAlgorithm:r.hash.algorithm,cpuMemCost:u,parallelization:l,blockSize:d,dkLen:p};break;default:throw new s.FirebaseAuthError(s.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'Unsupported hash algorithm provider "'+r.hash.algorithm+'".')}return i},i.prototype.populateUsers=function(r,e){var t=this,s=[];return r.forEach(function(r,a){try{var i=o(r,e);void 0!==i.passwordHash&&(t.requiresHashOptions=!0),s.push(i),t.indexMap[s.length-1]=a}catch(h){t.userImportResultErrors.push({index:a,error:h})}}),s},i}();exports.UserImportBuilder=i;
},{"../utils/deep-copy":"Irg2","../utils":"L70j","../utils/validator":"lesR","../utils/error":"5IpL"}],"7vGe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../utils/validator"),n=require("../utils/error"),e=function(){function e(e){if(!i.isNonNullObject(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings" must be a non-null object.');if(void 0===e.url)throw new n.FirebaseAuthError(n.AuthClientErrorCode.MISSING_CONTINUE_URI);if(!i.isURL(e.url))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CONTINUE_URI);if(this.continueUrl=e.url,void 0!==e.handleCodeInApp&&!i.isBoolean(e.handleCodeInApp))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.handleCodeInApp" must be a boolean.');if(this.canHandleCodeInApp=e.handleCodeInApp||!1,void 0!==e.dynamicLinkDomain&&!i.isNonEmptyString(e.dynamicLinkDomain))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);if(this.dynamicLinkDomain=e.dynamicLinkDomain,void 0!==e.iOS){if(!i.isNonNullObject(e.iOS))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS" must be a valid non-null object.');if(void 0===e.iOS.bundleId)throw new n.FirebaseAuthError(n.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);if(!i.isNonEmptyString(e.iOS.bundleId))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS.bundleId" must be a valid non-empty string.');this.ibi=e.iOS.bundleId}if(void 0!==e.android){if(!i.isNonNullObject(e.android))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android" must be a valid non-null object.');if(void 0===e.android.packageName)throw new n.FirebaseAuthError(n.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);if(!i.isNonEmptyString(e.android.packageName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.packageName" must be a valid non-empty string.');if(void 0!==e.android.minimumVersion&&!i.isNonEmptyString(e.android.minimumVersion))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.minimumVersion" must be a valid non-empty string.');if(void 0!==e.android.installApp&&!i.isBoolean(e.android.installApp))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.installApp" must be a valid boolean.');this.apn=e.android.packageName,this.amv=e.android.minimumVersion,this.installApp=e.android.installApp||!1}}return e.prototype.buildRequest=function(){var i={continueUrl:this.continueUrl,canHandleCodeInApp:this.canHandleCodeInApp,dynamicLinkDomain:this.dynamicLinkDomain,androidPackageName:this.apn,androidMinimumVersion:this.amv,androidInstallApp:this.installApp,iOSBundleId:this.ibi};for(var n in i)i.hasOwnProperty(n)&&(void 0!==i[n]&&null!==i[n]||delete i[n]);return i},e}();exports.ActionCodeSettingsBuilder=e;
},{"../utils/validator":"lesR","../utils/error":"5IpL"}],"Hh2L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils"),i=require("../utils/validator"),r=require("../utils/deep-copy"),t=require("../utils/error"),o=function(){function o(r){if(!(r&&r.idpConfig&&r.spConfig&&r.name&&i.isString(r.name)&&o.getProviderIdFromResourceName(r.name)))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");e.addReadonlyGetter(this,"providerId",o.getProviderIdFromResourceName(r.name)),e.addReadonlyGetter(this,"rpEntityId",r.spConfig.spEntityId),e.addReadonlyGetter(this,"callbackURL",r.spConfig.callbackUri),e.addReadonlyGetter(this,"idpEntityId",r.idpConfig.idpEntityId),e.addReadonlyGetter(this,"ssoURL",r.idpConfig.ssoUrl),e.addReadonlyGetter(this,"enableRequestSigning",!!r.idpConfig.signRequest);for(var n=[],d=0,a=r.idpConfig.idpCertificates||[];d<a.length;d++){var s=a[d];s.x509Certificate&&n.push(s.x509Certificate)}e.addReadonlyGetter(this,"x509Certificates",n),e.addReadonlyGetter(this,"enabled",!!r.enabled),e.addReadonlyGetter(this,"displayName",r.displayName)}return o.buildServerRequest=function(e,r){if(void 0===r&&(r=!1),!(i.isNonNullObject(e)&&(e.providerId||r)))return null;var t={};if(o.validate(e,r),t.enabled=e.enabled,t.displayName=e.displayName,(e.idpEntityId||e.ssoURL||e.x509Certificates)&&(t.idpConfig={idpEntityId:e.idpEntityId,ssoUrl:e.ssoURL,signRequest:e.enableRequestSigning,idpCertificates:void 0===e.x509Certificates?void 0:[]},e.x509Certificates))for(var n=0,d=e.x509Certificates||[];n<d.length;n++){var a=d[n];t.idpConfig.idpCertificates.push({x509Certificate:a})}return(e.callbackURL||e.rpEntityId)&&(t.spConfig={spEntityId:e.rpEntityId,callbackUri:e.callbackURL}),t},o.getProviderIdFromResourceName=function(e){var i=e.match(/\/inboundSamlConfigs\/(saml\..*)$/);return!i||i.length<2?null:i[1]},o.isProviderId=function(e){return i.isNonEmptyString(e)&&0===e.indexOf("saml.")},o.validate=function(e,r){void 0===r&&(r=!1);var o={enabled:!0,displayName:!0,providerId:!0,idpEntityId:!0,ssoURL:!0,x509Certificates:!0,rpEntityId:!0,callbackURL:!0,enableRequestSigning:!0};if(!i.isNonNullObject(e))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig" must be a valid non-null object.');for(var n in e)if(!(n in o))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"'+n+'" is not a valid SAML config parameter.');if(i.isNonEmptyString(e.providerId)){if(0!==e.providerId.indexOf("saml."))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".')}else if(!r)throw new t.FirebaseAuthError(e.providerId?t.AuthClientErrorCode.INVALID_PROVIDER_ID:t.AuthClientErrorCode.MISSING_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".');if(!(r&&void 0===e.idpEntityId||i.isNonEmptyString(e.idpEntityId)))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.idpEntityId" must be a valid non-empty string.');if(!(r&&void 0===e.ssoURL||i.isURL(e.ssoURL)))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.ssoURL" must be a valid URL string.');if(!(r&&void 0===e.rpEntityId||i.isNonEmptyString(e.rpEntityId)))throw new t.FirebaseAuthError(e.rpEntityId?t.AuthClientErrorCode.INVALID_CONFIG:t.AuthClientErrorCode.MISSING_SAML_RELYING_PARTY_CONFIG,'"SAMLAuthProviderConfig.rpEntityId" must be a valid non-empty string.');if(!(r&&void 0===e.callbackURL||i.isURL(e.callbackURL)))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.callbackURL" must be a valid URL string.');if(!(r&&void 0===e.x509Certificates||i.isArray(e.x509Certificates)))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.');if((e.x509Certificates||[]).forEach(function(e){if(!i.isNonEmptyString(e))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.')}),void 0!==e.enableRequestSigning&&!i.isBoolean(e.enableRequestSigning))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enableRequestSigning" must be a boolean.');if(void 0!==e.enabled&&!i.isBoolean(e.enabled))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enabled" must be a boolean.');if(void 0!==e.displayName&&!i.isString(e.displayName))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.displayName" must be a valid string.')},o.prototype.toJSON=function(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,idpEntityId:this.idpEntityId,ssoURL:this.ssoURL,x509Certificates:r.deepCopy(this.x509Certificates),rpEntityId:this.rpEntityId,callbackURL:this.callbackURL,enableRequestSigning:this.enableRequestSigning}},o}();exports.SAMLConfig=o;var n=function(){function r(o){if(!(o&&o.issuer&&o.clientId&&o.name&&i.isString(o.name)&&r.getProviderIdFromResourceName(o.name)))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid OIDC configuration response");e.addReadonlyGetter(this,"providerId",r.getProviderIdFromResourceName(o.name)),e.addReadonlyGetter(this,"clientId",o.clientId),e.addReadonlyGetter(this,"issuer",o.issuer),e.addReadonlyGetter(this,"enabled",!!o.enabled),e.addReadonlyGetter(this,"displayName",o.displayName)}return r.buildServerRequest=function(e,t){if(void 0===t&&(t=!1),!(i.isNonNullObject(e)&&(e.providerId||t)))return null;var o={};return r.validate(e,t),o.enabled=e.enabled,o.displayName=e.displayName,o.issuer=e.issuer,o.clientId=e.clientId,o},r.getProviderIdFromResourceName=function(e){var i=e.match(/\/oauthIdpConfigs\/(oidc\..*)$/);return!i||i.length<2?null:i[1]},r.isProviderId=function(e){return i.isNonEmptyString(e)&&0===e.indexOf("oidc.")},r.validate=function(e,r){void 0===r&&(r=!1);var o={enabled:!0,displayName:!0,providerId:!0,clientId:!0,issuer:!0};if(!i.isNonNullObject(e))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig" must be a valid non-null object.');for(var n in e)if(!(n in o))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"'+n+'" is not a valid OIDC config parameter.');if(i.isNonEmptyString(e.providerId)){if(0!==e.providerId.indexOf("oidc."))throw new t.FirebaseAuthError(e.providerId?t.AuthClientErrorCode.INVALID_PROVIDER_ID:t.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".')}else if(!r)throw new t.FirebaseAuthError(e.providerId?t.AuthClientErrorCode.INVALID_PROVIDER_ID:t.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".');if(!(r&&void 0===e.clientId||i.isNonEmptyString(e.clientId)))throw new t.FirebaseAuthError(e.clientId?t.AuthClientErrorCode.INVALID_OAUTH_CLIENT_ID:t.AuthClientErrorCode.MISSING_OAUTH_CLIENT_ID,'"OIDCAuthProviderConfig.clientId" must be a valid non-empty string.');if(!(r&&void 0===e.issuer||i.isURL(e.issuer)))throw new t.FirebaseAuthError(e.issuer?t.AuthClientErrorCode.INVALID_CONFIG:t.AuthClientErrorCode.MISSING_ISSUER,'"OIDCAuthProviderConfig.issuer" must be a valid URL string.');if(void 0!==e.enabled&&!i.isBoolean(e.enabled))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.enabled" must be a boolean.');if(void 0!==e.displayName&&!i.isString(e.displayName))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.displayName" must be a valid string.')},r.prototype.toJSON=function(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,issuer:this.issuer,clientId:this.clientId}},r}();exports.OIDCConfig=n;
},{"../utils":"L70j","../utils/validator":"lesR","../utils/deep-copy":"Irg2","../utils/error":"5IpL"}],"ZAPv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/validator"),r=require("../utils/deep-copy"),t=require("../utils/error"),o=require("../utils/api-request"),i=require("./user-import-builder"),n=require("../utils/index"),s=require("./action-code-settings-builder"),u=require("./auth-config"),a="www.googleapis.com",d=443,A="/identitytoolkit/v3/relyingparty/",l={"X-Client-Version":"Node/Admin/8.3.0"},E=25e3;exports.RESERVED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce","sub","firebase"],exports.EMAIL_ACTION_REQUEST_TYPES=["PASSWORD_RESET","VERIFY_EMAIL","EMAIL_SIGNIN"];var h=1e3,I=1e3,p=1e3,C=300,c=1209600,R=100,f="https://identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",N=function(){function e(e,r){void 0===r&&(r="v1"),this.projectId=e,this.version=r,this.urlFormat=f}return e.prototype.getUrl=function(e,r){var t={version:this.version,projectId:this.projectId,api:e||""},o=n.formatString(this.urlFormat,t);return n.formatString(o,r||{})},e}();function S(r){var o={rawId:!0,providerId:!0,email:!0,displayName:!0,photoUrl:!0};for(var i in r)i in o||delete r[i];if(!e.isNonEmptyString(r.providerId))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID);if(void 0!==r.displayName&&"string"!=typeof r.displayName)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_DISPLAY_NAME,'The provider "displayName" for "'+r.providerId+'" must be a valid string.');if(!e.isNonEmptyString(r.rawId))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID,'The provider "uid" for "'+r.providerId+'" must be a valid non-empty string.');if(void 0!==r.email&&!e.isEmail(r.email))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_EMAIL,'The provider "email" for "'+r.providerId+'" must be a valid email string.');if(void 0!==r.photoUrl&&!e.isURL(r.photoUrl))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PHOTO_URL,'The provider "photoURL" for "'+r.providerId+'" must be a valid URL string.')}function v(r,o){void 0===o&&(o=!1);var i={displayName:!0,localId:!0,email:!0,password:!0,rawPassword:!0,emailVerified:!0,photoUrl:!0,disabled:!0,disableUser:!0,deleteAttribute:!0,deleteProvider:!0,sanityCheck:!0,phoneNumber:!0,customAttributes:!0,validSince:!0,passwordHash:o,salt:o,createdAt:o,lastLoginAt:o,providerUserInfo:o};for(var n in r)n in i||delete r[n];if(void 0!==r.displayName&&!e.isString(r.displayName))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_DISPLAY_NAME);if((void 0!==r.localId||o)&&!e.isUid(r.localId))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID);if(void 0!==r.email&&!e.isEmail(r.email))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_EMAIL);if(void 0!==r.phoneNumber&&!e.isPhoneNumber(r.phoneNumber))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PHONE_NUMBER);if(void 0!==r.password&&!e.isPassword(r.password))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PASSWORD);if(void 0!==r.rawPassword&&!e.isPassword(r.rawPassword))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PASSWORD);if(void 0!==r.emailVerified&&"boolean"!=typeof r.emailVerified)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_EMAIL_VERIFIED);if(void 0!==r.photoUrl&&!e.isURL(r.photoUrl))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PHOTO_URL);if(void 0!==r.disabled&&"boolean"!=typeof r.disabled)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(void 0!==r.validSince&&!e.isNumber(r.validSince))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_TOKENS_VALID_AFTER_TIME);if(void 0!==r.createdAt&&!e.isNumber(r.createdAt))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CREATION_TIME);if(void 0!==r.lastLoginAt&&!e.isNumber(r.lastLoginAt))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_LAST_SIGN_IN_TIME);if(void 0!==r.disableUser&&"boolean"!=typeof r.disableUser)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(void 0!==r.customAttributes){var s;try{s=JSON.parse(r.customAttributes)}catch(a){throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_CLAIMS,a.message)}var u=[];if(exports.RESERVED_CLAIMS.forEach(function(e){s.hasOwnProperty(e)&&u.push(e)}),u.length>0)throw new t.FirebaseAuthError(t.AuthClientErrorCode.FORBIDDEN_CLAIM,u.length>1?'Developer claims "'+u.join('", "')+'" are reserved and cannot be specified.':'Developer claim "'+u[0]+'" is reserved and cannot be specified.');if(r.customAttributes.length>h)throw new t.FirebaseAuthError(t.AuthClientErrorCode.CLAIMS_TOO_LARGE,"Developer claims payload should not exceed "+h+" characters.")}if(void 0!==r.passwordHash&&!e.isString(r.passwordHash))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PASSWORD_HASH);if(void 0!==r.salt&&!e.isString(r.salt))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PASSWORD_SALT);if(void 0!==r.providerUserInfo&&!e.isArray(r.providerUserInfo))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_DATA);e.isArray(r.providerUserInfo)&&r.providerUserInfo.forEach(function(e){S(e)})}exports.FIREBASE_AUTH_CREATE_SESSION_COOKIE=new o.ApiSettings(":createSessionCookie","POST").setRequestValidator(function(r){if(!e.isNonEmptyString(r.idToken))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ID_TOKEN);if(!e.isNumber(r.validDuration)||r.validDuration<C||r.validDuration>c)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)}).setResponseValidator(function(r){if(!e.isNonEmptyString(r.sessionCookie))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR)}),exports.FIREBASE_AUTH_UPLOAD_ACCOUNT=new o.ApiSettings("/accounts:batchCreate","POST"),exports.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=new o.ApiSettings("/accounts:batchGet","GET").setRequestValidator(function(r){if(void 0!==r.nextPageToken&&!e.isNonEmptyString(r.nextPageToken))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!e.isNumber(r.maxResults)||r.maxResults<=0||r.maxResults>I)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed '+I+".")}),exports.FIREBASE_AUTH_GET_ACCOUNT_INFO=new o.ApiSettings("/accounts:lookup","POST").setRequestValidator(function(e){if(!e.localId&&!e.email&&!e.phoneNumber)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}).setResponseValidator(function(e){if(!e.users)throw new t.FirebaseAuthError(t.AuthClientErrorCode.USER_NOT_FOUND)}),exports.FIREBASE_AUTH_DELETE_ACCOUNT=new o.ApiSettings("/accounts:delete","POST").setRequestValidator(function(e){if(!e.localId)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}),exports.FIREBASE_AUTH_SET_ACCOUNT_INFO=new o.ApiSettings("/accounts:update","POST").setRequestValidator(function(e){if(void 0===e.localId)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier");v(e)}).setResponseValidator(function(e){if(!e.localId)throw new t.FirebaseAuthError(t.AuthClientErrorCode.USER_NOT_FOUND)}),exports.FIREBASE_AUTH_SIGN_UP_NEW_USER=new o.ApiSettings("/accounts","POST").setRequestValidator(function(e){if(void 0!==e.customAttributes)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"customAttributes" cannot be set when creating a new user.');if(void 0!==e.validSince)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"validSince" cannot be set when creating a new user.');v(e)}).setResponseValidator(function(e){if(!e.localId)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new user")});var _=new o.ApiSettings("/accounts:sendOobCode","POST").setRequestValidator(function(r){if(!e.isEmail(r.email))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_EMAIL);if(-1===exports.EMAIL_ACTION_REQUEST_TYPES.indexOf(r.requestType))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'"'+r.requestType+'" is not a supported email action request type.')}).setResponseValidator(function(e){if(!e.oobLink)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create the email action link")}),b=new o.ApiSettings("/oauthIdpConfigs/{providerId}","GET").setResponseValidator(function(r){if(!e.isNonEmptyString(r.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get OIDC configuration")}),w=new o.ApiSettings("/oauthIdpConfigs/{providerId}","DELETE"),g=new o.ApiSettings("/oauthIdpConfigs?oauthIdpConfigId={providerId}","POST").setResponseValidator(function(r){if(!e.isNonEmptyString(r.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC configuration")}),m=new o.ApiSettings("/oauthIdpConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(function(r){if(!e.isNonEmptyString(r.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC configuration")}),T=new o.ApiSettings("/oauthIdpConfigs","GET").setRequestValidator(function(r){if(void 0!==r.pageToken&&!e.isNonEmptyString(r.pageToken))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!e.isNumber(r.pageSize)||r.pageSize<=0||r.pageSize>R)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed '+R+".")}),L=new o.ApiSettings("/inboundSamlConfigs/{providerId}","GET").setResponseValidator(function(r){if(!e.isNonEmptyString(r.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get SAML configuration")}),U=new o.ApiSettings("/inboundSamlConfigs/{providerId}","DELETE"),D=new o.ApiSettings("/inboundSamlConfigs?inboundSamlConfigId={providerId}","POST").setResponseValidator(function(r){if(!e.isNonEmptyString(r.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML configuration")}),F=new o.ApiSettings("/inboundSamlConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(function(r){if(!e.isNonEmptyString(r.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML configuration")}),O=new o.ApiSettings("/inboundSamlConfigs","GET").setRequestValidator(function(r){if(void 0!==r.pageToken&&!e.isNonEmptyString(r.pageToken))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!e.isNumber(r.pageSize)||r.pageSize<=0||r.pageSize>R)throw new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed '+R+".")}),P=function(){function a(e){var r=n.getProjectId(e);this.httpClient=new o.AuthorizedHttpClient(e),this.authUrlBuilder=new N(r,"v1"),this.projectConfigUrlBuilder=new N(r,"v2beta1")}return a.getErrorCode=function(r){return e.isNonNullObject(r)&&r.error&&r.error.message||null},a.prototype.createSessionCookie=function(e,r){var t={idToken:e,validDuration:r/1e3};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_CREATE_SESSION_COOKIE,t).then(function(e){return e.sessionCookie})},a.prototype.getAccountInfoByUid=function(r){if(!e.isUid(r))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID));var o={localId:[r]};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_GET_ACCOUNT_INFO,o)},a.prototype.getAccountInfoByEmail=function(r){if(!e.isEmail(r))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_EMAIL));var o={email:[r]};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_GET_ACCOUNT_INFO,o)},a.prototype.getAccountInfoByPhoneNumber=function(r){if(!e.isPhoneNumber(r))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PHONE_NUMBER));var o={phoneNumber:[r]};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_GET_ACCOUNT_INFO,o)},a.prototype.downloadAccount=function(e,r){void 0===e&&(e=I);var t={maxResults:e,nextPageToken:r};return void 0===t.nextPageToken&&delete t.nextPageToken,this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_DOWNLOAD_ACCOUNT,t).then(function(e){return e.users||(e.users=[]),e})},a.prototype.uploadAccount=function(r,o){var n=new i.UserImportBuilder(r,o,function(e){v(e,!0)}),s=n.buildRequest();if(e.isArray(r)&&r.length>p)throw new t.FirebaseAuthError(t.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"A maximum of "+p+" users can be imported at once.");return 0===s.users.length?Promise.resolve(n.buildResponse([])):this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_UPLOAD_ACCOUNT,s).then(function(e){var r=e.error||[];return n.buildResponse(r)})},a.prototype.deleteAccount=function(r){if(!e.isUid(r))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID));var o={localId:r};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_DELETE_ACCOUNT,o)},a.prototype.setCustomUserClaims=function(r,o){if(!e.isUid(r))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID));if(!e.isObject(o))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"CustomUserClaims argument must be an object or null."));null===o&&(o={});var i={localId:r,customAttributes:JSON.stringify(o)};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_SET_ACCOUNT_INFO,i).then(function(e){return e.localId})},a.prototype.updateExistingAccount=function(o,i){if(!e.isUid(o))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID));if(!e.isNonNullObject(i))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));var n=r.deepCopy(i);n.localId=o;var s={displayName:"DISPLAY_NAME",photoURL:"PHOTO_URL"};for(var u in n.deleteAttribute=[],s)null===n[u]&&(n.deleteAttribute.push(s[u]),delete n[u]);return 0===n.deleteAttribute.length&&delete n.deleteAttribute,null===n.phoneNumber?(n.deleteProvider=["phone"],delete n.phoneNumber):delete n.deleteProvider,void 0!==n.photoURL&&(n.photoUrl=n.photoURL,delete n.photoURL),void 0!==n.disabled&&(n.disableUser=n.disabled,delete n.disabled),this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_SET_ACCOUNT_INFO,n).then(function(e){return e.localId})},a.prototype.revokeRefreshTokens=function(r){if(!e.isUid(r))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_UID));var o={localId:r,validSince:Math.ceil((new Date).getTime()/1e3)};return this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_SET_ACCOUNT_INFO,o).then(function(e){return e.localId})},a.prototype.createNewAccount=function(o){if(!e.isNonNullObject(o))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));var i=r.deepCopy(o);return void 0!==i.photoURL&&(i.photoUrl=i.photoURL,delete i.photoURL),void 0!==i.uid&&(i.localId=i.uid,delete i.uid),this.invokeRequestHandler(this.authUrlBuilder,exports.FIREBASE_AUTH_SIGN_UP_NEW_USER,i).then(function(e){return e.localId})},a.prototype.getEmailActionLink=function(e,t,o){var i={requestType:e,email:t,returnOobLink:!0};if(void 0!==o||"EMAIL_SIGNIN"===e)try{var n=new s.ActionCodeSettingsBuilder(o);i=r.deepExtend(i,n.buildRequest())}catch(u){return Promise.reject(u)}return this.invokeRequestHandler(this.authUrlBuilder,_,i).then(function(e){return e.oobLink})},a.prototype.getOAuthIdpConfig=function(e){return u.OIDCConfig.isProviderId(e)?this.invokeRequestHandler(this.projectConfigUrlBuilder,b,{},{providerId:e}):Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID))},a.prototype.listOAuthIdpConfigs=function(e,r){void 0===e&&(e=R);var t={pageSize:e};return void 0!==r&&(t.pageToken=r),this.invokeRequestHandler(this.projectConfigUrlBuilder,T,t).then(function(e){return e.oauthIdpConfigs||(e.oauthIdpConfigs=[],delete e.nextPageToken),e})},a.prototype.deleteOAuthIdpConfig=function(e){return u.OIDCConfig.isProviderId(e)?this.invokeRequestHandler(this.projectConfigUrlBuilder,w,{},{providerId:e}).then(function(e){}):Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID))},a.prototype.createOAuthIdpConfig=function(e){var r;try{r=u.OIDCConfig.buildServerRequest(e)}catch(i){return Promise.reject(i)}var o=e.providerId;return this.invokeRequestHandler(this.projectConfigUrlBuilder,g,r,{providerId:o}).then(function(e){if(!u.OIDCConfig.getProviderIdFromResourceName(e.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC provider configuration");return e})},a.prototype.updateOAuthIdpConfig=function(e,r){if(!u.OIDCConfig.isProviderId(e))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID));var o;try{o=u.OIDCConfig.buildServerRequest(r,!0)||{}}catch(s){return Promise.reject(s)}var i=n.generateUpdateMask(o);return this.invokeRequestHandler(this.projectConfigUrlBuilder,m,o,{providerId:e,updateMask:i.join(",")}).then(function(e){if(!u.OIDCConfig.getProviderIdFromResourceName(e.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC provider configuration");return e})},a.prototype.getInboundSamlConfig=function(e){return u.SAMLConfig.isProviderId(e)?this.invokeRequestHandler(this.projectConfigUrlBuilder,L,{},{providerId:e}):Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID))},a.prototype.listInboundSamlConfigs=function(e,r){void 0===e&&(e=R);var t={pageSize:e};return void 0!==r&&(t.pageToken=r),this.invokeRequestHandler(this.projectConfigUrlBuilder,O,t).then(function(e){return e.inboundSamlConfigs||(e.inboundSamlConfigs=[],delete e.nextPageToken),e})},a.prototype.deleteInboundSamlConfig=function(e){return u.SAMLConfig.isProviderId(e)?this.invokeRequestHandler(this.projectConfigUrlBuilder,U,{},{providerId:e}).then(function(e){}):Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID))},a.prototype.createInboundSamlConfig=function(e){var r;try{r=u.SAMLConfig.buildServerRequest(e)}catch(i){return Promise.reject(i)}var o=e.providerId;return this.invokeRequestHandler(this.projectConfigUrlBuilder,D,r,{providerId:o}).then(function(e){if(!u.SAMLConfig.getProviderIdFromResourceName(e.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML provider configuration");return e})},a.prototype.updateInboundSamlConfig=function(e,r){if(!u.SAMLConfig.isProviderId(e))return Promise.reject(new t.FirebaseAuthError(t.AuthClientErrorCode.INVALID_PROVIDER_ID));var o;try{o=u.SAMLConfig.buildServerRequest(r,!0)}catch(s){return Promise.reject(s)}var i=n.generateUpdateMask(o);return this.invokeRequestHandler(this.projectConfigUrlBuilder,F,o,{providerId:e,updateMask:i.join(",")}).then(function(e){if(!u.SAMLConfig.getProviderIdFromResourceName(e.name))throw new t.FirebaseAuthError(t.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML provider configuration");return e})},a.prototype.invokeRequestHandler=function(e,r,i,n){var s=this;return Promise.resolve().then(function(){r.getRequestValidator()(i);var t={method:r.getHttpMethod(),url:e.getUrl(r.getEndpoint(),n),headers:l,data:i,timeout:E};return s.httpClient.send(t)}).then(function(e){return r.getResponseValidator()(e.data),e.data}).catch(function(e){if(e instanceof o.HttpError){var r=e.response.data,i=a.getErrorCode(r);throw t.FirebaseAuthError.fromServerError(i,void 0,r)}throw e})},a}();exports.FirebaseAuthRequestHandler=P;
},{"../utils/validator":"lesR","../utils/deep-copy":"Irg2","../utils/error":"5IpL","../utils/api-request":"owx1","./user-import-builder":"LbPX","../utils/index":"L70j","./action-code-settings-builder":"7vGe","./auth-config":"Hh2L"}],"JwVK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("../utils/validator"),r=require("jsonwebtoken"),o=require("../utils/api-request"),i="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit";exports.ALGORITHM_RS256="RS256";var n="https://www.googleapis.com/robot/v1/metadata/x509/securetoken@system.gserviceaccount.com",s="https://www.googleapis.com/identitytoolkit/v3/relyingparty/publicKeys";exports.ID_TOKEN_INFO={url:"https://firebase.google.com/docs/auth/admin/verify-id-tokens",verifyApiName:"verifyIdToken()",jwtName:"Firebase ID token",shortName:"ID token",expiredErrorCode:e.AuthClientErrorCode.ID_TOKEN_EXPIRED},exports.SESSION_COOKIE_INFO={url:"https://firebase.google.com/docs/auth/admin/manage-cookies",verifyApiName:"verifySessionCookie()",jwtName:"Firebase session cookie",shortName:"session cookie",expiredErrorCode:e.AuthClientErrorCode.SESSION_COOKIE_EXPIRED};var a=function(){function n(r,o,i,n,s){if(this.clientCertUrl=r,this.algorithm=o,this.issuer=i,this.projectId=n,this.tokenInfo=s,!t.isURL(r))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The provided public client certificate URL is an invalid URL.");if(!t.isNonEmptyString(o))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT algorithm is an empty string.");if(!t.isURL(i))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT issuer is an invalid URL.");if(!t.isNonNullObject(s))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT information is not an object or null.");if(!t.isURL(s.url))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT verification documentation URL is invalid.");if(!t.isNonEmptyString(s.verifyApiName))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT verify API name must be a non-empty string.");if(!t.isNonEmptyString(s.jwtName))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public full name must be a non-empty string.");if(!t.isNonEmptyString(s.shortName))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public short name must be a non-empty string.");if(!(t.isNonNullObject(s.expiredErrorCode)&&"code"in s.expiredErrorCode))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT expiration error code must be a non-null ErrorInfo object.");this.shortNameArticle=s.shortName.charAt(0).match(/[aeiou]/i)?"an":"a"}return n.prototype.verifyJWT=function(o){var n=this;if(!t.isString(o))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,"First argument to "+this.tokenInfo.verifyApiName+" must be a "+this.tokenInfo.jwtName+" string.");if(!t.isNonEmptyString(this.projectId))throw new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_CREDENTIAL,"Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to call "+this.tokenInfo.verifyApiName+".");var s,a=r.decode(o,{complete:!0}),h=a&&a.header,u=a&&a.payload,c=" Make sure the "+this.tokenInfo.shortName+" comes from the same Firebase project as the service account used to authenticate this SDK.",l=" See "+this.tokenInfo.url+" for details on how to retrieve "+this.shortNameArticle+" "+this.tokenInfo.shortName+".";if(a)if(void 0===h.kid){var d=u.aud===i,p="HS256"===h.alg&&0===u.v&&"d"in u&&"uid"in u.d;s=d?this.tokenInfo.verifyApiName+" expects "+this.shortNameArticle+" "+this.tokenInfo.shortName+", but was given a custom token.":p?this.tokenInfo.verifyApiName+" expects "+this.shortNameArticle+" "+this.tokenInfo.shortName+", but was given a legacy custom token.":'Firebase ID token has no "kid" claim.',s+=l}else h.alg!==this.algorithm?s=this.tokenInfo.jwtName+' has incorrect algorithm. Expected "'+this.algorithm+'" but got "'+h.alg+'".'+l:u.aud!==this.projectId?s=this.tokenInfo.jwtName+' has incorrect "aud" (audience) claim. Expected "'+this.projectId+'" but got "'+u.aud+'".'+c+l:u.iss!==this.issuer+this.projectId?s=this.tokenInfo.jwtName+' has incorrect "iss" (issuer) claim. Expected "'+this.issuer+'"'+this.projectId+'" but got "'+u.iss+'".'+c+l:"string"!=typeof u.sub?s=this.tokenInfo.jwtName+' has no "sub" (subject) claim.'+l:""===u.sub?s=this.tokenInfo.jwtName+' has an empty string "sub" (subject) claim.'+l:u.sub.length>128&&(s=this.tokenInfo.jwtName+' has "sub" (subject) claim longer than 128 characters.'+l);else s="Decoding "+this.tokenInfo.jwtName+" failed. Make sure you passed the entire string JWT which represents "+this.shortNameArticle+" "+this.tokenInfo.shortName+"."+l;return void 0!==s?Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,s)):this.fetchPublicKeys().then(function(t){return t.hasOwnProperty(h.kid)?n.verifyJwtSignatureWithKey(o,t[h.kid]):Promise.reject(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,n.tokenInfo.jwtName+' has "kid" claim which does not correspond to a known public key. Most likely the '+n.tokenInfo.shortName+" is expired, so get a fresh token from your client app and try again."))})},n.prototype.verifyJwtSignatureWithKey=function(t,o){var i=this,n=" See "+this.tokenInfo.url+" for details on how to retrieve "+this.shortNameArticle+" "+this.tokenInfo.shortName+".";return new Promise(function(s,a){r.verify(t,o,{algorithms:[i.algorithm]},function(t,r){if(t){if("TokenExpiredError"===t.name){var o=i.tokenInfo.jwtName+" has expired. Get a fresh "+i.tokenInfo.shortName+" from your client app and try again (auth/"+i.tokenInfo.expiredErrorCode.code+")."+n;return a(new e.FirebaseAuthError(i.tokenInfo.expiredErrorCode,o))}if("JsonWebTokenError"===t.name){o=i.tokenInfo.jwtName+" has invalid signature."+n;return a(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,o))}return a(new e.FirebaseAuthError(e.AuthClientErrorCode.INVALID_ARGUMENT,t.message))}r.uid=r.sub,s(r)})})},n.prototype.fetchPublicKeys=function(){var t=this,r=void 0!==this.publicKeys,i=void 0!==this.publicKeysExpireAt&&Date.now()<this.publicKeysExpireAt;if(r&&i)return Promise.resolve(this.publicKeys);var n=new o.HttpClient,s={method:"GET",url:this.clientCertUrl};return n.send(s).then(function(e){if(!e.isJson()||e.data.error)throw new o.HttpError(e);e.headers.hasOwnProperty("cache-control")&&e.headers["cache-control"].split(",").forEach(function(e){var r=e.trim().split("=");if("max-age"===r[0]){var o=+r[1];t.publicKeysExpireAt=Date.now()+1e3*o}});return t.publicKeys=e.data,e.data}).catch(function(t){if(t instanceof o.HttpError){var r="Error fetching public keys for Google certs: ",i=t.response;throw i.isJson()&&i.data.error?(r+=""+i.data.error,i.data.error_description&&(r+=" ("+i.data.error_description+")")):r+=""+i.text,new e.FirebaseAuthError(e.AuthClientErrorCode.INTERNAL_ERROR,r)}throw t})},n}();function h(e){return new a(n,exports.ALGORITHM_RS256,"https://securetoken.google.com/",e,exports.ID_TOKEN_INFO)}function u(e){return new a(s,exports.ALGORITHM_RS256,"https://session.firebase.google.com/",e,exports.SESSION_COOKIE_INFO)}exports.FirebaseTokenVerifier=a,exports.createIdTokenVerifier=h,exports.createSessionCookieVerifier=u;
},{"../utils/error":"5IpL","../utils/validator":"lesR","jsonwebtoken":"pqRd","../utils/api-request":"owx1"}],"XBfB":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./user-record"),r=require("./token-generator"),n=require("./auth-api-request"),o=require("../utils/error"),i=require("../utils/index"),u=require("../utils/validator"),s=require("./token-verifier"),a=require("./auth-config"),h=function(){function e(){}return e.prototype.delete=function(){return Promise.resolve(void 0)},e}(),c=function(){function e(e,t,n){this.projectId=e,this.authRequestHandler=t,this.tokenGenerator=new r.FirebaseTokenGenerator(n),this.sessionCookieVerifier=s.createSessionCookieVerifier(e),this.idTokenVerifier=s.createIdTokenVerifier(e)}return e.prototype.createCustomToken=function(e,t){return this.tokenGenerator.createCustomToken(e,t)},e.prototype.verifyIdToken=function(e,t){var r=this;return void 0===t&&(t=!1),this.idTokenVerifier.verifyJWT(e).then(function(e){return t?r.verifyDecodedJWTNotRevoked(e,o.AuthClientErrorCode.ID_TOKEN_REVOKED):e})},e.prototype.getUser=function(e){return this.authRequestHandler.getAccountInfoByUid(e).then(function(e){return new t.UserRecord(e.users[0])})},e.prototype.getUserByEmail=function(e){return this.authRequestHandler.getAccountInfoByEmail(e).then(function(e){return new t.UserRecord(e.users[0])})},e.prototype.getUserByPhoneNumber=function(e){return this.authRequestHandler.getAccountInfoByPhoneNumber(e).then(function(e){return new t.UserRecord(e.users[0])})},e.prototype.listUsers=function(e,r){return this.authRequestHandler.downloadAccount(e,r).then(function(e){var r=[];e.users.forEach(function(e){r.push(new t.UserRecord(e))});var n={users:r,pageToken:e.nextPageToken};return void 0===n.pageToken&&delete n.pageToken,n})},e.prototype.createUser=function(e){var t=this;return this.authRequestHandler.createNewAccount(e).then(function(e){return t.getUser(e)}).catch(function(e){if("auth/user-not-found"===e.code)throw new o.FirebaseAuthError(o.AuthClientErrorCode.INTERNAL_ERROR,"Unable to create the user record provided.");throw e})},e.prototype.deleteUser=function(e){return this.authRequestHandler.deleteAccount(e).then(function(e){})},e.prototype.updateUser=function(e,t){var r=this;return this.authRequestHandler.updateExistingAccount(e,t).then(function(e){return r.getUser(e)})},e.prototype.setCustomUserClaims=function(e,t){return this.authRequestHandler.setCustomUserClaims(e,t).then(function(e){})},e.prototype.revokeRefreshTokens=function(e){return this.authRequestHandler.revokeRefreshTokens(e).then(function(e){})},e.prototype.importUsers=function(e,t){return this.authRequestHandler.uploadAccount(e,t)},e.prototype.createSessionCookie=function(e,t){return u.isNonNullObject(t)&&u.isNumber(t.expiresIn)?this.authRequestHandler.createSessionCookie(e,t.expiresIn):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION))},e.prototype.verifySessionCookie=function(e,t){var r=this;return void 0===t&&(t=!1),this.sessionCookieVerifier.verifyJWT(e).then(function(e){return t?r.verifyDecodedJWTNotRevoked(e,o.AuthClientErrorCode.SESSION_COOKIE_REVOKED):e})},e.prototype.generatePasswordResetLink=function(e,t){return this.authRequestHandler.getEmailActionLink("PASSWORD_RESET",e,t)},e.prototype.generateEmailVerificationLink=function(e,t){return this.authRequestHandler.getEmailActionLink("VERIFY_EMAIL",e,t)},e.prototype.generateSignInWithEmailLink=function(e,t){return this.authRequestHandler.getEmailActionLink("EMAIL_SIGNIN",e,t)},e.prototype.listProviderConfigs=function(e){var t=function(e,t){var r={providerConfigs:t};return e.hasOwnProperty("nextPageToken")&&(r.pageToken=e.nextPageToken),r};return e&&"oidc"===e.type?this.authRequestHandler.listOAuthIdpConfigs(e.maxResults,e.pageToken).then(function(e){var r=[];return e.oauthIdpConfigs.forEach(function(e){r.push(new a.OIDCConfig(e))}),t(e,r)}):e&&"saml"===e.type?this.authRequestHandler.listInboundSamlConfigs(e.maxResults,e.pageToken).then(function(e){var r=[];return e.inboundSamlConfigs.forEach(function(e){r.push(new a.SAMLConfig(e))}),t(e,r)}):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"AuthProviderConfigFilter.type" must be either "saml\' or "oidc"'))},e.prototype.getProviderConfig=function(e){return a.OIDCConfig.isProviderId(e)?this.authRequestHandler.getOAuthIdpConfig(e).then(function(e){return new a.OIDCConfig(e)}):a.SAMLConfig.isProviderId(e)?this.authRequestHandler.getInboundSamlConfig(e).then(function(e){return new a.SAMLConfig(e)}):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.deleteProviderConfig=function(e){return a.OIDCConfig.isProviderId(e)?this.authRequestHandler.deleteOAuthIdpConfig(e):a.SAMLConfig.isProviderId(e)?this.authRequestHandler.deleteInboundSamlConfig(e):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_PROVIDER_ID))},e.prototype.updateProviderConfig=function(e,t){return u.isNonNullObject(t)?a.OIDCConfig.isProviderId(e)?this.authRequestHandler.updateOAuthIdpConfig(e,t).then(function(e){return new a.OIDCConfig(e)}):a.SAMLConfig.isProviderId(e)?this.authRequestHandler.updateInboundSamlConfig(e,t).then(function(e){return new a.SAMLConfig(e)}):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "UpdateAuthProviderRequest" configuration.'))},e.prototype.createProviderConfig=function(e){return u.isNonNullObject(e)?a.OIDCConfig.isProviderId(e.providerId)?this.authRequestHandler.createOAuthIdpConfig(e).then(function(e){return new a.OIDCConfig(e)}):a.SAMLConfig.isProviderId(e.providerId)?this.authRequestHandler.createInboundSamlConfig(e).then(function(e){return new a.SAMLConfig(e)}):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "AuthProviderConfig" configuration.'))},e.prototype.verifyDecodedJWTNotRevoked=function(e,t){return this.getUser(e.sub).then(function(r){if(r.tokensValidAfterTime&&1e3*e.auth_time<new Date(r.tokensValidAfterTime).getTime())throw new o.FirebaseAuthError(t);return e})},e}(),d=function(t){function u(e){var o=t.call(this,u.getProjectId(e),new n.FirebaseAuthRequestHandler(e),r.cryptoSignerFromApp(e))||this;return o.INTERNAL=new h,o.app_=e,o}return e(u,t),u.getProjectId=function(e){if("object"!=typeof e||null===e||!("options"in e))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.auth() must be a valid Firebase app instance.");return i.getProjectId(e)},Object.defineProperty(u.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),u}(c);exports.Auth=d;
},{"./user-record":"1VnO","./token-generator":"DxCL","./auth-api-request":"ZAPv","../utils/error":"5IpL","../utils/index":"L70j","../utils/validator":"lesR","./token-verifier":"JwVK","./auth-config":"Hh2L"}],"xgwM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=u,exports.__awaiter=i,exports.__generator=c,exports.__exportStar=f,exports.__values=l,exports.__read=s,exports.__spread=p,exports.__spreadArrays=y,exports.__await=_,exports.__asyncGenerator=h,exports.__asyncDelegator=v,exports.__asyncValues=b,exports.__makeTemplateObject=d,exports.__importStar=x,exports.__importDefault=w,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,u=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(u=(a<3?o(u):a>3?o(e,r,u):o(e,r))||u);return a>3&&u&&Object.defineProperty(e,r,u),u}function a(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e,r,n){return new(r||(r=Promise))(function(o,a){function u(t){try{c(n.next(t))}catch(e){a(e)}}function i(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(u,i)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function f(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],u=0,i=a.length;u<i;u++,o++)n[o]=a[u];return n}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function h(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||i(t,e)})})}function i(t,e){try{(r=o[t](e)).value instanceof _?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){i("next",t)}function f(t){i("throw",t)}function l(t,e){t(e),a.shift(),a.length&&i(a[0][0],a[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:_(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof l?l(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function d(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}exports.__assign=r;
},{}],"O2DF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.async=W,exports.contains=D,exports.createSubscribe=L,exports.deepCopy=h,exports.deepExtend=f,exports.errorPrefix=U,exports.getUA=p,exports.isBrowser=d,exports.isEmpty=k,exports.isMobileCordova=l,exports.isNode=v,exports.isNodeSdk=y,exports.isReactNative=b,exports.jsonEval=A,exports.map=M,exports.querystring=B,exports.querystringDecode=P,exports.safeGet=j,exports.stringify=m,exports.validateCallback=H,exports.validateContextObject=J,exports.validateNamespace=q,exports.validateArgCount=exports.stringToByteArray=exports.stringLength=exports.issuedAtTime=exports.isValidTimestamp=exports.isValidFormat=exports.isAdmin=exports.decode=exports.base64Encode=exports.base64Decode=exports.base64=exports.assertionError=exports.assert=exports.Sha1=exports.FirebaseError=exports.ErrorFactory=exports.Deferred=exports.CONSTANTS=void 0;var r=require("tslib"),t={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};exports.CONSTANTS=t;var e=function(r,t){if(!r)throw o(t)};exports.assert=e;var o=function(r){return new Error("Firebase Database ("+t.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};exports.assertionError=o;var i=function(r){for(var t=[],e=0,o=0;o<r.length;o++){var i=r.charCodeAt(o);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=63&i|128):55296==(64512&i)&&o+1<r.length&&56320==(64512&r.charCodeAt(o+1))?(i=65536+((1023&i)<<10)+(1023&r.charCodeAt(++o)),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=63&i|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=63&i|128)}return t},n=function(r){for(var t=[],e=0,o=0;e<r.length;){var i=r[e++];if(i<128)t[o++]=String.fromCharCode(i);else if(i>191&&i<224){var n=r[e++];t[o++]=String.fromCharCode((31&i)<<6|63&n)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(n=r[e++]))<<12|(63&(a=r[e++]))<<6|63&r[e++])-65536;t[o++]=String.fromCharCode(55296+(s>>10)),t[o++]=String.fromCharCode(56320+(1023&s))}else{n=r[e++];var a=r[e++];t[o++]=String.fromCharCode((15&i)<<12|(63&n)<<6|63&a)}}return t.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[],i=0;i<r.length;i+=3){var n=r[i],s=i+1<r.length,a=s?r[i+1]:0,c=i+2<r.length,h=c?r[i+2]:0,f=n>>2,u=(3&n)<<4|a>>4,p=(15&a)<<2|h>>6,l=63&h;c||(l=64,s||(p=64)),o.push(e[f],e[u],e[p],e[l])}return o.join("")},encodeString:function(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(i(r),t)},decodeString:function(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):n(this.decodeStringToByteArray(r,t))},decodeStringToByteArray:function(r,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[],i=0;i<r.length;){var n=e[r.charAt(i++)],s=i<r.length?e[r.charAt(i)]:0,a=++i<r.length?e[r.charAt(i)]:64,c=++i<r.length?e[r.charAt(i)]:64;if(++i,null==n||null==s||null==a||null==c)throw Error();var h=n<<2|s>>4;if(o.push(h),64!==a){var f=s<<4&240|a>>2;if(o.push(f),64!==c){var u=a<<6&192|c;o.push(u)}}}return o},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};exports.base64=s;var a=function(r){var t=i(r);return s.encodeByteArray(t,!0)};exports.base64Encode=a;var c=function(r){try{return s.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(r){return f(void 0,r)}function f(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===r&&(r={});break;case Array:r=[];break;default:return t}for(var e in t)t.hasOwnProperty(e)&&(r[e]=f(r[e],t[e]));return r}exports.base64Decode=c;var u=function(){function r(){var r=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,e){r.resolve=t,r.reject=e})}return r.prototype.wrapCallback=function(r){var t=this;return function(e,o){e?t.reject(e):t.resolve(o),"function"==typeof r&&(t.promise.catch(function(){}),1===r.length?r(e):r(e,o))}},r}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(r){return!1}}function d(){return"object"==typeof self&&self.self===self}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return!0===t.NODE_CLIENT||!0===t.NODE_ADMIN}exports.Deferred=u;var _="FirebaseError",E=function(t){function e(r,o){var i=t.call(this,o)||this;return i.code=r,i.name=_,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return(0,r.__extends)(e,t),e}(Error);exports.FirebaseError=E;var g=function(){function r(r,t,e){this.service=r,this.serviceName=t,this.errors=e}return r.prototype.create=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var o=t[0]||{},i=this.service+"/"+r,n=this.errors[r],s=n?S(n,o):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new E(i,a),h=0,f=Object.keys(o);h<f.length;h++){var u=f[h];"_"!==u.slice(-1)&&(u in c&&console.warn('Overwriting FirebaseError base field "'+u+'" can cause unexpected behavior.'),c[u]=o[u])}return c},r}();function S(r,t){return r.replace(x,function(r,e){var o=t[e];return null!=o?o.toString():"<"+e+"?>"})}exports.ErrorFactory=g;var x=/\{\$([^}]+)}/g;function A(r){return JSON.parse(r)}function m(r){return JSON.stringify(r)}var O=function(r){var t={},e={},o={},i="";try{var n=r.split(".");t=A(c(n[0])||""),e=A(c(n[1])||""),i=n[2],o=e.d||{},delete e.d}catch(s){}return{header:t,claims:e,data:o,signature:i}};exports.decode=O;var C=function(r){var t=O(r).claims,e=Math.floor((new Date).getTime()/1e3),o=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?o=t.nbf:t.hasOwnProperty("iat")&&(o=t.iat),i=t.hasOwnProperty("exp")?t.exp:o+86400),!!e&&!!o&&!!i&&e>=o&&e<=i};exports.isValidTimestamp=C;var T=function(r){var t=O(r).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null};exports.issuedAtTime=T;var w=function(r){var t=O(r).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")};exports.isValidFormat=w;var N=function(r){var t=O(r).claims;return"object"==typeof t&&!0===t.admin};function D(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function j(r,t){return Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0}function k(r){for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function M(r,t,e){var o={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=t.call(e,r[i],i,r));return o}function B(r){for(var t=[],e=function(r,e){Array.isArray(e)?e.forEach(function(e){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))},o=0,i=Object.entries(r);o<i.length;o++){var n=i[o];e(n[0],n[1])}return t.length?"&"+t.join("&"):""}function P(r){var t={};return r.replace(/^\?/,"").split("&").forEach(function(r){if(r){var e=r.split("=");t[e[0]]=e[1]}}),t}exports.isAdmin=N;var V=function(){function r(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var r=1;r<this.blockSize;++r)this.pad_[r]=0;this.reset()}return r.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},r.prototype.compress_=function(r,t){t||(t=0);var e=this.W_;if("string"==typeof r)for(var o=0;o<16;o++)e[o]=r.charCodeAt(t)<<24|r.charCodeAt(t+1)<<16|r.charCodeAt(t+2)<<8|r.charCodeAt(t+3),t+=4;else for(o=0;o<16;o++)e[o]=r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3],t+=4;for(o=16;o<80;o++){var i=e[o-3]^e[o-8]^e[o-14]^e[o-16];e[o]=4294967295&(i<<1|i>>>31)}var n,s,a=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],u=this.chain_[4];for(o=0;o<80;o++){o<40?o<20?(n=f^c&(h^f),s=1518500249):(n=c^h^f,s=1859775393):o<60?(n=c&h|f&(c|h),s=2400959708):(n=c^h^f,s=3395469782);i=(a<<5|a>>>27)+n+u+s+e[o]&4294967295;u=f,f=h,h=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},r.prototype.update=function(r,t){if(null!=r){void 0===t&&(t=r.length);for(var e=t-this.blockSize,o=0,i=this.buf_,n=this.inbuf_;o<t;){if(0===n)for(;o<=e;)this.compress_(r,o),o+=this.blockSize;if("string"==typeof r){for(;o<t;)if(i[n]=r.charCodeAt(o),++o,++n===this.blockSize){this.compress_(i),n=0;break}}else for(;o<t;)if(i[n]=r[o],++o,++n===this.blockSize){this.compress_(i),n=0;break}}this.inbuf_=n,this.total_+=t}},r.prototype.digest=function(){var r=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);var o=0;for(e=0;e<5;e++)for(var i=24;i>=0;i-=8)r[o]=this.chain_[e]>>i&255,++o;return r},r}();function L(r,t){var e=new I(r,t);return e.subscribe.bind(e)}exports.Sha1=V;var I=function(){function r(r,t){var e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){r(e)}).catch(function(r){e.error(r)})}return r.prototype.next=function(r){this.forEachObserver(function(t){t.next(r)})},r.prototype.error=function(r){this.forEachObserver(function(t){t.error(r)}),this.close(r)},r.prototype.complete=function(){this.forEachObserver(function(r){r.complete()}),this.close()},r.prototype.subscribe=function(r,t,e){var o,i=this;if(void 0===r&&void 0===t&&void 0===e)throw new Error("Missing Observer.");void 0===(o=F(r,["next","error","complete"])?r:{next:r,error:t,complete:e}).next&&(o.next=R),void 0===o.error&&(o.error=R),void 0===o.complete&&(o.complete=R);var n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch(r){}}),this.observers.push(o),n},r.prototype.unsubscribeOne=function(r){void 0!==this.observers&&void 0!==this.observers[r]&&(delete this.observers[r],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},r.prototype.forEachObserver=function(r){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,r)},r.prototype.sendOne=function(r,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[r])try{t(e.observers[r])}catch(o){"undefined"!=typeof console&&console.error&&console.error(o)}})},r.prototype.close=function(r){var t=this;this.finalized||(this.finalized=!0,void 0!==r&&(this.finalError=r),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},r}();function W(r,t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];Promise.resolve(!0).then(function(){r.apply(void 0,e)}).catch(function(r){t&&t(r)})}}function F(r,t){if("object"!=typeof r||null===r)return!1;for(var e=0,o=t;e<o.length;e++){var i=o[e];if(i in r&&"function"==typeof r[i])return!0}return!1}function R(){}var z=function(r,t,e,o){var i;if(o<t?i="at least "+t:o>e&&(i=0===e?"none":"no more than "+e),i)throw new Error(r+" failed: Was called with "+o+(1===o?" argument.":" arguments.")+" Expects "+i+".")};function U(r,t,e){var o="";switch(t){case 1:o=e?"first":"First";break;case 2:o=e?"second":"Second";break;case 3:o=e?"third":"Third";break;case 4:o=e?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=r+" failed: ";return i+=o+" argument "}function q(r,t,e,o){if((!o||e)&&"string"!=typeof e)throw new Error(U(r,t,o)+"must be a valid firebase namespace.")}function H(r,t,e,o){if((!o||e)&&"function"!=typeof e)throw new Error(U(r,t,o)+"must be a valid function.")}function J(r,t,e,o){if((!o||e)&&("object"!=typeof e||null===e))throw new Error(U(r,t,o)+"must be a valid context object.")}exports.validateArgCount=z;var G=function(r){for(var t=[],o=0,i=0;i<r.length;i++){var n=r.charCodeAt(i);if(n>=55296&&n<=56319){var s=n-55296;e(++i<r.length,"Surrogate pair missing trail surrogate."),n=65536+(s<<10)+(r.charCodeAt(i)-56320)}n<128?t[o++]=n:n<2048?(t[o++]=n>>6|192,t[o++]=63&n|128):n<65536?(t[o++]=n>>12|224,t[o++]=n>>6&63|128,t[o++]=63&n|128):(t[o++]=n>>18|240,t[o++]=n>>12&63|128,t[o++]=n>>6&63|128,t[o++]=63&n|128)}return t};exports.stringToByteArray=G;var K=function(r){for(var t=0,e=0;e<r.length;e++){var o=r.charCodeAt(e);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,e++):t+=3}return t};exports.stringLength=K;
},{"tslib":"xgwM"}],"8eOQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setLogLevel=l,exports.Logger=exports.LogLevel=void 0;var e,o=[];exports.LogLevel=e,function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(e||(exports.LogLevel=e={}));var t=e.INFO,n=function(o,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<o.logLevel)){var l=(new Date).toISOString();switch(t){case e.DEBUG:case e.VERBOSE:console.log.apply(console,["["+l+"]  "+o.name+":"].concat(n));break;case e.INFO:console.info.apply(console,["["+l+"]  "+o.name+":"].concat(n));break;case e.WARN:console.warn.apply(console,["["+l+"]  "+o.name+":"].concat(n));break;case e.ERROR:console.error.apply(console,["["+l+"]  "+o.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},r=function(){function r(e){this.name=e,this._logLevel=t,this._logHandler=n,o.push(this)}return Object.defineProperty(r.prototype,"logLevel",{get:function(){return this._logLevel},set:function(o){if(!(o in e))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=o},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),r.prototype.debug=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];this._logHandler.apply(this,[this,e.DEBUG].concat(o))},r.prototype.log=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];this._logHandler.apply(this,[this,e.VERBOSE].concat(o))},r.prototype.info=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];this._logHandler.apply(this,[this,e.INFO].concat(o))},r.prototype.warn=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];this._logHandler.apply(this,[this,e.WARN].concat(o))},r.prototype.error=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];this._logHandler.apply(this,[this,e.ERROR].concat(o))},r}();function l(e){o.forEach(function(o){o.logLevel=e})}exports.Logger=r;
},{}],"fy6H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.firebase=exports.default=void 0;var e,t=require("tslib"),i=require("@firebase/util"),n=require("@firebase/logger"),r=((e={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",e["bad-app-name"]="Illegal App name: '{$appName}",e["duplicate-app"]="Firebase App named '{$appName}' already exists",e["app-deleted"]="Firebase App named '{$appName}' already deleted",e["duplicate-service"]="Firebase service named '{$appName}' already registered",e["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",e),a=new i.ErrorFactory("app","Firebase",r),o="[DEFAULT]",s=[],p=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,i.deepCopy)(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){s.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){s=s.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],i=0,n=Object.keys(e.services_);i<n.length;i++)for(var r=n[i],a=0,o=Object.keys(e.services_[r]);a<o.length;a++){var s=o[a];t.push(e.services_[r][s])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=o),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var i=t!==o?t:void 0,n=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),i);this.services_[e][t]=n}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=o),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;(0,i.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(s.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),s=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw a.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var c="6.3.5";function u(e){var t={},n={},r={},s={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){var p=r;r={name:p}}var c=r;void 0===c.name&&(c.name=o);var u=c.name;if("string"!=typeof u||!u)throw a.create("bad-app-name",{appName:String(u)});if((0,i.contains)(t,u))throw a.create("duplicate-app",{appName:u});var d=new e(n,c,s);return t[u]=d,l(d,"create"),d},app:p,apps:null,SDK_VERSION:c,INTERNAL:{registerService:function(t,o,c,l,d){void 0===d&&(d=!1);if(n[t])throw a.create("duplicate-service",{appName:t});n[t]=o,l&&(r[t]=l,u().forEach(function(e){l("create",e)}));function f(e){if(void 0===e&&(e=p()),"function"!=typeof e[t])throw a.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==c&&(0,i.deepExtend)(f,c);return s[t]=f,e.prototype[t]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._getService.bind(this,t).apply(this,d?e:[])},f},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:d}};function p(e){if(e=e||o,!(0,i.contains)(t,e))throw a.create("no-app",{appName:e});return t[e]}function u(){return Object.keys(t).map(function(e){return t[e]})}function l(e,t){for(var i=0,a=Object.keys(n);i<a.length;i++){var o=d(e,a[i]);if(null===o)return;r[o]&&r[o](t,e)}}function d(e,t){return"serverAuth"===t?null:t}return s.default=s,Object.defineProperty(s,"apps",{get:u}),p.App=e,s}function l(){var e=u(p);return e.INTERNAL=(0,t.__assign)({},e.INTERNAL,{createFirebaseNamespace:l,extendNamespace:function(t){(0,i.deepExtend)(e,t)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,deepExtend:i.deepExtend}),e}var d=new n.Logger("@firebase/app");if((0,i.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var f=self.firebase.SDK_VERSION;f&&f.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var h=l(),v=h.initializeApp;h.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.isNode)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,e)};var m=h;exports.firebase=m;var b=m;exports.default=b;
},{"tslib":"xgwM","@firebase/util":"O2DF","@firebase/logger":"8eOQ"}],"aKuY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerDatabase=Vr,exports.enableLogging=exports.ServerValue=exports.Reference=exports.Query=exports.OnDisconnect=exports.Database=exports.DataSnapshot=void 0;var t=i(require("@firebase/app")),e=require("tslib"),n=require("@firebase/util"),r=require("@firebase/logger");function i(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,n.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,n.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),s=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,n.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),a=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new o(e)}}catch(n){}return new s},h=a("localStorage"),u=a("sessionStorage"),l=new r.Logger("@firebase/database"),c=function(){var t=1;return function(){return t++}}(),p=function(t){var e=(0,n.stringToByteArray)(t),r=new n.Sha1;r.update(e);var i=r.digest();return n.base64.encodeByteArray(i)},d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"==typeof t[i]&&"number"==typeof t[i].length?r+=d.apply(null,t[i]):"object"==typeof t[i]?r+=(0,n.stringify)(t[i]):r+=t[i],r+=" ";return r},f=null,_=!0,y=function(t,e){(0,n.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(l.logLevel=r.LogLevel.VERBOSE,f=l.log.bind(l),e&&u.set("logging_enabled",!0)):"function"==typeof t?f=t:(f=null,u.remove("logging_enabled"))};exports.enableLogging=y;var v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===f&&!0===u.get("logging_enabled")&&y(!0)),f){var n=d.apply(null,t);f(n)}},g=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v.apply(void 0,(0,e.__spread)([t],n))}},m=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="FIREBASE INTERNAL ERROR: "+d.apply(void 0,(0,e.__spread)(t));l.error(r)},C=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="FIREBASE FATAL ERROR: "+d.apply(void 0,(0,e.__spread)(t));throw l.error(r),new Error(r)},E=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="FIREBASE WARNING: "+d.apply(void 0,(0,e.__spread)(t));l.warn(r)},w=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},S=function(t){if((0,n.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,r=function(){document.body?e||(e=!0,t()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}},b="[MIN_NAME]",N="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===b||e===N)return-1;if(e===b||t===N)return 1;var n=W(t),r=W(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,n.stringify)(e))},D=function(t){if("object"!=typeof t||null===t)return(0,n.stringify)(t);var e=[];for(var r in t)e.push(r);e.sort();for(var i="{",o=0;o<e.length;o++)0!==o&&(i+=","),i+=(0,n.stringify)(e[o]),i+=":",i+=D(t[e[o]]);return i+="}"},x=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function k(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var O=function(t){(0,n.assert)(!T(t),"Invalid JSON number");var e,r,i,o,s,a,h;for(0===t?(r=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(r=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(t/Math.pow(2,-1074)))),a=[],s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(e?1:0),a.reverse(),h=a.join("");var u="";for(s=0;s<64;s+=8){var l=parseInt(h.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},F=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},A=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},L=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},M=new RegExp("^-?\\d{1,10}$"),W=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},q=function(t){try{t()}catch(e){setTimeout(function(){var t=e.stack||"";throw E("Exception was thrown by user callback.",t),e},Math.floor(0))}},Q=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),H=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=(0,n.stringLength)(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=(0,n.stringLength)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=(0,n.stringLength)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),B="5",j="v",Y="s",K="r",z="f",G="firebaseio.com",X="ls",$="websocket",J="long_polling",Z=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var r;if((0,n.assert)("string"==typeof t,"typeof type must == string"),(0,n.assert)("object"==typeof e,"typeof params must == object"),t===$)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return k(e,function(t,e){i.push(t+"="+e)}),r+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();function tt(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function et(t){var n,r,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=(0,e.__values)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var h=a.split("=");2===h.length?i[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):E("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}var nt=function(t){var e=rt(t),n=e.subdomain;"firebase"===e.domain&&C(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||w();var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Z(e.host,e.secure,n,r),path:new V(e.pathString)}},rt=function(t){var e="",n="",r="",i="",o=!0,s="https",a=443;if("string"==typeof t){var h=t.indexOf("//");h>=0&&(s=t.substring(0,h-1),t=t.substring(h+2));var u=t.indexOf("/");-1===u&&(u=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(u,l)),u<l&&(i=tt(t.substring(u,l)));var c=et(t.substring(Math.min(t.length,l)));(h=e.indexOf(":"))>=0?(o="https"===s||"wss"===s,a=parseInt(e.substring(h+1),10)):h=t.length;var p=e.split(".");3===p.length?(n=p[1],r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,h).toLowerCase()&&(n="localhost"),""===r&&"ns"in c&&(r=c.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:s,pathString:i}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,st=10485760,at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},ht=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ut=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ht(t)},lt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&(0,n.contains)(t,".sv")},ct=function(t,e,r,i,o){o&&void 0===r||pt((0,n.errorPrefix)(t,e,o),r,i)},pt=function(t,e,r){var i=r instanceof V?new H(r,t):r;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(T(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>st/3&&(0,n.stringLength)(e)>st)throw new Error(t+"contains a string greater than "+st+" utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(k(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!at(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),pt(t,n,i),i.pop()}),o&&s)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},dt=function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!at(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(V.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},ft=function(t,e,r,i,o){if(!o||void 0!==r){var s=(0,n.errorPrefix)(t,e,o);if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(s+" must be an object containing the children to replace.");var a=[];k(r,function(t,e){var n=new V(t);if(pt(s,e,i.child(n)),".priority"===n.getBack()&&!lt(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),dt(s,a)}},_t=function(t,e,r,i){if(!i||void 0!==r){if(T(r))throw new Error((0,n.errorPrefix)(t,e,i)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lt(r))throw new Error((0,n.errorPrefix)(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yt=function(t,e,r,i){if(!i||void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,n.errorPrefix)(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vt=function(t,e,r,i){if(!(i&&void 0===r||at(r)))throw new Error((0,n.errorPrefix)(t,e,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gt=function(t,e,r,i){if(!(i&&void 0===r||ht(r)))throw new Error((0,n.errorPrefix)(t,e,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gt(t,e,n,r)},Ct=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Et=function(t,e,r){var i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!at(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!ut(i))throw new Error((0,n.errorPrefix)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},wt=function(t,e,r,i){if((!i||void 0!==r)&&"boolean"!=typeof r)throw new Error((0,n.errorPrefix)(t,e,i)+"must be a boolean.")},Tt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){(0,n.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,n.validateCallback)("OnDisconnect.cancel",1,t,!0);var e=new n.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){(0,n.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Ct("OnDisconnect.remove",this.path_),(0,n.validateCallback)("OnDisconnect.remove",1,t,!0);var e=new n.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){(0,n.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Ct("OnDisconnect.set",this.path_),ct("OnDisconnect.set",1,t,this.path_,!1),(0,n.validateCallback)("OnDisconnect.set",2,e,!0);var r=new n.Deferred;return this.repo_.onDisconnectSet(this.path_,t,r.wrapCallback(e)),r.promise},t.prototype.setWithPriority=function(t,e,r){(0,n.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Ct("OnDisconnect.setWithPriority",this.path_),ct("OnDisconnect.setWithPriority",1,t,this.path_,!1),_t("OnDisconnect.setWithPriority",2,e,!1),(0,n.validateCallback)("OnDisconnect.setWithPriority",3,r,!0);var i=new n.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(r)),i.promise},t.prototype.update=function(t,e){if((0,n.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Ct("OnDisconnect.update",this.path_),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ft("OnDisconnect.update",1,t,this.path_,!1),(0,n.validateCallback)("OnDisconnect.update",2,e,!0);var o=new n.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},t}();exports.OnDisconnect=Tt;var St,bt,Nt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,n.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),It=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,r=[];return function(i){var o,s=i===e;e=i;var a=new Array(8);for(o=7;o>=0;o--)a[o]=t.charAt(i%64),i=Math.floor(i/64);(0,n.assert)(0===i,"Cannot push at time == 0");var h=a.join("");if(s){for(o=11;o>=0&&63===r[o];o--)r[o]=0;r[o]++}else for(o=0;o<12;o++)r[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=t.charAt(r[o]);return(0,n.assert)(20===h.length,"nextPushId: Length should be 20."),h}}(),Rt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Pt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Rt(b,t),r=new Rt(b,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Rt.MIN},t}(),Dt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(r,t),Object.defineProperty(r,"__EMPTY_NODE",{get:function(){return St},set:function(t){St=t},enumerable:!0,configurable:!0}),r.prototype.compare=function(t,e){return I(t.name,e.name)},r.prototype.isDefinedOn=function(t){throw(0,n.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},r.prototype.indexedValueChanged=function(t,e){return!1},r.prototype.minPost=function(){return Rt.MIN},r.prototype.maxPost=function(){return new Rt(N,St)},r.prototype.makePost=function(t,e){return(0,n.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,St)},r.prototype.toString=function(){return".key"},r}(Pt),xt=new Dt;function kt(t){bt=t}var Ot,Ft,At,Lt=function(t){return"number"==typeof t?"number:"+O(t):"string:"+t},Mt=function(t){if(t.isLeafNode()){var e=t.val();(0,n.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,n.contains)(e,".sv"),"Priority must be a string or number.")}else(0,n.assert)(t===bt||t.isEmpty(),"priority of unexpected type.");(0,n.assert)(t===bt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Wt=function(){function t(e,r){void 0===r&&(r=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,n.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Mt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ot},set:function(t){Ot=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,r){var i=e.getFront();return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,n.assert)(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),r)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Lt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?O(this.value_):this.value_,this.lazyHash_=p(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,n.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var r=typeof e.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,n.assert)(o>=0,"Unknown leaf type: "+r),(0,n.assert)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();function qt(t){Ft=t}function Qt(t){At=t}var Ut,Vt,Ht=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},n.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},n.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},n.prototype.minPost=function(){return Rt.MIN},n.prototype.maxPost=function(){return new Rt(N,new Wt("[PRIORITY-POST]",At))},n.prototype.makePost=function(t,e){var n=Ft(t);return new Rt(e,new Wt("[PRIORITY-POST]",n))},n.prototype.toString=function(){return".priority"},n}(Pt),Bt=new Ht,jt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Yt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:zt.EMPTY_NODE,this.right=null!=o?o:zt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return zt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return zt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Yt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),zt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new jt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new jt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Kt,t}(),Gt=Math.log(2),Xt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Gt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),$t=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0==a)return null;if(1==a)return o=t[e],s=n?n(o):o,new Yt(s,o.node,Yt.BLACK,null,null);var h=parseInt(a/2,10)+e,u=i(e,h),l=i(h+1,r);return o=t[h],s=n?n(o):o,new Yt(s,o.node,Yt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],c=n?n(l):l;h(new Yt(c,l.node,r,null,u))},h=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),c=Math.pow(2,e.count-(u+1));l?a(c,Yt.BLACK):(a(c,Yt.BLACK),a(c,Yt.RED))}return o}(new Xt(t.length));return new zt(r||e,o)},Jt={},Zt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,n.assert)(Jt&&Bt,"ChildrenNode.ts has not been loaded"),Ut=Ut||new t({".priority":Jt},{".priority":Bt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=(0,n.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof zt?e:null},t.prototype.hasIndex=function(t){return(0,n.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(r,i){(0,n.assert)(r!==xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var o,s=[],a=!1,h=i.getIterator(Rt.Wrap),u=h.getNext();u;)a=a||r.isDefinedOn(u.node),s.push(u),u=h.getNext();o=a?$t(s,r.getCompare()):Jt;var l=r.toString(),c=(0,e.__assign)({},this.indexSet_);c[l]=r;var p=(0,e.__assign)({},this.indexes_);return p[l]=o,new t(p,c)},t.prototype.addToIndexes=function(e,r){var i=this;return new t((0,n.map)(this.indexes_,function(t,o){var s=(0,n.safeGet)(i.indexSet_,o);if((0,n.assert)(s,"Missing index implementation for "+o),t===Jt){if(s.isDefinedOn(e.node)){for(var a=[],h=r.getIterator(Rt.Wrap),u=h.getNext();u;)u.name!=e.name&&a.push(u),u=h.getNext();return a.push(e),$t(a,s.getCompare())}return Jt}var l=r.get(e.name),c=t;return l&&(c=c.remove(new Rt(e.name,l))),c.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,r){return new t((0,n.map)(this.indexes_,function(t){if(t===Jt)return t;var n=r.get(e.name);return n?t.remove(new Rt(e.name,n)):t}),this.indexSet_)},t}();function te(t,e){return I(t.name,e.name)}function ee(t,e){return I(t,e)}var ne=function(){function t(t,e,r){this.children_=t,this.priorityNode_=e,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Mt(this.priorityNode_),this.children_.isEmpty()&&(0,n.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Vt||(Vt=new t(new zt(ee),null,Zt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Vt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Vt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,r){if((0,n.assert)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);var i,o=new Rt(e,r),s=void 0,a=void 0;return r.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(o,this.children_)):(s=this.children_.insert(e,r),a=this.indexMap_.addToIndexes(o,this.children_)),i=s.isEmpty()?Vt:this.priorityNode_,new t(s,i,a)},t.prototype.updateChild=function(t,e){var r=t.getFront();if(null===r)return e;(0,n.assert)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(t.popFront(),e);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Bt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Lt(this.getPriority().val())+":"),this.forEachChild(Bt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":p(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Rt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Rt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===xt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===xt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Bt),r=e.getIterator(Bt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===xt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),re=function(t){function n(){return t.call(this,new zt(ee),ne.EMPTY_NODE,Zt.Default)||this}return(0,e.__extends)(n,t),n.prototype.compareTo=function(t){return t===this?0:1},n.prototype.equals=function(t){return t===this},n.prototype.getPriority=function(){return this},n.prototype.getImmediateChild=function(t){return ne.EMPTY_NODE},n.prototype.isEmpty=function(){return!1},n}(ne),ie=new re;Object.defineProperties(Rt,{MIN:{value:new Rt(b,ne.EMPTY_NODE)},MAX:{value:new Rt(N,ie)}}),Dt.__EMPTY_NODE=ne.EMPTY_NODE,Wt.__childrenNodeConstructor=ne,kt(ie),Qt(ie);var oe=!0;function se(t,e){if(void 0===e&&(e=null),null===t)return ne.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,n.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Wt(t,se(e));if(t instanceof Array||!oe){var r=ne.EMPTY_NODE;return k(t,function(e,i){if((0,n.contains)(t,e)&&"."!==e.substring(0,1)){var o=se(i);!o.isLeafNode()&&o.isEmpty()||(r=r.updateImmediateChild(e,o))}}),r.updatePriority(se(e))}var i=[],o=!1;if(k(t,function(t,e){if("."!==t.substring(0,1)){var n=se(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new Rt(t,n)))}}),0==i.length)return ne.EMPTY_NODE;var s=$t(i,te,function(t){return t.name},ee);if(o){var a=$t(i,Bt.getCompare());return new ne(s,se(e),new Zt({".priority":a},{".priority":Bt}))}return new ne(s,se(e),Zt.Default)}qt(se);var ae=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},n.prototype.isDefinedOn=function(t){return!0},n.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},n.prototype.minPost=function(){return Rt.MIN},n.prototype.maxPost=function(){return Rt.MAX},n.prototype.makePost=function(t,e){var n=se(t);return new Rt(e,n)},n.prototype.toString=function(){return".value"},n}(Pt),he=new ae,ue=function(t){function r(e){var r=t.call(this)||this;return r.indexPath_=e,(0,n.assert)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),r}return(0,e.__extends)(r,t),r.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},r.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},r.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},r.prototype.makePost=function(t,e){var n=se(t),r=ne.EMPTY_NODE.updateChild(this.indexPath_,n);return new Rt(e,r)},r.prototype.maxPost=function(){var t=ne.EMPTY_NODE.updateChild(this.indexPath_,ie);return new Rt(N,t)},r.prototype.toString=function(){return this.indexPath_.slice().join("/")},r}(Pt),le=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return(0,n.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return(0,n.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return(0,n.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return(0,n.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){(0,n.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),gt("DataSnapshot.child",1,e,!1);var r=new V(e),i=this.ref_.child(r);return new t(this.node_.getChild(r),i,Bt)},t.prototype.hasChild=function(t){(0,n.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),gt("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return(0,n.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var r=this;return(0,n.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,n.validateCallback)("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(n,i){return e(new t(i,r.ref_.child(n),Bt))})},t.prototype.hasChildren=function(){return(0,n.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return(0,n.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return(0,n.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}();exports.DataSnapshot=le;var ce,pe=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,n.stringify)(this.snapshot.exportVal())},t}(),de=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),fe=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new pe("value",this,new le(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,n.assert)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new de(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),_e=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,(0,n.contains)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new de(this,t,e):null},t.prototype.createEvent=function(t,e){(0,n.assert)(null!=t.childName,"Child events should have a childName.");var r=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new pe(t.type,this,new le(t.snapshotNode,r,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,n.assert)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ye=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,n.assert)(ce,"Reference.ts has not been loaded"),ce},set:function(t){ce=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,r=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===xt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=b)throw new Error(i);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!=N)throw new Error(i);if("string"!=typeof r)throw new Error(o)}}else if(t.getIndex()===Bt){if(null!=e&&!lt(e)||null!=r&&!lt(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,n.assert)(t.getIndex()instanceof ue||t.getIndex()===he,"unknown index type."),null!=e&&"object"==typeof e||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return(0,n.validateArgCount)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,r,i,o){(0,n.validateArgCount)("Query.on",2,4,arguments.length),yt("Query.on",1,e,!1),(0,n.validateCallback)("Query.on",2,r,!1);var s=t.getCancelAndContextArgs_("Query.on",i,o);if("value"===e)this.onValueEvent(r,s.cancel,s.context);else{var a={};a[e]=r,this.onChildEvent(a,s.cancel,s.context)}return r},t.prototype.onValueEvent=function(t,e,n){var r=new fe(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new _e(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,r){(0,n.validateArgCount)("Query.off",0,3,arguments.length),yt("Query.off",1,t,!0),(0,n.validateCallback)("Query.off",2,e,!0),(0,n.validateContextObject)("Query.off",3,r,!0);var i=null,o=null;"value"===t?i=new fe(e||null,null,r||null):t&&(e&&((o={})[t]=e),i=new _e(o,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,r,i,o){var s=this;(0,n.validateArgCount)("Query.once",1,4,arguments.length),yt("Query.once",1,e,!1),(0,n.validateCallback)("Query.once",2,r,!0);var a=t.getCancelAndContextArgs_("Query.once",i,o),h=!0,u=new n.Deferred;u.promise.catch(function(){});var l=function(t){h&&(h=!1,s.off(e,l),r&&r.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if((0,n.validateArgCount)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if((0,n.validateArgCount)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if((0,n.validateArgCount)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var r=new V(e);if(r.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new ue(r),o=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){(0,n.validateArgCount)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(xt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){(0,n.validateArgCount)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){(0,n.validateArgCount)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(he);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,r){void 0===e&&(e=null),(0,n.validateArgCount)("Query.startAt",0,2,arguments.length),ct("Query.startAt",1,e,this.path,!0),vt("Query.startAt",2,r,!0);var i=this.queryParams_.startAt(e,r);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,r=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,r){void 0===e&&(e=null),(0,n.validateArgCount)("Query.endAt",0,2,arguments.length),ct("Query.endAt",1,e,this.path,!0),vt("Query.endAt",2,r,!0);var i=this.queryParams_.endAt(e,r);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if((0,n.validateArgCount)("Query.equalTo",1,2,arguments.length),ct("Query.equalTo",1,t,this.path,!1),vt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return(0,n.validateArgCount)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return(0,n.validateArgCount)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=D(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if((0,n.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,r){var i={cancel:null,context:null};if(e&&r)i.cancel=e,(0,n.validateCallback)(t,3,i.cancel,!0),i.context=r,(0,n.validateContextObject)(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,n.errorPrefix)(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}();exports.Query=ye;var ve,ge=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Bt,function(t,e){n.remember(new V(t),e)}),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var i=new V(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}(),me=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Ce=function(t,e){return t&&"object"==typeof t?((0,n.assert)(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},Ee=function(t,e){var n=new ge;return t.forEachTree(new V(""),function(t,r){n.remember(t,we(r,e))}),n},we=function(t,e){var n,r=t.getPriority().val(),i=Ce(r,e);if(t.isLeafNode()){var o=t,s=Ce(o.getValue(),e);return s!==o.getValue()||i!==o.getPriority().val()?new Wt(s,se(i)):t}var a=t;return n=a,i!==a.getPriority().val()&&(n=n.updatePriority(new Wt(i))),a.forEachChild(Bt,function(t,r){var i=we(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ve||(ve={}));var Te,Se,be=function(){function t(t,e,r,i){this.fromUser=t,this.fromServer=e,this.queryId=r,this.tagged=i,(0,n.assert)(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Ne=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ve.ACK_USER_WRITE,this.source=be.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return(0,n.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var r=this.affectedTree.subtree(new V(e));return new t(V.Empty,r,this.revert)}return(0,n.assert)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Ie=function(){return Te||(Te=new zt(R)),Te},Re=function(){function t(t,e){void 0===e&&(e=Ie()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return k(e,function(t,e){n=n.set(new V(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new V(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),Pe=function(){function t(t,e){this.source=t,this.path=e,this.type=ve.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),De=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ve.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),xe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ve.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var r=this.children.subtree(new V(e));return r.isEmpty()?null:r.value?new De(this.source,V.Empty,r.value):new t(this.source,V.Empty,r)}return(0,n.assert)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ke=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Oe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ke(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ke(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ke(ne.EMPTY_NODE,!1,!1),new ke(ne.EMPTY_NODE,!1,!1)),t}(),Fe=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Ae=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,r,i,o,s){(0,n.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()==r.isEmpty()?t:(null!=s&&(r.isEmpty()?t.hasChild(e)?s.trackChildChange(Fe.childRemovedChange(e,a)):(0,n.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Fe.childAddedChange(e,r)):s.trackChildChange(Fe.childChangedChange(e,r,a))),t.isLeafNode()&&r.isEmpty()?t:t.updateImmediateChild(e,r).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Bt,function(t,r){e.hasChild(t)||n.trackChildChange(Fe.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Bt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Fe.childChangedChange(e,r,i))}else n.trackChildChange(Fe.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ne.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Le=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,r=t.childName;(0,n.assert)(e==Fe.CHILD_ADDED||e==Fe.CHILD_CHANGED||e==Fe.CHILD_REMOVED,"Only child changes supported for tracking"),(0,n.assert)(".priority"!==r,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(e==Fe.CHILD_ADDED&&o==Fe.CHILD_REMOVED)this.changeMap.set(r,Fe.childChangedChange(r,t.snapshotNode,i.snapshotNode));else if(e==Fe.CHILD_REMOVED&&o==Fe.CHILD_ADDED)this.changeMap.delete(r);else if(e==Fe.CHILD_REMOVED&&o==Fe.CHILD_CHANGED)this.changeMap.set(r,Fe.childRemovedChange(r,i.oldSnap));else if(e==Fe.CHILD_CHANGED&&o==Fe.CHILD_ADDED)this.changeMap.set(r,Fe.childAddedChange(r,t.snapshotNode));else{if(e!=Fe.CHILD_CHANGED||o!=Fe.CHILD_CHANGED)throw(0,n.assertionError)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Fe.childChangedChange(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Me=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),We=new Me,qe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ke(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Qe=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ue=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){(0,n.assert)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),(0,n.assert)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,r,i,o){var s,a,h=new Le;if(r.type===ve.OVERWRITE){var u=r;u.source.fromUser?s=this.applyUserOverwrite_(e,u.path,u.snap,i,o,h):((0,n.assert)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),s=this.applyServerOverwrite_(e,u.path,u.snap,i,o,a,h))}else if(r.type===ve.MERGE){var l=r;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,i,o,h):((0,n.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,i,o,a,h))}else if(r.type===ve.ACK_USER_WRITE){var c=r;s=c.revert?this.revertUserWrite_(e,c.path,i,o,h):this.ackUserWrite_(e,c.path,c.affectedTree,i,o,h)}else{if(r.type!==ve.LISTEN_COMPLETE)throw(0,n.assertionError)("Unknown operation type: "+r.type);s=this.listenComplete_(e,r.path,i,h)}var p=h.getChanges();return t.maybeAddValueEvent_(e,s,p),new Qe(s,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Fe.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,r,i,o){var s=t.getEventCache();if(null!=r.shadowingWrite(e))return t;var a=void 0,h=void 0;if(e.isEmpty())if((0,n.assert)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=u instanceof ne?u:ne.EMPTY_NODE,c=r.calcCompleteEventChildren(l);a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,o)}else{var p=r.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),p,o)}else{var d=e.getFront();if(".priority"==d){(0,n.assert)(1==e.getLength(),"Can't have a priority with additional path components");var f=s.getNode();h=t.getServerCache().getNode();var _=r.calcEventCacheAfterServerOverwrite(e,f,h);a=null!=_?this.filter_.updatePriority(f,_):s.getNode()}else{var y=e.popFront(),v=void 0;if(s.isCompleteForChild(d)){h=t.getServerCache().getNode();var g=r.calcEventCacheAfterServerOverwrite(e,s.getNode(),h);v=null!=g?s.getNode().getImmediateChild(d).updateChild(y,g):s.getNode().getImmediateChild(d)}else v=r.calcCompleteChild(d,t.getServerCache());a=null!=v?this.filter_.updateChild(s.getNode(),d,v,y,i,o):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,h=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(h.getNode(),n,null);else if(u.filtersNodes()&&!h.isFiltered()){var l=h.getNode().updateChild(e,n);a=u.updateFullNode(h.getNode(),l,null)}else{var c=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=h.getNode().getImmediateChild(c).updateChild(p,n);a=".priority"==c?u.updatePriority(h.getNode(),d):u.updateChild(h.getNode(),c,d,p,We,null)}var f=t.updateServerSnap(a,h.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),_=new qe(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,_,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,h=t.getEventCache(),u=new qe(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,h.isFullyInitialized(),h.isFiltered());else{var c=e.popFront(),p=h.getNode().getImmediateChild(l),d=void 0;if(c.isEmpty())d=n;else{var f=u.getCompleteChild(l);d=null!=f?".priority"===c.getBack()&&f.getChild(c.parent()).isEmpty()?f:f.updateChild(c,n):ne.EMPTY_NODE}if(p.equals(d))s=t;else{var _=this.filter_.updateChild(h.getNode(),l,d,c,u,o);s=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,h=e;return r.foreach(function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(h=a.applyUserOverwrite_(h,l,u,i,o,s))}),r.foreach(function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(h=a.applyUserOverwrite_(h,l,u,i,o,s))}),h},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,u=t;h=e.isEmpty()?n:Re.Empty.setTree(e,n);var l=t.getServerCache().getNode();return h.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var h=t.getServerCache().getNode().getImmediateChild(e),c=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new V(e),c,r,i,o,s)}}),h.children.inorderTraversal(function(e,n){var h=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!h){var c=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(c,n);u=a.applyServerOverwrite_(u,new V(e),p,r,i,o,s)}}),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var h=Re.Empty;return a.getNode().forEachChild(xt,function(t,e){h=h.set(new V(t),e)}),this.applyServerMerge_(t,e,h,r,i,s,o)}return t}var u=Re.Empty;return n.foreach(function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))}),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,We,r)},t.prototype.revertUserWrite_=function(t,e,r,i,o){var s;if(null!=r.shadowingWrite(e))return t;var a=new qe(r,t,i),h=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=r.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();(0,n.assert)(c instanceof ne,"serverChildren would be complete if leaf node"),l=r.calcCompleteEventChildren(c)}l=l,u=this.filter_.updateFullNode(h,l,o)}else{var p=e.getFront(),d=r.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=h.getImmediateChild(p)),(u=null!=d?this.filter_.updateChild(h,p,d,e.popFront(),a,o):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(h,p,ne.EMPTY_NODE,e.popFront(),a,o):h).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=r.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,s,o))}return s=t.getServerCache().isFullyInitialized()||null!=r.shadowingWrite(V.Empty),t.updateEventSnap(u,s,this.filter_.filtersNodes())},t}(),Ve=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===Fe.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Fe.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,Fe.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Fe.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Fe.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Fe.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Fe.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter(function(t){return t.type===e});s.sort(this.compareChanges_.bind(this)),s.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw(0,n.assertionError)("Should only compare child_ events.");var r=new Rt(t.childName,t.snapshotNode),i=new Rt(e.childName,e.snapshotNode);return this.index_.compare(r,i)},t}(),He=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ae(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ue(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(ne.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode(ne.EMPTY_NODE,s.getNode(),null),u=new ke(a,o.isFullyInitialized(),r.filtersNodes()),l=new ke(h,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Oe(l,u),this.eventGenerator_=new Ve(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var r=[];if(e){(0,n.assert)(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var n=t.createCancelEvent(e,i);n&&r.push(n)})}if(t){for(var o=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(s+1));break}}else o.push(a)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(t,e,r){t.type===ve.MERGE&&null!==t.source.queryId&&((0,n.assert)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),(0,n.assert)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,o=this.processor_.applyOperation(i,t,e,r);return this.processor_.assertIndexed(o.viewCache),(0,n.assert)(o.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Bt,function(t,e){n.push(Fe.childAddedChange(t,e))});return e.isFullyInitialized()&&n.push(Fe.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Be=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,n.assert)(Se,"Reference.ts has not been loaded"),Se},set:function(t){(0,n.assert)(!Se,"__referenceConstructor has already been defined"),Se=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,r,i){var o,s,a=t.source.queryId;if(null!==a){var h=this.views.get(a);return(0,n.assert)(null!=h,"SyncTree gave us an op for an invalid query."),h.applyOperation(t,r,i)}var u=[];try{for(var l=(0,e.__values)(this.views.values()),c=l.next();!c.done;c=l.next()){h=c.value;u=u.concat(h.applyOperation(t,r,i))}}catch(p){o={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),h=!1;a?h=!0:r instanceof ne?(a=n.calcCompleteEventChildren(r),h=!1):(a=ne.EMPTY_NODE,h=!1);var u=new Oe(new ke(a,h,!1),new ke(r,i,!1));s=new He(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(n,r,i){var o,s,a=n.queryIdentifier(),h=[],u=[],l=this.hasCompleteView();if("default"===a)try{for(var c=(0,e.__values)(this.views.entries()),p=c.next();!p.done;p=c.next()){var d=(0,e.__read)(p.value,2),f=d[0],_=d[1];u=u.concat(_.removeEventRegistration(r,i)),_.isEmpty()&&(this.views.delete(f),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery()))}}catch(y){o={error:y}}finally{try{p&&!p.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}else(_=this.views.get(a))&&(u=u.concat(_.removeEventRegistration(r,i)),_.isEmpty()&&(this.views.delete(a),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery())));return l&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(n.repo,n.path)),{removed:h,events:u}},t.prototype.getQueryViews=function(){var t,n,r=[];try{for(var i=(0,e.__values)(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||r.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},t.prototype.getCompleteServerCache=function(t){var n,r,i=null;try{for(var o=(0,e.__values)(this.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||a.getCompleteServerCache(t)}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,n;try{for(var r=(0,e.__values)(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},t}(),je=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Re(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=V.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new Re(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return k(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Re.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bt,function(e,n){t.push(new Rt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Rt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Re(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Ye(V.Empty,this.writeTree_,t)},t.Empty=new t(new Re(null)),t}();function Ye(t,e,r){if(null!=e.value)return r.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,o){".priority"===e?((0,n.assert)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=Ye(t.child(e),o,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}var Ke=function(){function t(){this.visibleWrites_=je.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new ze(t,this)},t.prototype.addOverwrite=function(t,e,r,i){(0,n.assert)(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:r,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=r},t.prototype.addMerge=function(t,e,r){(0,n.assert)(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:r,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=r},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,r=this.allWrites_.findIndex(function(e){return e.writeId===t});(0,n.assert)(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var o=i.visible,s=!1,a=this.allWrites_.length-1;o&&a>=0;){var h=this.allWrites_[a];h.visible&&(a>=r&&this.recordContainsPath_(h,i.path)?o=!1:i.path.contains(h.path)&&(s=!0)),a--}if(o){if(s)return this.resetTree_(),!0;i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):k(i.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))});return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(V.Empty)){var s=t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);u=n||ne.EMPTY_NODE;return s.apply(u)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(V.Empty)){var u=n||ne.EMPTY_NODE;return h.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=ne.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Bt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Bt,function(t,e){var r=i.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,r,i){(0,n.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var s=this.visibleWrites_.childCompoundWrite(o);return s.isEmpty()?i.getChild(e):s.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),h=a.getCompleteNode(V.Empty);if(null!=h)s=h;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],l=o.getCompare(),c=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=c.getNext();p&&u.length<r;)0!==l(p,n)&&u.push(p),p=c.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,r){for(var i=je.Empty,o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,h=void 0;if(s.snap)r.contains(a)?(h=V.relativePath(r,a),i=i.addWrite(h,s.snap)):a.contains(r)&&(h=V.relativePath(a,r),i=i.addWrite(V.Empty,s.snap.getChild(h)));else{if(!s.children)throw(0,n.assertionError)("WriteRecord should have .snap or .children");if(r.contains(a))h=V.relativePath(r,a),i=i.addWrites(h,s.children);else if(a.contains(r))if((h=V.relativePath(a,r)).isEmpty())i=i.addWrites(V.Empty,s.children);else{var u=(0,n.safeGet)(s.children,h.getFront());if(u){var l=u.getChild(h.popFront());i=i.addWrite(V.Empty,l)}}}}}return i},t}(),ze=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ge=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Re.Empty,this.pendingWriteTree_=new Ke,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new De(be.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Re.fromObject(e);return this.applyOperationToSyncPoints_(new xe(be.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Re.Empty;return null!=n.snap?r=r.set(V.Empty,!0):k(n.children,function(t,e){r=r.set(new V(t),e)}),this.applyOperationToSyncPoints_(new Ne(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new De(be.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Re.fromObject(e);return this.applyOperationToSyncPoints_(new xe(be.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Pe(be.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),u=new De(be.forServerTaggedQuery(a),h,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),u=Re.fromObject(n),l=new xe(be.forServerTaggedQuery(a),h,u);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=V.relativePath(o,e),h=new Pe(be.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,r){var i=e.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=V.relativePath(t,i);o=o||e.getCompleteServerCache(n),s=s||e.hasCompleteView()});var a,h=this.syncPointTree_.get(i);(h?(s=s||h.hasCompleteView(),o=o||h.getCompleteServerCache(V.Empty)):(h=new Be,this.syncPointTree_=this.syncPointTree_.set(i,h)),null!=o)?a=!0:(a=!1,o=ne.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(o=o.updateImmediateChild(t,n))}));var u=h.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);(0,n.assert)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=t.getNextQueryTag_();this.queryToTagMap.set(l,c),this.tagToQueryMap.set(c,l)}var p=this.pendingWriteTree_.childWrites(i),d=h.addEventRegistration(e,r,p,o,a);if(!u&&!s){var f=h.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var h=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=h.removed;a=h.events;var l=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),c=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!c){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var _=d[f],y=_.getQuery(),v=this.createListenerForView_(_);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!c&&u.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else u.forEach(function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=V.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),k(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,r){var i=e.path,o=this.tagForQuery_(e),s=this.createListenerForView_(r),a=this.listenProvider_.startListening(t.queryForListening_(e),o,s.hashFn,s.onComplete),h=this.syncPointTree_.subtree(i);if(o)(0,n.assert)(!h.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=h.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),k(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var c=u[l];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||ne.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=L(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return(0,n.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var r=this.syncPointTree_.get(t);(0,n.assert)(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return r.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),h=e.children.get(s);if(h&&a){var u=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,h,u,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var s=[];return e.children.inorderTraversal(function(e,o){var a=n?n.getImmediateChild(e):null,h=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,h)))}),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Xe=function(){function t(){this.rootNode_=ne.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),$e=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(v("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(t)},t}(),Je=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,n.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,n.deepCopy)(this.counters_)},t}(),Ze=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Je),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),tn=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),n=(0,e.__assign)({},t);return this.last_&&k(this.last_,function(t,e){n[t]=n[t]-e}),this.last_=t,n},t}(),en=1e4,nn=3e4,rn=3e5,on=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new tn(t);var n=en+(nn-en)*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),r={},i=!1;k(e,function(e,o){o>0&&(0,n.contains)(t.statsToReport_,e)&&(r[e]=o,i=!0)}),i&&this.server_.reportStats(r),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*rn))},t}(),sn=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new an(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),an=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();f&&v("event: "+e.toString()),q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),hn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,n.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=(0,e.__spread)(this.listeners_[t]),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,n.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),un=function(t){function r(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,e.__extends)(r,t),r.getInstance=function(){return new r},r.prototype.getInitialEvent=function(t){return(0,n.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},r}(hn),ln=function(t){function r(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,n.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,e.__extends)(r,t),r.getInstance=function(){return new r},r.prototype.getInitialEvent=function(t){return(0,n.assert)("online"===t,"Unknown event type: "+t),[this.online_]},r.prototype.currentlyOnline=function(){return this.online_},r}(hn),cn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),pn="start",dn="close",fn="pLPCommand",_n="pRTLPCB",yn="id",vn="pw",gn="ser",mn="cb",Cn="seg",En="ts",wn="d",Tn="disconn",Sn="dframe",bn=1870,Nn=30,In=bn-Nn,Rn=25e3,Pn=3e4,Dn=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=g(t),this.stats_=Ze.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,r){var i=this;this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new cn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(Pn)),S(function(){if(!i.isClosed_){i.scriptTagHolder=new xn(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(0,e.__read)(t,5),o=r[0],s=r[1],a=r[2];r[3],r[4];if(i.incrementIncomingBytes_(t),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,o==pn)i.id=s,i.password=a;else{if(o!==dn)throw new Error("Unrecognized command received: "+o);s?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(s,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(0,e.__read)(t,2),o=r[0],s=r[1];i.incrementIncomingBytes_(t),i.myPacketOrderer.handleResponse(o,s)},function(){i.onClosed_()},i.urlFn);var t={};t[pn]="t",t[gn]=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(t[mn]=i.scriptTagHolder.uniqueCallbackIdentifier),t[j]=B,i.transportSessionId&&(t[Y]=i.transportSessionId),i.lastSessionId&&(t[X]=i.lastSessionId),!(0,n.isNodeSdk)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(G)&&(t[K]=z);var r=i.urlFn(t);i.log_("Connecting via long-poll to "+r),i.scriptTagHolder.addTag(r,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!F()&&!A()&&!(0,n.isNodeSdk)()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,n.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var r=(0,n.base64Encode)(e),i=x(r,In),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,n.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var r={};r[Sn]="t",r[yn]=t,r[vn]=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,n.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),xn=function(){function t(e,r,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,n.isNodeSdk)())this.commandCB=e,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=c(),window[fn+this.uniqueCallbackIdentifier]=e,window[_n+this.uniqueCallbackIdentifier]=r,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))s='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(h){v("frame writing exception"),h.stack&&v(h.stack),v(h)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||v("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),(0,n.isNodeSdk)()&&this.myID){var r={};r[Tn]="t",r[yn]=this.myID,r[vn]=this.myPW;var i=this.urlFn(r);t.nodeRestRequest(i)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[yn]=this.myID,t[vn]=this.myPW,t[gn]=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+Nn+n.length<=bn))break;var i=this.pendingSegs.shift();n=n+"&"+Cn+r+"="+i.seg+"&"+En+r+"="+i.ts+"&"+wn+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(Rn));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var r=this;(0,n.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!r.sendNewPolls)return;var n=r.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){var t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=function(){v("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(n)}catch(i){}},Math.floor(1))},t}(),kn="";function On(t){kn=t}var Fn=16384,An=45e3,Ln=null;"undefined"!=typeof MozWebSocket?Ln=MozWebSocket:"undefined"!=typeof WebSocket&&(Ln=WebSocket);var Mn=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=g(this.connId),this.stats_=Ze.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,r){var i={};return i[j]=B,!(0,n.isNodeSdk)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(G)&&(i[K]=z),e&&(i[Y]=e),r&&(i[X]=r),t.connectionURL($,i)},t.prototype.open=function(t,e){var r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if((0,n.isNodeSdk)()){var i=n.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+B+"/"+kn+"/"+process.platform+"/"+i}},s=process.env,a=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new Ln(this.connURL,[],o)}else this.mySock=new Ln(this.connURL)}catch(l){this.log_("Error instantiating WebSocket.");var u=l.message||l.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ln&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var r=(0,n.jsonEval)(e);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,n.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,n.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var r=x(e,Fn);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(An))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Wn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Dn,Mn]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(n){var r,i,o=Mn&&Mn.isAvailable(),s=o&&!Mn.previouslyFailed();if(n.webSocketOnly&&(o||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Mn];else{var a=this.transports_=[];try{for(var h=(0,e.__values)(t.ALL_TRANSPORTS),u=h.next();!u.done;u=h.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),qn=6e4,Qn=5e3,Un=10240,Vn=102400,Hn="t",Bn="d",jn="s",Yn="r",Kn="e",zn="o",Gn="a",Xn="n",$n="p",Jn="h",Zn=function(){function t(t,e,n,r,i,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=g("c:"+this.id+":"),this.transportManager_=new Wn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>Vn?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Un?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(Hn in t){var e=t[Hn];e===Gn?this.upgradeIfSecondaryHealthy_():e===Yn?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===zn&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$n,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Gn,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xn,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P(Hn,t);if(Bn in t){var n=t[Bn];if(e===Jn)this.onHandshake_(n);else if(e===Xn){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===jn?this.onConnectionShutdown_(n):e===Yn?this.onReset_(n):e===Kn?m("Server Error: "+n):e===zn?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):m("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),B!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(qn))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(Qn))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$n,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),tr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),er=1e3,nr=3e5,rr=3e4,ir=1.3,or=3e4,sr="server_kill",ar=3,hr=function(t){function r(e,i,o,s,a,h){var u=t.call(this)||this;if(u.repoInfo_=e,u.onDataUpdate_=i,u.onConnectStatus_=o,u.onServerInfoUpdate_=s,u.authTokenProvider_=a,u.authOverride_=h,u.id=r.nextPersistentConnectionId_++,u.log_=g("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=er,u.maxReconnectDelay_=nr,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,h&&!(0,n.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),un.getInstance().on("visible",u.onVisible_,u),-1===e.host.indexOf("fblocal")&&ln.getInstance().on("online",u.onOnline_,u),u}return(0,e.__extends)(r,t),r.prototype.sendRequest=function(t,e,r){var i=++this.requestNumber_,o={r:i,a:t,b:e};this.log_((0,n.stringify)(o)),(0,n.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)},r.prototype.listen=function(t,e,r,i){var o=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),(0,n.assert)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,n.assert)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},r.prototype.sendListen_=function(t){var e=this,n=t.query,i=n.path.toString(),o=n.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=n.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,h=s.s;r.warnOnListenWarnings_(a,n),(e.listens.get(i)&&e.listens.get(i).get(o))===t&&(e.log_("listen response",s),"ok"!==h&&e.removeListen_(i,o),t.onComplete&&t.onComplete(h,a))})},r.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,n.contains)(t,"w")){var r=(0,n.safeGet)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+o+" to your security rules for better performance.")}}},r.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},r.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,n.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rr)},r.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,r=(0,n.isValidFormat)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},r.prototype.unlisten=function(t,e){var r=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+r+" "+i),(0,n.assert)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t.queryObject(),e)},r.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},r.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},r.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},r.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},r.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},r.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},r.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},r.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},r.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},r.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},r.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,n.stringify)(t));var e=t.r,r=this.requestCBHash_[e];r&&(delete this.requestCBHash_[e],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},r.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):m("Unrecognized action received from server: "+(0,n.stringify)(t)+"\nAre you using the latest client?")},r.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},r.prototype.scheduleConnect_=function(t){var e=this;(0,n.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},r.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=er,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},r.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=er,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},r.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>or&&(this.reconnectDelay_=er),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ir)}this.onConnectStatus_(!1)},r.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+r.nextConnectionId_++,s=this,a=this.lastSessionId,h=!1,u=null,l=function(){u?u.close():(h=!0,i())};this.realtime_={close:l,sendRequest:function(t){(0,n.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then(function(n){h?v("getToken() completed but was canceled"):(v("getToken() completed. Creating connection."),s.authToken_=n&&n.accessToken,u=new Zn(o,s.repoInfo_,t,e,i,function(t){E(t+" ("+s.repoInfo_.toString()+")"),s.interrupt(sr)},a))}).then(null,function(t){s.log_("Failed to get token: "+t),h||(n.CONSTANTS.NODE_ADMIN&&E(t),l())})}},r.prototype.interrupt=function(t){v("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},r.prototype.resume=function(t){v("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,n.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=er,this.realtime_||this.scheduleConnect_(0))},r.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},r.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},r.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},r.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},r.prototype.onAuthRevoked_=function(t,e){v("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ar&&(this.reconnectDelay_=rr,this.authTokenProvider_.notifyForInvalidToken()))},r.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},r.prototype.restoreState_=function(){var t,n,r,i;this.tryAuth();try{for(var o=(0,e.__values)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var h=(r=void 0,(0,e.__values)(a.values())),u=h.next();!u.done;u=h.next()){var l=u.value;this.sendListen_(l)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},r.prototype.sendConnectStats_=function(){var t={},e="js";n.CONSTANTS.NODE_ADMIN?e="admin_node":n.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+kn.replace(/\./g,"-")]=1,(0,n.isMobileCordova)()?t["framework.cordova"]=1:(0,n.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},r.prototype.shouldReconnect_=function(){var t=ln.getInstance().currentlyOnline();return(0,n.isEmpty)(this.interruptReasons_)&&t},r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r}(tr),ur=function(t){function r(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=g("p:rest:"),i.listens_={},i}return(0,e.__extends)(r,t),r.prototype.reportStats=function(t){throw new Error("Method not implemented.")},r.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,n.assert)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},r.prototype.listen=function(t,e,i,o){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var h=r.getListenId_(t,i),u={};this.listens_[h]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var r=e;(404===t&&(r=null,t=null),null===t&&s.onDataUpdate_(a,r,!1,i),(0,n.safeGet)(s.listens_,h)===u)&&o(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},r.prototype.unlisten=function(t,e){var n=r.getListenId_(t,e);delete this.listens_[n]},r.prototype.refreshAuthToken=function(t){},r.prototype.restRequest_=function(t,e,r){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var s=o&&o.accessToken;s&&(e.auth=s);var a=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+(0,n.querystring)(e);i.log_("Sending REST request for "+a);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(r&&4===h.readyState){i.log_("REST Response for "+a+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,n.jsonEval)(h.responseText)}catch(e){E("Failed to parse JSON response for "+a+": "+h.responseText)}r(null,t)}else 401!==h.status&&404!==h.status&&E("Got unsuccessful REST response for "+a+" Status: "+h.status),r(h.status);r=null}},h.open("GET",a,!0),h.send()})},r}(tr),lr="repo_interrupt",cr=function(){function t(t,e,r){var i=this;this.repoInfo_=t,this.app=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ge,this.persistentConnection_=null;var o=new $e(r);if(this.stats_=Ze.getCollection(t),e||Q())this.server_=new ur(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=r.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,n.stringify)(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new hr(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){i.server_.refreshAuthToken(t)}),this.statsReporter_=Ze.getOrCreateReporter(t,function(){return new on(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new Xe,this.infoSyncTree_=new Ge({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ge({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return me({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,r,i){this.dataUpdateCount++;var o=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(i)if(r){var a=(0,n.map)(e,function(t){return se(t)});s=this.serverSyncTree_.applyTaggedQueryMerge(o,a,i)}else{var h=se(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(o,h,i)}else if(r){var u=(0,n.map)(e,function(t){return se(t)});s=this.serverSyncTree_.applyServerMerge(o,u)}else{var l=se(e);s=this.serverSyncTree_.applyServerOverwrite(o,l)}var c=o;s.length>0&&(c=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(c,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;k(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new V("/.info/"+t),r=se(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=se(e,n),a=we(s,o),h=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,a,h,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),s.val(!0),function(e,n){var o="ok"===e;o||E("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(h,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(k(e,function(t,e){i=!1;var n=se(e);s[t]=we(n,o)}),i)v("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||E("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),h=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(h,s),r.callOnCompleteCallback(n,e,i)}),k(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=Ee(this.onDisconnect_,e),r=[];n.forEachTree(V.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new ge,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=se(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=se(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,r){var i=this;if((0,n.isEmpty)(e))return v("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(r,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(n,o){"ok"===n&&k(e,function(e,n){var r=se(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(r,n,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(lr)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(lr)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new tn(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);k(e,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),v.apply(void 0,(0,e.__spread)([r],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&q(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Tr(this))},enumerable:!0,configurable:!0}),t}(),pr=function(){function t(e){this.indexedFilter_=new Ae(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Rt(e,n))||(n=ne.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ne.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ne.EMPTY_NODE);var i=this;return e.forEachChild(Bt,function(t,e){i.matches(new Rt(t,e))||(r=r.updateImmediateChild(t,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),dr=function(){function t(t){this.rangedFilter_=new pr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Rt(e,n))||(n=ne.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ne.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ne.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ne.EMPTY_NODE);var a=void 0,h=void 0,u=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var c=!1;i.hasNext();){s=i.getNext();!c&&u(a,s)<=0&&(c=!0),c&&o<this.limit_&&u(s,h)<=0?o++:r=r.updateImmediateChild(s.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,r,i,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var h=t;(0,n.assert)(h.numChildren()==this.limit_,"");var u=new Rt(e,r),l=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(h.hasChild(e)){for(var p=h.getImmediateChild(e),d=i.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name==e||h.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:s(d,u);if(c&&!r.isEmpty()&&f>=0)return null!=o&&o.trackChildChange(Fe.childChangedChange(e,r,p)),h.updateImmediateChild(e,r);null!=o&&o.trackChildChange(Fe.childRemovedChange(e,p));var _=h.updateImmediateChild(e,ne.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(Fe.childAddedChange(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}return r.isEmpty()?t:c&&s(l,u)>=0?(null!=o&&(o.trackChildChange(Fe.childRemovedChange(l.name,l.node)),o.trackChildChange(Fe.childAddedChange(e,r))),h.updateImmediateChild(e,r).updateImmediateChild(l.name,ne.EMPTY_NODE)):t},t}(),fr=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return(0,n.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,n.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:b},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,n.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,n.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,n.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Bt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Bt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ae(this.getIndex()):this.hasLimit()?new dr(this):new pr(this)},t.prototype.toRestQueryStringParameters=function(){var e,r=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===Bt?e=r.PRIORITY_INDEX:this.index_===he?e=r.VALUE_INDEX:this.index_===xt?e=r.KEY_INDEX:((0,n.assert)(this.index_ instanceof ue,"Unrecognized index type!"),e=this.index_.toString()),i[r.ORDER_BY]=(0,n.stringify)(e),this.startSet_&&(i[r.START_AT]=(0,n.stringify)(this.indexStartValue_),this.startNameSet_&&(i[r.START_AT]+=","+(0,n.stringify)(this.indexStartName_))),this.endSet_&&(i[r.END_AT]=(0,n.stringify)(this.indexEndValue_),this.endNameSet_&&(i[r.END_AT]+=","+(0,n.stringify)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[r.LIMIT_TO_FIRST]=this.limit_:i[r.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),_r=function(t){function r(e,n){if(!(e instanceof cr))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,fr.DEFAULT,!1)||this}return(0,e.__extends)(r,t),r.prototype.getKey=function(){return(0,n.validateArgCount)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},r.prototype.child=function(t){return(0,n.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?mt("Reference.child",1,t,!1):gt("Reference.child",1,t,!1)),new r(this.repo,this.path.child(t))},r.prototype.getParent=function(){(0,n.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new r(this.repo,t)},r.prototype.getRoot=function(){(0,n.validateArgCount)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},r.prototype.databaseProp=function(){return this.repo.database},r.prototype.set=function(t,e){(0,n.validateArgCount)("Reference.set",1,2,arguments.length),Ct("Reference.set",this.path),ct("Reference.set",1,t,this.path,!1),(0,n.validateCallback)("Reference.set",2,e,!0);var r=new n.Deferred;return this.repo.setWithPriority(this.path,t,null,r.wrapCallback(e)),r.promise},r.prototype.update=function(t,e){if((0,n.validateArgCount)("Reference.update",1,2,arguments.length),Ct("Reference.update",this.path),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ft("Reference.update",1,t,this.path,!1),(0,n.validateCallback)("Reference.update",2,e,!0);var o=new n.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},r.prototype.setWithPriority=function(t,e,r){if((0,n.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Ct("Reference.setWithPriority",this.path),ct("Reference.setWithPriority",1,t,this.path,!1),_t("Reference.setWithPriority",2,e,!1),(0,n.validateCallback)("Reference.setWithPriority",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new n.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(r)),i.promise},r.prototype.remove=function(t){return(0,n.validateArgCount)("Reference.remove",0,1,arguments.length),Ct("Reference.remove",this.path),(0,n.validateCallback)("Reference.remove",1,t,!0),this.set(null,t)},r.prototype.transaction=function(t,e,r){if((0,n.validateArgCount)("Reference.transaction",1,3,arguments.length),Ct("Reference.transaction",this.path),(0,n.validateCallback)("Reference.transaction",1,t,!1),(0,n.validateCallback)("Reference.transaction",2,e,!0),wt("Reference.transaction",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var i=new n.Deferred;"function"==typeof e&&i.promise.catch(function(){});return this.repo.startTransaction(this.path,t,function(t,n,r){t?i.reject(t):i.resolve(new Nt(n,r)),"function"==typeof e&&e(t,n,r)},r),i.promise},r.prototype.setPriority=function(t,e){(0,n.validateArgCount)("Reference.setPriority",1,2,arguments.length),Ct("Reference.setPriority",this.path),_t("Reference.setPriority",1,t,!1),(0,n.validateCallback)("Reference.setPriority",2,e,!0);var r=new n.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,r.wrapCallback(e)),r.promise},r.prototype.push=function(t,e){(0,n.validateArgCount)("Reference.push",0,2,arguments.length),Ct("Reference.push",this.path),ct("Reference.push",1,t,this.path,!0),(0,n.validateCallback)("Reference.push",2,e,!0);var r,i=this.repo.serverTime(),o=It(i),s=this.child(o),a=this.child(o);return r=null!=t?s.set(t,e).then(function(){return a}):Promise.resolve(a),s.then=r.then.bind(r),s.catch=r.then.bind(r,void 0),"function"==typeof e&&r.catch(function(){}),s},r.prototype.onDisconnect=function(){return Ct("Reference.onDisconnect",this.path),new Tt(this.repo,this.path)},Object.defineProperty(r.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),r}(ye);exports.Reference=_r,ye.__referenceConstructor=_r,Be.__referenceConstructor=_r;var yr,vr=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),gr=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new vr),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var r,i=e instanceof V?e:new V(e),o=this;null!==(r=i.getFront());){o=new t(r,o,(0,n.safeGet)(o.node_.children,r)||new vr),i=i.popFront()}return o},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){(0,n.assert)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;k(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var r=e.isEmpty(),i=(0,n.contains)(this.node_.children,t);r&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):r||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(yr||(yr={})),cr.MAX_TRANSACTION_RETRIES_=25,cr.prototype.transactions_init_=function(){this.transactionQueueTree_=new gr},cr.prototype.startTransaction=function(t,e,r,i){this.log_("transaction on "+t);var o=function(){},s=new _r(this,t);s.on("value",o);var a={path:t,update:e,onComplete:r,status:null,order:c(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(t);a.currentInputSnapshot=h;var u=a.update(h.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new le(a.currentInputSnapshot,new _r(this,a.path),Bt);a.onComplete(null,!1,l)}}else{pt("transaction failed: Data returned ",u,a.path),a.status=yr.RUN;var p=this.transactionQueueTree_.subTree(t),d=p.getValue()||[];d.push(a),p.setValue(d);var f=void 0;if("object"==typeof u&&null!==u&&(0,n.contains)(u,".priority"))f=(0,n.safeGet)(u,".priority"),(0,n.assert)(lt(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||ne.EMPTY_NODE).getPriority().val();f=f;var _=this.generateServerValues(),y=se(u,f),v=we(y,_);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,v,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},cr.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||ne.EMPTY_NODE},cr.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var r=this.buildTransactionQueue_(t);(0,n.assert)(r.length>0,"Sending zero length transaction queue"),r.every(function(t){return t.status===yr.RUN})&&this.sendTransactionQueue_(t.path(),r)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},cr.prototype.sendTransactionQueue_=function(t,e){for(var r=this,i=e.map(function(t){return t.currentWriteId}),o=this.getLatestState_(t,i),s=o,a=o.hash(),h=0;h<e.length;h++){var u=e[h];(0,n.assert)(u.status===yr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=yr.SENT,u.retryCount++;var l=V.relativePath(t,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var c=s.val(!0),p=t;this.server_.put(p.toString(),c,function(n){r.log_("transaction put response",{path:p.toString(),status:n});var i=[];if("ok"===n){for(var o=[],s=0;s<e.length;s++){if(e[s].status=yr.COMPLETED,i=i.concat(r.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,h=new _r(r,e[s].path),u=new le(a,h,Bt);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(t)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)q(o[s])}else{if("datastale"===n)for(s=0;s<e.length;s++)e[s].status===yr.SENT_NEEDS_ABORT?e[s].status=yr.NEEDS_ABORT:e[s].status=yr.RUN;else{E("transaction at "+p.toString()+" failed: "+n);for(s=0;s<e.length;s++)e[s].status=yr.NEEDS_ABORT,e[s].abortReason=n}r.rerunTransactions_(t)}},a)},cr.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},cr.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var r,i=[],o=[],s=t.filter(function(t){return t.status===yr.RUN}).map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var h=t[a],u=V.relativePath(e,h.path),l=!1,c=void 0;if((0,n.assert)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===yr.NEEDS_ABORT)l=!0,c=h.abortReason,o=o.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else if(h.status===yr.RUN)if(h.retryCount>=cr.MAX_TRANSACTION_RETRIES_)l=!0,c="maxretry",o=o.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else{var p=this.getLatestState_(h.path,s);h.currentInputSnapshot=p;var d=t[a].update(p.val());if(void 0!==d){pt("transaction failed: Data returned ",d,h.path);var f=se(d);"object"==typeof d&&null!=d&&(0,n.contains)(d,".priority")||(f=f.updatePriority(p.getPriority()));var _=h.currentWriteId,y=this.generateServerValues(),v=we(f,y);h.currentOutputSnapshotRaw=f,h.currentOutputSnapshotResolved=v,h.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(_),1),o=(o=o.concat(this.serverSyncTree_.applyUserOverwrite(h.path,v,h.currentWriteId,h.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(_,!0))}else l=!0,c="nodata",o=o.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,o),o=[],l&&(t[a].status=yr.COMPLETED,r=t[a].unwatcher,setTimeout(r,Math.floor(0)),t[a].onComplete))if("nodata"===c){var g=new _r(this,t[a].path),m=t[a].currentInputSnapshot,C=new le(m,g,Bt);i.push(t[a].onComplete.bind(null,null,!1,C))}else i.push(t[a].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<i.length;a++)q(i[a]);this.sendReadyTransactions_()}},cr.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},cr.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},cr.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},cr.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==yr.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},cr.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},cr.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var r=[],i=[],o=-1,s=0;s<e.length;s++)if(e[s].status===yr.SENT_NEEDS_ABORT);else if(e[s].status===yr.SENT)(0,n.assert)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=yr.SENT_NEEDS_ABORT,e[s].abortReason="set";else if((0,n.assert)(e[s].status===yr.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete){r.push(e[s].onComplete.bind(null,new Error("set"),!1,null))}-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i);for(s=0;s<r.length;s++)q(r[s])}};var mr,Cr="databaseURL",Er="FIREBASE_DATABASE_EMULATOR_HOST",wr=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return mr||(mr=new t),mr},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options[Cr];void 0===n&&C("Can't determine Firebase Database URL.  Be sure to include "+Cr+" option when calling firebase.initializeApp().");var r=nt(n),i=r.repoInfo,o=void 0;return"undefined"!=typeof process&&(o=process.env[Er]),o&&(n="http://"+o+"?ns="+i.namespace),Et("Invalid Firebase Database URL",1,r),r.path.isEmpty()||C("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=(0,n.safeGet)(this.repos_,t.app.name);e&&(0,n.safeGet)(e,t.repoInfo_.toURLString())===t||C("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var r=(0,n.safeGet)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=(0,n.safeGet)(r,t.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cr(t,this.useRestClient_,e),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Tr=function(){function t(t){this.repo_=t,t instanceof cr||C("Don't call new Database() directly - please use firebase.database()."),this.root_=new _r(t,V.Empty),this.INTERNAL=new Sr(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),(0,n.validateArgCount)("database.ref",0,1,arguments.length),t instanceof _r?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),(0,n.validateArgCount)(e,1,1,arguments.length);var r=nt(t);Et(e,1,r);var i=r.repoInfo;return i.host!==this.repo_.repoInfo_.host&&C(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&C("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){(0,n.validateArgCount)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){(0,n.validateArgCount)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}();exports.Database=Tr;var Sr=function(){function t(t){this.database=t}return t.prototype.delete=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(t){return this.database.checkDeleted_("delete"),wr.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),br=function(){Mn.forceDisallow(),Dn.forceAllow()},Nr=function(){Dn.forceDisallow()},Ir=function(){return Mn.isAvailable()},Rr=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Pr=function(t,e){t.repo.stats(e)},Dr=function(t,e){t.repo.statsIncrementCounter(e)},xr=function(t){return t.repo.dataUpdateCount},kr=function(t,e){return t.repo.interceptServerData_(e)},Or=Object.freeze({forceLongPolling:br,forceWebSockets:Nr,isWebSocketsAvailable:Ir,setSecurityDebugCallback:Rr,stats:Pr,statsIncrementCounter:Dr,dataUpdateCount:xr,interceptServerData:kr}),Fr=hr;hr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},hr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ar=Zn,Lr=function(t){var e=hr.prototype.put;return hr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){hr.prototype.put=e}},Mr=Z,Wr=function(t){return t.queryIdentifier()},qr=function(t){wr.getInstance().forceRestClient(t)},Qr=Object.freeze({DataConnection:Fr,RealTimeConnection:Ar,hijackHash:Lr,ConnectionTarget:Mr,queryIdentifier:Wr,forceRestClient:qr}),Ur=Tr.ServerValue;function Vr(t){On(t.SDK_VERSION);var e=t.INTERNAL.registerService("database",function(t,e,n){return wr.getInstance().databaseFromApp(t,n)},{Reference:_r,Query:ye,Database:Tr,DataSnapshot:le,enableLogging:y,INTERNAL:Or,ServerValue:Ur,TEST_ACCESS:Qr},null,!0);(0,n.isNodeSdk)()&&(module.exports=e)}exports.ServerValue=Ur,Vr(t.default);
},{"@firebase/app":"fy6H","tslib":"xgwM","@firebase/util":"O2DF","@firebase/logger":"8eOQ"}],"faxV":[function(require,module,exports) {
module.exports={name:"firebase-admin",version:"8.3.0",description:"Firebase admin SDK for Node.js",author:"Firebase <firebase-support@google.com> (https://firebase.google.com/)",license:"Apache-2.0",homepage:"https://firebase.google.com/",engines:{node:"^8.13.0 || >=10.10.0"},scripts:{build:"gulp build",prepare:"npm run build",lint:"run-p lint:src lint:unit lint:integration",test:"run-s lint test:unit",integration:"run-s build test:integration","test:unit":"mocha test/unit/*.spec.ts --require ts-node/register","test:integration":"mocha test/integration/*.ts --slow 5000 --timeout 20000 --require ts-node/register","test:coverage":"nyc npm run test:unit","lint:src":"tslint --format stylish -p tsconfig.json","lint:unit":"tslint -c tslint-test.json --format stylish test/unit/*.ts test/unit/**/*.ts","lint:integration":"tslint -c tslint-test.json --format stylish test/integration/*.ts",apidocs:"node docgen/generate-docs.js --api node"},nyc:{extension:[".ts"],include:["src"],exclude:["**/*.d.ts"],all:!0},keywords:["admin","database","Firebase","realtime","authentication"],repository:{type:"git",url:"https://github.com/firebase/firebase-admin-node"},main:"lib/index.js",files:["lib/","LICENSE","README.md","package.json"],types:"./lib/index.d.ts",dependencies:{"@firebase/database":"^0.4.7","@types/node":"^8.0.53",dicer:"^0.3.0",jsonwebtoken:"8.1.0","node-forge":"0.7.4"},optionalDependencies:{"@google-cloud/firestore":"^2.0.0","@google-cloud/storage":"^3.0.2"},devDependencies:{"@firebase/app":"^0.4.10","@firebase/auth":"^0.11.3","@types/bcrypt":"^2.0.0","@types/chai":"^3.4.34","@types/chai-as-promised":"0.0.29","@types/firebase-token-generator":"^2.0.28","@types/jsonwebtoken":"^7.2.8","@types/lodash":"^4.14.104","@types/minimist":"^1.2.0","@types/mocha":"^2.2.48","@types/nock":"^9.1.0","@types/request":"^2.47.0","@types/request-promise":"^4.1.41","@types/scrypt":"^6.0.0","@types/sinon":"^4.1.3","@types/sinon-chai":"^2.7.27",bcrypt:"^3.0.0",chai:"^3.5.0","chai-as-promised":"^6.0.0",chalk:"^1.1.3","child-process-promise":"^2.2.1",del:"^2.2.1","firebase-token-generator":"^2.0.0",gulp:"^4.0.2","gulp-header":"^1.8.8","gulp-replace":"^0.5.4","gulp-typescript":"^5.0.1","http-message-parser":"^0.0.34",jsdom:"^15.0.0",lodash:"^4.17.15",minimist:"^1.2.0",mocha:"^5.2.0",mz:"^2.7.0",nock:"^9.6.0","npm-run-all":"^4.1.5",nyc:"^14.1.0",request:"^2.75.0","request-promise":"^4.1.1","run-sequence":"^1.1.5",scrypt:"^6.0.3",sinon:"^4.5.0","sinon-chai":"^2.14.0","ts-node":"^3.3.0",tslint:"^5.17.0",typedoc:"^0.14.2",typescript:"^3.1.0",yargs:"^13.2.2"}};
},{}],"8EZ+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("url"),t=require("path"),r=require("../utils/error"),n=require("../utils/validator"),a=require("../utils/api-request"),s=function(){function e(){this.databases={}}return e.prototype.delete=function(){for(var e=0,t=Object.keys(this.databases);e<t.length;e++){var r=t[e];this.databases[r].INTERNAL.delete()}return Promise.resolve(void 0)},e}(),i=function(){function e(e){if(this.INTERNAL=new s,!(n.isNonNullObject(e)&&"options"in e))throw new r.FirebaseDatabaseError({code:"invalid-argument",message:"First argument passed to admin.database() must be a valid Firebase app instance."});this.appInternal=e}return Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!0,configurable:!0}),e.prototype.getDatabase=function(e){var t=this.ensureUrl(e);if(!n.isNonEmptyString(t))throw new r.FirebaseDatabaseError({code:"invalid-argument",message:"Database URL must be a valid, non-empty URL string."});var a=this.INTERNAL.databases[t];if(void 0===a){var s=require("@firebase/database"),i=require("../../package.json").version;a=s.initStandalone(this.appInternal,t,i).instance;var o=new u(this.app,t);a.getRules=function(){return o.getRules()},a.getRulesJSON=function(){return o.getRulesJSON()},a.setRules=function(e){return o.setRules(e)},this.INTERNAL.databases[t]=a}return a},e.prototype.ensureUrl=function(e){if(void 0!==e)return e;if(void 0!==this.appInternal.options.databaseURL)return this.appInternal.options.databaseURL;throw new r.FirebaseDatabaseError({code:"invalid-argument",message:"Can't determine Firebase Database URL."})},e}();exports.DatabaseService=i;var o=".settings/rules.json",u=function(){function s(r,n){var s=new e.URL(n);s.pathname=t.join(s.pathname,o),this.dbUrl=s.toString(),this.httpClient=new a.AuthorizedHttpClient(r)}return s.prototype.getRules=function(){var e=this,t={method:"GET",url:this.dbUrl};return this.httpClient.send(t).then(function(e){return e.text}).catch(function(t){throw e.handleError(t)})},s.prototype.getRulesJSON=function(){var e=this,t={method:"GET",url:this.dbUrl,data:{format:"strict"}};return this.httpClient.send(t).then(function(e){return e.data}).catch(function(t){throw e.handleError(t)})},s.prototype.setRules=function(e){var t=this;if(!n.isNonEmptyString(e)&&!n.isBuffer(e)&&!n.isNonNullObject(e)){var a=new r.FirebaseDatabaseError({code:"invalid-argument",message:"Source must be a non-empty string, Buffer or an object."});return Promise.reject(a)}var s={method:"PUT",url:this.dbUrl,data:e,headers:{"content-type":"application/json; charset=utf-8"}};return this.httpClient.send(s).then(function(){}).catch(function(e){throw t.handleError(e)})},s.prototype.handleError=function(e){return e instanceof a.HttpError?new r.FirebaseDatabaseError({code:r.AppErrorCodes.INTERNAL_ERROR,message:this.getErrorMessage(e)}):e},s.prototype.getErrorMessage=function(e){var t="Error while accessing security rules";try{var r=e.response.data;if(r&&r.error)return t+": "+r.error.trim()}catch(n){}return t+": "+e.response.text},s}();
},{"../utils/error":"5IpL","../utils/validator":"lesR","../utils/api-request":"owx1","@firebase/database":"aKuY","../../package.json":"faxV"}],"qPgC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/index"),i=require("../utils/error"),r=require("../utils/validator");function o(e){if(!r.isNonNullObject(e))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"Message must be a non-null object");var o=e;if(o.topic&&(o.topic.startsWith("/topics/")&&(o.topic=o.topic.replace(/^\/topics\//,"")),!/^[a-zA-Z0-9-_.~%]+$/.test(o.topic)))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"Malformed topic name");if(1!==[o.token,o.topic,o.condition].filter(function(e){return r.isNonEmptyString(e)}).length)throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"Exactly one of topic, token or condition is required");n(e.data,"data"),d(e.android),t(e.webpush),s(e.apns)}function n(e,o){if(void 0!==e){if(!r.isNonNullObject(e))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,o+" must be a non-null object");Object.keys(e).forEach(function(n){if(!r.isString(e[n]))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,o+" must only contain string values")})}}function t(e){if(void 0!==e){if(!r.isNonNullObject(e))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"webpush must be a non-null object");n(e.headers,"webpush.headers"),n(e.data,"webpush.data")}}function s(e){if(void 0!==e){if(!r.isNonNullObject(e))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns must be a non-null object");n(e.headers,"apns.headers"),a(e.payload)}}function a(e){if(void 0!==e){if(!r.isNonNullObject(e))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload must be a non-null object");l(e.aps)}}function l(o){if(void 0!==o){if(!r.isNonNullObject(o))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps must be a non-null object");c(o.alert),g(o.sound);var n={contentAvailable:"content-available",mutableContent:"mutable-content",threadId:"thread-id"};Object.keys(n).forEach(function(e){if(e in o&&n[e]in o)throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"Multiple specifications for "+e+" in Aps")}),e.renameProperties(o,n);var t=o["content-available"];void 0!==t&&1!==t&&(!0===t?o["content-available"]=1:delete o["content-available"]);var s=o["mutable-content"];void 0!==s&&1!==s&&(!0===s?o["mutable-content"]=1:delete o["mutable-content"])}}function g(e){if(void 0!==e&&!r.isNonEmptyString(e)){if(!r.isNonNullObject(e))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound must be a non-empty string or a non-null object");if(!r.isNonEmptyString(e.name))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.name must be a non-empty string");var o=e.volume;if(void 0!==o){if(!r.isNumber(o))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be a number");if(o<0||o>1)throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be in the interval [0, 1]")}var n=e,t="critical",s=n[t];void 0!==s&&1!==s&&(!0===s?n[t]=1:delete n[t])}}function c(o){if(void 0!==o&&!r.isString(o)){if(!r.isNonNullObject(o))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert must be a string or a non-null object");var n=o;if(r.isNonEmptyArray(n.locArgs)&&!r.isNonEmptyString(n.locKey))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.locKey is required when specifying locArgs");if(r.isNonEmptyArray(n.titleLocArgs)&&!r.isNonEmptyString(n.titleLocKey))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.titleLocKey is required when specifying titleLocArgs");if(r.isNonEmptyArray(n.subtitleLocArgs)&&!r.isNonEmptyString(n.subtitleLocKey))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.subtitleLocKey is required when specifying subtitleLocArgs");e.renameProperties(n,{locKey:"loc-key",locArgs:"loc-args",titleLocKey:"title-loc-key",titleLocArgs:"title-loc-args",subtitleLocKey:"subtitle-loc-key",subtitleLocArgs:"subtitle-loc-args",actionLocKey:"action-loc-key",launchImage:"launch-image"})}}function d(o){if(void 0!==o){if(!r.isNonNullObject(o))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"android must be a non-null object");if(void 0!==o.ttl){if(!r.isNumber(o.ttl)||o.ttl<0)throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"TTL must be a non-negative duration in milliseconds");var t=Math.floor(o.ttl/1e3),s=1e6*(o.ttl-1e3*t),a=void 0;if(s>0){for(var l=s.toString();l.length<9;)l="0"+l;a=t+"."+l+"s"}else a=t+"s";o.ttl=a}n(o.data,"android.data"),u(o.notification);e.renameProperties(o,{collapseKey:"collapse_key",restrictedPackageName:"restricted_package_name"})}}function u(o){if(void 0!==o){if(!r.isNonNullObject(o))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification must be a non-null object");if(void 0!==o.color&&!/^#[0-9a-fA-F]{6}$/.test(o.color))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.color must be in the form #RRGGBB");if(r.isNonEmptyArray(o.bodyLocArgs)&&!r.isNonEmptyString(o.bodyLocKey))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.bodyLocKey is required when specifying bodyLocArgs");if(r.isNonEmptyArray(o.titleLocArgs)&&!r.isNonEmptyString(o.titleLocKey))throw new i.FirebaseMessagingError(i.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.titleLocKey is required when specifying titleLocArgs");e.renameProperties(o,{clickAction:"click_action",bodyLocKey:"body_loc_key",bodyLocArgs:"body_loc_args",titleLocKey:"title_loc_key",titleLocArgs:"title_loc_args",channelId:"channel_id"})}}exports.validateMessage=o;
},{"../utils/index":"L70j","../utils/error":"5IpL","../utils/validator":"lesR"}],"uOcn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../utils/error"),e=require("../utils/validator");function s(e){if(e.response.isJson()){var s=e.response.data,a=o(s),i=t(s);return r.FirebaseMessagingError.fromServerError(a,i,s)}var n;switch(e.response.status){case 400:n=r.MessagingClientErrorCode.INVALID_ARGUMENT;break;case 401:case 403:n=r.MessagingClientErrorCode.AUTHENTICATION_ERROR;break;case 500:n=r.MessagingClientErrorCode.INTERNAL_ERROR;break;case 503:n=r.MessagingClientErrorCode.SERVER_UNAVAILABLE;break;default:n=r.MessagingClientErrorCode.UNKNOWN_ERROR}return new r.FirebaseMessagingError({code:n.code,message:n.message+' Raw server response: "'+e.response.text+'". Status code: '+e.response.status+"."})}function o(r){if(e.isNonNullObject(r)&&"error"in r){if(e.isString(r.error))return r.error;if(e.isArray(r.error.details))for(var s=0,o=r.error.details;s<o.length;s++){var t=o[s];if("type.googleapis.com/google.firebase.fcm.v1.FcmError"===t["@type"])return t.errorCode}return"status"in r.error?r.error.status:r.error.message}return null}function t(r){return e.isNonNullObject(r)&&"error"in r&&e.isNonEmptyString(r.error.message)?r.error.message:null}exports.createFirebaseError=s,exports.getErrorCode=o;
},{"../utils/error":"5IpL","../utils/validator":"lesR"}],"bYvI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../utils/api-request"),n="__END_OF_PART__",e=1e4,r=function(){function r(t,n,e){this.httpClient=t,this.batchUrl=n,this.commonHeaders=e}return r.prototype.send=function(r){var o=this;r=r.map(function(t){return t.headers=Object.assign({},o.commonHeaders,t.headers),t});var a={"Content-Type":"multipart/mixed; boundary="+n},i={method:"POST",url:this.batchUrl,data:this.getMultipartPayload(r),headers:Object.assign({},this.commonHeaders,a),timeout:e};return this.httpClient.send(i).then(function(n){return n.multipart.map(function(n){return t.parseHttpResponse(n,i)})})},r.prototype.getMultipartPayload=function(t){var e="";return t.forEach(function(t,r){e+=o(t,n,r)}),e+="--"+n+"--\r\n",Buffer.from(e,"utf-8")},r}();function o(t,n,e){var r=a(t),o="--"+n+"\r\n";return o+="Content-Length: "+r.length+"\r\n",o+="Content-Type: application/http\r\n",o+="content-id: "+(e+1)+"\r\n",o+="content-transfer-encoding: binary\r\n",o+="\r\n",o+=r+"\r\n"}function a(t){var n=JSON.stringify(t.body),e="POST "+t.url+" HTTP/1.1\r\n";return e+="Content-Length: "+n.length+"\r\n",e+="Content-Type: application/json; charset=UTF-8\r\n",t.headers&&Object.keys(t.headers).forEach(function(n){e+=n+": "+t.headers[n]+"\r\n"}),e+="\r\n",e+=n}exports.BatchRequestClient=r;
},{"../utils/api-request":"owx1"}],"QNPh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/api-request"),t=require("./messaging-errors"),r=require("./batch-request"),n=1e4,s="https://fcm.googleapis.com/batch",i="POST",o={"X-Firebase-Client":"fire-admin-node/8.3.0"},a={"X-Firebase-Client":"fire-admin-node/8.3.0",access_token_auth:"true"},u=function(){function u(t){this.httpClient=new e.AuthorizedHttpClient(t),this.batchClient=new r.BatchRequestClient(this.httpClient,s,o)}return u.prototype.invokeRequestHandler=function(r,s,o){var u={method:i,url:"https://"+r+s,data:o,headers:a,timeout:n};return this.httpClient.send(u).then(function(r){if(!r.isJson())throw new e.HttpError(r);if(t.getErrorCode(r.data))throw new e.HttpError(r);return r.data}).catch(function(r){if(r instanceof e.HttpError)throw t.createFirebaseError(r);throw r})},u.prototype.sendBatchRequest=function(r){var n=this;return this.batchClient.send(r).then(function(e){return e.map(function(e){return n.buildSendResponse(e)})}).then(function(e){var t=e.filter(function(e){return e.success}).length;return{responses:e,successCount:t,failureCount:e.length-t}}).catch(function(r){if(r instanceof e.HttpError)throw t.createFirebaseError(r);throw r})},u.prototype.buildSendResponse=function(r){var n={success:200===r.status};return n.success?n.messageId=r.data.name:n.error=t.createFirebaseError(new e.HttpError(r)),n},u}();exports.FirebaseMessagingRequestHandler=u;
},{"../utils/api-request":"owx1","./messaging-errors":"uOcn","./batch-request":"bYvI"}],"12mS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/deep-copy"),i=require("./messaging-types"),r=require("./messaging-api-request"),n=require("../utils/error"),t=require("../utils"),o=require("../utils/validator"),s="fcm.googleapis.com",a="/fcm/send",g="iid.googleapis.com",l="/iid/v1:batchAdd",d="/iid/v1:batchRemove",p=100,u={bodyLocArgs:"body_loc_args",bodyLocKey:"body_loc_key",clickAction:"click_action",titleLocArgs:"title_loc_args",titleLocKey:"title_loc_key"},c={dryRun:"dry_run",timeToLive:"time_to_live",collapseKey:"collapse_key",mutableContent:"mutable_content",contentAvailable:"content_available",restrictedPackageName:"restricted_package_name"},v={message_id:"messageId",registration_id:"canonicalRegistrationToken"},m={canonical_ids:"canonicalRegistrationTokenCount",failure:"failureCount",success:"successCount",multicast_id:"multicastId"},y={success:"successCount",failure:"failureCount",failed_registration_ids:"failedRegistrationTokens"},f={message_id:"messageId"},E={message_id:"messageId"};function M(e){return t.renameProperties(e,m),"results"in e&&e.results.forEach(function(e){if(t.renameProperties(e,v),"error"in e){var i=n.FirebaseMessagingError.fromServerError(e.error,void 0,e.error);e.error=i}}),e}function h(e){return t.renameProperties(e,y),e.failedRegistrationTokens=e.failedRegistrationTokens||[],e}function b(e){var i={successCount:0,failureCount:0,errors:[]};return"results"in e&&e.results.forEach(function(e,r){if("error"in e){i.failureCount+=1;var t=n.FirebaseMessagingError.fromTopicManagementServerError(e.error,void 0,e.error);i.errors.push({index:r,error:t})}else i.successCount+=1}),i}exports.BLACKLISTED_DATA_PAYLOAD_KEYS=["from"],exports.BLACKLISTED_OPTIONS_KEYS=["condition","data","notification","registrationIds","registration_ids","to"];var I=function(){function e(){}return e.prototype.delete=function(){return Promise.resolve(void 0)},e}(),C=function(){function v(e){if(this.INTERNAL=new I,!(o.isNonNullObject(e)&&"options"in e))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.messaging() must be a valid Firebase app instance.");var i=t.getProjectId(e);if(!o.isNonEmptyString(i))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"Failed to determine project ID for Messaging. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");this.urlPath="/v1/projects/"+i+"/messages:send",this.appInternal=e,this.messagingRequestHandler=new r.FirebaseMessagingRequestHandler(e)}return Object.defineProperty(v.prototype,"app",{get:function(){return this.appInternal},enumerable:!0,configurable:!0}),v.prototype.send=function(r,t){var a=this,g=e.deepCopy(r);if(i.validateMessage(g),void 0!==t&&!o.isBoolean(t))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");return Promise.resolve().then(function(){var e={message:g};return t&&(e.validate_only=!0),a.messagingRequestHandler.invokeRequestHandler(s,a.urlPath,e)}).then(function(e){return e.name})},v.prototype.sendAll=function(r,t){var a=this;o.isArray(r)&&r.constructor!==Array&&(r=Array.from(r));var g=e.deepCopy(r);if(!o.isNonEmptyArray(g))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"messages must be a non-empty array");if(g.length>p)throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"messages list must not contain more than "+p+" items");if(void 0!==t&&!o.isBoolean(t))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");var l=g.map(function(e){i.validateMessage(e);var r={message:e};return t&&(r.validate_only=!0),{url:"https://"+s+a.urlPath,body:r}});return this.messagingRequestHandler.sendBatchRequest(l)},v.prototype.sendMulticast=function(i,r){var t=e.deepCopy(i);if(!o.isNonNullObject(t))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"MulticastMessage must be a non-null object");if(!o.isNonEmptyArray(t.tokens))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens must be a non-empty array");if(t.tokens.length>p)throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens list must not contain more than "+p+" items");var s=t.tokens.map(function(e){return{token:e,android:t.android,apns:t.apns,data:t.data,notification:t.notification,webpush:t.webpush}});return this.sendAll(s,r)},v.prototype.sendToDevice=function(i,r,t){var g=this;return void 0===t&&(t={}),this.validateRegistrationTokensType(i,"sendToDevice",n.MessagingClientErrorCode.INVALID_RECIPIENT),this.validateMessagingPayloadAndOptionsTypes(r,t),Promise.resolve().then(function(){g.validateRegistrationTokens(i,"sendToDevice",n.MessagingClientErrorCode.INVALID_RECIPIENT);var l=g.validateMessagingPayload(r),d=g.validateMessagingOptions(t),p=e.deepCopy(l);return e.deepExtend(p,d),o.isString(i)?p.to=i:p.registration_ids=i,g.messagingRequestHandler.invokeRequestHandler(s,a,p)}).then(function(e){return"multicast_id"in e?M(e):h(e)})},v.prototype.sendToDeviceGroup=function(i,r,t){var g=this;if(void 0===t&&(t={}),!o.isNonEmptyString(i))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_RECIPIENT,"Notification key provided to sendToDeviceGroup() must be a non-empty string.");return-1!==i.indexOf(":")?Promise.reject(new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_RECIPIENT,"Notification key provided to sendToDeviceGroup() has the format of a registration token. You should use sendToDevice() instead.")):(this.validateMessagingPayloadAndOptionsTypes(r,t),Promise.resolve().then(function(){var n=g.validateMessagingPayload(r),o=g.validateMessagingOptions(t),l=e.deepCopy(n);return e.deepExtend(l,o),l.to=i,g.messagingRequestHandler.invokeRequestHandler(s,a,l)}).then(function(e){if("multicast_id"in e){if(0===e.success)throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_RECIPIENT,"Notification key provided to sendToDeviceGroup() is invalid.");return M(e)}return h(e)}))},v.prototype.sendToTopic=function(i,r,o){var g=this;return void 0===o&&(o={}),this.validateTopicType(i,"sendToTopic",n.MessagingClientErrorCode.INVALID_RECIPIENT),this.validateMessagingPayloadAndOptionsTypes(r,o),i=this.normalizeTopic(i),Promise.resolve().then(function(){var t=g.validateMessagingPayload(r),l=g.validateMessagingOptions(o);g.validateTopic(i,"sendToTopic",n.MessagingClientErrorCode.INVALID_RECIPIENT);var d=e.deepCopy(t);return e.deepExtend(d,l),d.to=i,g.messagingRequestHandler.invokeRequestHandler(s,a,d)}).then(function(e){return t.renameProperties(e,f),e})},v.prototype.sendToCondition=function(i,r,g){var l=this;if(void 0===g&&(g={}),!o.isNonEmptyString(i))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_RECIPIENT,"Condition provided to sendToCondition() must be a non-empty string.");return this.validateMessagingPayloadAndOptionsTypes(r,g),i=i.replace(/"/g,"'"),Promise.resolve().then(function(){var n=l.validateMessagingPayload(r),t=l.validateMessagingOptions(g),o=e.deepCopy(n);return e.deepExtend(o,t),o.condition=i,l.messagingRequestHandler.invokeRequestHandler(s,a,o)}).then(function(e){return t.renameProperties(e,E),e})},v.prototype.subscribeToTopic=function(e,i){return this.sendTopicManagementRequest(e,i,"subscribeToTopic",l)},v.prototype.unsubscribeFromTopic=function(e,i){return this.sendTopicManagementRequest(e,i,"unsubscribeFromTopic",d)},v.prototype.sendTopicManagementRequest=function(e,i,r,n){var t=this;return this.validateRegistrationTokensType(e,r),this.validateTopicType(i,r),i=this.normalizeTopic(i),Promise.resolve().then(function(){t.validateRegistrationTokens(e,r),t.validateTopic(i,r);var s=e;o.isString(e)&&(s=[e]);var a={to:i,registration_tokens:s};return t.messagingRequestHandler.invokeRequestHandler(g,n,a)}).then(function(e){return b(e)})},v.prototype.validateMessagingPayloadAndOptionsTypes=function(e,i){if(!o.isNonNullObject(e))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload must be an object with at least one of the "data" or "notification" properties.');if(!o.isNonNullObject(i))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,"Messaging options must be an object.")},v.prototype.validateMessagingPayload=function(i){var r=e.deepCopy(i),s=Object.keys(r),a=["data","notification"],g=!1;if(s.forEach(function(e){if(-1===a.indexOf(e))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains an invalid "'+e+'" property. Valid properties are "data" and "notification".');g=!0}),!g)throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload must contain at least one of the "data" or "notification" properties.');return s.forEach(function(e){var i=r[e];if(!o.isNonNullObject(i))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains an invalid value for the "'+e+'" property. Value must be an object.');Object.keys(i).forEach(function(r){if(!o.isString(i[r]))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains an invalid value for the "'+e+"."+r+'" property. Values must be strings.');if("data"===e&&/^google\./.test(r))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains the blacklisted "data.'+r+'" property.')})}),"data"in r&&exports.BLACKLISTED_DATA_PAYLOAD_KEYS.forEach(function(e){if(e in r.data)throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_PAYLOAD,'Messaging payload contains the blacklisted "data.'+e+'" property.')}),"notification"in r&&t.renameProperties(r.notification,u),r},v.prototype.validateMessagingOptions=function(i){var r=e.deepCopy(i);if(exports.BLACKLISTED_OPTIONS_KEYS.forEach(function(e){if(e in r)throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains the blacklisted "'+e+'" property.')}),t.renameProperties(r,c),"collapse_key"in r&&!o.isNonEmptyString(r.collapse_key)){var s="collapseKey"in i?"collapseKey":"collapse_key";throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+s+'" property. Value must be a non-empty string.')}if("dry_run"in r&&!o.isBoolean(r.dry_run)){s="dryRun"in i?"dryRun":"dry_run";throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+s+'" property. Value must be a boolean.')}if("priority"in r&&!o.isNonEmptyString(r.priority))throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "priority" property. Value must be a non-empty string.');if("restricted_package_name"in r&&!o.isNonEmptyString(r.restricted_package_name)){s="restrictedPackageName"in i?"restrictedPackageName":"restricted_package_name";throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+s+'" property. Value must be a non-empty string.')}if("time_to_live"in r&&!o.isNumber(r.time_to_live)){s="timeToLive"in i?"timeToLive":"time_to_live";throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+s+'" property. Value must be a number.')}if("content_available"in r&&!o.isBoolean(r.content_available)){s="contentAvailable"in i?"contentAvailable":"content_available";throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+s+'" property. Value must be a boolean.')}if("mutable_content"in r&&!o.isBoolean(r.mutable_content)){s="mutableContent"in i?"mutableContent":"mutable_content";throw new n.FirebaseMessagingError(n.MessagingClientErrorCode.INVALID_OPTIONS,'Messaging options contains an invalid value for the "'+s+'" property. Value must be a boolean.')}return r},v.prototype.validateRegistrationTokensType=function(e,i,r){if(void 0===r&&(r=n.MessagingClientErrorCode.INVALID_ARGUMENT),!o.isNonEmptyArray(e)&&!o.isNonEmptyString(e))throw new n.FirebaseMessagingError(r,"Registration token(s) provided to "+i+"() must be a non-empty string or a non-empty array.")},v.prototype.validateRegistrationTokens=function(e,i,r){if(void 0===r&&(r=n.MessagingClientErrorCode.INVALID_ARGUMENT),o.isArray(e)){if(e.length>1e3)throw new n.FirebaseMessagingError(r,"Too many registration tokens provided in a single request to "+i+"(). Batch your requests to contain no more than 1,000 registration tokens per request.");e.forEach(function(e,t){if(!o.isNonEmptyString(e))throw new n.FirebaseMessagingError(r,"Registration token provided to "+i+"() at index "+t+" must be a non-empty string.")})}},v.prototype.validateTopicType=function(e,i,r){if(void 0===r&&(r=n.MessagingClientErrorCode.INVALID_ARGUMENT),!o.isNonEmptyString(e))throw new n.FirebaseMessagingError(r,"Topic provided to "+i+'() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".')},v.prototype.validateTopic=function(e,i,r){if(void 0===r&&(r=n.MessagingClientErrorCode.INVALID_ARGUMENT),!o.isTopic(e))throw new n.FirebaseMessagingError(r,"Topic provided to "+i+'() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".')},v.prototype.normalizeTopic=function(e){return/^\/topics\//.test(e)||(e="/topics/"+e),e},v}();exports.Messaging=C;
},{"../utils/deep-copy":"Irg2","./messaging-types":"qPgC","./messaging-api-request":"QNPh","../utils/error":"5IpL","../utils":"L70j","../utils/validator":"lesR"}],"LG1d":[function(require,module,exports) {
"use strict";function t(t,e){if(t.promisified_)return t;e=e||{};const o=Array.prototype.slice,r=function(){const r=this;let i;for(i=arguments.length-1;i>=0;i--){const e=arguments[i];if(void 0!==e){if("function"!=typeof e)break;return t.apply(r,arguments)}}const n=o.call(arguments,0,i+1);let p=Promise;return r&&r.Promise&&(p=r.Promise),new p((i,p)=>{n.push((...t)=>{const r=o.call(t),n=r.shift();if(n)return p(n);e.singular&&1===r.length?i(r[0]):i(r)}),t.apply(r,n)})};return r.promisified_=!0,r}function e(t,e){const o=e&&e.exclude||[];Object.getOwnPropertyNames(t.prototype).filter(e=>"function"==typeof t.prototype[e]&&!/(^_|(Stream|_)|promise$)|^constructor$/.test(e)&&-1===o.indexOf(e)).forEach(o=>{const r=t.prototype[o];r.promisified_||(t.prototype[o]=exports.promisify(r,e))})}function o(t){if(t.callbackified_)return t;const e=function(){const e=this;if("function"!=typeof arguments[arguments.length-1])return t.apply(e,arguments);const o=Array.prototype.pop.call(arguments);t.apply(e,arguments).then(t=>{t=Array.isArray(t)?t:[t],o(null,...t)},t=>o(t))};return e.callbackified_=!0,e}function r(t,e){const o=e&&e.exclude||[];Object.getOwnPropertyNames(t.prototype).filter(e=>"function"==typeof t.prototype[e]&&!/^_|(Stream|_)|^constructor$/.test(e)&&-1===o.indexOf(e)).forEach(e=>{const o=t.prototype[e];o.callbackified_||(t.prototype[e]=exports.callbackify(o))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.promisify=t,exports.promisifyAll=e,exports.callbackify=o,exports.callbackifyAll=r;
},{}],"Wcc5":[function(require,module,exports) {
"use strict";const t=t=>null==t?[]:Array.isArray(t)?t:"string"==typeof t?[t]:"function"==typeof t[Symbol.iterator]?[...t]:[t];module.exports=t;
},{}],"PUjw":[function(require,module,exports) {
"use strict";var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,n=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===t.call(r)},c=function(e){if(!e||"[object Object]"!==t.call(e))return!1;var o,n=r.call(e,"constructor"),c=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!c)return!1;for(o in e);return void 0===o||r.call(e,o)},u=function(r,t){e&&"__proto__"===t.name?e(r,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):r[t.name]=t.newValue},a=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(o)return o(t,e).value}return t[e]};module.exports=function r(){var t,e,o,l,i,f,p=arguments[0],y=1,s=arguments.length,b=!1;for("boolean"==typeof p&&(b=p,p=arguments[1]||{},y=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});y<s;++y)if(null!=(t=arguments[y]))for(e in t)o=a(p,e),p!==(l=a(t,e))&&(b&&l&&(c(l)||(i=n(l)))?(i?(i=!1,f=o&&n(o)?o:[]):f=o&&c(o)?o:{},u(p,{name:e,newValue:r(b,f,l)})):void 0!==l&&u(p,{name:e,newValue:l}));return p};
},{}],"wpYs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("stream");function r(o,n){if(Array.isArray(o)&&(o=o.map(e=>r(e,n))),!(null===o||"object"!=typeof o||o instanceof Buffer||o instanceof e.Stream||"function"!=typeof o.hasOwnProperty))for(const e in o)o.hasOwnProperty(e)&&(o[e]=r(o[e],n));if("string"==typeof o&&o.indexOf("{{projectId}}")>-1){if(!n||"{{projectId}}"===n)throw new t;o=o.replace(/{{projectId}}/g,n)}return o}exports.replaceProjectIdToken=r;class t extends Error{constructor(){super(...arguments),this.message='Sorry, we cannot connect to Cloud Services without a project\n    ID. You may specify one with an environment variable named\n    "GOOGLE_CLOUD_PROJECT".'.replace(/ +/g," ")}}exports.MissingProjectIdError=t;
},{}],"5B/i":[function(require,module,exports) {
module.exports={9:"Tab;",10:"NewLine;",33:"excl;",34:"quot;",35:"num;",36:"dollar;",37:"percnt;",38:"amp;",39:"apos;",40:"lpar;",41:"rpar;",42:"midast;",43:"plus;",44:"comma;",46:"period;",47:"sol;",58:"colon;",59:"semi;",60:"lt;",61:"equals;",62:"gt;",63:"quest;",64:"commat;",91:"lsqb;",92:"bsol;",93:"rsqb;",94:"Hat;",95:"UnderBar;",96:"grave;",123:"lcub;",124:"VerticalLine;",125:"rcub;",160:"NonBreakingSpace;",161:"iexcl;",162:"cent;",163:"pound;",164:"curren;",165:"yen;",166:"brvbar;",167:"sect;",168:"uml;",169:"copy;",170:"ordf;",171:"laquo;",172:"not;",173:"shy;",174:"reg;",175:"strns;",176:"deg;",177:"pm;",178:"sup2;",179:"sup3;",180:"DiacriticalAcute;",181:"micro;",182:"para;",183:"middot;",184:"Cedilla;",185:"sup1;",186:"ordm;",187:"raquo;",188:"frac14;",189:"half;",190:"frac34;",191:"iquest;",192:"Agrave;",193:"Aacute;",194:"Acirc;",195:"Atilde;",196:"Auml;",197:"Aring;",198:"AElig;",199:"Ccedil;",200:"Egrave;",201:"Eacute;",202:"Ecirc;",203:"Euml;",204:"Igrave;",205:"Iacute;",206:"Icirc;",207:"Iuml;",208:"ETH;",209:"Ntilde;",210:"Ograve;",211:"Oacute;",212:"Ocirc;",213:"Otilde;",214:"Ouml;",215:"times;",216:"Oslash;",217:"Ugrave;",218:"Uacute;",219:"Ucirc;",220:"Uuml;",221:"Yacute;",222:"THORN;",223:"szlig;",224:"agrave;",225:"aacute;",226:"acirc;",227:"atilde;",228:"auml;",229:"aring;",230:"aelig;",231:"ccedil;",232:"egrave;",233:"eacute;",234:"ecirc;",235:"euml;",236:"igrave;",237:"iacute;",238:"icirc;",239:"iuml;",240:"eth;",241:"ntilde;",242:"ograve;",243:"oacute;",244:"ocirc;",245:"otilde;",246:"ouml;",247:"divide;",248:"oslash;",249:"ugrave;",250:"uacute;",251:"ucirc;",252:"uuml;",253:"yacute;",254:"thorn;",255:"yuml;",256:"Amacr;",257:"amacr;",258:"Abreve;",259:"abreve;",260:"Aogon;",261:"aogon;",262:"Cacute;",263:"cacute;",264:"Ccirc;",265:"ccirc;",266:"Cdot;",267:"cdot;",268:"Ccaron;",269:"ccaron;",270:"Dcaron;",271:"dcaron;",272:"Dstrok;",273:"dstrok;",274:"Emacr;",275:"emacr;",278:"Edot;",279:"edot;",280:"Eogon;",281:"eogon;",282:"Ecaron;",283:"ecaron;",284:"Gcirc;",285:"gcirc;",286:"Gbreve;",287:"gbreve;",288:"Gdot;",289:"gdot;",290:"Gcedil;",292:"Hcirc;",293:"hcirc;",294:"Hstrok;",295:"hstrok;",296:"Itilde;",297:"itilde;",298:"Imacr;",299:"imacr;",302:"Iogon;",303:"iogon;",304:"Idot;",305:"inodot;",306:"IJlig;",307:"ijlig;",308:"Jcirc;",309:"jcirc;",310:"Kcedil;",311:"kcedil;",312:"kgreen;",313:"Lacute;",314:"lacute;",315:"Lcedil;",316:"lcedil;",317:"Lcaron;",318:"lcaron;",319:"Lmidot;",320:"lmidot;",321:"Lstrok;",322:"lstrok;",323:"Nacute;",324:"nacute;",325:"Ncedil;",326:"ncedil;",327:"Ncaron;",328:"ncaron;",329:"napos;",330:"ENG;",331:"eng;",332:"Omacr;",333:"omacr;",336:"Odblac;",337:"odblac;",338:"OElig;",339:"oelig;",340:"Racute;",341:"racute;",342:"Rcedil;",343:"rcedil;",344:"Rcaron;",345:"rcaron;",346:"Sacute;",347:"sacute;",348:"Scirc;",349:"scirc;",350:"Scedil;",351:"scedil;",352:"Scaron;",353:"scaron;",354:"Tcedil;",355:"tcedil;",356:"Tcaron;",357:"tcaron;",358:"Tstrok;",359:"tstrok;",360:"Utilde;",361:"utilde;",362:"Umacr;",363:"umacr;",364:"Ubreve;",365:"ubreve;",366:"Uring;",367:"uring;",368:"Udblac;",369:"udblac;",370:"Uogon;",371:"uogon;",372:"Wcirc;",373:"wcirc;",374:"Ycirc;",375:"ycirc;",376:"Yuml;",377:"Zacute;",378:"zacute;",379:"Zdot;",380:"zdot;",381:"Zcaron;",382:"zcaron;",402:"fnof;",437:"imped;",501:"gacute;",567:"jmath;",710:"circ;",711:"Hacek;",728:"breve;",729:"dot;",730:"ring;",731:"ogon;",732:"tilde;",733:"DiacriticalDoubleAcute;",785:"DownBreve;",913:"Alpha;",914:"Beta;",915:"Gamma;",916:"Delta;",917:"Epsilon;",918:"Zeta;",919:"Eta;",920:"Theta;",921:"Iota;",922:"Kappa;",923:"Lambda;",924:"Mu;",925:"Nu;",926:"Xi;",927:"Omicron;",928:"Pi;",929:"Rho;",931:"Sigma;",932:"Tau;",933:"Upsilon;",934:"Phi;",935:"Chi;",936:"Psi;",937:"Omega;",945:"alpha;",946:"beta;",947:"gamma;",948:"delta;",949:"epsilon;",950:"zeta;",951:"eta;",952:"theta;",953:"iota;",954:"kappa;",955:"lambda;",956:"mu;",957:"nu;",958:"xi;",959:"omicron;",960:"pi;",961:"rho;",962:"varsigma;",963:"sigma;",964:"tau;",965:"upsilon;",966:"phi;",967:"chi;",968:"psi;",969:"omega;",977:"vartheta;",978:"upsih;",981:"varphi;",982:"varpi;",988:"Gammad;",989:"gammad;",1008:"varkappa;",1009:"varrho;",1013:"varepsilon;",1014:"bepsi;",1025:"IOcy;",1026:"DJcy;",1027:"GJcy;",1028:"Jukcy;",1029:"DScy;",1030:"Iukcy;",1031:"YIcy;",1032:"Jsercy;",1033:"LJcy;",1034:"NJcy;",1035:"TSHcy;",1036:"KJcy;",1038:"Ubrcy;",1039:"DZcy;",1040:"Acy;",1041:"Bcy;",1042:"Vcy;",1043:"Gcy;",1044:"Dcy;",1045:"IEcy;",1046:"ZHcy;",1047:"Zcy;",1048:"Icy;",1049:"Jcy;",1050:"Kcy;",1051:"Lcy;",1052:"Mcy;",1053:"Ncy;",1054:"Ocy;",1055:"Pcy;",1056:"Rcy;",1057:"Scy;",1058:"Tcy;",1059:"Ucy;",1060:"Fcy;",1061:"KHcy;",1062:"TScy;",1063:"CHcy;",1064:"SHcy;",1065:"SHCHcy;",1066:"HARDcy;",1067:"Ycy;",1068:"SOFTcy;",1069:"Ecy;",1070:"YUcy;",1071:"YAcy;",1072:"acy;",1073:"bcy;",1074:"vcy;",1075:"gcy;",1076:"dcy;",1077:"iecy;",1078:"zhcy;",1079:"zcy;",1080:"icy;",1081:"jcy;",1082:"kcy;",1083:"lcy;",1084:"mcy;",1085:"ncy;",1086:"ocy;",1087:"pcy;",1088:"rcy;",1089:"scy;",1090:"tcy;",1091:"ucy;",1092:"fcy;",1093:"khcy;",1094:"tscy;",1095:"chcy;",1096:"shcy;",1097:"shchcy;",1098:"hardcy;",1099:"ycy;",1100:"softcy;",1101:"ecy;",1102:"yucy;",1103:"yacy;",1105:"iocy;",1106:"djcy;",1107:"gjcy;",1108:"jukcy;",1109:"dscy;",1110:"iukcy;",1111:"yicy;",1112:"jsercy;",1113:"ljcy;",1114:"njcy;",1115:"tshcy;",1116:"kjcy;",1118:"ubrcy;",1119:"dzcy;",8194:"ensp;",8195:"emsp;",8196:"emsp13;",8197:"emsp14;",8199:"numsp;",8200:"puncsp;",8201:"ThinSpace;",8202:"VeryThinSpace;",8203:"ZeroWidthSpace;",8204:"zwnj;",8205:"zwj;",8206:"lrm;",8207:"rlm;",8208:"hyphen;",8211:"ndash;",8212:"mdash;",8213:"horbar;",8214:"Vert;",8216:"OpenCurlyQuote;",8217:"rsquor;",8218:"sbquo;",8220:"OpenCurlyDoubleQuote;",8221:"rdquor;",8222:"ldquor;",8224:"dagger;",8225:"ddagger;",8226:"bullet;",8229:"nldr;",8230:"mldr;",8240:"permil;",8241:"pertenk;",8242:"prime;",8243:"Prime;",8244:"tprime;",8245:"bprime;",8249:"lsaquo;",8250:"rsaquo;",8254:"OverBar;",8257:"caret;",8259:"hybull;",8260:"frasl;",8271:"bsemi;",8279:"qprime;",8287:"MediumSpace;",8288:"NoBreak;",8289:"ApplyFunction;",8290:"it;",8291:"InvisibleComma;",8364:"euro;",8411:"TripleDot;",8412:"DotDot;",8450:"Copf;",8453:"incare;",8458:"gscr;",8459:"Hscr;",8460:"Poincareplane;",8461:"quaternions;",8462:"planckh;",8463:"plankv;",8464:"Iscr;",8465:"imagpart;",8466:"Lscr;",8467:"ell;",8469:"Nopf;",8470:"numero;",8471:"copysr;",8472:"wp;",8473:"primes;",8474:"rationals;",8475:"Rscr;",8476:"Rfr;",8477:"Ropf;",8478:"rx;",8482:"trade;",8484:"Zopf;",8487:"mho;",8488:"Zfr;",8489:"iiota;",8492:"Bscr;",8493:"Cfr;",8495:"escr;",8496:"expectation;",8497:"Fscr;",8499:"phmmat;",8500:"oscr;",8501:"aleph;",8502:"beth;",8503:"gimel;",8504:"daleth;",8517:"DD;",8518:"DifferentialD;",8519:"exponentiale;",8520:"ImaginaryI;",8531:"frac13;",8532:"frac23;",8533:"frac15;",8534:"frac25;",8535:"frac35;",8536:"frac45;",8537:"frac16;",8538:"frac56;",8539:"frac18;",8540:"frac38;",8541:"frac58;",8542:"frac78;",8592:"slarr;",8593:"uparrow;",8594:"srarr;",8595:"ShortDownArrow;",8596:"leftrightarrow;",8597:"varr;",8598:"UpperLeftArrow;",8599:"UpperRightArrow;",8600:"searrow;",8601:"swarrow;",8602:"nleftarrow;",8603:"nrightarrow;",8605:"rightsquigarrow;",8606:"twoheadleftarrow;",8607:"Uarr;",8608:"twoheadrightarrow;",8609:"Darr;",8610:"leftarrowtail;",8611:"rightarrowtail;",8612:"mapstoleft;",8613:"UpTeeArrow;",8614:"RightTeeArrow;",8615:"mapstodown;",8617:"larrhk;",8618:"rarrhk;",8619:"looparrowleft;",8620:"rarrlp;",8621:"leftrightsquigarrow;",8622:"nleftrightarrow;",8624:"lsh;",8625:"rsh;",8626:"ldsh;",8627:"rdsh;",8629:"crarr;",8630:"curvearrowleft;",8631:"curvearrowright;",8634:"olarr;",8635:"orarr;",8636:"lharu;",8637:"lhard;",8638:"upharpoonright;",8639:"upharpoonleft;",8640:"RightVector;",8641:"rightharpoondown;",8642:"RightDownVector;",8643:"LeftDownVector;",8644:"rlarr;",8645:"UpArrowDownArrow;",8646:"lrarr;",8647:"llarr;",8648:"uuarr;",8649:"rrarr;",8650:"downdownarrows;",8651:"ReverseEquilibrium;",8652:"rlhar;",8653:"nLeftarrow;",8654:"nLeftrightarrow;",8655:"nRightarrow;",8656:"Leftarrow;",8657:"Uparrow;",8658:"Rightarrow;",8659:"Downarrow;",8660:"Leftrightarrow;",8661:"vArr;",8662:"nwArr;",8663:"neArr;",8664:"seArr;",8665:"swArr;",8666:"Lleftarrow;",8667:"Rrightarrow;",8669:"zigrarr;",8676:"LeftArrowBar;",8677:"RightArrowBar;",8693:"duarr;",8701:"loarr;",8702:"roarr;",8703:"hoarr;",8704:"forall;",8705:"complement;",8706:"PartialD;",8707:"Exists;",8708:"NotExists;",8709:"varnothing;",8711:"nabla;",8712:"isinv;",8713:"notinva;",8715:"SuchThat;",8716:"NotReverseElement;",8719:"Product;",8720:"Coproduct;",8721:"sum;",8722:"minus;",8723:"mp;",8724:"plusdo;",8726:"ssetmn;",8727:"lowast;",8728:"SmallCircle;",8730:"Sqrt;",8733:"vprop;",8734:"infin;",8735:"angrt;",8736:"angle;",8737:"measuredangle;",8738:"angsph;",8739:"VerticalBar;",8740:"nsmid;",8741:"spar;",8742:"nspar;",8743:"wedge;",8744:"vee;",8745:"cap;",8746:"cup;",8747:"Integral;",8748:"Int;",8749:"tint;",8750:"oint;",8751:"DoubleContourIntegral;",8752:"Cconint;",8753:"cwint;",8754:"cwconint;",8755:"CounterClockwiseContourIntegral;",8756:"therefore;",8757:"because;",8758:"ratio;",8759:"Proportion;",8760:"minusd;",8762:"mDDot;",8763:"homtht;",8764:"Tilde;",8765:"bsim;",8766:"mstpos;",8767:"acd;",8768:"wreath;",8769:"nsim;",8770:"esim;",8771:"TildeEqual;",8772:"nsimeq;",8773:"TildeFullEqual;",8774:"simne;",8775:"NotTildeFullEqual;",8776:"TildeTilde;",8777:"NotTildeTilde;",8778:"approxeq;",8779:"apid;",8780:"bcong;",8781:"CupCap;",8782:"HumpDownHump;",8783:"HumpEqual;",8784:"esdot;",8785:"eDot;",8786:"fallingdotseq;",8787:"risingdotseq;",8788:"coloneq;",8789:"eqcolon;",8790:"eqcirc;",8791:"cire;",8793:"wedgeq;",8794:"veeeq;",8796:"trie;",8799:"questeq;",8800:"NotEqual;",8801:"equiv;",8802:"NotCongruent;",8804:"leq;",8805:"GreaterEqual;",8806:"LessFullEqual;",8807:"GreaterFullEqual;",8808:"lneqq;",8809:"gneqq;",8810:"NestedLessLess;",8811:"NestedGreaterGreater;",8812:"twixt;",8813:"NotCupCap;",8814:"NotLess;",8815:"NotGreater;",8816:"NotLessEqual;",8817:"NotGreaterEqual;",8818:"lsim;",8819:"gtrsim;",8820:"NotLessTilde;",8821:"NotGreaterTilde;",8822:"lg;",8823:"gtrless;",8824:"ntlg;",8825:"ntgl;",8826:"Precedes;",8827:"Succeeds;",8828:"PrecedesSlantEqual;",8829:"SucceedsSlantEqual;",8830:"prsim;",8831:"succsim;",8832:"nprec;",8833:"nsucc;",8834:"subset;",8835:"supset;",8836:"nsub;",8837:"nsup;",8838:"SubsetEqual;",8839:"supseteq;",8840:"nsubseteq;",8841:"nsupseteq;",8842:"subsetneq;",8843:"supsetneq;",8845:"cupdot;",8846:"uplus;",8847:"SquareSubset;",8848:"SquareSuperset;",8849:"SquareSubsetEqual;",8850:"SquareSupersetEqual;",8851:"SquareIntersection;",8852:"SquareUnion;",8853:"oplus;",8854:"ominus;",8855:"otimes;",8856:"osol;",8857:"odot;",8858:"ocir;",8859:"oast;",8861:"odash;",8862:"plusb;",8863:"minusb;",8864:"timesb;",8865:"sdotb;",8866:"vdash;",8867:"LeftTee;",8868:"top;",8869:"UpTee;",8871:"models;",8872:"vDash;",8873:"Vdash;",8874:"Vvdash;",8875:"VDash;",8876:"nvdash;",8877:"nvDash;",8878:"nVdash;",8879:"nVDash;",8880:"prurel;",8882:"vltri;",8883:"vrtri;",8884:"trianglelefteq;",8885:"trianglerighteq;",8886:"origof;",8887:"imof;",8888:"mumap;",8889:"hercon;",8890:"intercal;",8891:"veebar;",8893:"barvee;",8894:"angrtvb;",8895:"lrtri;",8896:"xwedge;",8897:"xvee;",8898:"xcap;",8899:"xcup;",8900:"diamond;",8901:"sdot;",8902:"Star;",8903:"divonx;",8904:"bowtie;",8905:"ltimes;",8906:"rtimes;",8907:"lthree;",8908:"rthree;",8909:"bsime;",8910:"cuvee;",8911:"cuwed;",8912:"Subset;",8913:"Supset;",8914:"Cap;",8915:"Cup;",8916:"pitchfork;",8917:"epar;",8918:"ltdot;",8919:"gtrdot;",8920:"Ll;",8921:"ggg;",8922:"LessEqualGreater;",8923:"gtreqless;",8926:"curlyeqprec;",8927:"curlyeqsucc;",8928:"nprcue;",8929:"nsccue;",8930:"nsqsube;",8931:"nsqsupe;",8934:"lnsim;",8935:"gnsim;",8936:"prnsim;",8937:"succnsim;",8938:"ntriangleleft;",8939:"ntriangleright;",8940:"ntrianglelefteq;",8941:"ntrianglerighteq;",8942:"vellip;",8943:"ctdot;",8944:"utdot;",8945:"dtdot;",8946:"disin;",8947:"isinsv;",8948:"isins;",8949:"isindot;",8950:"notinvc;",8951:"notinvb;",8953:"isinE;",8954:"nisd;",8955:"xnis;",8956:"nis;",8957:"notnivc;",8958:"notnivb;",8965:"barwedge;",8966:"doublebarwedge;",8968:"LeftCeiling;",8969:"RightCeiling;",8970:"lfloor;",8971:"RightFloor;",8972:"drcrop;",8973:"dlcrop;",8974:"urcrop;",8975:"ulcrop;",8976:"bnot;",8978:"profline;",8979:"profsurf;",8981:"telrec;",8982:"target;",8988:"ulcorner;",8989:"urcorner;",8990:"llcorner;",8991:"lrcorner;",8994:"sfrown;",8995:"ssmile;",9005:"cylcty;",9006:"profalar;",9014:"topbot;",9021:"ovbar;",9023:"solbar;",9084:"angzarr;",9136:"lmoustache;",9137:"rmoustache;",9140:"tbrk;",9141:"UnderBracket;",9142:"bbrktbrk;",9180:"OverParenthesis;",9181:"UnderParenthesis;",9182:"OverBrace;",9183:"UnderBrace;",9186:"trpezium;",9191:"elinters;",9251:"blank;",9416:"oS;",9472:"HorizontalLine;",9474:"boxv;",9484:"boxdr;",9488:"boxdl;",9492:"boxur;",9496:"boxul;",9500:"boxvr;",9508:"boxvl;",9516:"boxhd;",9524:"boxhu;",9532:"boxvh;",9552:"boxH;",9553:"boxV;",9554:"boxdR;",9555:"boxDr;",9556:"boxDR;",9557:"boxdL;",9558:"boxDl;",9559:"boxDL;",9560:"boxuR;",9561:"boxUr;",9562:"boxUR;",9563:"boxuL;",9564:"boxUl;",9565:"boxUL;",9566:"boxvR;",9567:"boxVr;",9568:"boxVR;",9569:"boxvL;",9570:"boxVl;",9571:"boxVL;",9572:"boxHd;",9573:"boxhD;",9574:"boxHD;",9575:"boxHu;",9576:"boxhU;",9577:"boxHU;",9578:"boxvH;",9579:"boxVh;",9580:"boxVH;",9600:"uhblk;",9604:"lhblk;",9608:"block;",9617:"blk14;",9618:"blk12;",9619:"blk34;",9633:"square;",9642:"squf;",9643:"EmptyVerySmallSquare;",9645:"rect;",9646:"marker;",9649:"fltns;",9651:"xutri;",9652:"utrif;",9653:"utri;",9656:"rtrif;",9657:"triangleright;",9661:"xdtri;",9662:"dtrif;",9663:"triangledown;",9666:"ltrif;",9667:"triangleleft;",9674:"lozenge;",9675:"cir;",9708:"tridot;",9711:"xcirc;",9720:"ultri;",9721:"urtri;",9722:"lltri;",9723:"EmptySmallSquare;",9724:"FilledSmallSquare;",9733:"starf;",9734:"star;",9742:"phone;",9792:"female;",9794:"male;",9824:"spadesuit;",9827:"clubsuit;",9829:"heartsuit;",9830:"diams;",9834:"sung;",9837:"flat;",9838:"natural;",9839:"sharp;",10003:"checkmark;",10007:"cross;",10016:"maltese;",10038:"sext;",10072:"VerticalSeparator;",10098:"lbbrk;",10099:"rbbrk;",10184:"bsolhsub;",10185:"suphsol;",10214:"lobrk;",10215:"robrk;",10216:"LeftAngleBracket;",10217:"RightAngleBracket;",10218:"Lang;",10219:"Rang;",10220:"loang;",10221:"roang;",10229:"xlarr;",10230:"xrarr;",10231:"xharr;",10232:"xlArr;",10233:"xrArr;",10234:"xhArr;",10236:"xmap;",10239:"dzigrarr;",10498:"nvlArr;",10499:"nvrArr;",10500:"nvHarr;",10501:"Map;",10508:"lbarr;",10509:"rbarr;",10510:"lBarr;",10511:"rBarr;",10512:"RBarr;",10513:"DDotrahd;",10514:"UpArrowBar;",10515:"DownArrowBar;",10518:"Rarrtl;",10521:"latail;",10522:"ratail;",10523:"lAtail;",10524:"rAtail;",10525:"larrfs;",10526:"rarrfs;",10527:"larrbfs;",10528:"rarrbfs;",10531:"nwarhk;",10532:"nearhk;",10533:"searhk;",10534:"swarhk;",10535:"nwnear;",10536:"toea;",10537:"tosa;",10538:"swnwar;",10547:"rarrc;",10549:"cudarrr;",10550:"ldca;",10551:"rdca;",10552:"cudarrl;",10553:"larrpl;",10556:"curarrm;",10557:"cularrp;",10565:"rarrpl;",10568:"harrcir;",10569:"Uarrocir;",10570:"lurdshar;",10571:"ldrushar;",10574:"LeftRightVector;",10575:"RightUpDownVector;",10576:"DownLeftRightVector;",10577:"LeftUpDownVector;",10578:"LeftVectorBar;",10579:"RightVectorBar;",10580:"RightUpVectorBar;",10581:"RightDownVectorBar;",10582:"DownLeftVectorBar;",10583:"DownRightVectorBar;",10584:"LeftUpVectorBar;",10585:"LeftDownVectorBar;",10586:"LeftTeeVector;",10587:"RightTeeVector;",10588:"RightUpTeeVector;",10589:"RightDownTeeVector;",10590:"DownLeftTeeVector;",10591:"DownRightTeeVector;",10592:"LeftUpTeeVector;",10593:"LeftDownTeeVector;",10594:"lHar;",10595:"uHar;",10596:"rHar;",10597:"dHar;",10598:"luruhar;",10599:"ldrdhar;",10600:"ruluhar;",10601:"rdldhar;",10602:"lharul;",10603:"llhard;",10604:"rharul;",10605:"lrhard;",10606:"UpEquilibrium;",10607:"ReverseUpEquilibrium;",10608:"RoundImplies;",10609:"erarr;",10610:"simrarr;",10611:"larrsim;",10612:"rarrsim;",10613:"rarrap;",10614:"ltlarr;",10616:"gtrarr;",10617:"subrarr;",10619:"suplarr;",10620:"lfisht;",10621:"rfisht;",10622:"ufisht;",10623:"dfisht;",10629:"lopar;",10630:"ropar;",10635:"lbrke;",10636:"rbrke;",10637:"lbrkslu;",10638:"rbrksld;",10639:"lbrksld;",10640:"rbrkslu;",10641:"langd;",10642:"rangd;",10643:"lparlt;",10644:"rpargt;",10645:"gtlPar;",10646:"ltrPar;",10650:"vzigzag;",10652:"vangrt;",10653:"angrtvbd;",10660:"ange;",10661:"range;",10662:"dwangle;",10663:"uwangle;",10664:"angmsdaa;",10665:"angmsdab;",10666:"angmsdac;",10667:"angmsdad;",10668:"angmsdae;",10669:"angmsdaf;",10670:"angmsdag;",10671:"angmsdah;",10672:"bemptyv;",10673:"demptyv;",10674:"cemptyv;",10675:"raemptyv;",10676:"laemptyv;",10677:"ohbar;",10678:"omid;",10679:"opar;",10681:"operp;",10683:"olcross;",10684:"odsold;",10686:"olcir;",10687:"ofcir;",10688:"olt;",10689:"ogt;",10690:"cirscir;",10691:"cirE;",10692:"solb;",10693:"bsolb;",10697:"boxbox;",10701:"trisb;",10702:"rtriltri;",10703:"LeftTriangleBar;",10704:"RightTriangleBar;",10716:"iinfin;",10717:"infintie;",10718:"nvinfin;",10723:"eparsl;",10724:"smeparsl;",10725:"eqvparsl;",10731:"lozf;",10740:"RuleDelayed;",10742:"dsol;",10752:"xodot;",10753:"xoplus;",10754:"xotime;",10756:"xuplus;",10758:"xsqcup;",10764:"qint;",10765:"fpartint;",10768:"cirfnint;",10769:"awint;",10770:"rppolint;",10771:"scpolint;",10772:"npolint;",10773:"pointint;",10774:"quatint;",10775:"intlarhk;",10786:"pluscir;",10787:"plusacir;",10788:"simplus;",10789:"plusdu;",10790:"plussim;",10791:"plustwo;",10793:"mcomma;",10794:"minusdu;",10797:"loplus;",10798:"roplus;",10799:"Cross;",10800:"timesd;",10801:"timesbar;",10803:"smashp;",10804:"lotimes;",10805:"rotimes;",10806:"otimesas;",10807:"Otimes;",10808:"odiv;",10809:"triplus;",10810:"triminus;",10811:"tritime;",10812:"iprod;",10815:"amalg;",10816:"capdot;",10818:"ncup;",10819:"ncap;",10820:"capand;",10821:"cupor;",10822:"cupcap;",10823:"capcup;",10824:"cupbrcap;",10825:"capbrcup;",10826:"cupcup;",10827:"capcap;",10828:"ccups;",10829:"ccaps;",10832:"ccupssm;",10835:"And;",10836:"Or;",10837:"andand;",10838:"oror;",10839:"orslope;",10840:"andslope;",10842:"andv;",10843:"orv;",10844:"andd;",10845:"ord;",10847:"wedbar;",10854:"sdote;",10858:"simdot;",10861:"congdot;",10862:"easter;",10863:"apacir;",10864:"apE;",10865:"eplus;",10866:"pluse;",10867:"Esim;",10868:"Colone;",10869:"Equal;",10871:"eDDot;",10872:"equivDD;",10873:"ltcir;",10874:"gtcir;",10875:"ltquest;",10876:"gtquest;",10877:"LessSlantEqual;",10878:"GreaterSlantEqual;",10879:"lesdot;",10880:"gesdot;",10881:"lesdoto;",10882:"gesdoto;",10883:"lesdotor;",10884:"gesdotol;",10885:"lessapprox;",10886:"gtrapprox;",10887:"lneq;",10888:"gneq;",10889:"lnapprox;",10890:"gnapprox;",10891:"lesseqqgtr;",10892:"gtreqqless;",10893:"lsime;",10894:"gsime;",10895:"lsimg;",10896:"gsiml;",10897:"lgE;",10898:"glE;",10899:"lesges;",10900:"gesles;",10901:"eqslantless;",10902:"eqslantgtr;",10903:"elsdot;",10904:"egsdot;",10905:"el;",10906:"eg;",10909:"siml;",10910:"simg;",10911:"simlE;",10912:"simgE;",10913:"LessLess;",10914:"GreaterGreater;",10916:"glj;",10917:"gla;",10918:"ltcc;",10919:"gtcc;",10920:"lescc;",10921:"gescc;",10922:"smt;",10923:"lat;",10924:"smte;",10925:"late;",10926:"bumpE;",10927:"preceq;",10928:"succeq;",10931:"prE;",10932:"scE;",10933:"prnE;",10934:"succneqq;",10935:"precapprox;",10936:"succapprox;",10937:"prnap;",10938:"succnapprox;",10939:"Pr;",10940:"Sc;",10941:"subdot;",10942:"supdot;",10943:"subplus;",10944:"supplus;",10945:"submult;",10946:"supmult;",10947:"subedot;",10948:"supedot;",10949:"subseteqq;",10950:"supseteqq;",10951:"subsim;",10952:"supsim;",10955:"subsetneqq;",10956:"supsetneqq;",10959:"csub;",10960:"csup;",10961:"csube;",10962:"csupe;",10963:"subsup;",10964:"supsub;",10965:"subsub;",10966:"supsup;",10967:"suphsub;",10968:"supdsub;",10969:"forkv;",10970:"topfork;",10971:"mlcp;",10980:"DoubleLeftTee;",10982:"Vdashl;",10983:"Barv;",10984:"vBar;",10985:"vBarv;",10987:"Vbar;",10988:"Not;",10989:"bNot;",10990:"rnmid;",10991:"cirmid;",10992:"midcir;",10993:"topcir;",10994:"nhpar;",10995:"parsim;",11005:"parsl;",64256:"fflig;",64257:"filig;",64258:"fllig;",64259:"ffilig;",64260:"ffllig;"};
},{}],"X5wO":[function(require,module,exports) {
var e=require("punycode"),r=require("./reversed.json");function n(n,o){if("string"!=typeof n)throw new TypeError("Expected a String");o||(o={});var u=!0;o.named&&(u=!1),void 0!==o.numeric&&(u=o.numeric);for(var i=o.special||{'"':!0,"'":!0,"<":!0,">":!0,"&":!0},s=e.ucs2.decode(n),t=[],c=0;c<s.length;c++){var d=s[c],p=e.ucs2.encode([d]),a=r[d];a&&(d>=127||i[p])&&!u?t.push("&"+(/;$/.test(a)?a:a+";")):d<32||d>=127||i[p]?t.push("&#"+d+";"):t.push(p)}return t.join("")}module.exports=n;
},{"./reversed.json":"5B/i"}],"hMDc":[function(require,module,exports) {
module.exports={"Aacute;":"Á",Aacute:"Á","aacute;":"á",aacute:"á","Abreve;":"Ă","abreve;":"ă","ac;":"∾","acd;":"∿","acE;":"∾̳","Acirc;":"Â",Acirc:"Â","acirc;":"â",acirc:"â","acute;":"´",acute:"´","Acy;":"А","acy;":"а","AElig;":"Æ",AElig:"Æ","aelig;":"æ",aelig:"æ","af;":"⁡","Afr;":"𝔄","afr;":"𝔞","Agrave;":"À",Agrave:"À","agrave;":"à",agrave:"à","alefsym;":"ℵ","aleph;":"ℵ","Alpha;":"Α","alpha;":"α","Amacr;":"Ā","amacr;":"ā","amalg;":"⨿","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"⩓","and;":"∧","andand;":"⩕","andd;":"⩜","andslope;":"⩘","andv;":"⩚","ang;":"∠","ange;":"⦤","angle;":"∠","angmsd;":"∡","angmsdaa;":"⦨","angmsdab;":"⦩","angmsdac;":"⦪","angmsdad;":"⦫","angmsdae;":"⦬","angmsdaf;":"⦭","angmsdag;":"⦮","angmsdah;":"⦯","angrt;":"∟","angrtvb;":"⊾","angrtvbd;":"⦝","angsph;":"∢","angst;":"Å","angzarr;":"⍼","Aogon;":"Ą","aogon;":"ą","Aopf;":"𝔸","aopf;":"𝕒","ap;":"≈","apacir;":"⩯","apE;":"⩰","ape;":"≊","apid;":"≋","apos;":"'","ApplyFunction;":"⁡","approx;":"≈","approxeq;":"≊","Aring;":"Å",Aring:"Å","aring;":"å",aring:"å","Ascr;":"𝒜","ascr;":"𝒶","Assign;":"≔","ast;":"*","asymp;":"≈","asympeq;":"≍","Atilde;":"Ã",Atilde:"Ã","atilde;":"ã",atilde:"ã","Auml;":"Ä",Auml:"Ä","auml;":"ä",auml:"ä","awconint;":"∳","awint;":"⨑","backcong;":"≌","backepsilon;":"϶","backprime;":"‵","backsim;":"∽","backsimeq;":"⋍","Backslash;":"∖","Barv;":"⫧","barvee;":"⊽","Barwed;":"⌆","barwed;":"⌅","barwedge;":"⌅","bbrk;":"⎵","bbrktbrk;":"⎶","bcong;":"≌","Bcy;":"Б","bcy;":"б","bdquo;":"„","becaus;":"∵","Because;":"∵","because;":"∵","bemptyv;":"⦰","bepsi;":"϶","bernou;":"ℬ","Bernoullis;":"ℬ","Beta;":"Β","beta;":"β","beth;":"ℶ","between;":"≬","Bfr;":"𝔅","bfr;":"𝔟","bigcap;":"⋂","bigcirc;":"◯","bigcup;":"⋃","bigodot;":"⨀","bigoplus;":"⨁","bigotimes;":"⨂","bigsqcup;":"⨆","bigstar;":"★","bigtriangledown;":"▽","bigtriangleup;":"△","biguplus;":"⨄","bigvee;":"⋁","bigwedge;":"⋀","bkarow;":"⤍","blacklozenge;":"⧫","blacksquare;":"▪","blacktriangle;":"▴","blacktriangledown;":"▾","blacktriangleleft;":"◂","blacktriangleright;":"▸","blank;":"␣","blk12;":"▒","blk14;":"░","blk34;":"▓","block;":"█","bne;":"=⃥","bnequiv;":"≡⃥","bNot;":"⫭","bnot;":"⌐","Bopf;":"𝔹","bopf;":"𝕓","bot;":"⊥","bottom;":"⊥","bowtie;":"⋈","boxbox;":"⧉","boxDL;":"╗","boxDl;":"╖","boxdL;":"╕","boxdl;":"┐","boxDR;":"╔","boxDr;":"╓","boxdR;":"╒","boxdr;":"┌","boxH;":"═","boxh;":"─","boxHD;":"╦","boxHd;":"╤","boxhD;":"╥","boxhd;":"┬","boxHU;":"╩","boxHu;":"╧","boxhU;":"╨","boxhu;":"┴","boxminus;":"⊟","boxplus;":"⊞","boxtimes;":"⊠","boxUL;":"╝","boxUl;":"╜","boxuL;":"╛","boxul;":"┘","boxUR;":"╚","boxUr;":"╙","boxuR;":"╘","boxur;":"└","boxV;":"║","boxv;":"│","boxVH;":"╬","boxVh;":"╫","boxvH;":"╪","boxvh;":"┼","boxVL;":"╣","boxVl;":"╢","boxvL;":"╡","boxvl;":"┤","boxVR;":"╠","boxVr;":"╟","boxvR;":"╞","boxvr;":"├","bprime;":"‵","Breve;":"˘","breve;":"˘","brvbar;":"¦",brvbar:"¦","Bscr;":"ℬ","bscr;":"𝒷","bsemi;":"⁏","bsim;":"∽","bsime;":"⋍","bsol;":"\\","bsolb;":"⧅","bsolhsub;":"⟈","bull;":"•","bullet;":"•","bump;":"≎","bumpE;":"⪮","bumpe;":"≏","Bumpeq;":"≎","bumpeq;":"≏","Cacute;":"Ć","cacute;":"ć","Cap;":"⋒","cap;":"∩","capand;":"⩄","capbrcup;":"⩉","capcap;":"⩋","capcup;":"⩇","capdot;":"⩀","CapitalDifferentialD;":"ⅅ","caps;":"∩︀","caret;":"⁁","caron;":"ˇ","Cayleys;":"ℭ","ccaps;":"⩍","Ccaron;":"Č","ccaron;":"č","Ccedil;":"Ç",Ccedil:"Ç","ccedil;":"ç",ccedil:"ç","Ccirc;":"Ĉ","ccirc;":"ĉ","Cconint;":"∰","ccups;":"⩌","ccupssm;":"⩐","Cdot;":"Ċ","cdot;":"ċ","cedil;":"¸",cedil:"¸","Cedilla;":"¸","cemptyv;":"⦲","cent;":"¢",cent:"¢","CenterDot;":"·","centerdot;":"·","Cfr;":"ℭ","cfr;":"𝔠","CHcy;":"Ч","chcy;":"ч","check;":"✓","checkmark;":"✓","Chi;":"Χ","chi;":"χ","cir;":"○","circ;":"ˆ","circeq;":"≗","circlearrowleft;":"↺","circlearrowright;":"↻","circledast;":"⊛","circledcirc;":"⊚","circleddash;":"⊝","CircleDot;":"⊙","circledR;":"®","circledS;":"Ⓢ","CircleMinus;":"⊖","CirclePlus;":"⊕","CircleTimes;":"⊗","cirE;":"⧃","cire;":"≗","cirfnint;":"⨐","cirmid;":"⫯","cirscir;":"⧂","ClockwiseContourIntegral;":"∲","CloseCurlyDoubleQuote;":"”","CloseCurlyQuote;":"’","clubs;":"♣","clubsuit;":"♣","Colon;":"∷","colon;":":","Colone;":"⩴","colone;":"≔","coloneq;":"≔","comma;":",","commat;":"@","comp;":"∁","compfn;":"∘","complement;":"∁","complexes;":"ℂ","cong;":"≅","congdot;":"⩭","Congruent;":"≡","Conint;":"∯","conint;":"∮","ContourIntegral;":"∮","Copf;":"ℂ","copf;":"𝕔","coprod;":"∐","Coproduct;":"∐","COPY;":"©",COPY:"©","copy;":"©",copy:"©","copysr;":"℗","CounterClockwiseContourIntegral;":"∳","crarr;":"↵","Cross;":"⨯","cross;":"✗","Cscr;":"𝒞","cscr;":"𝒸","csub;":"⫏","csube;":"⫑","csup;":"⫐","csupe;":"⫒","ctdot;":"⋯","cudarrl;":"⤸","cudarrr;":"⤵","cuepr;":"⋞","cuesc;":"⋟","cularr;":"↶","cularrp;":"⤽","Cup;":"⋓","cup;":"∪","cupbrcap;":"⩈","CupCap;":"≍","cupcap;":"⩆","cupcup;":"⩊","cupdot;":"⊍","cupor;":"⩅","cups;":"∪︀","curarr;":"↷","curarrm;":"⤼","curlyeqprec;":"⋞","curlyeqsucc;":"⋟","curlyvee;":"⋎","curlywedge;":"⋏","curren;":"¤",curren:"¤","curvearrowleft;":"↶","curvearrowright;":"↷","cuvee;":"⋎","cuwed;":"⋏","cwconint;":"∲","cwint;":"∱","cylcty;":"⌭","Dagger;":"‡","dagger;":"†","daleth;":"ℸ","Darr;":"↡","dArr;":"⇓","darr;":"↓","dash;":"‐","Dashv;":"⫤","dashv;":"⊣","dbkarow;":"⤏","dblac;":"˝","Dcaron;":"Ď","dcaron;":"ď","Dcy;":"Д","dcy;":"д","DD;":"ⅅ","dd;":"ⅆ","ddagger;":"‡","ddarr;":"⇊","DDotrahd;":"⤑","ddotseq;":"⩷","deg;":"°",deg:"°","Del;":"∇","Delta;":"Δ","delta;":"δ","demptyv;":"⦱","dfisht;":"⥿","Dfr;":"𝔇","dfr;":"𝔡","dHar;":"⥥","dharl;":"⇃","dharr;":"⇂","DiacriticalAcute;":"´","DiacriticalDot;":"˙","DiacriticalDoubleAcute;":"˝","DiacriticalGrave;":"`","DiacriticalTilde;":"˜","diam;":"⋄","Diamond;":"⋄","diamond;":"⋄","diamondsuit;":"♦","diams;":"♦","die;":"¨","DifferentialD;":"ⅆ","digamma;":"ϝ","disin;":"⋲","div;":"÷","divide;":"÷",divide:"÷","divideontimes;":"⋇","divonx;":"⋇","DJcy;":"Ђ","djcy;":"ђ","dlcorn;":"⌞","dlcrop;":"⌍","dollar;":"$","Dopf;":"𝔻","dopf;":"𝕕","Dot;":"¨","dot;":"˙","DotDot;":"⃜","doteq;":"≐","doteqdot;":"≑","DotEqual;":"≐","dotminus;":"∸","dotplus;":"∔","dotsquare;":"⊡","doublebarwedge;":"⌆","DoubleContourIntegral;":"∯","DoubleDot;":"¨","DoubleDownArrow;":"⇓","DoubleLeftArrow;":"⇐","DoubleLeftRightArrow;":"⇔","DoubleLeftTee;":"⫤","DoubleLongLeftArrow;":"⟸","DoubleLongLeftRightArrow;":"⟺","DoubleLongRightArrow;":"⟹","DoubleRightArrow;":"⇒","DoubleRightTee;":"⊨","DoubleUpArrow;":"⇑","DoubleUpDownArrow;":"⇕","DoubleVerticalBar;":"∥","DownArrow;":"↓","Downarrow;":"⇓","downarrow;":"↓","DownArrowBar;":"⤓","DownArrowUpArrow;":"⇵","DownBreve;":"̑","downdownarrows;":"⇊","downharpoonleft;":"⇃","downharpoonright;":"⇂","DownLeftRightVector;":"⥐","DownLeftTeeVector;":"⥞","DownLeftVector;":"↽","DownLeftVectorBar;":"⥖","DownRightTeeVector;":"⥟","DownRightVector;":"⇁","DownRightVectorBar;":"⥗","DownTee;":"⊤","DownTeeArrow;":"↧","drbkarow;":"⤐","drcorn;":"⌟","drcrop;":"⌌","Dscr;":"𝒟","dscr;":"𝒹","DScy;":"Ѕ","dscy;":"ѕ","dsol;":"⧶","Dstrok;":"Đ","dstrok;":"đ","dtdot;":"⋱","dtri;":"▿","dtrif;":"▾","duarr;":"⇵","duhar;":"⥯","dwangle;":"⦦","DZcy;":"Џ","dzcy;":"џ","dzigrarr;":"⟿","Eacute;":"É",Eacute:"É","eacute;":"é",eacute:"é","easter;":"⩮","Ecaron;":"Ě","ecaron;":"ě","ecir;":"≖","Ecirc;":"Ê",Ecirc:"Ê","ecirc;":"ê",ecirc:"ê","ecolon;":"≕","Ecy;":"Э","ecy;":"э","eDDot;":"⩷","Edot;":"Ė","eDot;":"≑","edot;":"ė","ee;":"ⅇ","efDot;":"≒","Efr;":"𝔈","efr;":"𝔢","eg;":"⪚","Egrave;":"È",Egrave:"È","egrave;":"è",egrave:"è","egs;":"⪖","egsdot;":"⪘","el;":"⪙","Element;":"∈","elinters;":"⏧","ell;":"ℓ","els;":"⪕","elsdot;":"⪗","Emacr;":"Ē","emacr;":"ē","empty;":"∅","emptyset;":"∅","EmptySmallSquare;":"◻","emptyv;":"∅","EmptyVerySmallSquare;":"▫","emsp;":" ","emsp13;":" ","emsp14;":" ","ENG;":"Ŋ","eng;":"ŋ","ensp;":" ","Eogon;":"Ę","eogon;":"ę","Eopf;":"𝔼","eopf;":"𝕖","epar;":"⋕","eparsl;":"⧣","eplus;":"⩱","epsi;":"ε","Epsilon;":"Ε","epsilon;":"ε","epsiv;":"ϵ","eqcirc;":"≖","eqcolon;":"≕","eqsim;":"≂","eqslantgtr;":"⪖","eqslantless;":"⪕","Equal;":"⩵","equals;":"=","EqualTilde;":"≂","equest;":"≟","Equilibrium;":"⇌","equiv;":"≡","equivDD;":"⩸","eqvparsl;":"⧥","erarr;":"⥱","erDot;":"≓","Escr;":"ℰ","escr;":"ℯ","esdot;":"≐","Esim;":"⩳","esim;":"≂","Eta;":"Η","eta;":"η","ETH;":"Ð",ETH:"Ð","eth;":"ð",eth:"ð","Euml;":"Ë",Euml:"Ë","euml;":"ë",euml:"ë","euro;":"€","excl;":"!","exist;":"∃","Exists;":"∃","expectation;":"ℰ","ExponentialE;":"ⅇ","exponentiale;":"ⅇ","fallingdotseq;":"≒","Fcy;":"Ф","fcy;":"ф","female;":"♀","ffilig;":"ﬃ","fflig;":"ﬀ","ffllig;":"ﬄ","Ffr;":"𝔉","ffr;":"𝔣","filig;":"ﬁ","FilledSmallSquare;":"◼","FilledVerySmallSquare;":"▪","fjlig;":"fj","flat;":"♭","fllig;":"ﬂ","fltns;":"▱","fnof;":"ƒ","Fopf;":"𝔽","fopf;":"𝕗","ForAll;":"∀","forall;":"∀","fork;":"⋔","forkv;":"⫙","Fouriertrf;":"ℱ","fpartint;":"⨍","frac12;":"½",frac12:"½","frac13;":"⅓","frac14;":"¼",frac14:"¼","frac15;":"⅕","frac16;":"⅙","frac18;":"⅛","frac23;":"⅔","frac25;":"⅖","frac34;":"¾",frac34:"¾","frac35;":"⅗","frac38;":"⅜","frac45;":"⅘","frac56;":"⅚","frac58;":"⅝","frac78;":"⅞","frasl;":"⁄","frown;":"⌢","Fscr;":"ℱ","fscr;":"𝒻","gacute;":"ǵ","Gamma;":"Γ","gamma;":"γ","Gammad;":"Ϝ","gammad;":"ϝ","gap;":"⪆","Gbreve;":"Ğ","gbreve;":"ğ","Gcedil;":"Ģ","Gcirc;":"Ĝ","gcirc;":"ĝ","Gcy;":"Г","gcy;":"г","Gdot;":"Ġ","gdot;":"ġ","gE;":"≧","ge;":"≥","gEl;":"⪌","gel;":"⋛","geq;":"≥","geqq;":"≧","geqslant;":"⩾","ges;":"⩾","gescc;":"⪩","gesdot;":"⪀","gesdoto;":"⪂","gesdotol;":"⪄","gesl;":"⋛︀","gesles;":"⪔","Gfr;":"𝔊","gfr;":"𝔤","Gg;":"⋙","gg;":"≫","ggg;":"⋙","gimel;":"ℷ","GJcy;":"Ѓ","gjcy;":"ѓ","gl;":"≷","gla;":"⪥","glE;":"⪒","glj;":"⪤","gnap;":"⪊","gnapprox;":"⪊","gnE;":"≩","gne;":"⪈","gneq;":"⪈","gneqq;":"≩","gnsim;":"⋧","Gopf;":"𝔾","gopf;":"𝕘","grave;":"`","GreaterEqual;":"≥","GreaterEqualLess;":"⋛","GreaterFullEqual;":"≧","GreaterGreater;":"⪢","GreaterLess;":"≷","GreaterSlantEqual;":"⩾","GreaterTilde;":"≳","Gscr;":"𝒢","gscr;":"ℊ","gsim;":"≳","gsime;":"⪎","gsiml;":"⪐","GT;":">",GT:">","Gt;":"≫","gt;":">",gt:">","gtcc;":"⪧","gtcir;":"⩺","gtdot;":"⋗","gtlPar;":"⦕","gtquest;":"⩼","gtrapprox;":"⪆","gtrarr;":"⥸","gtrdot;":"⋗","gtreqless;":"⋛","gtreqqless;":"⪌","gtrless;":"≷","gtrsim;":"≳","gvertneqq;":"≩︀","gvnE;":"≩︀","Hacek;":"ˇ","hairsp;":" ","half;":"½","hamilt;":"ℋ","HARDcy;":"Ъ","hardcy;":"ъ","hArr;":"⇔","harr;":"↔","harrcir;":"⥈","harrw;":"↭","Hat;":"^","hbar;":"ℏ","Hcirc;":"Ĥ","hcirc;":"ĥ","hearts;":"♥","heartsuit;":"♥","hellip;":"…","hercon;":"⊹","Hfr;":"ℌ","hfr;":"𝔥","HilbertSpace;":"ℋ","hksearow;":"⤥","hkswarow;":"⤦","hoarr;":"⇿","homtht;":"∻","hookleftarrow;":"↩","hookrightarrow;":"↪","Hopf;":"ℍ","hopf;":"𝕙","horbar;":"―","HorizontalLine;":"─","Hscr;":"ℋ","hscr;":"𝒽","hslash;":"ℏ","Hstrok;":"Ħ","hstrok;":"ħ","HumpDownHump;":"≎","HumpEqual;":"≏","hybull;":"⁃","hyphen;":"‐","Iacute;":"Í",Iacute:"Í","iacute;":"í",iacute:"í","ic;":"⁣","Icirc;":"Î",Icirc:"Î","icirc;":"î",icirc:"î","Icy;":"И","icy;":"и","Idot;":"İ","IEcy;":"Е","iecy;":"е","iexcl;":"¡",iexcl:"¡","iff;":"⇔","Ifr;":"ℑ","ifr;":"𝔦","Igrave;":"Ì",Igrave:"Ì","igrave;":"ì",igrave:"ì","ii;":"ⅈ","iiiint;":"⨌","iiint;":"∭","iinfin;":"⧜","iiota;":"℩","IJlig;":"Ĳ","ijlig;":"ĳ","Im;":"ℑ","Imacr;":"Ī","imacr;":"ī","image;":"ℑ","ImaginaryI;":"ⅈ","imagline;":"ℐ","imagpart;":"ℑ","imath;":"ı","imof;":"⊷","imped;":"Ƶ","Implies;":"⇒","in;":"∈","incare;":"℅","infin;":"∞","infintie;":"⧝","inodot;":"ı","Int;":"∬","int;":"∫","intcal;":"⊺","integers;":"ℤ","Integral;":"∫","intercal;":"⊺","Intersection;":"⋂","intlarhk;":"⨗","intprod;":"⨼","InvisibleComma;":"⁣","InvisibleTimes;":"⁢","IOcy;":"Ё","iocy;":"ё","Iogon;":"Į","iogon;":"į","Iopf;":"𝕀","iopf;":"𝕚","Iota;":"Ι","iota;":"ι","iprod;":"⨼","iquest;":"¿",iquest:"¿","Iscr;":"ℐ","iscr;":"𝒾","isin;":"∈","isindot;":"⋵","isinE;":"⋹","isins;":"⋴","isinsv;":"⋳","isinv;":"∈","it;":"⁢","Itilde;":"Ĩ","itilde;":"ĩ","Iukcy;":"І","iukcy;":"і","Iuml;":"Ï",Iuml:"Ï","iuml;":"ï",iuml:"ï","Jcirc;":"Ĵ","jcirc;":"ĵ","Jcy;":"Й","jcy;":"й","Jfr;":"𝔍","jfr;":"𝔧","jmath;":"ȷ","Jopf;":"𝕁","jopf;":"𝕛","Jscr;":"𝒥","jscr;":"𝒿","Jsercy;":"Ј","jsercy;":"ј","Jukcy;":"Є","jukcy;":"є","Kappa;":"Κ","kappa;":"κ","kappav;":"ϰ","Kcedil;":"Ķ","kcedil;":"ķ","Kcy;":"К","kcy;":"к","Kfr;":"𝔎","kfr;":"𝔨","kgreen;":"ĸ","KHcy;":"Х","khcy;":"х","KJcy;":"Ќ","kjcy;":"ќ","Kopf;":"𝕂","kopf;":"𝕜","Kscr;":"𝒦","kscr;":"𝓀","lAarr;":"⇚","Lacute;":"Ĺ","lacute;":"ĺ","laemptyv;":"⦴","lagran;":"ℒ","Lambda;":"Λ","lambda;":"λ","Lang;":"⟪","lang;":"⟨","langd;":"⦑","langle;":"⟨","lap;":"⪅","Laplacetrf;":"ℒ","laquo;":"«",laquo:"«","Larr;":"↞","lArr;":"⇐","larr;":"←","larrb;":"⇤","larrbfs;":"⤟","larrfs;":"⤝","larrhk;":"↩","larrlp;":"↫","larrpl;":"⤹","larrsim;":"⥳","larrtl;":"↢","lat;":"⪫","lAtail;":"⤛","latail;":"⤙","late;":"⪭","lates;":"⪭︀","lBarr;":"⤎","lbarr;":"⤌","lbbrk;":"❲","lbrace;":"{","lbrack;":"[","lbrke;":"⦋","lbrksld;":"⦏","lbrkslu;":"⦍","Lcaron;":"Ľ","lcaron;":"ľ","Lcedil;":"Ļ","lcedil;":"ļ","lceil;":"⌈","lcub;":"{","Lcy;":"Л","lcy;":"л","ldca;":"⤶","ldquo;":"“","ldquor;":"„","ldrdhar;":"⥧","ldrushar;":"⥋","ldsh;":"↲","lE;":"≦","le;":"≤","LeftAngleBracket;":"⟨","LeftArrow;":"←","Leftarrow;":"⇐","leftarrow;":"←","LeftArrowBar;":"⇤","LeftArrowRightArrow;":"⇆","leftarrowtail;":"↢","LeftCeiling;":"⌈","LeftDoubleBracket;":"⟦","LeftDownTeeVector;":"⥡","LeftDownVector;":"⇃","LeftDownVectorBar;":"⥙","LeftFloor;":"⌊","leftharpoondown;":"↽","leftharpoonup;":"↼","leftleftarrows;":"⇇","LeftRightArrow;":"↔","Leftrightarrow;":"⇔","leftrightarrow;":"↔","leftrightarrows;":"⇆","leftrightharpoons;":"⇋","leftrightsquigarrow;":"↭","LeftRightVector;":"⥎","LeftTee;":"⊣","LeftTeeArrow;":"↤","LeftTeeVector;":"⥚","leftthreetimes;":"⋋","LeftTriangle;":"⊲","LeftTriangleBar;":"⧏","LeftTriangleEqual;":"⊴","LeftUpDownVector;":"⥑","LeftUpTeeVector;":"⥠","LeftUpVector;":"↿","LeftUpVectorBar;":"⥘","LeftVector;":"↼","LeftVectorBar;":"⥒","lEg;":"⪋","leg;":"⋚","leq;":"≤","leqq;":"≦","leqslant;":"⩽","les;":"⩽","lescc;":"⪨","lesdot;":"⩿","lesdoto;":"⪁","lesdotor;":"⪃","lesg;":"⋚︀","lesges;":"⪓","lessapprox;":"⪅","lessdot;":"⋖","lesseqgtr;":"⋚","lesseqqgtr;":"⪋","LessEqualGreater;":"⋚","LessFullEqual;":"≦","LessGreater;":"≶","lessgtr;":"≶","LessLess;":"⪡","lesssim;":"≲","LessSlantEqual;":"⩽","LessTilde;":"≲","lfisht;":"⥼","lfloor;":"⌊","Lfr;":"𝔏","lfr;":"𝔩","lg;":"≶","lgE;":"⪑","lHar;":"⥢","lhard;":"↽","lharu;":"↼","lharul;":"⥪","lhblk;":"▄","LJcy;":"Љ","ljcy;":"љ","Ll;":"⋘","ll;":"≪","llarr;":"⇇","llcorner;":"⌞","Lleftarrow;":"⇚","llhard;":"⥫","lltri;":"◺","Lmidot;":"Ŀ","lmidot;":"ŀ","lmoust;":"⎰","lmoustache;":"⎰","lnap;":"⪉","lnapprox;":"⪉","lnE;":"≨","lne;":"⪇","lneq;":"⪇","lneqq;":"≨","lnsim;":"⋦","loang;":"⟬","loarr;":"⇽","lobrk;":"⟦","LongLeftArrow;":"⟵","Longleftarrow;":"⟸","longleftarrow;":"⟵","LongLeftRightArrow;":"⟷","Longleftrightarrow;":"⟺","longleftrightarrow;":"⟷","longmapsto;":"⟼","LongRightArrow;":"⟶","Longrightarrow;":"⟹","longrightarrow;":"⟶","looparrowleft;":"↫","looparrowright;":"↬","lopar;":"⦅","Lopf;":"𝕃","lopf;":"𝕝","loplus;":"⨭","lotimes;":"⨴","lowast;":"∗","lowbar;":"_","LowerLeftArrow;":"↙","LowerRightArrow;":"↘","loz;":"◊","lozenge;":"◊","lozf;":"⧫","lpar;":"(","lparlt;":"⦓","lrarr;":"⇆","lrcorner;":"⌟","lrhar;":"⇋","lrhard;":"⥭","lrm;":"‎","lrtri;":"⊿","lsaquo;":"‹","Lscr;":"ℒ","lscr;":"𝓁","Lsh;":"↰","lsh;":"↰","lsim;":"≲","lsime;":"⪍","lsimg;":"⪏","lsqb;":"[","lsquo;":"‘","lsquor;":"‚","Lstrok;":"Ł","lstrok;":"ł","LT;":"<",LT:"<","Lt;":"≪","lt;":"<",lt:"<","ltcc;":"⪦","ltcir;":"⩹","ltdot;":"⋖","lthree;":"⋋","ltimes;":"⋉","ltlarr;":"⥶","ltquest;":"⩻","ltri;":"◃","ltrie;":"⊴","ltrif;":"◂","ltrPar;":"⦖","lurdshar;":"⥊","luruhar;":"⥦","lvertneqq;":"≨︀","lvnE;":"≨︀","macr;":"¯",macr:"¯","male;":"♂","malt;":"✠","maltese;":"✠","Map;":"⤅","map;":"↦","mapsto;":"↦","mapstodown;":"↧","mapstoleft;":"↤","mapstoup;":"↥","marker;":"▮","mcomma;":"⨩","Mcy;":"М","mcy;":"м","mdash;":"—","mDDot;":"∺","measuredangle;":"∡","MediumSpace;":" ","Mellintrf;":"ℳ","Mfr;":"𝔐","mfr;":"𝔪","mho;":"℧","micro;":"µ",micro:"µ","mid;":"∣","midast;":"*","midcir;":"⫰","middot;":"·",middot:"·","minus;":"−","minusb;":"⊟","minusd;":"∸","minusdu;":"⨪","MinusPlus;":"∓","mlcp;":"⫛","mldr;":"…","mnplus;":"∓","models;":"⊧","Mopf;":"𝕄","mopf;":"𝕞","mp;":"∓","Mscr;":"ℳ","mscr;":"𝓂","mstpos;":"∾","Mu;":"Μ","mu;":"μ","multimap;":"⊸","mumap;":"⊸","nabla;":"∇","Nacute;":"Ń","nacute;":"ń","nang;":"∠⃒","nap;":"≉","napE;":"⩰̸","napid;":"≋̸","napos;":"ŉ","napprox;":"≉","natur;":"♮","natural;":"♮","naturals;":"ℕ","nbsp;":" ",nbsp:" ","nbump;":"≎̸","nbumpe;":"≏̸","ncap;":"⩃","Ncaron;":"Ň","ncaron;":"ň","Ncedil;":"Ņ","ncedil;":"ņ","ncong;":"≇","ncongdot;":"⩭̸","ncup;":"⩂","Ncy;":"Н","ncy;":"н","ndash;":"–","ne;":"≠","nearhk;":"⤤","neArr;":"⇗","nearr;":"↗","nearrow;":"↗","nedot;":"≐̸","NegativeMediumSpace;":"​","NegativeThickSpace;":"​","NegativeThinSpace;":"​","NegativeVeryThinSpace;":"​","nequiv;":"≢","nesear;":"⤨","nesim;":"≂̸","NestedGreaterGreater;":"≫","NestedLessLess;":"≪","NewLine;":"\n","nexist;":"∄","nexists;":"∄","Nfr;":"𝔑","nfr;":"𝔫","ngE;":"≧̸","nge;":"≱","ngeq;":"≱","ngeqq;":"≧̸","ngeqslant;":"⩾̸","nges;":"⩾̸","nGg;":"⋙̸","ngsim;":"≵","nGt;":"≫⃒","ngt;":"≯","ngtr;":"≯","nGtv;":"≫̸","nhArr;":"⇎","nharr;":"↮","nhpar;":"⫲","ni;":"∋","nis;":"⋼","nisd;":"⋺","niv;":"∋","NJcy;":"Њ","njcy;":"њ","nlArr;":"⇍","nlarr;":"↚","nldr;":"‥","nlE;":"≦̸","nle;":"≰","nLeftarrow;":"⇍","nleftarrow;":"↚","nLeftrightarrow;":"⇎","nleftrightarrow;":"↮","nleq;":"≰","nleqq;":"≦̸","nleqslant;":"⩽̸","nles;":"⩽̸","nless;":"≮","nLl;":"⋘̸","nlsim;":"≴","nLt;":"≪⃒","nlt;":"≮","nltri;":"⋪","nltrie;":"⋬","nLtv;":"≪̸","nmid;":"∤","NoBreak;":"⁠","NonBreakingSpace;":" ","Nopf;":"ℕ","nopf;":"𝕟","Not;":"⫬","not;":"¬",not:"¬","NotCongruent;":"≢","NotCupCap;":"≭","NotDoubleVerticalBar;":"∦","NotElement;":"∉","NotEqual;":"≠","NotEqualTilde;":"≂̸","NotExists;":"∄","NotGreater;":"≯","NotGreaterEqual;":"≱","NotGreaterFullEqual;":"≧̸","NotGreaterGreater;":"≫̸","NotGreaterLess;":"≹","NotGreaterSlantEqual;":"⩾̸","NotGreaterTilde;":"≵","NotHumpDownHump;":"≎̸","NotHumpEqual;":"≏̸","notin;":"∉","notindot;":"⋵̸","notinE;":"⋹̸","notinva;":"∉","notinvb;":"⋷","notinvc;":"⋶","NotLeftTriangle;":"⋪","NotLeftTriangleBar;":"⧏̸","NotLeftTriangleEqual;":"⋬","NotLess;":"≮","NotLessEqual;":"≰","NotLessGreater;":"≸","NotLessLess;":"≪̸","NotLessSlantEqual;":"⩽̸","NotLessTilde;":"≴","NotNestedGreaterGreater;":"⪢̸","NotNestedLessLess;":"⪡̸","notni;":"∌","notniva;":"∌","notnivb;":"⋾","notnivc;":"⋽","NotPrecedes;":"⊀","NotPrecedesEqual;":"⪯̸","NotPrecedesSlantEqual;":"⋠","NotReverseElement;":"∌","NotRightTriangle;":"⋫","NotRightTriangleBar;":"⧐̸","NotRightTriangleEqual;":"⋭","NotSquareSubset;":"⊏̸","NotSquareSubsetEqual;":"⋢","NotSquareSuperset;":"⊐̸","NotSquareSupersetEqual;":"⋣","NotSubset;":"⊂⃒","NotSubsetEqual;":"⊈","NotSucceeds;":"⊁","NotSucceedsEqual;":"⪰̸","NotSucceedsSlantEqual;":"⋡","NotSucceedsTilde;":"≿̸","NotSuperset;":"⊃⃒","NotSupersetEqual;":"⊉","NotTilde;":"≁","NotTildeEqual;":"≄","NotTildeFullEqual;":"≇","NotTildeTilde;":"≉","NotVerticalBar;":"∤","npar;":"∦","nparallel;":"∦","nparsl;":"⫽⃥","npart;":"∂̸","npolint;":"⨔","npr;":"⊀","nprcue;":"⋠","npre;":"⪯̸","nprec;":"⊀","npreceq;":"⪯̸","nrArr;":"⇏","nrarr;":"↛","nrarrc;":"⤳̸","nrarrw;":"↝̸","nRightarrow;":"⇏","nrightarrow;":"↛","nrtri;":"⋫","nrtrie;":"⋭","nsc;":"⊁","nsccue;":"⋡","nsce;":"⪰̸","Nscr;":"𝒩","nscr;":"𝓃","nshortmid;":"∤","nshortparallel;":"∦","nsim;":"≁","nsime;":"≄","nsimeq;":"≄","nsmid;":"∤","nspar;":"∦","nsqsube;":"⋢","nsqsupe;":"⋣","nsub;":"⊄","nsubE;":"⫅̸","nsube;":"⊈","nsubset;":"⊂⃒","nsubseteq;":"⊈","nsubseteqq;":"⫅̸","nsucc;":"⊁","nsucceq;":"⪰̸","nsup;":"⊅","nsupE;":"⫆̸","nsupe;":"⊉","nsupset;":"⊃⃒","nsupseteq;":"⊉","nsupseteqq;":"⫆̸","ntgl;":"≹","Ntilde;":"Ñ",Ntilde:"Ñ","ntilde;":"ñ",ntilde:"ñ","ntlg;":"≸","ntriangleleft;":"⋪","ntrianglelefteq;":"⋬","ntriangleright;":"⋫","ntrianglerighteq;":"⋭","Nu;":"Ν","nu;":"ν","num;":"#","numero;":"№","numsp;":" ","nvap;":"≍⃒","nVDash;":"⊯","nVdash;":"⊮","nvDash;":"⊭","nvdash;":"⊬","nvge;":"≥⃒","nvgt;":">⃒","nvHarr;":"⤄","nvinfin;":"⧞","nvlArr;":"⤂","nvle;":"≤⃒","nvlt;":"<⃒","nvltrie;":"⊴⃒","nvrArr;":"⤃","nvrtrie;":"⊵⃒","nvsim;":"∼⃒","nwarhk;":"⤣","nwArr;":"⇖","nwarr;":"↖","nwarrow;":"↖","nwnear;":"⤧","Oacute;":"Ó",Oacute:"Ó","oacute;":"ó",oacute:"ó","oast;":"⊛","ocir;":"⊚","Ocirc;":"Ô",Ocirc:"Ô","ocirc;":"ô",ocirc:"ô","Ocy;":"О","ocy;":"о","odash;":"⊝","Odblac;":"Ő","odblac;":"ő","odiv;":"⨸","odot;":"⊙","odsold;":"⦼","OElig;":"Œ","oelig;":"œ","ofcir;":"⦿","Ofr;":"𝔒","ofr;":"𝔬","ogon;":"˛","Ograve;":"Ò",Ograve:"Ò","ograve;":"ò",ograve:"ò","ogt;":"⧁","ohbar;":"⦵","ohm;":"Ω","oint;":"∮","olarr;":"↺","olcir;":"⦾","olcross;":"⦻","oline;":"‾","olt;":"⧀","Omacr;":"Ō","omacr;":"ō","Omega;":"Ω","omega;":"ω","Omicron;":"Ο","omicron;":"ο","omid;":"⦶","ominus;":"⊖","Oopf;":"𝕆","oopf;":"𝕠","opar;":"⦷","OpenCurlyDoubleQuote;":"“","OpenCurlyQuote;":"‘","operp;":"⦹","oplus;":"⊕","Or;":"⩔","or;":"∨","orarr;":"↻","ord;":"⩝","order;":"ℴ","orderof;":"ℴ","ordf;":"ª",ordf:"ª","ordm;":"º",ordm:"º","origof;":"⊶","oror;":"⩖","orslope;":"⩗","orv;":"⩛","oS;":"Ⓢ","Oscr;":"𝒪","oscr;":"ℴ","Oslash;":"Ø",Oslash:"Ø","oslash;":"ø",oslash:"ø","osol;":"⊘","Otilde;":"Õ",Otilde:"Õ","otilde;":"õ",otilde:"õ","Otimes;":"⨷","otimes;":"⊗","otimesas;":"⨶","Ouml;":"Ö",Ouml:"Ö","ouml;":"ö",ouml:"ö","ovbar;":"⌽","OverBar;":"‾","OverBrace;":"⏞","OverBracket;":"⎴","OverParenthesis;":"⏜","par;":"∥","para;":"¶",para:"¶","parallel;":"∥","parsim;":"⫳","parsl;":"⫽","part;":"∂","PartialD;":"∂","Pcy;":"П","pcy;":"п","percnt;":"%","period;":".","permil;":"‰","perp;":"⊥","pertenk;":"‱","Pfr;":"𝔓","pfr;":"𝔭","Phi;":"Φ","phi;":"φ","phiv;":"ϕ","phmmat;":"ℳ","phone;":"☎","Pi;":"Π","pi;":"π","pitchfork;":"⋔","piv;":"ϖ","planck;":"ℏ","planckh;":"ℎ","plankv;":"ℏ","plus;":"+","plusacir;":"⨣","plusb;":"⊞","pluscir;":"⨢","plusdo;":"∔","plusdu;":"⨥","pluse;":"⩲","PlusMinus;":"±","plusmn;":"±",plusmn:"±","plussim;":"⨦","plustwo;":"⨧","pm;":"±","Poincareplane;":"ℌ","pointint;":"⨕","Popf;":"ℙ","popf;":"𝕡","pound;":"£",pound:"£","Pr;":"⪻","pr;":"≺","prap;":"⪷","prcue;":"≼","prE;":"⪳","pre;":"⪯","prec;":"≺","precapprox;":"⪷","preccurlyeq;":"≼","Precedes;":"≺","PrecedesEqual;":"⪯","PrecedesSlantEqual;":"≼","PrecedesTilde;":"≾","preceq;":"⪯","precnapprox;":"⪹","precneqq;":"⪵","precnsim;":"⋨","precsim;":"≾","Prime;":"″","prime;":"′","primes;":"ℙ","prnap;":"⪹","prnE;":"⪵","prnsim;":"⋨","prod;":"∏","Product;":"∏","profalar;":"⌮","profline;":"⌒","profsurf;":"⌓","prop;":"∝","Proportion;":"∷","Proportional;":"∝","propto;":"∝","prsim;":"≾","prurel;":"⊰","Pscr;":"𝒫","pscr;":"𝓅","Psi;":"Ψ","psi;":"ψ","puncsp;":" ","Qfr;":"𝔔","qfr;":"𝔮","qint;":"⨌","Qopf;":"ℚ","qopf;":"𝕢","qprime;":"⁗","Qscr;":"𝒬","qscr;":"𝓆","quaternions;":"ℍ","quatint;":"⨖","quest;":"?","questeq;":"≟","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"⇛","race;":"∽̱","Racute;":"Ŕ","racute;":"ŕ","radic;":"√","raemptyv;":"⦳","Rang;":"⟫","rang;":"⟩","rangd;":"⦒","range;":"⦥","rangle;":"⟩","raquo;":"»",raquo:"»","Rarr;":"↠","rArr;":"⇒","rarr;":"→","rarrap;":"⥵","rarrb;":"⇥","rarrbfs;":"⤠","rarrc;":"⤳","rarrfs;":"⤞","rarrhk;":"↪","rarrlp;":"↬","rarrpl;":"⥅","rarrsim;":"⥴","Rarrtl;":"⤖","rarrtl;":"↣","rarrw;":"↝","rAtail;":"⤜","ratail;":"⤚","ratio;":"∶","rationals;":"ℚ","RBarr;":"⤐","rBarr;":"⤏","rbarr;":"⤍","rbbrk;":"❳","rbrace;":"}","rbrack;":"]","rbrke;":"⦌","rbrksld;":"⦎","rbrkslu;":"⦐","Rcaron;":"Ř","rcaron;":"ř","Rcedil;":"Ŗ","rcedil;":"ŗ","rceil;":"⌉","rcub;":"}","Rcy;":"Р","rcy;":"р","rdca;":"⤷","rdldhar;":"⥩","rdquo;":"”","rdquor;":"”","rdsh;":"↳","Re;":"ℜ","real;":"ℜ","realine;":"ℛ","realpart;":"ℜ","reals;":"ℝ","rect;":"▭","REG;":"®",REG:"®","reg;":"®",reg:"®","ReverseElement;":"∋","ReverseEquilibrium;":"⇋","ReverseUpEquilibrium;":"⥯","rfisht;":"⥽","rfloor;":"⌋","Rfr;":"ℜ","rfr;":"𝔯","rHar;":"⥤","rhard;":"⇁","rharu;":"⇀","rharul;":"⥬","Rho;":"Ρ","rho;":"ρ","rhov;":"ϱ","RightAngleBracket;":"⟩","RightArrow;":"→","Rightarrow;":"⇒","rightarrow;":"→","RightArrowBar;":"⇥","RightArrowLeftArrow;":"⇄","rightarrowtail;":"↣","RightCeiling;":"⌉","RightDoubleBracket;":"⟧","RightDownTeeVector;":"⥝","RightDownVector;":"⇂","RightDownVectorBar;":"⥕","RightFloor;":"⌋","rightharpoondown;":"⇁","rightharpoonup;":"⇀","rightleftarrows;":"⇄","rightleftharpoons;":"⇌","rightrightarrows;":"⇉","rightsquigarrow;":"↝","RightTee;":"⊢","RightTeeArrow;":"↦","RightTeeVector;":"⥛","rightthreetimes;":"⋌","RightTriangle;":"⊳","RightTriangleBar;":"⧐","RightTriangleEqual;":"⊵","RightUpDownVector;":"⥏","RightUpTeeVector;":"⥜","RightUpVector;":"↾","RightUpVectorBar;":"⥔","RightVector;":"⇀","RightVectorBar;":"⥓","ring;":"˚","risingdotseq;":"≓","rlarr;":"⇄","rlhar;":"⇌","rlm;":"‏","rmoust;":"⎱","rmoustache;":"⎱","rnmid;":"⫮","roang;":"⟭","roarr;":"⇾","robrk;":"⟧","ropar;":"⦆","Ropf;":"ℝ","ropf;":"𝕣","roplus;":"⨮","rotimes;":"⨵","RoundImplies;":"⥰","rpar;":")","rpargt;":"⦔","rppolint;":"⨒","rrarr;":"⇉","Rrightarrow;":"⇛","rsaquo;":"›","Rscr;":"ℛ","rscr;":"𝓇","Rsh;":"↱","rsh;":"↱","rsqb;":"]","rsquo;":"’","rsquor;":"’","rthree;":"⋌","rtimes;":"⋊","rtri;":"▹","rtrie;":"⊵","rtrif;":"▸","rtriltri;":"⧎","RuleDelayed;":"⧴","ruluhar;":"⥨","rx;":"℞","Sacute;":"Ś","sacute;":"ś","sbquo;":"‚","Sc;":"⪼","sc;":"≻","scap;":"⪸","Scaron;":"Š","scaron;":"š","sccue;":"≽","scE;":"⪴","sce;":"⪰","Scedil;":"Ş","scedil;":"ş","Scirc;":"Ŝ","scirc;":"ŝ","scnap;":"⪺","scnE;":"⪶","scnsim;":"⋩","scpolint;":"⨓","scsim;":"≿","Scy;":"С","scy;":"с","sdot;":"⋅","sdotb;":"⊡","sdote;":"⩦","searhk;":"⤥","seArr;":"⇘","searr;":"↘","searrow;":"↘","sect;":"§",sect:"§","semi;":";","seswar;":"⤩","setminus;":"∖","setmn;":"∖","sext;":"✶","Sfr;":"𝔖","sfr;":"𝔰","sfrown;":"⌢","sharp;":"♯","SHCHcy;":"Щ","shchcy;":"щ","SHcy;":"Ш","shcy;":"ш","ShortDownArrow;":"↓","ShortLeftArrow;":"←","shortmid;":"∣","shortparallel;":"∥","ShortRightArrow;":"→","ShortUpArrow;":"↑","shy;":"­",shy:"­","Sigma;":"Σ","sigma;":"σ","sigmaf;":"ς","sigmav;":"ς","sim;":"∼","simdot;":"⩪","sime;":"≃","simeq;":"≃","simg;":"⪞","simgE;":"⪠","siml;":"⪝","simlE;":"⪟","simne;":"≆","simplus;":"⨤","simrarr;":"⥲","slarr;":"←","SmallCircle;":"∘","smallsetminus;":"∖","smashp;":"⨳","smeparsl;":"⧤","smid;":"∣","smile;":"⌣","smt;":"⪪","smte;":"⪬","smtes;":"⪬︀","SOFTcy;":"Ь","softcy;":"ь","sol;":"/","solb;":"⧄","solbar;":"⌿","Sopf;":"𝕊","sopf;":"𝕤","spades;":"♠","spadesuit;":"♠","spar;":"∥","sqcap;":"⊓","sqcaps;":"⊓︀","sqcup;":"⊔","sqcups;":"⊔︀","Sqrt;":"√","sqsub;":"⊏","sqsube;":"⊑","sqsubset;":"⊏","sqsubseteq;":"⊑","sqsup;":"⊐","sqsupe;":"⊒","sqsupset;":"⊐","sqsupseteq;":"⊒","squ;":"□","Square;":"□","square;":"□","SquareIntersection;":"⊓","SquareSubset;":"⊏","SquareSubsetEqual;":"⊑","SquareSuperset;":"⊐","SquareSupersetEqual;":"⊒","SquareUnion;":"⊔","squarf;":"▪","squf;":"▪","srarr;":"→","Sscr;":"𝒮","sscr;":"𝓈","ssetmn;":"∖","ssmile;":"⌣","sstarf;":"⋆","Star;":"⋆","star;":"☆","starf;":"★","straightepsilon;":"ϵ","straightphi;":"ϕ","strns;":"¯","Sub;":"⋐","sub;":"⊂","subdot;":"⪽","subE;":"⫅","sube;":"⊆","subedot;":"⫃","submult;":"⫁","subnE;":"⫋","subne;":"⊊","subplus;":"⪿","subrarr;":"⥹","Subset;":"⋐","subset;":"⊂","subseteq;":"⊆","subseteqq;":"⫅","SubsetEqual;":"⊆","subsetneq;":"⊊","subsetneqq;":"⫋","subsim;":"⫇","subsub;":"⫕","subsup;":"⫓","succ;":"≻","succapprox;":"⪸","succcurlyeq;":"≽","Succeeds;":"≻","SucceedsEqual;":"⪰","SucceedsSlantEqual;":"≽","SucceedsTilde;":"≿","succeq;":"⪰","succnapprox;":"⪺","succneqq;":"⪶","succnsim;":"⋩","succsim;":"≿","SuchThat;":"∋","Sum;":"∑","sum;":"∑","sung;":"♪","Sup;":"⋑","sup;":"⊃","sup1;":"¹",sup1:"¹","sup2;":"²",sup2:"²","sup3;":"³",sup3:"³","supdot;":"⪾","supdsub;":"⫘","supE;":"⫆","supe;":"⊇","supedot;":"⫄","Superset;":"⊃","SupersetEqual;":"⊇","suphsol;":"⟉","suphsub;":"⫗","suplarr;":"⥻","supmult;":"⫂","supnE;":"⫌","supne;":"⊋","supplus;":"⫀","Supset;":"⋑","supset;":"⊃","supseteq;":"⊇","supseteqq;":"⫆","supsetneq;":"⊋","supsetneqq;":"⫌","supsim;":"⫈","supsub;":"⫔","supsup;":"⫖","swarhk;":"⤦","swArr;":"⇙","swarr;":"↙","swarrow;":"↙","swnwar;":"⤪","szlig;":"ß",szlig:"ß","Tab;":"\t","target;":"⌖","Tau;":"Τ","tau;":"τ","tbrk;":"⎴","Tcaron;":"Ť","tcaron;":"ť","Tcedil;":"Ţ","tcedil;":"ţ","Tcy;":"Т","tcy;":"т","tdot;":"⃛","telrec;":"⌕","Tfr;":"𝔗","tfr;":"𝔱","there4;":"∴","Therefore;":"∴","therefore;":"∴","Theta;":"Θ","theta;":"θ","thetasym;":"ϑ","thetav;":"ϑ","thickapprox;":"≈","thicksim;":"∼","ThickSpace;":"  ","thinsp;":" ","ThinSpace;":" ","thkap;":"≈","thksim;":"∼","THORN;":"Þ",THORN:"Þ","thorn;":"þ",thorn:"þ","Tilde;":"∼","tilde;":"˜","TildeEqual;":"≃","TildeFullEqual;":"≅","TildeTilde;":"≈","times;":"×",times:"×","timesb;":"⊠","timesbar;":"⨱","timesd;":"⨰","tint;":"∭","toea;":"⤨","top;":"⊤","topbot;":"⌶","topcir;":"⫱","Topf;":"𝕋","topf;":"𝕥","topfork;":"⫚","tosa;":"⤩","tprime;":"‴","TRADE;":"™","trade;":"™","triangle;":"▵","triangledown;":"▿","triangleleft;":"◃","trianglelefteq;":"⊴","triangleq;":"≜","triangleright;":"▹","trianglerighteq;":"⊵","tridot;":"◬","trie;":"≜","triminus;":"⨺","TripleDot;":"⃛","triplus;":"⨹","trisb;":"⧍","tritime;":"⨻","trpezium;":"⏢","Tscr;":"𝒯","tscr;":"𝓉","TScy;":"Ц","tscy;":"ц","TSHcy;":"Ћ","tshcy;":"ћ","Tstrok;":"Ŧ","tstrok;":"ŧ","twixt;":"≬","twoheadleftarrow;":"↞","twoheadrightarrow;":"↠","Uacute;":"Ú",Uacute:"Ú","uacute;":"ú",uacute:"ú","Uarr;":"↟","uArr;":"⇑","uarr;":"↑","Uarrocir;":"⥉","Ubrcy;":"Ў","ubrcy;":"ў","Ubreve;":"Ŭ","ubreve;":"ŭ","Ucirc;":"Û",Ucirc:"Û","ucirc;":"û",ucirc:"û","Ucy;":"У","ucy;":"у","udarr;":"⇅","Udblac;":"Ű","udblac;":"ű","udhar;":"⥮","ufisht;":"⥾","Ufr;":"𝔘","ufr;":"𝔲","Ugrave;":"Ù",Ugrave:"Ù","ugrave;":"ù",ugrave:"ù","uHar;":"⥣","uharl;":"↿","uharr;":"↾","uhblk;":"▀","ulcorn;":"⌜","ulcorner;":"⌜","ulcrop;":"⌏","ultri;":"◸","Umacr;":"Ū","umacr;":"ū","uml;":"¨",uml:"¨","UnderBar;":"_","UnderBrace;":"⏟","UnderBracket;":"⎵","UnderParenthesis;":"⏝","Union;":"⋃","UnionPlus;":"⊎","Uogon;":"Ų","uogon;":"ų","Uopf;":"𝕌","uopf;":"𝕦","UpArrow;":"↑","Uparrow;":"⇑","uparrow;":"↑","UpArrowBar;":"⤒","UpArrowDownArrow;":"⇅","UpDownArrow;":"↕","Updownarrow;":"⇕","updownarrow;":"↕","UpEquilibrium;":"⥮","upharpoonleft;":"↿","upharpoonright;":"↾","uplus;":"⊎","UpperLeftArrow;":"↖","UpperRightArrow;":"↗","Upsi;":"ϒ","upsi;":"υ","upsih;":"ϒ","Upsilon;":"Υ","upsilon;":"υ","UpTee;":"⊥","UpTeeArrow;":"↥","upuparrows;":"⇈","urcorn;":"⌝","urcorner;":"⌝","urcrop;":"⌎","Uring;":"Ů","uring;":"ů","urtri;":"◹","Uscr;":"𝒰","uscr;":"𝓊","utdot;":"⋰","Utilde;":"Ũ","utilde;":"ũ","utri;":"▵","utrif;":"▴","uuarr;":"⇈","Uuml;":"Ü",Uuml:"Ü","uuml;":"ü",uuml:"ü","uwangle;":"⦧","vangrt;":"⦜","varepsilon;":"ϵ","varkappa;":"ϰ","varnothing;":"∅","varphi;":"ϕ","varpi;":"ϖ","varpropto;":"∝","vArr;":"⇕","varr;":"↕","varrho;":"ϱ","varsigma;":"ς","varsubsetneq;":"⊊︀","varsubsetneqq;":"⫋︀","varsupsetneq;":"⊋︀","varsupsetneqq;":"⫌︀","vartheta;":"ϑ","vartriangleleft;":"⊲","vartriangleright;":"⊳","Vbar;":"⫫","vBar;":"⫨","vBarv;":"⫩","Vcy;":"В","vcy;":"в","VDash;":"⊫","Vdash;":"⊩","vDash;":"⊨","vdash;":"⊢","Vdashl;":"⫦","Vee;":"⋁","vee;":"∨","veebar;":"⊻","veeeq;":"≚","vellip;":"⋮","Verbar;":"‖","verbar;":"|","Vert;":"‖","vert;":"|","VerticalBar;":"∣","VerticalLine;":"|","VerticalSeparator;":"❘","VerticalTilde;":"≀","VeryThinSpace;":" ","Vfr;":"𝔙","vfr;":"𝔳","vltri;":"⊲","vnsub;":"⊂⃒","vnsup;":"⊃⃒","Vopf;":"𝕍","vopf;":"𝕧","vprop;":"∝","vrtri;":"⊳","Vscr;":"𝒱","vscr;":"𝓋","vsubnE;":"⫋︀","vsubne;":"⊊︀","vsupnE;":"⫌︀","vsupne;":"⊋︀","Vvdash;":"⊪","vzigzag;":"⦚","Wcirc;":"Ŵ","wcirc;":"ŵ","wedbar;":"⩟","Wedge;":"⋀","wedge;":"∧","wedgeq;":"≙","weierp;":"℘","Wfr;":"𝔚","wfr;":"𝔴","Wopf;":"𝕎","wopf;":"𝕨","wp;":"℘","wr;":"≀","wreath;":"≀","Wscr;":"𝒲","wscr;":"𝓌","xcap;":"⋂","xcirc;":"◯","xcup;":"⋃","xdtri;":"▽","Xfr;":"𝔛","xfr;":"𝔵","xhArr;":"⟺","xharr;":"⟷","Xi;":"Ξ","xi;":"ξ","xlArr;":"⟸","xlarr;":"⟵","xmap;":"⟼","xnis;":"⋻","xodot;":"⨀","Xopf;":"𝕏","xopf;":"𝕩","xoplus;":"⨁","xotime;":"⨂","xrArr;":"⟹","xrarr;":"⟶","Xscr;":"𝒳","xscr;":"𝓍","xsqcup;":"⨆","xuplus;":"⨄","xutri;":"△","xvee;":"⋁","xwedge;":"⋀","Yacute;":"Ý",Yacute:"Ý","yacute;":"ý",yacute:"ý","YAcy;":"Я","yacy;":"я","Ycirc;":"Ŷ","ycirc;":"ŷ","Ycy;":"Ы","ycy;":"ы","yen;":"¥",yen:"¥","Yfr;":"𝔜","yfr;":"𝔶","YIcy;":"Ї","yicy;":"ї","Yopf;":"𝕐","yopf;":"𝕪","Yscr;":"𝒴","yscr;":"𝓎","YUcy;":"Ю","yucy;":"ю","Yuml;":"Ÿ","yuml;":"ÿ",yuml:"ÿ","Zacute;":"Ź","zacute;":"ź","Zcaron;":"Ž","zcaron;":"ž","Zcy;":"З","zcy;":"з","Zdot;":"Ż","zdot;":"ż","zeetrf;":"ℨ","ZeroWidthSpace;":"​","Zeta;":"Ζ","zeta;":"ζ","Zfr;":"ℨ","zfr;":"𝔷","ZHcy;":"Ж","zhcy;":"ж","zigrarr;":"⇝","Zopf;":"ℤ","zopf;":"𝕫","Zscr;":"𝒵","zscr;":"𝓏","zwj;":"‍","zwnj;":"‌"};
},{}],"BzAG":[function(require,module,exports) {
var e=require("punycode"),r=require("./entities.json");function n(n){if("string"!=typeof n)throw new TypeError("Expected a String");return n.replace(/&(#?[^;\W]+;?)/g,function(n,t){var c;if(c=/^#(\d+);?$/.exec(t))return e.ucs2.encode([parseInt(c[1],10)]);if(c=/^#[Xx]([A-Fa-f0-9]+);?/.exec(t))return e.ucs2.encode([parseInt(c[1],16)]);var o=/;$/.test(t),u=o?t.replace(/;$/,""):t,i=r[u]||o&&r[t];return"number"==typeof i?e.ucs2.encode([i]):"string"==typeof i?i:"&"+t})}module.exports=n;
},{"./entities.json":"hMDc"}],"b2BI":[function(require,module,exports) {
exports.encode=require("./encode"),exports.decode=require("./decode");
},{"./encode":"X5wO","./decode":"BzAG"}],"PjPn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchError=c,exports.Response=exports.Request=exports.Headers=exports.default=void 0;var e=s(require("stream")),t=s(require("http")),r=s(require("url")),o=s(require("https")),n=s(require("zlib"));function s(e){return e&&e.__esModule?e:{default:e}}const i=e.default.Readable,u=Symbol("buffer"),a=Symbol("type");class l{constructor(){this[a]="";const e=arguments[0],t=arguments[1],r=[];let o=0;if(e){const t=e,n=Number(t.length);for(let e=0;e<n;e++){const n=t[e];let s;o+=(s=n instanceof Buffer?n:ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?Buffer.from(n):n instanceof l?n[u]:Buffer.from("string"==typeof n?n:String(n))).length,r.push(s)}}this[u]=Buffer.concat(r);let n=t&&void 0!==t.type&&String(t.type).toLowerCase();n&&!/[^\u0020-\u007E]/.test(n)&&(this[a]=n)}get size(){return this[u].length}get type(){return this[a]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new i;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let o,n;o=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),n=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const s=Math.max(n-o,0),i=this[u].slice(o,o+s),a=new l([],{type:arguments[2]});return a[u]=i,a}}function c(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(l.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(l.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="FetchError";try{f=require("encoding").convert}catch(W){}const d=Symbol("Body internals"),h=e.default.PassThrough;function p(t){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.size;let s=void 0===n?0:n;var i=o.timeout;let u=void 0===i?0:i;null==t?t=null:m(t)?t=Buffer.from(t.toString()):g(t)||Buffer.isBuffer(t)||("[object ArrayBuffer]"===Object.prototype.toString.call(t)?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof e.default||(t=Buffer.from(String(t)))),this[d]={body:t,disturbed:!1,error:null},this.size=s,this.timeout=u,t instanceof e.default&&t.on("error",function(e){const t="AbortError"===e.name?e:new c(`Invalid response body while trying to fetch ${r.url}: ${e.message}`,"system",e);r[d].error=t})}function b(){var t=this;if(this[d].disturbed)return p.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[d].disturbed=!0,this[d].error)return p.Promise.reject(this[d].error);let r=this.body;if(null===r)return p.Promise.resolve(Buffer.alloc(0));if(g(r)&&(r=r.stream()),Buffer.isBuffer(r))return p.Promise.resolve(r);if(!(r instanceof e.default))return p.Promise.resolve(Buffer.alloc(0));let o=[],n=0,s=!1;return new p.Promise(function(e,i){let u;t.timeout&&(u=setTimeout(function(){s=!0,i(new c(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),r.on("error",function(e){"AbortError"===e.name?(s=!0,i(e)):i(new c(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))}),r.on("data",function(e){if(!s&&null!==e){if(t.size&&n+e.length>t.size)return s=!0,void i(new c(`content size at ${t.url} over limit: ${t.size}`,"max-size"));n+=e.length,o.push(e)}}),r.on("end",function(){if(!s){clearTimeout(u);try{e(Buffer.concat(o,n))}catch(r){i(new c(`Could not create Buffer from response body for ${t.url}: ${r.message}`,"system",r))}}})})}function y(e,t){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let o,n,s="utf-8";return r&&(o=/charset=([^;]*)/i.exec(r)),n=e.slice(0,1024).toString(),!o&&n&&(o=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!o&&n&&(o=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n))&&(o=/charset=(.*)/i.exec(o.pop())),!o&&n&&(o=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),o&&("gb2312"!==(s=o.pop())&&"gbk"!==s||(s="gb18030")),f(e,"UTF-8",s).toString()}function m(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function g(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(t){let r,o,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof e.default&&"function"!=typeof n.getBoundary&&(r=new h,o=new h,n.pipe(r),n.pipe(o),t[d].body=r,n=o),n}function v(t){return null===t?null:"string"==typeof t?"text/plain;charset=UTF-8":m(t)?"application/x-www-form-urlencoded;charset=UTF-8":g(t)?t.type||null:Buffer.isBuffer(t)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:ArrayBuffer.isView(t)?null:"function"==typeof t.getBoundary?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof e.default?null:"text/plain;charset=UTF-8"}function T(e){const t=e.body;return null===t?0:g(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function S(e,t){const r=t.body;null===r?e.end():g(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}p.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return b.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return b.call(this).then(function(t){return Object.assign(new l([],{type:e.toLowerCase()}),{[u]:t})})},json(){var e=this;return b.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(r){return p.Promise.reject(new c(`invalid json response body at ${e.url} reason: ${r.message}`,"invalid-json"))}})},text(){return b.call(this).then(function(e){return e.toString()})},buffer(){return b.call(this)},textConverted(){var e=this;return b.call(this).then(function(t){return y(t,e.headers)})}},Object.defineProperties(p.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),p.mixIn=function(e){for(const t of Object.getOwnPropertyNames(p.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(p.prototype,t);Object.defineProperty(e,t,r)}},p.Promise=global.Promise;const j=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function O(e){if(e=`${e}`,j.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function P(e){if(e=`${e}`,x.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function E(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const B=Symbol("map");class ${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[B]=Object.create(null),e instanceof $){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const r of Object.keys(e)){const t=e[r];this.append(r,t)}}}}get(e){O(e=`${e}`);const t=E(this[B],e);return void 0===t?null:this[B][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=C(this),o=0;for(;o<r.length;){var n=r[o];const s=n[0],i=n[1];e.call(t,i,s,this),r=C(this),o++}}set(e,t){t=`${t}`,O(e=`${e}`),P(t);const r=E(this[B],e);this[B][void 0!==r?r:e]=[t]}append(e,t){t=`${t}`,O(e=`${e}`),P(t);const r=E(this[B],e);void 0!==r?this[B][r].push(t):this[B][e]=[t]}has(e){return O(e=`${e}`),void 0!==E(this[B],e)}delete(e){O(e=`${e}`);const t=E(this[B],e);void 0!==t&&delete this[B][t]}raw(){return this[B]}keys(){return A(this,"key")}values(){return A(this,"value")}[Symbol.iterator](){return A(this,"key+value")}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[B]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[B][t].join(", ")}:function(t){return[t.toLowerCase(),e[B][t].join(", ")]})}exports.Headers=$,$.prototype.entries=$.prototype[Symbol.iterator],Object.defineProperty($.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties($.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const L=Symbol("internal");function A(e,t){const r=Object.create(R);return r[L]={target:e,kind:t,index:0},r}const R=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==R)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[L];const t=e.target,r=e.kind,o=e.index,n=C(t,r);return o>=n.length?{value:void 0,done:!0}:(this[L].index=o+1,{value:n[o],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function k(e){const t=Object.assign({__proto__:null},e[B]),r=E(e[B],"Host");return void 0!==r&&(t[r]=t[r][0]),t}function z(e){const t=new $;for(const r of Object.keys(e))if(!j.test(r))if(Array.isArray(e[r]))for(const o of e[r])x.test(o)||(void 0===t[B][r]?t[B][r]=[o]:t[B][r].push(o));else x.test(e[r])||(t[B][r]=[e[r]]);return t}Object.defineProperty(R,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const U=Symbol("Response internals"),q=t.default.STATUS_CODES;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.call(this,e,t);const r=t.status||200,o=new $(t.headers);if(null!=e&&!o.has("Content-Type")){const t=v(e);t&&o.append("Content-Type",t)}this[U]={url:t.url,status:r,statusText:t.statusText||q[r],headers:o,counter:t.counter}}get url(){return this[U].url||""}get status(){return this[U].status}get ok(){return this[U].status>=200&&this[U].status<300}get redirected(){return this[U].counter>0}get statusText(){return this[U].statusText}get headers(){return this[U].headers}clone(){return new _(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}exports.Response=_,p.mixIn(_.prototype),Object.defineProperties(_.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const H=Symbol("Request internals"),F=r.default.parse,I=r.default.format,M="destroy"in e.default.Readable.prototype;function D(e){return"object"==typeof e&&"object"==typeof e[H]}function G(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}class N{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(e)?t=F(e.url):(t=e&&e.href?F(e.href):F(`${e}`),e={});let o=r.method||e.method||"GET";if(o=o.toUpperCase(),(null!=r.body||D(e)&&null!==e.body)&&("GET"===o||"HEAD"===o))throw new TypeError("Request with GET/HEAD method cannot have body");let n=null!=r.body?r.body:D(e)&&null!==e.body?w(e):null;p.call(this,n,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const s=new $(r.headers||e.headers||{});if(null!=n&&!s.has("Content-Type")){const e=v(n);e&&s.append("Content-Type",e)}let i=D(e)?e.signal:null;if("signal"in r&&(i=r.signal),null!=i&&!G(i))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[H]={method:o,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:i},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[H].method}get url(){return I(this[H].parsedURL)}get headers(){return this[H].headers}get redirect(){return this[H].redirect}get signal(){return this[H].signal}clone(){return new N(this)}}function V(t){const r=t[H].parsedURL,o=new $(t[H].headers);if(o.has("Accept")||o.set("Accept","*/*"),!r.protocol||!r.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(r.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof e.default.Readable&&!M)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),null!=t.body){const e=T(t);"number"==typeof e&&(n=String(e))}n&&o.set("Content-Length",n),o.has("User-Agent")||o.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate");let s=t.agent;return"function"==typeof s&&(s=s(r)),o.has("Connection")||s||o.set("Connection","close"),Object.assign({},r,{method:t.method,headers:k(o),agent:s})}function Z(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}exports.Request=N,p.mixIn(N.prototype),Object.defineProperty(N.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(N.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z.prototype.name="AbortError";const K=e.default.PassThrough,Y=r.default.resolve;function J(r,s){if(!J.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return p.Promise=J.Promise,new J.Promise(function(i,u){const a=new N(r,s),l=V(a),f=("https:"===l.protocol?o.default:t.default).request,d=a.signal;let h=null;const p=function(){let t=new Z("The user aborted a request.");u(t),a.body&&a.body instanceof e.default.Readable&&a.body.destroy(t),h&&h.body&&h.body.emit("error",t)};if(d&&d.aborted)return void p();const b=function(){p(),g()},y=f(l);let m;function g(){y.abort(),d&&d.removeEventListener("abort",b),clearTimeout(m)}d&&d.addEventListener("abort",b),a.timeout&&y.once("socket",function(e){m=setTimeout(function(){u(new c(`network timeout at: ${a.url}`,"request-timeout")),g()},a.timeout)}),y.on("error",function(e){u(new c(`request to ${a.url} failed, reason: ${e.message}`,"system",e)),g()}),y.on("response",function(e){clearTimeout(m);const t=z(e.headers);if(J.isRedirect(e.statusCode)){const r=t.get("Location"),o=null===r?null:Y(a.url,r);switch(a.redirect){case"error":return u(new c(`redirect mode is set to error: ${a.url}`,"no-redirect")),void g();case"manual":if(null!==o)try{t.set("Location",o)}catch(f){u(f)}break;case"follow":if(null===o)break;if(a.counter>=a.follow)return u(new c(`maximum redirect reached at: ${a.url}`,"max-redirect")),void g();const r={headers:new $(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:a.body,signal:a.signal,timeout:a.timeout};return 303!==e.statusCode&&a.body&&null===T(a)?(u(new c("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void g()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==a.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),i(J(new N(o,r))),void g())}}e.once("end",function(){d&&d.removeEventListener("abort",b)});let r=e.pipe(new K);const o={url:a.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:a.size,timeout:a.timeout,counter:a.counter},s=t.get("Content-Encoding");if(!a.compress||"HEAD"===a.method||null===s||204===e.statusCode||304===e.statusCode)return h=new _(r,o),void i(h);const l={flush:n.default.Z_SYNC_FLUSH,finishFlush:n.default.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return r=r.pipe(n.default.createGunzip(l)),h=new _(r,o),void i(h);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof n.default.createBrotliDecompress)return r=r.pipe(n.default.createBrotliDecompress()),h=new _(r,o),void i(h);h=new _(r,o),i(h)}else{e.pipe(new K).once("data",function(e){r=8==(15&e[0])?r.pipe(n.default.createInflate()):r.pipe(n.default.createInflateRaw()),h=new _(r,o),i(h)})}}),S(y,a)})}J.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},J.Promise=global.Promise;var Q=J;exports.default=Q;
},{}],"RxpH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class s extends Error{constructor(s,e,r){super(s),this.response=r,this.config=e,this.code=r.status.toString()}}exports.GaxiosError=s;
},{}],"eTeR":[function(require,module,exports) {
"use strict";function e(){return"undefined"!=typeof window&&void 0!==window.fetch}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowser=e;
},{}],"mSo2":[function(require,module,exports) {
"use strict";async function t(t){let o=r(t);if(!t||!t.config||!o&&!t.config.retry)return{shouldRetry:!1};(o=o||{}).currentRetryAttempt=o.currentRetryAttempt||0,o.retry=void 0===o.retry||null===o.retry?3:o.retry,o.retryDelay=o.retryDelay||100,o.httpMethodsToRetry=o.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],o.noResponseRetries=void 0===o.noResponseRetries||null===o.noResponseRetries?2:o.noResponseRetries;if(o.statusCodesToRetry=o.statusCodesToRetry||[[100,199],[429,429],[500,599]],t.config.retryConfig=o,!(o.shouldRetry||e)(t))return{shouldRetry:!1,config:t.config};const n=(Math.pow(2,o.currentRetryAttempt)-1)/2*1e3;t.config.retryConfig.currentRetryAttempt+=1;const s=new Promise(t=>{setTimeout(t,n)});return o.onRetryAttempt&&o.onRetryAttempt(t),await s,{shouldRetry:!0,config:t.config}}function e(t){const e=r(t);if(!e||0===e.retry)return!1;if(!t.response&&(e.currentRetryAttempt||0)>=e.noResponseRetries)return!1;if(!t.config.method||e.httpMethodsToRetry.indexOf(t.config.method.toUpperCase())<0)return!1;if(t.response&&t.response.status){let r=!1;for(const[o,n]of e.statusCodesToRetry){const e=t.response.status;if(e>=o&&e<=n){r=!0;break}}if(!r)return!1}return e.currentRetryAttempt=e.currentRetryAttempt||0,!(e.currentRetryAttempt>=e.retry)}function r(t){if(t&&t.config&&t.config.retryConfig)return t.config.retryConfig}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRetryConfig=t;
},{}],"JSb+":[function(require,module,exports) {
"use strict";const e=require("url"),t=require("https"),r="__agent_base_https_request_patched__";t.request[r]||(t.request=function(r){return function(n,s){let u;return null==(u="string"==typeof n?e.parse(n):Object.assign({},n)).port&&(u.port=443),u.secureEndpoint=!0,r.call(t,u,s)}}(t.request),t.request[r]=!0),t.get=function(r,n,s){let u;"string"==typeof r&&n&&"function"!=typeof n?u=Object.assign({},e.parse(r),n):n||s?s||(u=r,s=n):u=r;const c=t.request(u,s);return c.end(),c};
},{}],"V//m":[function(require,module,exports) {
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,r=void 0,o=void 0,i=function(t,e){h[n]=t,h[n+1]=e,2===(n+=2)&&(o?o(v):m())};var s="undefined"!=typeof window?window:void 0,u=s||{},c=u.MutationObserver||u.WebKitMutationObserver,a="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var t=setTimeout;return function(){return t(v,1)}}var h=new Array(1e3);function v(){for(var t=0;t<n;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}n=0}var p,d,_,y,m=void 0;function b(t,e){var n=this,r=new this.constructor(A);void 0===r[g]&&q(r);var o=n._state;if(o){var s=arguments[o-1];i(function(){return Y(o,r,s,n._result)})}else O(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return M(e,t),e}a?m=function(){return process.nextTick(v)}:c?(d=0,_=new c(v),y=document.createTextNode(""),_.observe(y,{characterData:!0}),m=function(){y.data=d=++d%2}):f?((p=new MessageChannel).port1.onmessage=v,m=function(){return p.port2.postMessage(0)}):m=void 0===s&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(v)}:l()}catch(e){return l()}}():l();var g=Math.random().toString(36).substring(2);function A(){}var j=void 0,S=1,E=2;function T(e,n,r){n.constructor===e.constructor&&r===b&&n.constructor.resolve===w?function(t,e){e._state===S?x(t,e._result):e._state===E?C(t,e._result):O(e,void 0,function(e){return M(t,e)},function(e){return C(t,e)})}(e,n):void 0===r?x(e,n):t(r)?function(t,e,n){i(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}(n,e,function(n){r||(r=!0,e!==n?M(t,n):x(t,n))},function(e){r||(r=!0,C(t,e))},t._label);!r&&o&&(r=!0,C(t,o))},t)}(e,n,r):x(e,n)}function M(t,e){if(t===e)C(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)x(t,e);else{var n=void 0;try{n=e.then}catch(i){return void C(t,i)}T(t,e,n)}var r,o}function P(t){t._onerror&&t._onerror(t._result),F(t)}function x(t,e){t._state===j&&(t._result=e,t._state=S,0!==t._subscribers.length&&i(F,t))}function C(t,e){t._state===j&&(t._state=E,t._result=e,i(P,t))}function O(t,e,n,r){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=e,o[s+S]=n,o[s+E]=r,0===s&&t._state&&i(F,t)}function F(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?Y(n,r,o,i):o(i);t._subscribers.length=0}}function Y(e,n,r,o){var i=t(r),s=void 0,u=void 0,c=!0;if(i){try{s=r(o)}catch(a){c=!1,u=a}if(n===s)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==j||(i&&c?M(n,s):!1===c?C(n,u):e===S?x(n,s):e===E&&C(n,s))}var k=0;function q(t){t[g]=k++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(A),this.promise[g]||q(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&x(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===j&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(c){s=!0,i=c}if(o===b&&t._state!==j)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===K){var u=new n(A);s?C(u,i):T(u,t,o),this._willSettleAt(u,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===j&&(this._remaining--,t===E?C(r,n):this._result[e]=n),0===this._remaining&&x(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(S,e,t)},function(t){return n._settledAt(E,e,t)})},t}();var K=function(){function e(t){this[g]=k++,this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){M(t,e)},function(e){C(t,e)})}catch(n){C(t,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return K.prototype.then=b,K.all=function(t){return new D(this,t).promise},K.race=function(t){var n=this;return e(t)?new n(function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)}):new n(function(t,e){return e(new TypeError("You must pass an array to race."))})},K.resolve=w,K.reject=function(t){var e=new this(A);return C(e,t),e},K._setScheduler=function(t){o=t},K._setAsap=function(t){i=t},K._asap=i,K.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(r){}if("[object Promise]"===n&&!e.cast)return}t.Promise=K},K.Promise=K,K});
},{}],"vNr5":[function(require,module,exports) {
"use strict";module.exports=function(){var r=void 0;return r=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!r.hasOwnProperty("Promise"))return!1;var e,o=r.Promise;return!(!o.hasOwnProperty("resolve")||!o.hasOwnProperty("reject"))&&(!(!o.hasOwnProperty("all")||!o.hasOwnProperty("race"))&&(e=void 0,!!new r.Promise(function(r){e=r})&&"function"==typeof e))}()?r.Promise:require("es6-promise").Promise}();
},{"es6-promise":"V//m"}],"8v21":[function(require,module,exports) {
"use strict";module.exports=function(){var r=require("./promise.js");return function(t,n){return function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];var o=n&&n.multiArgs,f=void 0;return n&&n.thisArg?f=n.thisArg:n&&(f=n),new r(function(r,n){u.push(function(t){if(t)return n(t);for(var e=arguments.length,u=Array(e>1?e-1:0),i=1;i<e;i++)u[i-1]=arguments[i];if(!1==!!o)return r(u[0]);r(u)});var e,i=t.apply(f,u);(e=i)&&"function"==typeof e.then&&"function"==typeof e.catch&&r(i)})}}}();
},{"./promise.js":"vNr5"}],"K47J":[function(require,module,exports) {
"use strict";require("./patch-core");const e=require("util").inherits,t=require("es6-promisify"),o=require("events").EventEmitter;function n(e){return e&&"function"==typeof e.addRequest}function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}module.exports=i,e(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,o){const i=Object.assign({},o);null==i.host&&(i.host="localhost"),null==i.port&&(i.port=i.secureEndpoint?443:80);const r=Object.assign({},this.options,i);let s;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let l=!1;const c=this.timeout,a=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function h(e){l||(null!=s&&(clearTimeout(s),s=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=t(this.callback,this),this._promisifiedCallback=!0),c>0&&(s=setTimeout(function(){s=null,l=!0;const e=new Error('A "socket" was not created for HTTP request before '+c+"ms");e.code="ETIMEOUT",u(e)},c));try{Promise.resolve(this.callback(e,r)).then(function(t){l||(null!=s&&(clearTimeout(s),s=null),n(t)?t.addRequest(e,r):t?(t.on("free",function(){a(t,r)}),e.onSocket(t)):u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`")))},h)}catch(d){Promise.reject(d).catch(h)}},i.prototype.freeSocket=function(e,t){e.destroy()};
},{"./patch-core":"JSb+","es6-promisify":"8v21"}],"Z2lA":[function(require,module,exports) {
"use strict";function e(e){function n(e){for(var n=0,t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function r(e){var a;function i(){if(i.enabled){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var s=i,o=Number(new Date),c=o-(a||o);s.diff=c,s.prev=a,s.curr=o,a=o,n[0]=r.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;u++;var a=r.formatters[t];if("function"==typeof a){var i=n[u];e=a.call(s,i),n.splice(u,1),u--}return e}),r.formatArgs.call(s,n),(s.log||r.log).apply(s,n)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=n(e),i.destroy=t,i.extend=s,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function t(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,n){return r(this.namespace+(void 0===n?":":n)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var n;r.save(e),r.names=[],r.skips=[];var t=("string"==typeof e?e:"").split(/[\s,]+/),s=t.length;for(n=0;n<s;n++)t[n]&&("-"===(e=t[n].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(n=0;n<r.instances.length;n++){var a=r.instances[n];a.enabled=r.enabled(a.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var n,t;for(n=0,t=r.skips.length;n<t;n++)if(r.skips[n].test(e))return!1;for(n=0,t=r.names.length;n<t;n++)if(r.names[n].test(e))return!0;return!1},r.humanize=require("ms"),Object.keys(e).forEach(function(n){r[n]=e[n]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}module.exports=e;
},{"ms":"1U8J"}],"8F0D":[function(require,module,exports) {
"use strict";function e(o){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function t(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}}function C(){var o;return"object"===("undefined"==typeof console?"undefined":e(console))&&console.log&&(o=console).log.apply(o,arguments)}function n(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function r(){var e;try{e=exports.storage.getItem("debug")}catch(o){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function s(){try{return localStorage}catch(e){}}exports.log=C,exports.formatArgs=t,exports.save=n,exports.load=r,exports.useColors=o,exports.storage=s(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);var F=module.exports.formatters;F.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"Z2lA"}],"acuW":[function(require,module,exports) {
"use strict";module.exports=((t,e)=>{e=e||process.argv;const s=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(s+t),n=e.indexOf("--");return-1!==r&&(-1===n||r<n)});
},{}],"9wRp":[function(require,module,exports) {
"use strict";const r=require("os"),e=require("has-flag"),o=process.env;let s;function t(r){return 0!==r&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function n(t){if(!1===s)return 0;if(e("color=16m")||e("color=full")||e("color=truecolor"))return 3;if(e("color=256"))return 2;if(t&&!t.isTTY&&!0!==s)return 0;const n=s?1:0;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in o)||"codeship"===o.CI_NAME?1:n;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const r=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:(o.TERM,n)}function i(r){return t(n(r))}e("no-color")||e("no-colors")||e("color=false")?s=!1:(e("color")||e("colors")||e("color=true")||e("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),module.exports={supportsColor:i,stdout:i(process.stdout),stderr:i(process.stderr)};
},{"has-flag":"acuW"}],"6Wyq":[function(require,module,exports) {
"use strict";var e=require("tty"),t=require("util");exports.init=u,exports.log=p,exports.formatArgs=o,exports.save=i,exports.load=c,exports.useColors=r,exports.colors=[6,2,3,4,5,1];try{var s=require("supports-color");s&&(s.stderr||s).level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}function r(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):e.isatty(process.stderr.fd)}function o(e){var t=this.namespace;if(this.useColors){var s=this.color,r="[3"+(s<8?s:"8;5;"+s),o="  ".concat(r,";1m").concat(t," [0m");e[0]=o+e[0].split("\n").join("\n"+o),e.push(r+"m+"+module.exports.humanize(this.diff)+"[0m")}else e[0]=n()+t+" "+e[0]}function n(){return exports.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function p(){return process.stderr.write(t.format.apply(t,arguments)+"\n")}function i(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function c(){return process.env.DEBUG}function u(e){e.inspectOpts={};for(var t=Object.keys(exports.inspectOpts),s=0;s<t.length;s++)e.inspectOpts[t[s]]=exports.inspectOpts[t[s]]}exports.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var s=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[s]=r,e},{}),module.exports=require("./common")(exports);var l=module.exports.formatters;l.o=function(e){return this.inspectOpts.colors=this.useColors,t.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},l.O=function(e){return this.inspectOpts.colors=this.useColors,t.inspect(e,this.inspectOpts)};
},{"supports-color":"9wRp","./common":"Z2lA"}],"ouk6":[function(require,module,exports) {
"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?module.exports=require("./browser.js"):module.exports=require("./node.js");
},{"./browser.js":"8F0D","./node.js":"6Wyq"}],"4d+H":[function(require,module,exports) {
var e=require("net"),t=require("tls"),r=require("url"),o=require("agent-base"),n=require("util").inherits,s=require("debug")("https-proxy-agent");function i(e){if(!(this instanceof i))return new i(e);if("string"==typeof e&&(e=r.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");s("creating new HttpsProxyAgent instance: %o",e),o.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),!this.secureProxy||"ALPNProtocols"in t||(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t,this.defaultPort=443}function a(e,t){return Boolean(!t&&80===e||t&&443===e)}module.exports=i,n(i,o),i.prototype.callback=function(r,o,n){var i,c=this.proxy;i=this.secureProxy?t.connect(c):e.connect(c);var u=[],l=0;function h(){var e=i.read();e?g(e):i.once("readable",h)}function p(){i.removeListener("data",g),i.removeListener("end",f),i.removeListener("error",v),i.removeListener("close",d),i.removeListener("readable",h)}function d(e){s("onclose had error %o",e)}function f(){s("onend")}function v(e){p(),n(e)}function g(e){u.push(e),l+=e.length;var a=Buffer.concat(u,l),c=a.toString("ascii");if(!~c.indexOf("\r\n\r\n"))return s("have not received end of HTTP headers yet..."),void(i.read?h():i.once("data",g));var d=c.substring(0,c.indexOf("\r\n")),f=+d.split(" ")[1];if(s("got proxy server response: %o",d),200==f){var v=i;u=a=null,o.secureEndpoint&&(s("upgrading proxy-connected socket to TLS connection: %o",o.host),o.socket=i,o.servername=o.servername||o.host,o.host=null,o.hostname=null,o.port=null,v=t.connect(o)),p(),n(null,v)}else p(),u=a,r.once("socket",y),n(null,i)}function y(e){if("function"==typeof e.ondata)e.ondata(u,0,u.length);else{if(!(e.listeners("data").length>0))throw new Error("should not happen...");e.emit("data",u)}u=null}i.on("error",v),i.on("close",d),i.on("end",f),i.read?h():i.once("data",g);var x="CONNECT "+(o.host+":"+o.port)+" HTTP/1.1\r\n",m=Object.assign({},c.headers);c.auth&&(m["Proxy-Authorization"]="Basic "+Buffer.from(c.auth).toString("base64"));var P=o.host;a(o.port,o.secureEndpoint)||(P+=":"+o.port),m.Host=P,m.Connection="close",Object.keys(m).forEach(function(e){x+=e+": "+m[e]+"\r\n"}),i.write(x+"\r\n")};
},{"agent-base":"K47J","debug":"ouk6"}],"xm7d":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=e(require("extend")),r=e(require("node-fetch")),a=e(require("querystring")),s=e(require("stream")),n=e(require("url")),i=require("./common"),o=require("./isbrowser"),u=require("./retry"),c=o.isBrowser()?window.URL:n.default.URL,d=o.isBrowser()?window.fetch:r.default;let p;function l(){const e=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;return e&&(p=require("https-proxy-agent")),e}l();class h{constructor(e){this.agentCache=new Map,this.defaults=e||{}}async request(e={}){e=this.validateOpts(e);try{let r;if(e.adapter)r=await e.adapter(e);else{const t=await d(e.url,e),a=await this.getResponseData(e,t);r=this.translateResponse(e,t,a)}if(!e.validateStatus(r.status))throw new i.GaxiosError(`Request failed with status code ${r.status}`,e,r);return r}catch(t){const r=t;r.config=e;const{shouldRetry:a,config:s}=await u.getRetryConfig(t);if(a&&s)return r.config.retryConfig.currentRetryAttempt=s.retryConfig.currentRetryAttempt,this.request(r.config);throw r}}async getResponseData(e,t){switch(e.responseType){case"stream":return t.body;case"json":let a=await t.text();try{a=JSON.parse(a)}catch(r){}return a;case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();default:return t.text()}}validateOpts(e){const r=t.default(!0,{},this.defaults,e);if(!r.url)throw new Error("URL is required.");const s=r.baseUrl||r.baseURL;s&&(r.url=s+r.url);const n=new c(r.url);r.url=`${n.origin}${n.pathname}`,r.params=t.default(a.default.parse(n.search.substr(1)),r.params),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&(n.search=r.paramsSerializer(r.params)),r.url=n.href,"number"==typeof e.maxContentLength&&(r.size=e.maxContentLength),"number"==typeof e.maxRedirects&&(r.follow=e.maxRedirects),r.headers=r.headers||{},r.data&&(this.isReadableStream(r.data)?r.body=r.data:"object"==typeof r.data?(r.body=JSON.stringify(r.data),r.headers["Content-Type"]="application/json"):r.body=r.data),r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",r.headers.Accept||"json"!==r.responseType||(r.headers.Accept="application/json"),r.method=r.method||"GET";const i=l();return i&&(this.agentCache.has(i)?r.agent=this.agentCache.get(i):(r.agent=new p(i),this.agentCache.set(i,r.agent))),r}validateStatus(e){return e>=200&&e<300}paramsSerializer(e){return a.default.stringify(e)}isReadableStream(e){return e instanceof s.default.Readable&&"function"==typeof e._read}translateResponse(e,t,r){const a={};return t.headers.forEach((e,t)=>{a[t]=e}),{config:e,data:r,headers:a,status:t.status,statusText:t.statusText}}}exports.Gaxios=h;
},{"extend":"PUjw","node-fetch":"PjPn","./common":"RxpH","./isbrowser":"eTeR","./retry":"mSo2","https-proxy-agent":"4d+H"}],"5k16":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./gaxios");exports.Gaxios=e.Gaxios;var r=require("./common");async function s(e){return exports.instance.request(e)}exports.GaxiosError=r.GaxiosError,exports.instance=new e.Gaxios,exports.request=s;
},{"./gaxios":"xm7d","./common":"RxpH"}],"1CiG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.BigNumber=void 0;var e=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,n=Math.floor,t="[BigNumber Error] ",i=t+"Number primitive has more than 15 significant digits: ",o=1e14,s=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,l=1e9;function a(N){var y,E,b,A,_,P,R,S,D,L=j.prototype={constructor:j,toString:null,valueOf:null},x=new j(1),B=20,U=4,I=-7,T=21,C=-1e7,M=1e7,G=!1,F=1,k=0,q={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},$="0123456789abcdefghijklmnopqrstuvwxyz";function j(r,t){var o,f,c,l,a,h,g,p,d=this;if(!(d instanceof j))return new j(r,t);if(null==t){if(r instanceof j)return d.s=r.s,d.e=r.e,void(d.c=(r=r.c)?r.slice():r);if((h="number"==typeof r)&&0*r==0){if(d.s=1/r<0?(r=-r,-1):1,r===~~r){for(l=0,a=r;a>=10;a/=10,l++);return d.e=l,void(d.c=[r])}p=r+""}else{if(!e.test(p=r+""))return b(d,p,h);d.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(l=p.indexOf("."))>-1&&(p=p.replace(".","")),(a=p.search(/e/i))>0?(l<0&&(l=a),l+=+p.slice(a+1),p=p.substring(0,a)):l<0&&(l=p.length)}else{if(w(t,2,$.length,"Base"),p=r+"",10==t)return W(d=new j(r instanceof j?r:p),B+d.e+1,U);if(h="number"==typeof r){if(0*r!=0)return b(d,p,h,t);if(d.s=1/r<0?(p=p.slice(1),-1):1,j.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(i+r);h=!1}else d.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(o=$.slice(0,t),l=a=0,g=p.length;a<g;a++)if(o.indexOf(f=p.charAt(a))<0){if("."==f){if(a>l){l=g;continue}}else if(!c&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){c=!0,a=-1,l=0;continue}return b(d,r+"",h,t)}(l=(p=E(p,t,10,d.s)).indexOf("."))>-1?p=p.replace(".",""):l=p.length}for(a=0;48===p.charCodeAt(a);a++);for(g=p.length;48===p.charCodeAt(--g););if(p=p.slice(a,++g)){if(g-=a,h&&j.DEBUG&&g>15&&(r>u||r!==n(r)))throw Error(i+d.s*r);if((l=l-a-1)>M)d.c=d.e=null;else if(l<C)d.c=[d.e=0];else{if(d.e=l,d.c=[],a=(l+1)%s,l<0&&(a+=s),a<g){for(a&&d.c.push(+p.slice(0,a)),g-=s;a<g;)d.c.push(+p.slice(a,a+=s));p=p.slice(a),a=s-p.length}else a-=g;for(;a--;p+="0");d.c.push(+p)}}else d.c=[d.e=0]}function z(e,r,n,t){var i,o,s,u,f;if(null==n?n=U:w(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==r)f=g(e.c),f=1==t||2==t&&s<=I?v(f,s):O(f,s,"0");else if(o=(e=W(new j(e),r,n)).e,u=(f=g(e.c)).length,1==t||2==t&&(r<=o||o<=I)){for(;u<r;f+="0",u++);f=v(f,o)}else if(r-=s,f=O(f,o,"0"),o+1>u){if(--r>0)for(f+=".";r--;f+="0");}else if((r+=o-u)>0)for(o+1==u&&(f+=".");r--;f+="0");return e.s<0&&i?"-"+f:f}function H(e,r){var n,t,i=0;for(d(e[0])&&(e=e[0]),n=new j(e[0]);++i<e.length;){if(!(t=new j(e[i])).s){n=t;break}r.call(n,t)&&(n=t)}return n}function V(e,r,n){for(var t=1,i=r.length;!r[--i];r.pop());for(i=r[0];i>=10;i/=10,t++);return(n=t+n*s-1)>M?e.c=e.e=null:n<C?e.c=[e.e=0]:(e.e=n,e.c=r),e}function W(e,t,i,u){var c,l,a,h,g,p,w,d=e.c,m=f;if(d){e:{for(c=1,h=d[0];h>=10;h/=10,c++);if((l=t-c)<0)l+=s,a=t,w=(g=d[p=0])/m[c-a-1]%10|0;else if((p=r((l+1)/s))>=d.length){if(!u)break e;for(;d.length<=p;d.push(0));g=w=0,c=1,a=(l%=s)-s+1}else{for(g=h=d[p],c=1;h>=10;h/=10,c++);w=(a=(l%=s)-s+c)<0?0:g/m[c-a-1]%10|0}if(u=u||t<0||null!=d[p+1]||(a<0?g:g%m[c-a-1]),u=i<4?(w||u)&&(0==i||i==(e.s<0?3:2)):w>5||5==w&&(4==i||u||6==i&&(l>0?a>0?g/m[c-a]:0:d[p-1])%10&1||i==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=m[(s-t%s)%s],e.e=-t||0):d[0]=e.e=0,e;if(0==l?(d.length=p,h=1,p--):(d.length=p+1,h=m[s-l],d[p]=a>0?n(g/m[c-a]%m[a])*h:0),u)for(;;){if(0==p){for(l=1,a=d[0];a>=10;a/=10,l++);for(a=d[0]+=h,h=1;a>=10;a/=10,h++);l!=h&&(e.e++,d[0]==o&&(d[0]=1));break}if(d[p]+=h,d[p]!=o)break;d[p--]=0,h=1}for(l=d.length;0===d[--l];d.pop());}e.e>M?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}return j.clone=a,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(e){var r,n;if(null!=e){if("object"!=typeof e)throw Error(t+"Object expected: "+e);if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(w(n=e[r],0,l,r),B=n),e.hasOwnProperty(r="ROUNDING_MODE")&&(w(n=e[r],0,8,r),U=n),e.hasOwnProperty(r="EXPONENTIAL_AT")&&(d(n=e[r])?(w(n[0],-l,0,r),w(n[1],0,l,r),I=n[0],T=n[1]):(w(n,-l,l,r),I=-(T=n<0?-n:n))),e.hasOwnProperty(r="RANGE"))if(d(n=e[r]))w(n[0],-l,-1,r),w(n[1],1,l,r),C=n[0],M=n[1];else{if(w(n,-l,l,r),!n)throw Error(t+r+" cannot be zero: "+n);C=-(M=n<0?-n:n)}if(e.hasOwnProperty(r="CRYPTO")){if((n=e[r])!==!!n)throw Error(t+r+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw G=!n,Error(t+"crypto unavailable");G=n}else G=n}if(e.hasOwnProperty(r="MODULO_MODE")&&(w(n=e[r],0,9,r),F=n),e.hasOwnProperty(r="POW_PRECISION")&&(w(n=e[r],0,l,r),k=n),e.hasOwnProperty(r="FORMAT")){if("object"!=typeof(n=e[r]))throw Error(t+r+" not an object: "+n);q=n}if(e.hasOwnProperty(r="ALPHABET")){if("string"!=typeof(n=e[r])||/^.$|\.|(.).*\1/.test(n))throw Error(t+r+" invalid: "+n);$=n}}return{DECIMAL_PLACES:B,ROUNDING_MODE:U,EXPONENTIAL_AT:[I,T],RANGE:[C,M],CRYPTO:G,MODULO_MODE:F,POW_PRECISION:k,FORMAT:q,ALPHABET:$}},j.isBigNumber=function(e){return e instanceof j||e&&!0===e._isBigNumber||!1},j.maximum=j.max=function(){return H(arguments,L.lt)},j.minimum=j.min=function(){return H(arguments,L.gt)},j.random=(A=9007199254740992*Math.random()&2097151?function(){return n(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var i,o,u,c,a,h=0,g=[],p=new j(x);if(null==e?e=B:w(e,0,l),c=r(e/s),G)if(crypto.getRandomValues){for(i=crypto.getRandomValues(new Uint32Array(c*=2));h<c;)(a=131072*i[h]+(i[h+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),i[h]=o[0],i[h+1]=o[1]):(g.push(a%1e14),h+=2);h=c/2}else{if(!crypto.randomBytes)throw G=!1,Error(t+"crypto unavailable");for(i=crypto.randomBytes(c*=7);h<c;)(a=281474976710656*(31&i[h])+1099511627776*i[h+1]+4294967296*i[h+2]+16777216*i[h+3]+(i[h+4]<<16)+(i[h+5]<<8)+i[h+6])>=9e15?crypto.randomBytes(7).copy(i,h):(g.push(a%1e14),h+=7);h=c/7}if(!G)for(;h<c;)(a=A())<9e15&&(g[h++]=a%1e14);for(c=g[--h],e%=s,c&&e&&(a=f[s-e],g[h]=n(c/a)*a);0===g[h];g.pop(),h--);if(h<0)g=[u=0];else{for(u=-1;0===g[0];g.splice(0,1),u-=s);for(h=1,a=g[0];a>=10;a/=10,h++);h<s&&(u-=s-h)}return p.e=u,p.c=g,p}),E=function(){function e(e,r,n,t){for(var i,o,s=[0],u=0,f=e.length;u<f;){for(o=s.length;o--;s[o]*=r);for(s[0]+=t.indexOf(e.charAt(u++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,n,t,i,o){var s,u,f,c,l,a,h,p,w=r.indexOf("."),d=B,m=U;for(w>=0&&(c=k,k=0,r=r.replace(".",""),a=(p=new j(n)).pow(r.length-w),k=c,p.c=e(O(g(a.c),a.e,"0"),10,t,"0123456789"),p.e=p.c.length),f=c=(h=e(r,n,t,o?(s=$,"0123456789"):(s="0123456789",$))).length;0==h[--c];h.pop());if(!h[0])return s.charAt(0);if(w<0?--f:(a.c=h,a.e=f,a.s=i,h=(a=y(a,p,d,m,t)).c,l=a.r,f=a.e),w=h[u=f+d+1],c=t/2,l=l||u<0||null!=h[u+1],l=m<4?(null!=w||l)&&(0==m||m==(a.s<0?3:2)):w>c||w==c&&(4==m||l||6==m&&1&h[u-1]||m==(a.s<0?8:7)),u<1||!h[0])r=l?O(s.charAt(1),-d,s.charAt(0)):s.charAt(0);else{if(h.length=u,l)for(--t;++h[--u]>t;)h[u]=0,u||(++f,h=[1].concat(h));for(c=h.length;!h[--c];);for(w=0,r="";w<=c;r+=s.charAt(h[w++]));r=O(r,f,s.charAt(0))}return r}}(),y=function(){function e(e,r,n){var t,i,o,s,u=0,f=e.length,l=r%c,a=r/c|0;for(e=e.slice();f--;)u=((i=l*(o=e[f]%c)+(t=a*o+(s=e[f]/c|0)*l)%c*c+u)/n|0)+(t/c|0)+a*s,e[f]=i%n;return u&&(e=[u].concat(e)),e}function r(e,r,n,t){var i,o;if(n!=t)o=n>t?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=r[i]){o=e[i]>r[i]?1:-1;break}return o}function t(e,r,n,t){for(var i=0;n--;)e[n]-=i,i=e[n]<r[n]?1:0,e[n]=i*t+e[n]-r[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,u,f,c,l){var a,g,p,w,d,m,v,O,N,y,E,b,A,_,P,R,S,D=i.s==u.s?1:-1,L=i.c,x=u.c;if(!(L&&L[0]&&x&&x[0]))return new j(i.s&&u.s&&(L?!x||L[0]!=x[0]:x)?L&&0==L[0]||!x?0*D:D/0:NaN);for(N=(O=new j(D)).c=[],D=f+(g=i.e-u.e)+1,l||(l=o,g=h(i.e/s)-h(u.e/s),D=D/s|0),p=0;x[p]==(L[p]||0);p++);if(x[p]>(L[p]||0)&&g--,D<0)N.push(1),w=!0;else{for(_=L.length,R=x.length,p=0,D+=2,(d=n(l/(x[0]+1)))>1&&(x=e(x,d,l),L=e(L,d,l),R=x.length,_=L.length),A=R,E=(y=L.slice(0,R)).length;E<R;y[E++]=0);S=x.slice(),S=[0].concat(S),P=x[0],x[1]>=l/2&&P++;do{if(d=0,(a=r(x,y,R,E))<0){if(b=y[0],R!=E&&(b=b*l+(y[1]||0)),(d=n(b/P))>1)for(d>=l&&(d=l-1),v=(m=e(x,d,l)).length,E=y.length;1==r(m,y,v,E);)d--,t(m,R<v?S:x,v,l),v=m.length,a=1;else 0==d&&(a=d=1),v=(m=x.slice()).length;if(v<E&&(m=[0].concat(m)),t(y,m,E,l),E=y.length,-1==a)for(;r(x,y,R,E)<1;)d++,t(y,R<E?S:x,E,l),E=y.length}else 0===a&&(d++,y=[0]);N[p++]=d,y[0]?y[E++]=L[A]||0:(y=[L[A]],E=1)}while((A++<_||null!=y[0])&&D--);w=null!=y[0],N[0]||N.splice(0,1)}if(l==o){for(p=1,D=N[0];D>=10;D/=10,p++);W(O,f+(O.e=p+g*s-1)+1,c,w)}else O.e=g,O.r=+w;return O}}(),_=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,R=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,D=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(e,r,n,i){var o,s=n?r:r.replace(D,"");if(S.test(s))e.s=isNaN(s)?null:s<0?-1:1,e.c=e.e=null;else{if(!n&&(s=s.replace(_,function(e,r,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,i&&i!=o?e:r}),i&&(o=i,s=s.replace(P,"$1").replace(R,"0.$1")),r!=s))return new j(s,o);if(j.DEBUG)throw Error(t+"Not a"+(i?" base "+i:"")+" number: "+r);e.c=e.e=e.s=null}},L.absoluteValue=L.abs=function(){var e=new j(this);return e.s<0&&(e.s=1),e},L.comparedTo=function(e,r){return p(this,new j(e,r))},L.decimalPlaces=L.dp=function(e,r){var n,t,i,o=this;if(null!=e)return w(e,0,l),null==r?r=U:w(r,0,8),W(new j(o),e+o.e+1,r);if(!(n=o.c))return null;if(t=((i=n.length-1)-h(this.e/s))*s,i=n[i])for(;i%10==0;i/=10,t--);return t<0&&(t=0),t},L.dividedBy=L.div=function(e,r){return y(this,new j(e,r),B,U)},L.dividedToIntegerBy=L.idiv=function(e,r){return y(this,new j(e,r),0,1)},L.exponentiatedBy=L.pow=function(e,i){var o,u,f,c,l,a,h,g=this;if((e=new j(e)).c&&!e.isInteger())throw Error(t+"Exponent not an integer: "+e);if(null!=i&&(i=new j(i)),c=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return h=new j(Math.pow(+g.valueOf(),c?2-m(e):+e)),i?h.mod(i):h;if(l=e.s<0,i){if(i.c?!i.c[0]:!i.s)return new j(NaN);(u=!l&&g.isInteger()&&i.isInteger())&&(g=g.mod(i))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||c&&g.c[1]>=24e7:g.c[0]<8e13||c&&g.c[0]<=9999975e7)))return f=g.s<0&&m(e)?-0:0,g.e>-1&&(f=1/f),new j(l?1/f:f);k&&(f=r(k/s+2))}for(c?(o=new j(.5),a=m(e)):a=e%2,l&&(e.s=1),h=new j(x);;){if(a){if(!(h=h.times(g)).c)break;f?h.c.length>f&&(h.c.length=f):u&&(h=h.mod(i))}if(c){if(W(e=e.times(o),e.e+1,1),!e.c[0])break;c=e.e>14,a=m(e)}else{if(!(e=n(e/2)))break;a=e%2}g=g.times(g),f?g.c&&g.c.length>f&&(g.c.length=f):u&&(g=g.mod(i))}return u?h:(l&&(h=x.div(h)),i?h.mod(i):f?W(h,k,U,void 0):h)},L.integerValue=function(e){var r=new j(this);return null==e?e=U:w(e,0,8),W(r,r.e+1,e)},L.isEqualTo=L.eq=function(e,r){return 0===p(this,new j(e,r))},L.isFinite=function(){return!!this.c},L.isGreaterThan=L.gt=function(e,r){return p(this,new j(e,r))>0},L.isGreaterThanOrEqualTo=L.gte=function(e,r){return 1===(r=p(this,new j(e,r)))||0===r},L.isInteger=function(){return!!this.c&&h(this.e/s)>this.c.length-2},L.isLessThan=L.lt=function(e,r){return p(this,new j(e,r))<0},L.isLessThanOrEqualTo=L.lte=function(e,r){return-1===(r=p(this,new j(e,r)))||0===r},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&0==this.c[0]},L.minus=function(e,r){var n,t,i,u,f=this,c=f.s;if(r=(e=new j(e,r)).s,!c||!r)return new j(NaN);if(c!=r)return e.s=-r,f.plus(e);var l=f.e/s,a=e.e/s,g=f.c,p=e.c;if(!l||!a){if(!g||!p)return g?(e.s=-r,e):new j(p?f:NaN);if(!g[0]||!p[0])return p[0]?(e.s=-r,e):new j(g[0]?f:3==U?-0:0)}if(l=h(l),a=h(a),g=g.slice(),c=l-a){for((u=c<0)?(c=-c,i=g):(a=l,i=p),i.reverse(),r=c;r--;i.push(0));i.reverse()}else for(t=(u=(c=g.length)<(r=p.length))?c:r,c=r=0;r<t;r++)if(g[r]!=p[r]){u=g[r]<p[r];break}if(u&&(i=g,g=p,p=i,e.s=-e.s),(r=(t=p.length)-(n=g.length))>0)for(;r--;g[n++]=0);for(r=o-1;t>c;){if(g[--t]<p[t]){for(n=t;n&&!g[--n];g[n]=r);--g[n],g[t]+=o}g[t]-=p[t]}for(;0==g[0];g.splice(0,1),--a);return g[0]?V(e,g,a):(e.s=3==U?-1:1,e.c=[e.e=0],e)},L.modulo=L.mod=function(e,r){var n,t,i=this;return e=new j(e,r),!i.c||!e.s||e.c&&!e.c[0]?new j(NaN):!e.c||i.c&&!i.c[0]?new j(i):(9==F?(t=e.s,e.s=1,n=y(i,e,0,3),e.s=t,n.s*=t):n=y(i,e,0,F),(e=i.minus(n.times(e))).c[0]||1!=F||(e.s=i.s),e)},L.multipliedBy=L.times=function(e,r){var n,t,i,u,f,l,a,g,p,w,d,m,v,O,N,y=this,E=y.c,b=(e=new j(e,r)).c;if(!(E&&b&&E[0]&&b[0]))return!y.s||!e.s||E&&!E[0]&&!b||b&&!b[0]&&!E?e.c=e.e=e.s=null:(e.s*=y.s,E&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(t=h(y.e/s)+h(e.e/s),e.s*=y.s,(a=E.length)<(w=b.length)&&(v=E,E=b,b=v,i=a,a=w,w=i),i=a+w,v=[];i--;v.push(0));for(O=o,N=c,i=w;--i>=0;){for(n=0,d=b[i]%N,m=b[i]/N|0,u=i+(f=a);u>i;)n=((g=d*(g=E[--f]%N)+(l=m*g+(p=E[f]/N|0)*d)%N*N+v[u]+n)/O|0)+(l/N|0)+m*p,v[u--]=g%O;v[u]=n}return n?++t:v.splice(0,1),V(e,v,t)},L.negated=function(){var e=new j(this);return e.s=-e.s||null,e},L.plus=function(e,r){var n,t=this,i=t.s;if(r=(e=new j(e,r)).s,!i||!r)return new j(NaN);if(i!=r)return e.s=-r,t.minus(e);var u=t.e/s,f=e.e/s,c=t.c,l=e.c;if(!u||!f){if(!c||!l)return new j(i/0);if(!c[0]||!l[0])return l[0]?e:new j(c[0]?t:0*i)}if(u=h(u),f=h(f),c=c.slice(),i=u-f){for(i>0?(f=u,n=l):(i=-i,n=c),n.reverse();i--;n.push(0));n.reverse()}for((i=c.length)-(r=l.length)<0&&(n=l,l=c,c=n,r=i),i=0;r;)i=(c[--r]=c[r]+l[r]+i)/o|0,c[r]=o===c[r]?0:c[r]%o;return i&&(c=[i].concat(c),++f),V(e,c,f)},L.precision=L.sd=function(e,r){var n,t,i,o=this;if(null!=e&&e!==!!e)return w(e,1,l),null==r?r=U:w(r,0,8),W(new j(o),e,r);if(!(n=o.c))return null;if(t=(i=n.length-1)*s+1,i=n[i]){for(;i%10==0;i/=10,t--);for(i=n[0];i>=10;i/=10,t++);}return e&&o.e+1>t&&(t=o.e+1),t},L.shiftedBy=function(e){return w(e,-u,u),this.times("1e"+e)},L.squareRoot=L.sqrt=function(){var e,r,n,t,i,o=this,s=o.c,u=o.s,f=o.e,c=B+4,l=new j("0.5");if(1!==u||!s||!s[0])return new j(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(u=Math.sqrt(+o))||u==1/0?(((r=g(s)).length+f)%2==0&&(r+="0"),u=Math.sqrt(r),f=h((f+1)/2)-(f<0||f%2),n=new j(r=u==1/0?"1e"+f:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+f)):n=new j(u+""),n.c[0])for((u=(f=n.e)+c)<3&&(u=0);;)if(i=n,n=l.times(i.plus(y(o,i,c,1))),g(i.c).slice(0,u)===(r=g(n.c)).slice(0,u)){if(n.e<f&&--u,"9999"!=(r=r.slice(u-3,u+1))&&(t||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(W(n,n.e+B+2,1),e=!n.times(n).eq(o));break}if(!t&&(W(i,i.e+B+2,0),i.times(i).eq(o))){n=i;break}c+=4,u+=4,t=1}return W(n,n.e+B+1,U,e)},L.toExponential=function(e,r){return null!=e&&(w(e,0,l),e++),z(this,e,r,1)},L.toFixed=function(e,r){return null!=e&&(w(e,0,l),e=e+this.e+1),z(this,e,r)},L.toFormat=function(e,r){var n=this.toFixed(e,r);if(this.c){var t,i=n.split("."),o=+q.groupSize,s=+q.secondaryGroupSize,u=q.groupSeparator,f=i[0],c=i[1],l=this.s<0,a=l?f.slice(1):f,h=a.length;if(s&&(t=o,o=s,s=t,h-=t),o>0&&h>0){for(t=h%o||o,f=a.substr(0,t);t<h;t+=o)f+=u+a.substr(t,o);s>0&&(f+=u+a.slice(t)),l&&(f="-"+f)}n=c?f+q.decimalSeparator+((s=+q.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+q.fractionGroupSeparator):c):f}return n},L.toFraction=function(e){var r,n,i,o,u,c,l,a,h,p,w,d,m=this,v=m.c;if(null!=e&&(!(a=new j(e)).isInteger()&&(a.c||1!==a.s)||a.lt(x)))throw Error(t+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+e);if(!v)return m.toString();for(n=new j(x),p=i=new j(x),o=h=new j(x),d=g(v),c=n.e=d.length-m.e-1,n.c[0]=f[(l=c%s)<0?s+l:l],e=!e||a.comparedTo(n)>0?c>0?n:p:a,l=M,M=1/0,a=new j(d),h.c[0]=0;w=y(a,n,0,1),1!=(u=i.plus(w.times(o))).comparedTo(e);)i=o,o=u,p=h.plus(w.times(u=p)),h=u,n=a.minus(w.times(u=n)),a=u;return u=y(e.minus(i),o,0,1),h=h.plus(u.times(p)),i=i.plus(u.times(o)),h.s=p.s=m.s,r=y(p,o,c*=2,U).minus(m).abs().comparedTo(y(h,i,c,U).minus(m).abs())<1?[p.toString(),o.toString()]:[h.toString(),i.toString()],M=l,r},L.toNumber=function(){return+this},L.toPrecision=function(e,r){return null!=e&&w(e,1,l),z(this,e,r,2)},L.toString=function(e){var r,n=this,t=n.s,i=n.e;return null===i?t?(r="Infinity",t<0&&(r="-"+r)):r="NaN":(r=g(n.c),null==e?r=i<=I||i>=T?v(r,i):O(r,i,"0"):(w(e,2,$.length,"Base"),r=E(O(r,i,"0"),10,e,t,!0)),t<0&&n.c[0]&&(r="-"+r)),r},L.valueOf=L.toJSON=function(){var e,r=this,n=r.e;return null===n?r.toString():(e=g(r.c),e=n<=I||n>=T?v(e,n):O(e,n,"0"),r.s<0?"-"+e:e)},L._isBigNumber=!0,null!=N&&j.set(N),j}function h(e){var r=0|e;return e>0||e===r?r:r-1}function g(e){for(var r,n,t=1,i=e.length,o=e[0]+"";t<i;){for(r=e[t++]+"",n=s-r.length;n--;r="0"+r);o+=r}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function p(e,r){var n,t,i=e.c,o=r.c,s=e.s,u=r.s,f=e.e,c=r.e;if(!s||!u)return null;if(n=i&&!i[0],t=o&&!o[0],n||t)return n?t?0:-u:s;if(s!=u)return s;if(n=s<0,t=f==c,!i||!o)return t?0:!i^n?1:-1;if(!t)return f>c^n?1:-1;for(u=(f=i.length)<(c=o.length)?f:c,s=0;s<u;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return f==c?0:f>c^n?1:-1}function w(e,i,o,s){if(e<i||e>o||e!==(e<0?r(e):n(e)))throw Error(t+(s||"Argument")+("number"==typeof e?e<i||e>o?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function d(e){return"[object Array]"==Object.prototype.toString.call(e)}function m(e){var r=e.c.length-1;return h(e.e/s)==r&&e.c[r]%2!=0}function v(e,r){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function O(e,r,n){var t,i;if(r<0){for(i=n+".";++r;i+=n);e=i+e}else if(++r>(t=e.length)){for(i=n,r-=t;--r;i+=n);e+=i}else r<t&&(e=e.slice(0,r)+"."+e.slice(r));return e}var N=a();exports.BigNumber=N;var y=N;exports.default=y;
},{}],"NbYb":[function(require,module,exports) {
var t=require("bignumber.js"),n=module.exports;!function(){"use strict";var e,r,f,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function i(t){return o.lastIndex=0,o.test(t)?'"'+t.replace(o,function(t){var n=u[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}"function"!=typeof n.stringify&&(n.stringify=function(n,o,u){var c;if(e="",r="","number"==typeof u)for(c=0;c<u;c+=1)r+=" ";else"string"==typeof u&&(r=u);if(f=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return function n(o,u){var c,s,l,a,p,y=e,g=u[o],b=null!=g&&(g instanceof t||t.isBigNumber(g));switch(g&&"object"==typeof g&&"function"==typeof g.toJSON&&(g=g.toJSON(o)),"function"==typeof f&&(g=f.call(u,o,g)),typeof g){case"string":return b?g:i(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(e+=r,p=[],"[object Array]"===Object.prototype.toString.apply(g)){for(a=g.length,c=0;c<a;c+=1)p[c]=n(c,g)||"null";return l=0===p.length?"[]":e?"[\n"+e+p.join(",\n"+e)+"\n"+y+"]":"["+p.join(",")+"]",e=y,l}if(f&&"object"==typeof f)for(a=f.length,c=0;c<a;c+=1)"string"==typeof f[c]&&(l=n(s=f[c],g))&&p.push(i(s)+(e?": ":":")+l);else Object.keys(g).forEach(function(t){var r=n(t,g);r&&p.push(i(t)+(e?": ":":")+r)});return l=0===p.length?"{}":e?"{\n"+e+p.join(",\n"+e)+"\n"+y+"}":"{"+p.join(",")+"}",e=y,l}}("",{"":n})})}();
},{"bignumber.js":"1CiG"}],"PPTl":[function(require,module,exports) {
var r=null,t=function(t){"use strict";var e={strict:!1,storeAsString:!1};null!=t&&(!0===t.strict&&(e.strict=!0),!0===t.storeAsString&&(e.storeAsString=!0));var n,i,f,u,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(r){throw{name:"SyntaxError",message:r,at:n,text:f}},c=function(r){return r&&r!==i&&a("Expected '"+r+"' instead of '"+i+"'"),i=f.charAt(n),n+=1,i},s=function(){var t,n="";for("-"===i&&(n="-",c("-"));i>="0"&&i<="9";)n+=i,c();if("."===i)for(n+=".";c()&&i>="0"&&i<="9";)n+=i;if("e"===i||"E"===i)for(n+=i,c(),"-"!==i&&"+"!==i||(n+=i,c());i>="0"&&i<="9";)n+=i,c();if(t=+n,isFinite(t))return null==r&&(r=require("bignumber.js")),n.length>15?!0===e.storeAsString?n:new r(n):t;a("Bad number")},l=function(){var r,t,e,n="";if('"'===i)for(;c();){if('"'===i)return c(),n;if("\\"===i)if(c(),"u"===i){for(e=0,t=0;t<4&&(r=parseInt(c(),16),isFinite(r));t+=1)e=16*e+r;n+=String.fromCharCode(e)}else{if("string"!=typeof o[i])break;n+=o[i]}else n+=i}a("Bad string")},d=function(){for(;i&&i<=" ";)c()};return u=function(){switch(d(),i){case"{":return function(){var r,t={};if("{"===i){if(c("{"),d(),"}"===i)return c("}"),t;for(;i;){if(r=l(),d(),c(":"),!0===e.strict&&Object.hasOwnProperty.call(t,r)&&a('Duplicate key "'+r+'"'),t[r]=u(),d(),"}"===i)return c("}"),t;c(","),d()}}a("Bad object")}();case"[":return function(){var r=[];if("["===i){if(c("["),d(),"]"===i)return c("]"),r;for(;i;){if(r.push(u()),d(),"]"===i)return c("]"),r;c(","),d()}}a("Bad array")}();case'"':return l();case"-":return s();default:return i>="0"&&i<="9"?s():function(){switch(i){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}a("Unexpected '"+i+"'")}()}},function(r,t){var e;return f=r+"",n=0,i=" ",e=u(),d(),i&&a("Syntax error"),"function"==typeof t?function r(e,n){var i,f=e[n];return f&&"object"==typeof f&&Object.keys(f).forEach(function(t){void 0!==(i=r(f,t))?f[t]=i:delete f[t]}),t.call(e,n,f)}({"":e},""):e}};module.exports=t;
},{"bignumber.js":"1CiG"}],"dudp":[function(require,module,exports) {
var r=require("./lib/stringify.js").stringify,e=require("./lib/parse.js");module.exports=function(i){return{parse:e(i),stringify:r}},module.exports.parse=e(),module.exports.stringify=r;
},{"./lib/stringify.js":"NbYb","./lib/parse.js":"PPTl"}],"AZt1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("gaxios"),t=require("json-bigint");function r(e){Object.keys(e).forEach(e=>{switch(e){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${e}' is not a valid configuration option.`)}})}async function s(s,o,a=3){"string"==typeof(o=o||{})&&(o={property:o});let n="";"object"==typeof o&&o.property&&(n="/"+o.property),r(o);try{const r=await e.request({url:`${exports.BASE_URL}/${s}${n}`,headers:Object.assign({},exports.HEADERS,o.headers),retryConfig:{noResponseRetries:a},params:o.params,responseType:"text"});if(r.headers[exports.HEADER_NAME.toLowerCase()]!==exports.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${exports.HEADER_NAME} header.`);if(!r.data)throw new Error("Invalid response from the metadata service");if("string"==typeof r.data)try{return t.parse(r.data)}catch(p){}return r.data}catch(i){throw i.response&&200!==i.response.status&&(i.message=`Unsuccessful response status code. ${i.message}`),i}}function o(e){return s("instance",e)}function a(e){return s("project",e)}async function n(){try{return await s("instance",void 0,0),!0}catch(e){if(e.code&&("ENOTFOUND"===e.code||"ENOENT"===e.code))return!1;throw e}}exports.HOST_ADDRESS="http://metadata.google.internal.",exports.BASE_PATH="/computeMetadata/v1",exports.BASE_URL=exports.HOST_ADDRESS+exports.BASE_PATH,exports.HEADER_NAME="Metadata-Flavor",exports.HEADER_VALUE="Google",exports.HEADERS=Object.freeze({[exports.HEADER_NAME]:exports.HEADER_VALUE}),exports.instance=o,exports.project=a,exports.isAvailable=n;
},{"gaxios":"5k16","json-bigint":"dudp"}],"5QAn":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"cVSD":[function(require,module,exports) {
!function(e){function t(e){if("utf-8"!==(e=void 0===e?"utf-8":e))throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+e+"') is invalid.")}function o(e,t){if(t=void 0===t?{fatal:!1}:t,"utf-8"!==(e=void 0===e?"utf-8":e))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(e.TextEncoder&&e.TextDecoder)return!1;Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var o=e.length,r=0,i=Math.max(32,o+(o>>1)+7),n=new Uint8Array(i>>3<<3);t<o;){var d=e.charCodeAt(t++);if(55296<=d&&56319>=d){if(t<o){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,d=((1023&d)<<10)+(1023&a)+65536)}if(55296<=d&&56319>=d)continue}if(r+4>n.length&&(i+=8,i=(i*=1+t/e.length*2)>>3<<3,(a=new Uint8Array(i)).set(n),n=a),0==(4294967168&d))n[r++]=d;else{if(0==(4294965248&d))n[r++]=d>>6&31|192;else if(0==(4294901760&d))n[r++]=d>>12&15|224,n[r++]=d>>6&63|128;else{if(0!=(4292870144&d))continue;n[r++]=d>>18&7|240,n[r++]=d>>12&63|128,n[r++]=d>>6&63|128}n[r++]=63&d|128}}return n.slice(0,r)},Object.defineProperty(o.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(o.prototype,"fatal",{value:!1}),Object.defineProperty(o.prototype,"ignoreBOM",{value:!1}),o.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");t=0;for(var o=(e=new Uint8Array(e)).length,r=[];t<o;){var i=e[t++];if(0===i)break;if(0==(128&i))r.push(i);else if(192==(224&i)){var n=63&e[t++];r.push((31&i)<<6|n)}else if(224==(240&i)){n=63&e[t++];var d=63&e[t++];r.push((31&i)<<12|n<<6|d)}else if(240==(248&i)){65535<(i=(7&i)<<18|(n=63&e[t++])<<12|(d=63&e[t++])<<6|63&e[t++])&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i)}}return String.fromCharCode.apply(null,r)},e.TextEncoder=t,e.TextDecoder=o}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
},{}],"EyAX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("base64-js");"undefined"==typeof process&&"undefined"==typeof TextEncoder&&require("fast-text-encoding");class t{constructor(){if("undefined"==typeof window||void 0===window.crypto||void 0===window.crypto.subtle)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(t){const r=(new TextEncoder).encode(t),n=await window.crypto.subtle.digest("SHA-256",r);return e.fromByteArray(new Uint8Array(n))}randomBytesBase64(t){const r=new Uint8Array(t);return window.crypto.getRandomValues(r),e.fromByteArray(r)}static padBase64(e){for(;e.length%4!=0;)e+="=";return e}async verify(r,n,o){const s={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=(new TextEncoder).encode(n),i=e.toByteArray(t.padBase64(o)),d=await window.crypto.subtle.importKey("jwk",r,s,!0,["verify"]);return await window.crypto.subtle.verify(s,d,i,a)}async sign(t,r){const n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=(new TextEncoder).encode(r),s=await window.crypto.subtle.importKey("jwk",t,n,!0,["sign"]),a=await window.crypto.subtle.sign(n,s,o);return e.fromByteArray(new Uint8Array(a))}decodeBase64StringUtf8(r){const n=e.toByteArray(t.padBase64(r));return(new TextDecoder).decode(n)}encodeBase64StringUtf8(t){const r=(new TextEncoder).encode(t);return e.fromByteArray(r)}}exports.BrowserCrypto=t;
},{"base64-js":"5QAn","fast-text-encoding":"cVSD"}],"DjXa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("crypto");class t{async sha256DigestBase64(t){return e.createHash("sha256").update(t).digest("base64")}randomBytesBase64(t){return e.randomBytes(t).toString("base64")}async verify(t,r,s){const a=e.createVerify("sha256");return a.update(r),a.end(),a.verify(t,s,"base64")}async sign(t,r){const s=e.createSign("RSA-SHA256");return s.update(r),s.end(),s.sign(t,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}}exports.NodeCrypto=t;
},{}],"RCiK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./browser/crypto"),r=require("./node/crypto");function o(){return t()?new e.BrowserCrypto:new r.NodeCrypto}function t(){return"undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle}exports.createCrypto=o,exports.hasBrowserCrypto=t;
},{"./browser/crypto":"EyAX","./node/crypto":"DjXa"}],"1+qZ":[function(require,module,exports) {
"use strict";var e;function o(e){e.warned||(e.warned=!0,"undefined"!=typeof process&&process.emitWarning?process.emitWarning(e.message,e):console.warn(e.message))}Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.WARNING="Warning",e.DEPRECATION="DeprecationWarning"}(e=exports.WarningTypes||(exports.WarningTypes={})),exports.warn=o,exports.PROBLEMATIC_CREDENTIALS_WARNING={code:"google-auth-library:00001",type:e.WARNING,message:["Your application has authenticated using end user credentials from Google","Cloud SDK. We recommend that most server applications use service accounts","instead. If your application continues to use end user credentials from",'Cloud SDK, you might receive a "quota exceeded" or "API not enabled" error.',"For more information about service accounts, see","https://cloud.google.com/docs/authentication/."].join(" ")},exports.DEFAULT_PROJECT_ID_DEPRECATED={code:"google-auth-library:DEP002",type:e.DEPRECATION,message:["The `getDefaultProjectId` method has been deprecated, and will be removed","in the 3.0 release of google-auth-library. Please use the `getProjectId`","method instead."].join(" ")},exports.COMPUTE_CREATE_SCOPED_DEPRECATED={code:"google-auth-library:DEP003",type:e.DEPRECATION,message:["The `createScopedRequired` method on the `Compute` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library."].join(" ")},exports.JWT_CREATE_SCOPED_DEPRECATED={code:"google-auth-library:DEP004",type:e.DEPRECATION,message:["The `createScopedRequired` method on the `JWT` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library."].join(" ")},exports.IAM_CREATE_SCOPED_DEPRECATED={code:"google-auth-library:DEP005",type:e.DEPRECATION,message:["The `createScopedRequired` method on the `IAM` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library."].join(" ")},exports.JWT_ACCESS_CREATE_SCOPED_DEPRECATED={code:"google-auth-library:DEP006",type:e.DEPRECATION,message:["The `createScopedRequired` method on the `JWTAccess` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library."].join(" ")},exports.REFRESH_ACCESS_TOKEN_DEPRECATED={code:"google-auth-library:DEP007",type:e.DEPRECATION,message:["The `refreshAccessToken` method has been deprecated, and will be removed","in the 3.0 release of google-auth-library. Please use the `getRequestHeaders`","method instead."].join(" ")},exports.OAUTH_GET_REQUEST_METADATA_DEPRECATED={code:"google-auth-library:DEP004",type:e.DEPRECATION,message:["The `getRequestMetadata` method on the `OAuth2` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library. Please use","the `getRequestHeaders` method instead."].join(" ")},exports.IAM_GET_REQUEST_METADATA_DEPRECATED={code:"google-auth-library:DEP005",type:e.DEPRECATION,message:["The `getRequestMetadata` method on the `IAM` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library. Please use","the `getRequestHeaders` method instead."].join(" ")},exports.JWT_ACCESS_GET_REQUEST_METADATA_DEPRECATED={code:"google-auth-library:DEP006",type:e.DEPRECATION,message:["The `getRequestMetadata` method on the `JWTAccess` class has been deprecated,","and will be removed in the 3.0 release of google-auth-library. Please use","the `getRequestHeaders` method instead."].join(" ")};
},{}],"z/Iy":[function(require,module,exports) {
"use strict";function e(e){const i=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const t of i)if(e[t.invalid]){const e=`'${t.invalid}' is not a valid configuration option. Please use '${t.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate=e;
},{}],"zoPz":[function(require,module,exports) {
module.exports={name:"google-auth-library",version:"5.2.0",author:"Google Inc.",description:"Google APIs Authentication Client Library for Node.js",engines:{node:">=8.10.0"},main:"./build/src/index.js",types:"./build/src/index.d.ts",repository:"googleapis/google-auth-library-nodejs.git",keywords:["google","api","google apis","client","client library"],dependencies:{arrify:"^2.0.0","base64-js":"^1.3.0","fast-text-encoding":"^1.0.0",gaxios:"^2.0.0","gcp-metadata":"^2.0.0",gtoken:"^4.0.0",jws:"^3.1.5","lru-cache":"^5.0.0"},devDependencies:{"@compodoc/compodoc":"^1.1.7","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/lru-cache":"^5.0.0","@types/mocha":"^5.2.1","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/nock":"^10.0.3","@types/node":"^10.5.1","@types/sinon":"^7.0.0","@types/tmp":"^0.1.0","assert-rejects":"^1.0.0",chai:"^4.2.0",codecov:"^3.0.2",eslint:"^6.0.0","eslint-config-prettier":"^6.0.0","eslint-plugin-node":"^9.0.0","eslint-plugin-prettier":"^3.0.0",execa:"^2.0.0",gts:"^1.0.0","is-docker":"^2.0.0","js-green-licenses":"^1.0.0",karma:"^4.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^1.1.2","karma-firefox-launcher":"^1.1.0","karma-mocha":"^1.3.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^4.0.0",keypair:"^1.0.1",linkinator:"^1.5.0",mocha:"^6.0.0",mv:"^2.1.1",ncp:"^2.0.0",nock:"^11.0.0-beta.30","null-loader":"^3.0.0",nyc:"^14.1.1",prettier:"^1.13.4",puppeteer:"^1.11.0",sinon:"^7.0.0","source-map-support":"^0.5.6",tmp:"^0.1.0","ts-loader":"^6.0.0",typescript:"~3.5.0",webpack:"^4.20.2","webpack-cli":"^3.1.1"},files:["build/src","!build/src/**/*.map"],scripts:{test:"nyc mocha build/test",clean:"gts clean",prepare:"npm run compile",lint:"gts check && eslint '**/*.js' && jsgl --local .",compile:"tsc -p .",fix:"gts fix && eslint --fix '**/*.js'",pretest:"npm run compile","license-check":"jsgl --local .",docs:"compodoc src/","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile",webpack:"webpack","browser-test":"karma start","docs-test":"linkinator docs","predocs-test":"npm run docs"},license:"Apache-2.0"};
},{}],"bORK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("gaxios"),r=require("./options"),s=require("../../package.json"),o="google-api-nodejs-client";class t{configure(e={}){if(e.headers=e.headers||{},"undefined"==typeof window){const r=e.headers["User-Agent"];r?r.includes(`${o}/`)||(e.headers["User-Agent"]=`${r} ${t.USER_AGENT}`):e.headers["User-Agent"]=t.USER_AGENT;const a=`auth/${s.version}`;if(e.headers["x-goog-api-client"])e.headers["x-goog-api-client"]=`${e.headers["x-goog-api-client"]} ${a}`;else{const r=process.version.replace(/^v/,"");e.headers["x-goog-api-client"]=`gl-node/${r} ${a}`}}return e}request(s,o){s=this.configure(s);try{r.validate(s)}catch(t){if(o)return o(t);throw t}if(!o)return e.request(s).catch(e=>{throw this.processError(e)});e.request(s).then(e=>{o(null,e)},e=>{o(this.processError(e))})}processError(e){const r=e.response,s=e,o=r?r.data:null;return r&&o&&o.error&&200!==r.status?"string"==typeof o.error?(s.message=o.error,s.code=r.status.toString()):Array.isArray(o.error.errors)?(s.message=o.error.errors.map(e=>e.message).join("\n"),s.code=o.error.code,s.errors=o.error.errors):(s.message=o.error.message,s.code=o.error.code||r.status):r&&r.status>=400&&(s.message=o,s.code=r.status.toString()),s}}t.USER_AGENT=`${o}/${s.version}`,exports.DefaultTransporter=t;
},{"gaxios":"5k16","./options":"z/Iy","../../package.json":"zoPz"}],"LgbH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("events"),t=require("../transporters");class r extends e.EventEmitter{constructor(){super(...arguments),this.transporter=new t.DefaultTransporter,this.credentials={}}setCredentials(e){this.credentials=e}}exports.AuthClient=r;
},{"../transporters":"bORK"}],"ss+i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e,t){this.envelope=e,this.payload=t}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}exports.LoginTicket=e;
},{}],"4uul":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("querystring"),t=require("stream"),r=require("../crypto/crypto"),s=require("../messages"),i=require("./authclient"),n=require("./loginticket");var o,a;!function(e){e.Plain="plain",e.S256="S256"}(o=exports.CodeChallengeMethod||(exports.CodeChallengeMethod={})),function(e){e.PEM="PEM",e.JWK="JWK"}(a=exports.CertificateFormat||(exports.CertificateFormat={}));class c extends i.AuthClient{constructor(e,t,r){super(),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=a.PEM,this.refreshTokenPromises=new Map;const s=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,redirectUri:r};this._clientId=s.clientId,this._clientSecret=s.clientSecret,this.redirectUri=s.redirectUri,this.eagerRefreshThresholdMillis=s.eagerRefreshThresholdMillis||3e5}generateAuthUrl(t={}){if(t.code_challenge_method&&!t.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return t.response_type=t.response_type||"code",t.client_id=t.client_id||this._clientId,t.redirect_uri=t.redirect_uri||this.redirectUri,t.scope instanceof Array&&(t.scope=t.scope.join(" ")),c.GOOGLE_OAUTH2_AUTH_BASE_URL_+"?"+e.stringify(t)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const e=r.createCrypto(),t=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-");return{codeVerifier:t,codeChallenge:(await e.sha256DigestBase64(t)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")}}getToken(e,t){const r="string"==typeof e?{code:e}:e;if(!t)return this.getTokenAsync(r);this.getTokenAsync(r).then(e=>t(null,e.tokens,e.res),e=>t(e,null,e.response))}async getTokenAsync(t){const r=c.GOOGLE_OAUTH2_TOKEN_URL_,s={code:t.code,client_id:t.client_id||this._clientId,client_secret:this._clientSecret,redirect_uri:t.redirect_uri||this.redirectUri,grant_type:"authorization_code",code_verifier:t.codeVerifier},i=await this.transporter.request({method:"POST",url:r,data:e.stringify(s),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),n=i.data;return i.data&&i.data.expires_in&&(n.expiry_date=(new Date).getTime()+1e3*i.data.expires_in,delete n.expires_in),this.emit("tokens",n),{tokens:n,res:i}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);const t=this.refreshTokenNoCache(e).then(t=>(this.refreshTokenPromises.delete(e),t),t=>{throw this.refreshTokenPromises.delete(e),t});return this.refreshTokenPromises.set(e,t),t}async refreshTokenNoCache(t){if(!t)throw new Error("No refresh token is set.");const r=c.GOOGLE_OAUTH2_TOKEN_URL_,s={refresh_token:t,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"},i=await this.transporter.request({method:"POST",url:r,data:e.stringify(s),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),n=i.data;return i.data&&i.data.expires_in&&(n.expiry_date=(new Date).getTime()+1e3*i.data.expires_in,delete n.expires_in),this.emit("tokens",n),{tokens:n,res:i}}refreshAccessToken(e){if(s.warn(s.REFRESH_ACCESS_TOKEN_DEPRECATED),!e)return this.refreshAccessTokenAsync();this.refreshAccessTokenAsync().then(t=>e(null,t.credentials,t.res),e)}async refreshAccessTokenAsync(){const e=await this.refreshToken(this.credentials.refresh_token),t=e.tokens;return t.refresh_token=this.credentials.refresh_token,this.credentials=t,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(!e)return this.getAccessTokenAsync();this.getAccessTokenAsync().then(t=>e(null,t.token,t.res),e)}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)throw new Error("No refresh token is set.");const e=await this.refreshAccessTokenAsync();if(!e.credentials||e.credentials&&!e.credentials.access_token)throw new Error("Could not refresh access token.");return{token:e.credentials.access_token,res:e.res}}return{token:this.credentials.access_token}}getRequestMetadata(e,t){if(s.warn(s.OAUTH_GET_REQUEST_METADATA_DEPRECATED),!t)return this.getRequestMetadataAsync();this.getRequestMetadataAsync(e).then(e=>t(null,e.headers,e.res),t)}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){const t=this.credentials;if(!t.access_token&&!t.refresh_token&&!this.apiKey)throw new Error("No access, refresh token or API key is set.");if(t.access_token&&!this.isTokenExpiring()){return t.token_type=t.token_type||"Bearer",{headers:{Authorization:t.token_type+" "+t.access_token}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let r=null,s=null;try{s=(r=await this.refreshToken(t.refresh_token)).tokens}catch(n){const e=n;throw!e.response||403!==e.response.status&&404!==e.response.status||(e.message=`Could not refresh access token: ${e.message}`),e}const i=this.credentials;return i.token_type=i.token_type||"Bearer",s.refresh_token=i.refresh_token,this.credentials=s,{headers:{Authorization:i.token_type+" "+s.access_token},res:r.res}}static getRevokeTokenUrl(t){const r=e.stringify({token:t});return`${c.GOOGLE_OAUTH2_REVOKE_URL_}?${r}`}revokeToken(e,t){const r={url:c.getRevokeTokenUrl(e),method:"POST"};if(!t)return this.transporter.request(r);this.transporter.request(r).then(e=>t(null,e),t)}revokeCredentials(e){if(!e)return this.revokeCredentialsAsync();this.revokeCredentialsAsync().then(t=>e(null,t),e)}async revokeCredentialsAsync(){const e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw new Error("No access token to revoke.")}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,r=!1){let s;try{const n=await this.getRequestMetadataAsync(e.url);n.headers&&n.headers.Authorization&&(e.headers=e.headers||{},e.headers.Authorization=n.headers.Authorization),this.apiKey&&(e.headers=e.headers||{},e.headers["X-Goog-Api-Key"]=this.apiKey),s=await this.transporter.request(e)}catch(i){const s=i.response;if(s){const i=s.status,n=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&!this.credentials.expiry_date,o=s.config.data instanceof t.Readable,a=401===i||403===i;if(!r&&a&&!o&&n)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0)}throw i}return s}verifyIdToken(e,t){if(t&&"function"!=typeof t)throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(!t)return this.verifyIdTokenAsync(e);this.verifyIdTokenAsync(e).then(e=>t(null,e),t)}async verifyIdTokenAsync(e){if(!e.idToken)throw new Error("The verifyIdToken method requires an ID Token");const t=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,t.certs,e.audience,c.ISSUERS_,e.maxExpiry)}async getTokenInfo(e){const{data:t}=await this.transporter.request({method:"GET",url:c.GOOGLE_TOKEN_INFO_URL,params:{access_token:e}}),r=Object.assign({expiry_date:(new Date).getTime()+1e3*t.expires_in,scopes:t.scope.split(" ")},t);return delete r.expires_in,delete r.scope,r}getFederatedSignonCerts(e){if(!e)return this.getFederatedSignonCertsAsync();this.getFederatedSignonCertsAsync().then(t=>e(null,t.certs,t.res),e)}async getFederatedSignonCertsAsync(){const e=(new Date).getTime(),t=r.hasBrowserCrypto()?a.JWK:a.PEM;if(this.certificateExpiry&&e<this.certificateExpiry.getTime()&&this.certificateCacheFormat===t)return{certs:this.certificateCache,format:t};let s,i;switch(t){case a.PEM:i=c.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_;break;case a.JWK:i=c.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_;break;default:throw new Error(`Unsupported certificate format ${t}`)}try{s=await this.transporter.request({url:i})}catch(l){throw l.message=`Failed to retrieve verification certificates: ${l.message}`,l}const n=s?s.headers["cache-control"]:void 0;let o=-1;if(n){const e=new RegExp("max-age=([0-9]*)").exec(n);e&&2===e.length&&(o=1e3*Number(e[1]))}let h={};switch(t){case a.PEM:h=s.data;break;case a.JWK:for(const e of s.data.keys)h[e.kid]=e;break;default:throw new Error(`Unsupported certificate format ${t}`)}const d=new Date;return this.certificateExpiry=-1===o?null:new Date(d.getTime()+o),this.certificateCache=h,this.certificateCacheFormat=t,{certs:h,format:t,res:s}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,t,s,i,o){const a=r.createCrypto();o||(o=c.MAX_TOKEN_LIFETIME_SECS_);const h=e.split(".");if(3!==h.length)throw new Error("Wrong number of segments in token: "+e);const d=h[0]+"."+h[1],l=h[2];let _,f;try{_=JSON.parse(a.decodeBase64StringUtf8(h[0]))}catch(w){throw w.message=`Can't parse token envelope: ${h[0]}': ${w.message}`,w}if(!_)throw new Error("Can't parse token envelope: "+h[0]);try{f=JSON.parse(a.decodeBase64StringUtf8(h[1]))}catch(w){throw w.message=`Can't parse token payload '${h[0]}`,w}if(!f)throw new Error("Can't parse token payload: "+h[1]);if(!t.hasOwnProperty(_.kid))throw new Error("No pem found for envelope: "+JSON.stringify(_));const u=t[_.kid];if(!(await a.verify(u,d,l)))throw new Error("Invalid token signature: "+e);if(!f.iat)throw new Error("No issue time in token: "+JSON.stringify(f));if(!f.exp)throw new Error("No expiration time in token: "+JSON.stringify(f));const p=Number(f.iat);if(isNaN(p))throw new Error("iat field using invalid format");const y=Number(f.exp);if(isNaN(y))throw new Error("exp field using invalid format");const g=(new Date).getTime()/1e3;if(y>=g+o)throw new Error("Expiration time too far in future: "+JSON.stringify(f));const k=p-c.CLOCK_SKEW_SECS_,E=y+c.CLOCK_SKEW_SECS_;if(g<k)throw new Error("Token used too early, "+g+" < "+k+": "+JSON.stringify(f));if(g>E)throw new Error("Token used too late, "+g+" > "+E+": "+JSON.stringify(f));if(i&&i.indexOf(f.iss)<0)throw new Error("Invalid issuer, expected one of ["+i+"], but got "+f.iss);if(null!=s){const e=f.aud;let t=!1;if(!(t=s.constructor===Array?s.indexOf(e)>-1:e===s))throw new Error("Wrong recipient, payload audience != requiredAudience")}return new n.LoginTicket(_,f)}isTokenExpiring(){const e=this.credentials.expiry_date;return!!e&&e<=(new Date).getTime()+this.eagerRefreshThresholdMillis}}c.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",c.GOOGLE_OAUTH2_AUTH_BASE_URL_="https://accounts.google.com/o/oauth2/v2/auth",c.GOOGLE_OAUTH2_TOKEN_URL_="https://oauth2.googleapis.com/token",c.GOOGLE_OAUTH2_REVOKE_URL_="https://oauth2.googleapis.com/revoke",c.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_="https://www.googleapis.com/oauth2/v1/certs",c.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_="https://www.googleapis.com/oauth2/v3/certs",c.CLOCK_SKEW_SECS_=300,c.MAX_TOKEN_LIFETIME_SECS_=86400,c.ISSUERS_=["accounts.google.com","https://accounts.google.com"],exports.OAuth2Client=c;
},{"../crypto/crypto":"RCiK","../messages":"1+qZ","./authclient":"LgbH","./loginticket":"ss+i"}],"Xrxy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("arrify"),s=require("gcp-metadata"),t=require("../messages"),r=require("./oauth2client");class i extends r.OAuth2Client{constructor(s={}){super(s),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=s.serviceAccountEmail||"default",this.scopes=e(s.scopes)}createScopedRequired(){return t.warn(t.COMPUTE_CREATE_SCOPED_DEPRECATED),!1}async refreshTokenNoCache(e){const t=`service-accounts/${this.serviceAccountEmail}/token`;let r;try{const e={property:t};this.scopes.length>0&&(e.params={scopes:this.scopes.join(",")}),r=await s.instance(e)}catch(n){throw n.message=`Could not refresh access token: ${n.message}`,this.wrapError(n),n}const i=r;return r&&r.expires_in&&(i.expiry_date=(new Date).getTime()+1e3*r.expires_in,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:null}}wrapError(e){const s=e.response;s&&s.status&&(e.code=s.status.toString(),403===s.status?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:404===s.status&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}exports.Compute=i;
},{"arrify":"Wcc5","gcp-metadata":"AZt1","../messages":"1+qZ","./oauth2client":"4uul"}],"fvOM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const E=require("gcp-metadata");var N;let e;function t(){e=void 0}async function n(){return e||(e=r()?N.APP_ENGINE:s()?N.CLOUD_FUNCTIONS:await c()?N.KUBERNETES_ENGINE:await a()?N.COMPUTE_ENGINE:N.NONE),e}function r(){return!(!process.env.GAE_SERVICE&&!process.env.GAE_MODULE_NAME)}function s(){return!(!process.env.FUNCTION_NAME&&!process.env.FUNCTION_TARGET)}async function c(){try{return await E.instance("attributes/cluster-name"),!0}catch(N){return!1}}async function a(){return E.isAvailable()}!function(E){E.APP_ENGINE="APP_ENGINE",E.KUBERNETES_ENGINE="KUBERNETES_ENGINE",E.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",E.COMPUTE_ENGINE="COMPUTE_ENGINE",E.NONE="NONE"}(N=exports.GCPEnv||(exports.GCPEnv={})),exports.clear=t,exports.getEnv=n;
},{"gcp-metadata":"AZt1"}],"oawC":[function(require,module,exports) {
"use strict";function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(var t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(t,e){for(var s in t){var n=t[s].map(function(t){return t.toLowerCase()});s=s.toLowerCase();for(var i=0;i<n.length;i++){if("*"!=(o=n[i])[0]){if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+s+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+s+'".');this._types[o]=s}}if(e||!this._extensions[s]){var o=n[0];this._extensions[s]="*"!=o[0]?o:o.substr(1)}}},t.prototype.getType=function(t){var e=(t=String(t)).replace(/^.*[\/\\]/,"").toLowerCase(),s=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(s.length<e.length-1||!n)&&this._types[s]||null},t.prototype.getExtension=function(t){return(t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1)&&this._extensions[t.toLowerCase()]||null},module.exports=t;
},{}],"7U/t":[function(require,module,exports) {
module.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};
},{}],"tA7j":[function(require,module,exports) {
module.exports={"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["keynote"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};
},{}],"bwt/":[function(require,module,exports) {
"use strict";var e=require("./Mime");module.exports=new e(require("./types/standard"),require("./types/other"));
},{"./Mime":"oawC","./types/standard":"7U/t","./types/other":"tA7j"}],"gkgk":[function(require,module,exports) {
var t=require("./forge"),e=require("./baseN"),r=module.exports=t.util=t.util||{};function n(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function i(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(r.isArrayBuffer(t)||r.isArrayBufferView(t))if("undefined"!=typeof Buffer&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(a){for(var n=0;n<e.length;++n)this.putByte(e[n])}}else(t instanceof i||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)return r.nextTick=process.nextTick,void("function"==typeof setImmediate?r.setImmediate=setImmediate:r.setImmediate=r.nextTick);if("function"==typeof setImmediate)return r.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(r.nextTick=function(t){return setImmediate(t)});if(r.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",e=[];r.setImmediate=function(r){e.push(r),1===e.length&&window.postMessage(t,"*")},window.addEventListener("message",function(r){if(r.source===window&&r.data===t){r.stopPropagation();var n=e.slice();e.length=0,n.forEach(function(t){t()})}},!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,a=document.createElement("div");e=[];new MutationObserver(function(){var t=e.slice();e.length=0,t.forEach(function(t){t()})}).observe(a,{attributes:!0});var o=r.setImmediate;r.setImmediate=function(t){Date.now()-n>15?(n=Date.now(),o(t)):(e.push(t),1===e.length&&a.setAttribute("a",i=!i))}}r.nextTick=r.setImmediate}(),r.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,r.globalScope=r.isNodejs?global:"undefined"==typeof self?window:self,r.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},r.isArrayBufferView=function(t){return t&&r.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},r.ByteBuffer=i,r.ByteStringBuffer=i;var a=4096;function o(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var n=r.isArrayBuffer(t),i=r.isArrayBufferView(t);if(n||i)return this.data=n?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}r.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>a&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},r.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},r.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},r.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(r.encodeUtf8(t))},r.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},r.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},r.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},r.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},r.ByteStringBuffer.prototype.putInt=function(t,e){n(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},r.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},r.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},r.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},r.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},r.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},r.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},r.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},r.ByteStringBuffer.prototype.getInt=function(t){n(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},r.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},r.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},r.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},r.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},r.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var t=r.createBuffer(this.data);return t.read=this.read,t},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())},r.DataBuffer=o,r.DataBuffer.prototype.length=function(){return this.write-this.read},r.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},r.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},r.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},r.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},r.DataBuffer.prototype.putBytes=function(t,e){if(r.isArrayBufferView(t)){var n=(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-i.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(i),this.write+=n,this}if(r.isArrayBuffer(t)){var i=new Uint8Array(t);return this.accommodate(i.byteLength),new Uint8Array(this.data.buffer).set(i,this.write),this.write+=i.byteLength,this}if(t instanceof r.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&r.isArrayBufferView(t.data)){i=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(i.byteLength),new Uint8Array(t.data.byteLength,this.write).set(i),this.write+=i.byteLength,this}if(t instanceof r.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var a;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(t,a,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),a=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(t,a,this.write),this;if("utf8"===e&&(t=r.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(a),this;if("utf16"===e)return this.accommodate(2*t.length),a=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},r.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},r.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},r.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},r.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},r.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},r.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},r.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},r.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},r.DataBuffer.prototype.putInt=function(t,e){n(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},r.DataBuffer.prototype.putSignedInt=function(t,e){return n(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},r.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},r.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},r.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},r.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},r.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},r.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},r.DataBuffer.prototype.getInt=function(t){n(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},r.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},r.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},r.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},r.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},r.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)},r.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},r.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},r.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},r.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},r.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return r.binary.raw.encode(e);if("hex"===t)return r.binary.hex.encode(e);if("base64"===t)return r.binary.base64.encode(e);if("utf8"===t)return r.text.utf8.decode(e);if("utf16"===t)return r.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},r.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=r.encodeUtf8(t)),new r.ByteBuffer(t)},r.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},r.xorBytes=function(t,e,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+=a},r.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},r.bytesToHex=function(t){return r.createBuffer(t).toHex()},r.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";r.encode64=function(t,e){for(var r,n,i,a="",o="",f=0;f<t.length;)r=t.charCodeAt(f++),n=t.charCodeAt(f++),i=t.charCodeAt(f++),a+=s.charAt(r>>2),a+=s.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=s.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":s.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+=a},r.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,a="",o=0;o<t.length;)e=f[t.charCodeAt(o++)-43],r=f[t.charCodeAt(o++)-43],n=f[t.charCodeAt(o++)-43],i=f[t.charCodeAt(o++)-43],a+=String.fromCharCode(e<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},r.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},r.decodeUtf8=function(t){return decodeURIComponent(escape(t))},r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},r.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},r.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n},r.binary.hex.encode=r.bytesToHex,r.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,a=r=r||0;for(1&t.length&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n},r.binary.base64.encode=function(t,e){for(var r,n,i,a="",o="",f=0;f<t.byteLength;)r=t[f++],n=t[f++],i=t[f++],a+=s.charAt(r>>2),a+=s.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=s.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":s.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+=a},r.binary.base64.decode=function(t,e,r){var n,i,a,o,s=e;s||(s=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,h=r=r||0;u<t.length;)n=f[t.charCodeAt(u++)-43],i=f[t.charCodeAt(u++)-43],a=f[t.charCodeAt(u++)-43],o=f[t.charCodeAt(u++)-43],s[h++]=n<<2|i>>4,64!==a&&(s[h++]=(15&i)<<4|a>>2,64!==o&&(s[h++]=(3&a)<<6|o));return e?h-r:s.subarray(0,h)},r.binary.base58.encode=function(t,e){return r.binary.baseN.encode(t,u,e)},r.binary.base58.decode=function(t,e){return r.binary.baseN.decode(t,u,e)},r.text={utf8:{},utf16:{}},r.text.utf8.encode=function(t,e,n){t=r.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length));for(var a=n=n||0,o=0;o<t.length;++o)i[a++]=t.charCodeAt(o);return e?a-n:i},r.text.utf8.decode=function(t){return r.decodeUtf8(String.fromCharCode.apply(null,t))},r.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),a=r=r||0,o=r,s=0;s<t.length;++s)i[o++]=t.charCodeAt(s),a+=2;return e?a-r:n},r.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},r.deflate=function(t,e,n){if(e=r.decode64(t.deflate(r.encode64(e)).rval),n){var i=2;32&e.charCodeAt(1)&&(i=6),e=e.substring(i,e.length-4)}return e},r.inflate=function(t,e,n){var i=t.inflate(r.encode64(e)).rval;return null===i?null:r.decode64(i)};var h=function(t,e,n){if(!t)throw new Error("WebStorage not available.");var i;if(null===n?i=t.removeItem(e):(n=r.encode64(JSON.stringify(n)),i=t.setItem(e,n)),void 0!==i&&!0!==i.rval){var a=new Error(i.error.message);throw a.id=i.error.id,a.name=i.error.name,a}},d=function(t,e){if(!t)throw new Error("WebStorage not available.");var n=t.getItem(e);if(t.init)if(null===n.rval){if(n.error){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(r.decode64(n))),n},c=function(t,e,r,n){var i=d(t,e);null===i&&(i={}),i[r]=n,h(t,e,i)},p=function(t,e,r){var n=d(t,e);return null!==n&&(n=r in n?n[r]:null),n},y=function(t,e,r){var n=d(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),h(t,e,n)}},l=function(t,e){h(t,e,null)},g=function(t,e,r){var n,i=null;void 0===r&&(r=["web","flash"]);var a=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),a="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),a=!0)}catch(f){o=f}if(a)break}if(!a)throw o;return i};r.setItem=function(t,e,r,n,i){g(c,arguments,i)},r.getItem=function(t,e,r,n){return g(p,arguments,n)},r.removeItem=function(t,e,r,n){g(y,arguments,n)},r.clearItems=function(t,e,r){g(l,arguments,r)},r.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var B=null;r.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in e||(e[i]=[]),i in Object.prototype||null===a||e[i].push(unescape(a))}return e};return void 0===t?(null===B&&(B="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=B):e=r(t),e},r.parseFragment=function(t){var e=t,n="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),n=t.substring(i+1));var a=e.split("/");return a.length>0&&""===a[0]&&a.shift(),{pathString:e,queryString:n,path:a,query:""===n?{}:r.getQueryVariables(n)}},r.makeRequest=function(t){var e=r.parseFragment(t),n={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var r=n.getQuery(t);return r?r[r.length-1]:e}};return n},r.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},r.setPath=function(t,e,r){if("object"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var a=e[n++];if(n==i)t[a]=r;else{var o=a in t;(!o||o&&"object"!=typeof t[a]||o&&null===t[a])&&(t[a]={}),t=t[a]}}},r.getPath=function(t,e,r){for(var n=0,i=e.length,a=!0;a&&n<i&&"object"==typeof t&&null!==t;){var o=e[n++];(a=o in t)&&(t=t[o])}return a?t:r},r.deletePath=function(t,e){if("object"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||"object"!=typeof t[i]||null===t[i])break;t=t[i]}}},r.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},r.format=function(t){for(var e,r,n=/%./g,i=0,a=[],o=0;e=n.exec(t);){(r=t.substring(o,n.lastIndex-2)).length>0&&a.push(r),o=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[1+i++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(t.substring(o)),a.join("")},r.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,o=void 0===r?",":r,s=void 0===n?".":n,f=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",h=u.length>3?u.length%3:0;return f+(h?u.substr(0,h)+s:"")+u.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-u).toFixed(a).slice(2):"")},r.formatSize=function(t){return t=t>=1073741824?r.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?r.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?r.formatNumber(t/1024,0)+" KiB":r.formatNumber(t,0)+" bytes"},r.bytesFromIP=function(t){return-1!==t.indexOf(".")?r.bytesFromIPv4(t):-1!==t.indexOf(":")?r.bytesFromIPv6(t):null},r.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=r.createBuffer(),n=0;n<t.length;++n){var i=parseInt(t[n],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()},r.bytesFromIPv6=function(t){for(var e=0,n=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++e,!0})).length+e),i=r.createBuffer(),a=0;a<8;++a)if(t[a]&&0!==t[a].length){var o=r.hexToBytes(t[a]);o.length<2&&i.putByte(0),i.putBytes(o)}else i.fillWithByte(0,n),n=0;return i.getBytes()},r.bytesToIP=function(t){return 4===t.length?r.bytesToIPv4(t):16===t.length?r.bytesToIPv6(t):null},r.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},r.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],n=[],i=0,a=0;a<t.length;a+=2){for(var o=r.bytesToHex(t[a]+t[a+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=n[n.length-1],f=e.length;s&&f===s.end+1?(s.end=f,s.end-s.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:f,end:f})}e.push(o)}if(n.length>0){var u=n[i];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),0===u.start&&e.unshift(""),7===u.end&&e.push(""))}return e.join(":")},r.estimateCores=function(t,e){if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in r&&!t.update)return e(null,r.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return r.cores=navigator.hardwareConcurrency,e(null,r.cores);if("undefined"==typeof Worker)return r.cores=1,e(null,r.cores);if("undefined"==typeof Blob)return r.cores=2,e(null,r.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function t(i,a,o){if(0===a){var s=Math.floor(i.reduce(function(t,e){return t+e},0)/i.length);return r.cores=Math.max(1,s),URL.revokeObjectURL(n),e(null,r.cores)}!function(t,e){for(var r=[],i=[],a=0;a<t;++a){var o=new Worker(n);o.addEventListener("message",function(n){if(i.push(n.data),i.length===t){for(var a=0;a<t;++a)r[a].terminate();e(null,i)}}),r.push(o)}for(var a=0;a<t;++a)r[a].postMessage(a)}(o,function(e,r){i.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],a=r[n]=[],o=0;o<t;++o)if(n!==o){var s=e[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(o,r)),t(i,a-1,o)})}([],5,16)};
},{"./forge":"jo0T","./baseN":"Dl1Y"}],"N+oN":[function(require,module,exports) {
var t=require("./forge");require("./util"),module.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(i,e){var r=i;if("string"==typeof r&&(r=t.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},t.cipher.createDecipher=function(i,e){var r=i;if("string"==typeof r&&(r=t.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},t.cipher.registerAlgorithm=function(i,e){i=i.toUpperCase(),t.cipher.algorithms[i]=e},t.cipher.getAlgorithm=function(i){return(i=i.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[i]:null};var i=t.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(i){i=i||{};var e={};for(var r in i)e[r]=i[r];e.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=i.output||t.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(i){return t(this.blockSize,i,!1)},this.mode.unpad=function(i){return t(this.blockSize,i,!0)});var i={};return i.decrypt=this._decrypt,i.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,i))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,i))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,i)))};
},{"./forge":"jo0T","./util":"gkgk"}],"SVKT":[function(require,module,exports) {
var t=require("./forge");require("./util"),t.cipher=t.cipher||{};var i=module.exports=t.cipher.modes=t.cipher.modes||{};function s(i){if("string"==typeof i&&(i=t.util.createBuffer(i)),t.util.isArray(i)&&i.length>4){var s=i;i=t.util.createBuffer();for(var e=0;e<s.length;++e)i.putByte(s[e])}return t.util.isArray(i)||(i=[i.getInt32(),i.getInt32(),i.getInt32(),i.getInt32()]),i}function e(t){t[t.length-1]=t[t.length-1]+1&4294967295}function h(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e])},i.ecb.prototype.decrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e])},i.ecb.prototype.pad=function(t,i){var s=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(s,s),!0},i.ecb.prototype.unpad=function(t,i){if(i.overflow>0)return!1;var s=t.length(),e=t.at(s-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,i){var s=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(s,s),!0},i.cbc.prototype.unpad=function(t,i){if(i.overflow>0)return!1;var s=t.length(),e=t.at(s-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},i.cfb=function(i){i=i||{},this.name="CFB",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,i,s){var e=t.length();if(0===e)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)this._inBlock[h]=t.getInt32()^this._outBlock[h],i.putInt32(this._inBlock[h]);else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialBlock[h]=t.getInt32()^this._outBlock[h],this._partialOutput.putInt32(this._partialBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,i,s){var e=t.length();if(0===e)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)this._inBlock[h]=t.getInt32(),i.putInt32(this._inBlock[h]^this._outBlock[h]);else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialBlock[h]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[h]^this._outBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.ofb=function(i){i=i||{},this.name="OFB",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,i,s){var e=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)i.putInt32(t.getInt32()^this._outBlock[h]),this._inBlock[h]=this._outBlock[h];else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialOutput.putInt32(t.getInt32()^this._outBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._outBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(i){i=i||{},this.name="CTR",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,i,s){var h=t.length();if(0===h)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&h>=this.blockSize)for(var r=0;r<this._ints;++r)i.putInt32(t.getInt32()^this._outBlock[r]);else{var o=(this.blockSize-h)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(t.getInt32()^this._outBlock[r]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!s)return i.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;i.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}e(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(i){i=i||{},this.name="GCM",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(i){if(!("iv"in i))throw new Error("Invalid IV parameter.");var s,r=t.util.createBuffer(i.iv);if(this._cipherLength=0,s="additionalData"in i?t.util.createBuffer(i.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in i?i.tagLength:128,this._tag=null,i.decrypt&&(this._tag=t.util.createBuffer(i.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(h(8*o)))}this._inBlock=this._j0.slice(0),e(this._inBlock),this._partialBytes=0,s=t.util.createBuffer(s),this._aDataLength=h(8*s.length());var a=s.length()%this.blockSize;for(a&&s.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];s.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[s.getInt32(),s.getInt32(),s.getInt32(),s.getInt32()])},i.gcm.prototype.encrypt=function(t,i,s){var h=t.length();if(0===h)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&h>=this.blockSize){for(var r=0;r<this._ints;++r)i.putInt32(this._outBlock[r]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-h)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(t.getInt32()^this._outBlock[r]);if(o<=0||s){if(s){var a=h%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(r=0;r<this._ints;++r)this._outBlock[r]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!s)return t.read-=this.blockSize,i.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;i.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),e(this._inBlock)},i.gcm.prototype.decrypt=function(t,i,s){var h=t.length();if(h<this.blockSize&&!(s&&h>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),e(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var r=0;r<this._ints;++r)i.putInt32(this._outBlock[r]^this._hashBlock[r]);h<this.blockSize?this._cipherLength+=h%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(i,s){var e=!0;s.decrypt&&s.overflow&&i.truncate(this.blockSize-s.overflow),this.tag=t.util.createBuffer();var r=this._aDataLength.concat(h(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,r);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),s.decrypt&&this.tag.bytes()!==this._tag&&(e=!1),e},i.gcm.prototype.multiply=function(t,i){for(var s=[0,0,0,0],e=i.slice(0),h=0;h<128;++h){t[h/32|0]&1<<31-h%32&&(s[0]^=e[0],s[1]^=e[1],s[2]^=e[2],s[3]^=e[3]),this.pow(e,e)}return s},i.gcm.prototype.pow=function(t,i){for(var s=1&t[3],e=3;e>0;--e)i[e]=t[e]>>>1|(1&t[e-1])<<31;i[0]=t[0]>>>1,s&&(i[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var i=[0,0,0,0],s=0;s<32;++s){var e=t[s/8|0]>>>4*(7-s%8)&15,h=this._m[s][e];i[0]^=h[0],i[1]^=h[1],i[2]^=h[2],i[3]^=h[3]}return i},i.gcm.prototype.ghash=function(t,i,s){return i[0]^=s[0],i[1]^=s[1],i[2]^=s[2],i[3]^=s[3],this.tableMultiply(i)},i.gcm.prototype.generateHashTable=function(t,i){for(var s=8/i,e=4*s,h=16*s,r=new Array(h),o=0;o<h;++o){var a=[0,0,0,0],n=(e-1-o%e)*i;a[o/e|0]=1<<i-1<<n,r[o]=this.generateSubHashTable(this.multiply(a,t),i)}return r},i.gcm.prototype.generateSubHashTable=function(t,i){var s=1<<i,e=s>>>1,h=new Array(s);h[e]=t.slice(0);for(var r=e>>>1;r>0;)this.pow(h[2*r],h[r]=[]),r>>=1;for(r=2;r<e;){for(var o=1;o<r;++o){var a=h[r],n=h[o];h[r+o]=[a[0]^n[0],a[1]^n[1],a[2]^n[2],a[3]^n[3]]}r*=2}for(h[0]=[0,0,0,0],r=e+1;r<s;++r){var l=h[r^e];h[r]=[t[0]^l[0],t[1]^l[1],t[2]^l[2],t[3]^l[3]]}return h};
},{"./forge":"jo0T","./util":"gkgk"}],"VOs8":[function(require,module,exports) {
var e=require("./forge");function r(r,t){e.cipher.registerAlgorithm(r,function(){return new e.aes.Algorithm(r,t)})}require("./cipher"),require("./cipherModes"),require("./util"),module.exports=e.aes=e.aes||{},e.aes.startEncrypting=function(e,r,t,n){var i=s({key:e,output:t,decrypt:!1,mode:n});return i.start(r),i},e.aes.createEncryptionCipher=function(e,r){return s({key:e,output:null,decrypt:!1,mode:r})},e.aes.startDecrypting=function(e,r,t,n){var i=s({key:e,output:t,decrypt:!0,mode:n});return i.start(r),i},e.aes.createDecryptionCipher=function(e,r){return s({key:e,output:null,decrypt:!0,mode:r})},e.aes.Algorithm=function(e,r){c||f();var t=this;t.name=e,t.mode=new r({blockSize:16,cipher:{encrypt:function(e,r){return l(t._w,e,r,!1)},decrypt:function(e,r){return l(t._w,e,r,!0)}}}),t._init=!1},e.aes.Algorithm.prototype.initialize=function(r){if(!this._init){var t,n=r.key;if("string"!=typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(e.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=e.util.createBuffer();for(var i=0;i<t.length;++i)n.putByte(t[i])}}else n=e.util.createBuffer(n);if(!e.util.isArray(n)){t=n,n=[];var o=t.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)n.push(t.getInt32())}}if(!e.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var a=this.mode.name,c=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=p(n,r.decrypt&&!c),this._init=!0}},e.aes._expandKey=function(e,r){return c||f(),p(e,r)},e.aes._updateBlock=l,r("AES-ECB",e.cipher.modes.ecb),r("AES-CBC",e.cipher.modes.cbc),r("AES-CFB",e.cipher.modes.cfb),r("AES-OFB",e.cipher.modes.ofb),r("AES-CTR",e.cipher.modes.ctr),r("AES-GCM",e.cipher.modes.gcm);var t,n,i,o,a,c=!1,u=4;function f(){c=!0,i=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),r=0;r<128;++r)e[r]=r<<1,e[r+128]=r+128<<1^283;t=new Array(256),n=new Array(256),o=new Array(4),a=new Array(4);for(r=0;r<4;++r)o[r]=new Array(256),a[r]=new Array(256);var u,f,p,l,s,h,y,d=0,g=0;for(r=0;r<256;++r){l=(l=g^g<<1^g<<2^g<<3^g<<4)>>8^255&l^99,t[d]=l,n[l]=d,h=(s=e[l])<<24^l<<16^l<<8^l^s,y=((u=e[d])^(f=e[u])^(p=e[f]))<<24^(d^p)<<16^(d^f^p)<<8^d^u^p;for(var m=0;m<4;++m)o[m][d]=h,a[m][l]=y,h=h<<24|h>>>8,y=y<<24|y>>>8;0===d?d=g=1:(d=u^e[e[e[u^p]]],g^=e[e[g]])}}function p(e,r){for(var n,o=e.slice(0),c=1,f=o.length,p=u*(f+6+1),l=f;l<p;++l)n=o[l-1],l%f==0?(n=t[n>>>16&255]<<24^t[n>>>8&255]<<16^t[255&n]<<8^t[n>>>24]^i[c]<<24,c++):f>6&&l%f==4&&(n=t[n>>>24]<<24^t[n>>>16&255]<<16^t[n>>>8&255]<<8^t[255&n]),o[l]=o[l-f]^n;if(r){for(var s,h=a[0],y=a[1],d=a[2],g=a[3],m=o.slice(0),v=(l=0,(p=o.length)-u);l<p;l+=u,v-=u)if(0===l||l===p-u)m[l]=o[v],m[l+1]=o[v+3],m[l+2]=o[v+2],m[l+3]=o[v+1];else for(var A=0;A<u;++A)s=o[v+A],m[l+(3&-A)]=h[t[s>>>24]]^y[t[s>>>16&255]]^d[t[s>>>8&255]]^g[t[255&s]];o=m}return o}function l(e,r,i,c){var u,f,p,l,s,h,y,d,g,m,v,A,C=e.length/4-1;c?(u=a[0],f=a[1],p=a[2],l=a[3],s=n):(u=o[0],f=o[1],p=o[2],l=o[3],s=t),h=r[0]^e[0],y=r[c?3:1]^e[1],d=r[2]^e[2],g=r[c?1:3]^e[3];for(var w=3,B=1;B<C;++B)m=u[h>>>24]^f[y>>>16&255]^p[d>>>8&255]^l[255&g]^e[++w],v=u[y>>>24]^f[d>>>16&255]^p[g>>>8&255]^l[255&h]^e[++w],A=u[d>>>24]^f[g>>>16&255]^p[h>>>8&255]^l[255&y]^e[++w],g=u[g>>>24]^f[h>>>16&255]^p[y>>>8&255]^l[255&d]^e[++w],h=m,y=v,d=A;i[0]=s[h>>>24]<<24^s[y>>>16&255]<<16^s[d>>>8&255]<<8^s[255&g]^e[++w],i[c?3:1]=s[y>>>24]<<24^s[d>>>16&255]<<16^s[g>>>8&255]<<8^s[255&h]^e[++w],i[2]=s[d>>>24]<<24^s[g>>>16&255]<<16^s[h>>>8&255]<<8^s[255&y]^e[++w],i[c?1:3]=s[g>>>24]<<24^s[h>>>16&255]<<16^s[y>>>8&255]<<8^s[255&d]^e[++w]}function s(r){var t,n="AES-"+((r=r||{}).mode||"CBC").toUpperCase(),i=(t=r.decrypt?e.cipher.createDecipher(n,r.key):e.cipher.createCipher(n,r.key)).start;return t.start=function(r,n){var o=null;n instanceof e.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=r,i.call(t,n)},t}
},{"./forge":"jo0T","./cipher":"N+oN","./cipherModes":"SVKT","./util":"gkgk"}],"5iY2":[function(require,module,exports) {
var i=require("./forge");i.pki=i.pki||{};var t=module.exports=i.pki.oids=i.oids=i.oids||{};function e(i,e){t[i]=e,t[e]=i}function s(i,e){t[i]=e}e("1.2.840.113549.1.1.1","rsaEncryption"),e("1.2.840.113549.1.1.4","md5WithRSAEncryption"),e("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),e("1.2.840.113549.1.1.7","RSAES-OAEP"),e("1.2.840.113549.1.1.8","mgf1"),e("1.2.840.113549.1.1.9","pSpecified"),e("1.2.840.113549.1.1.10","RSASSA-PSS"),e("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),e("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),e("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),e("1.2.840.10040.4.3","dsa-with-sha1"),e("1.3.14.3.2.7","desCBC"),e("1.3.14.3.2.26","sha1"),e("2.16.840.1.101.3.4.2.1","sha256"),e("2.16.840.1.101.3.4.2.2","sha384"),e("2.16.840.1.101.3.4.2.3","sha512"),e("1.2.840.113549.2.5","md5"),e("1.2.840.113549.1.7.1","data"),e("1.2.840.113549.1.7.2","signedData"),e("1.2.840.113549.1.7.3","envelopedData"),e("1.2.840.113549.1.7.4","signedAndEnvelopedData"),e("1.2.840.113549.1.7.5","digestedData"),e("1.2.840.113549.1.7.6","encryptedData"),e("1.2.840.113549.1.9.1","emailAddress"),e("1.2.840.113549.1.9.2","unstructuredName"),e("1.2.840.113549.1.9.3","contentType"),e("1.2.840.113549.1.9.4","messageDigest"),e("1.2.840.113549.1.9.5","signingTime"),e("1.2.840.113549.1.9.6","counterSignature"),e("1.2.840.113549.1.9.7","challengePassword"),e("1.2.840.113549.1.9.8","unstructuredAddress"),e("1.2.840.113549.1.9.14","extensionRequest"),e("1.2.840.113549.1.9.20","friendlyName"),e("1.2.840.113549.1.9.21","localKeyId"),e("1.2.840.113549.1.9.22.1","x509Certificate"),e("1.2.840.113549.1.12.10.1.1","keyBag"),e("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),e("1.2.840.113549.1.12.10.1.3","certBag"),e("1.2.840.113549.1.12.10.1.4","crlBag"),e("1.2.840.113549.1.12.10.1.5","secretBag"),e("1.2.840.113549.1.12.10.1.6","safeContentsBag"),e("1.2.840.113549.1.5.13","pkcs5PBES2"),e("1.2.840.113549.1.5.12","pkcs5PBKDF2"),e("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),e("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),e("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),e("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),e("1.2.840.113549.2.7","hmacWithSHA1"),e("1.2.840.113549.2.8","hmacWithSHA224"),e("1.2.840.113549.2.9","hmacWithSHA256"),e("1.2.840.113549.2.10","hmacWithSHA384"),e("1.2.840.113549.2.11","hmacWithSHA512"),e("1.2.840.113549.3.7","des-EDE3-CBC"),e("2.16.840.1.101.3.4.1.2","aes128-CBC"),e("2.16.840.1.101.3.4.1.22","aes192-CBC"),e("2.16.840.1.101.3.4.1.42","aes256-CBC"),e("2.5.4.3","commonName"),e("2.5.4.5","serialName"),e("2.5.4.6","countryName"),e("2.5.4.7","localityName"),e("2.5.4.8","stateOrProvinceName"),e("2.5.4.10","organizationName"),e("2.5.4.11","organizationalUnitName"),e("2.5.4.13","description"),e("2.16.840.1.113730.1.1","nsCertType"),e("2.16.840.1.113730.1.13","nsComment"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),e("2.5.29.14","subjectKeyIdentifier"),e("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),e("2.5.29.17","subjectAltName"),e("2.5.29.18","issuerAltName"),e("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),e("2.5.29.31","cRLDistributionPoints"),e("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),e("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),e("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),e("1.3.6.1.4.1.11129.2.4.2","timestampList"),e("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),e("1.3.6.1.5.5.7.3.1","serverAuth"),e("1.3.6.1.5.5.7.3.2","clientAuth"),e("1.3.6.1.5.5.7.3.3","codeSigning"),e("1.3.6.1.5.5.7.3.4","emailProtection"),e("1.3.6.1.5.5.7.3.8","timeStamping");
},{"./forge":"jo0T"}],"UkhS":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./oids");var t=module.exports=e.asn1=e.asn1||{};function r(e,t,r){if(r>t){var a=new Error("Too few bytes to parse DER.");throw a.available=e.length(),a.remaining=t,a.requested=r,a}}t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(r,a,n,s,i){if(e.util.isArray(s)){for(var u=[],o=0;o<s.length;++o)void 0!==s[o]&&u.push(s[o]);s=u}var l={tagClass:r,type:a,constructed:n,composed:n||e.util.isArray(s),value:s};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=t.copy(l)),l},t.copy=function(r,a){var n;if(e.util.isArray(r)){n=[];for(var s=0;s<r.length;++s)n.push(t.copy(r[s],a));return n}return"string"==typeof r?r:(n={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:t.copy(r.value,a)},a&&!a.excludeBitStringContents&&(n.bitStringContents=r.bitStringContents),n)},t.equals=function(r,a,n){if(e.util.isArray(r)){if(!e.util.isArray(a))return!1;if(r.length!==a.length)return!1;for(var s=0;s<r.length;++s)if(!t.equals(r[s],a[s]))return!1;return!0}if(typeof r!=typeof a)return!1;if("string"==typeof r)return r===a;var i=r.tagClass===a.tagClass&&r.type===a.type&&r.constructed===a.constructed&&r.composed===a.composed&&t.equals(r.value,a.value);return n&&n.includeBitStringContents&&(i=i&&r.bitStringContents===a.bitStringContents),i},t.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var a=function(e,t){var a=e.getByte();if(128!==a){var n;if(128&a){var s=127&a;r(e,--t,s),n=e.getInt(s<<3)}else n=a;if(n<0)throw new Error("Negative length: "+n);return n}};function n(e,s,i,u){var o;r(e,s,2);var l=e.getByte();s--;var p=192&l,g=31&l;o=e.length();var c,T,f=a(e,s);if(s-=o-e.length(),void 0!==f&&f>s){if(u.strict){var v=new Error("Too few bytes to read ASN.1 value.");throw v.available=e.length(),v.remaining=s,v.requested=f,v}f=s}var y=32==(32&l);if(y)if(c=[],void 0===f)for(;;){if(r(e,s,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),s-=2;break}o=e.length(),c.push(n(e,s,i+1,u)),s-=o-e.length()}else for(;f>0;)o=e.length(),c.push(n(e,f,i+1,u)),s-=o-e.length(),f-=o-e.length();if(void 0===c&&p===t.Class.UNIVERSAL&&g===t.Type.BITSTRING&&(T=e.bytes(f)),void 0===c&&u.decodeBitStrings&&p===t.Class.UNIVERSAL&&g===t.Type.BITSTRING&&f>1){var d=e.read,h=s,I=0;if(g===t.Type.BITSTRING&&(r(e,s,1),I=e.getByte(),s--),0===I)try{o=e.length();var C=n(e,s,i+1,{verbose:u.verbose,strict:!0,decodeBitStrings:!0}),S=o-e.length();s-=S,g==t.Type.BITSTRING&&S++;var b=C.tagClass;S!==f||b!==t.Class.UNIVERSAL&&b!==t.Class.CONTEXT_SPECIFIC||(c=[C])}catch(B){}void 0===c&&(e.read=d,s=h)}if(void 0===c){if(void 0===f){if(u.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=s}if(g===t.Type.BMPSTRING)for(c="";f>0;f-=2)r(e,s,2),c+=String.fromCharCode(e.getInt16()),s-=2;else c=e.getBytes(f)}var E=void 0===T?null:{bitStringContents:T};return t.create(p,g,y,c,E)}t.fromDer=function(t,r){return void 0===r&&(r={strict:!0,decodeBitStrings:!0}),"boolean"==typeof r&&(r={strict:r,decodeBitStrings:!0}),"strict"in r||(r.strict=!0),"decodeBitStrings"in r||(r.decodeBitStrings=!0),"string"==typeof t&&(t=e.util.createBuffer(t)),n(t,t.length(),0,r)},t.toDer=function(r){var a=e.util.createBuffer(),n=r.tagClass|r.type,s=e.util.createBuffer(),i=!1;if("bitStringContents"in r&&(i=!0,r.original&&(i=t.equals(r,r.original))),i)s.putBytes(r.bitStringContents);else if(r.composed){r.constructed?n|=32:s.putByte(0);for(var u=0;u<r.value.length;++u)void 0!==r.value[u]&&s.putBuffer(t.toDer(r.value[u]))}else if(r.type===t.Type.BMPSTRING)for(u=0;u<r.value.length;++u)s.putInt16(r.value.charCodeAt(u));else r.type===t.Type.INTEGER&&r.value.length>1&&(0===r.value.charCodeAt(0)&&0==(128&r.value.charCodeAt(1))||255===r.value.charCodeAt(0)&&128==(128&r.value.charCodeAt(1)))?s.putBytes(r.value.substr(1)):s.putBytes(r.value);if(a.putByte(n),s.length()<=127)a.putByte(127&s.length());else{var o=s.length(),l="";do{l+=String.fromCharCode(255&o),o>>>=8}while(o>0);a.putByte(128|l.length);for(u=l.length-1;u>=0;--u)a.putByte(l.charCodeAt(u))}return a.putBuffer(s),a},t.oidToDer=function(t){var r,a,n,s,i=t.split("."),u=e.util.createBuffer();u.putByte(40*parseInt(i[0],10)+parseInt(i[1],10));for(var o=2;o<i.length;++o){r=!0,a=[],n=parseInt(i[o],10);do{s=127&n,n>>>=7,r||(s|=128),a.push(s),r=!1}while(n>0);for(var l=a.length-1;l>=0;--l)u.putByte(a[l])}return u},t.derToOid=function(t){var r;"string"==typeof t&&(t=e.util.createBuffer(t));var a=t.getByte();r=Math.floor(a/40)+"."+a%40;for(var n=0;t.length()>0;)n<<=7,128&(a=t.getByte())?n+=127&a:(r+="."+(n+a),n=0);return r},t.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var a=parseInt(e.substr(2,2),10)-1,n=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var o=e.charAt(10),l=10;"+"!==o&&"-"!==o&&(u=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,a,n),t.setUTCHours(s,i,u,0),l&&("+"===(o=e.charAt(l))||"-"===o)){var p=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);p*=6e4,"+"===o?t.setTime(+t-p):t.setTime(+t+p)}return t},t.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),a=parseInt(e.substr(4,2),10)-1,n=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),o=0,l=0,p=!1;"Z"===e.charAt(e.length-1)&&(p=!0);var g=e.length-5,c=e.charAt(g);"+"!==c&&"-"!==c||(l=60*parseInt(e.substr(g+1,2),10)+parseInt(e.substr(g+4,2),10),l*=6e4,"+"===c&&(l*=-1),p=!0);return"."===e.charAt(14)&&(o=1e3*parseFloat(e.substr(14),10)),p?(t.setUTCFullYear(r,a,n),t.setUTCHours(s,i,u,o),t.setTime(+t+l)):(t.setFullYear(r,a,n),t.setHours(s,i,u,o)),t},t.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},t.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},t.integerToDer=function(t){var r=e.util.createBuffer();if(t>=-128&&t<128)return r.putSignedInt(t,8);if(t>=-32768&&t<32768)return r.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return r.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return r.putSignedInt(t,32);var a=new Error("Integer too large; max is 32-bits.");throw a.integer=t,a},t.derToInteger=function(t){"string"==typeof t&&(t=e.util.createBuffer(t));var r=8*t.length();if(r>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(r)},t.validate=function(r,a,n,s){var i=!1;if(r.tagClass!==a.tagClass&&void 0!==a.tagClass||r.type!==a.type&&void 0!==a.type)s&&(r.tagClass!==a.tagClass&&s.push("["+a.name+'] Expected tag class "'+a.tagClass+'", got "'+r.tagClass+'"'),r.type!==a.type&&s.push("["+a.name+'] Expected type "'+a.type+'", got "'+r.type+'"'));else if(r.constructed===a.constructed||void 0===a.constructed){if(i=!0,a.value&&e.util.isArray(a.value))for(var u=0,o=0;i&&o<a.value.length;++o)i=a.value[o].optional||!1,r.value[u]&&((i=t.validate(r.value[u],a.value[o],n,s))?++u:a.value[o].optional&&(i=!0)),!i&&s&&s.push("["+a.name+'] Tag class "'+a.tagClass+'", type "'+a.type+'" expected value length "'+a.value.length+'", got "'+r.value.length+'"');if(i&&n)if(a.capture&&(n[a.capture]=r.value),a.captureAsn1&&(n[a.captureAsn1]=r),a.captureBitStringContents&&"bitStringContents"in r&&(n[a.captureBitStringContents]=r.bitStringContents),a.captureBitStringValue&&"bitStringContents"in r)if(r.bitStringContents.length<2)n[a.captureBitStringValue]="";else{if(0!==r.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[a.captureBitStringValue]=r.bitStringContents.slice(1)}}else s&&s.push("["+a.name+'] Expected constructed "'+a.constructed+'", got "'+r.constructed+'"');return i};var s=/[^\\u0000-\\u00ff]/;t.prettyPrint=function(r,a,n){var i="";n=n||2,(a=a||0)>0&&(i+="\n");for(var u="",o=0;o<a*n;++o)u+=" ";switch(i+=u+"Tag: ",r.tagClass){case t.Class.UNIVERSAL:i+="Universal:";break;case t.Class.APPLICATION:i+="Application:";break;case t.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case t.Class.PRIVATE:i+="Private:"}if(r.tagClass===t.Class.UNIVERSAL)switch(i+=r.type,r.type){case t.Type.NONE:i+=" (None)";break;case t.Type.BOOLEAN:i+=" (Boolean)";break;case t.Type.INTEGER:i+=" (Integer)";break;case t.Type.BITSTRING:i+=" (Bit string)";break;case t.Type.OCTETSTRING:i+=" (Octet string)";break;case t.Type.NULL:i+=" (Null)";break;case t.Type.OID:i+=" (Object Identifier)";break;case t.Type.ODESC:i+=" (Object Descriptor)";break;case t.Type.EXTERNAL:i+=" (External or Instance of)";break;case t.Type.REAL:i+=" (Real)";break;case t.Type.ENUMERATED:i+=" (Enumerated)";break;case t.Type.EMBEDDED:i+=" (Embedded PDV)";break;case t.Type.UTF8:i+=" (UTF8)";break;case t.Type.ROID:i+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:i+=" (Sequence)";break;case t.Type.SET:i+=" (Set)";break;case t.Type.PRINTABLESTRING:i+=" (Printable String)";break;case t.Type.IA5String:i+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:i+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case t.Type.BMPSTRING:i+=" (BMP String)"}else i+=r.type;if(i+="\n",i+=u+"Constructed: "+r.constructed+"\n",r.composed){var l=0,p="";for(o=0;o<r.value.length;++o)void 0!==r.value[o]&&(l+=1,p+=t.prettyPrint(r.value[o],a+1,n),o+1<r.value.length&&(p+=","));i+=u+"Sub values: "+l+p}else{if(i+=u+"Value: ",r.type===t.Type.OID){var g=t.derToOid(r.value);i+=g,e.pki&&e.pki.oids&&g in e.pki.oids&&(i+=" ("+e.pki.oids[g]+") ")}if(r.type===t.Type.INTEGER)try{i+=t.derToInteger(r.value)}catch(T){i+="0x"+e.util.bytesToHex(r.value)}else if(r.type===t.Type.BITSTRING){if(r.value.length>1?i+="0x"+e.util.bytesToHex(r.value.slice(1)):i+="(none)",r.value.length>0){var c=r.value.charCodeAt(0);1==c?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else r.type===t.Type.OCTETSTRING?(s.test(r.value)||(i+="("+r.value+") "),i+="0x"+e.util.bytesToHex(r.value)):r.type===t.Type.UTF8?i+=e.util.decodeUtf8(r.value):r.type===t.Type.PRINTABLESTRING||r.type===t.Type.IA5String?i+=r.value:s.test(r.value)?i+="0x"+e.util.bytesToHex(r.value):0===r.value.length?i+="[null]":i+=r.value}return i};
},{"./forge":"jo0T","./util":"gkgk","./oids":"5iY2"}],"7aIq":[function(require,module,exports) {
var m=require("./forge");module.exports=m.md=m.md||{},m.md.algorithms=m.md.algorithms||{};
},{"./forge":"jo0T"}],"n8mL":[function(require,module,exports) {
var t=require("./forge");require("./md"),require("./util");var e=module.exports=t.hmac=t.hmac||{};e.create=function(){var e=null,r=null,u=null,a=null,i={start:function(i,l){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');r=t.md.algorithms[i].create()}else r=i;if(null===l)l=e;else{if("string"==typeof l)l=t.util.createBuffer(l);else if(t.util.isArray(l)){var n=l;l=t.util.createBuffer();for(var f=0;f<n.length;++f)l.putByte(n[f])}var o=l.length();o>r.blockLength&&(r.start(),r.update(l.bytes()),l=r.digest()),u=t.util.createBuffer(),a=t.util.createBuffer(),o=l.length();for(f=0;f<o;++f){n=l.at(f);u.putByte(54^n),a.putByte(92^n)}if(o<r.blockLength)for(n=r.blockLength-o,f=0;f<n;++f)u.putByte(54),a.putByte(92);e=l,u=u.bytes(),a=a.bytes()}r.start(),r.update(u)},update:function(t){r.update(t)},getMac:function(){var t=r.digest().bytes();return r.start(),r.update(a),r.update(t),r.digest()}};return i.digest=i.getMac,i};
},{"./forge":"jo0T","./md":"7aIq","./util":"gkgk"}],"kG8c":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.md5=e.md5||{};e.md.md5=e.md.algorithms.md5=t,t.create=function(){g||u();var t=null,h=e.util.createBuffer(),n=new Array(16),l={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var r=l.messageLengthSize/4,n=0;n<r;++n)l.fullMessageLength.push(0);return h=e.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},l}};return l.start(),l.update=function(r,g){"utf8"===g&&(r=e.util.encodeUtf8(r));var u=r.length;l.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var s=l.fullMessageLength.length-1;s>=0;--s)l.fullMessageLength[s]+=u[1],u[1]=u[0]+(l.fullMessageLength[s]/4294967296>>>0),l.fullMessageLength[s]=l.fullMessageLength[s]>>>0,u[0]=u[1]/4294967296>>>0;return h.putBytes(r),a(t,n,h),(h.read>2048||0===h.length())&&h.compact(),l},l.digest=function(){var g=e.util.createBuffer();g.putBytes(h.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1;g.putBytes(r.substr(0,l.blockLength-u));for(var s,f=0,o=l.fullMessageLength.length-1;o>=0;--o)f=(s=8*l.fullMessageLength[o]+f)/4294967296>>>0,g.putInt32Le(s>>>0);var L={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};a(L,n,g);var i=e.util.createBuffer();return i.putInt32Le(L.h0),i.putInt32Le(L.h1),i.putInt32Le(L.h2),i.putInt32Le(L.h3),i},l};var r=null,h=null,n=null,l=null,g=!1;function u(){r=String.fromCharCode(128),r+=e.util.fillString(String.fromCharCode(0),64),h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=new Array(64);for(var t=0;t<64;++t)l[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));g=!0}function a(e,t,r){for(var g,u,a,s,f,o,L,i=r.length();i>=64;){for(u=e.h0,a=e.h1,s=e.h2,f=e.h3,L=0;L<16;++L)t[L]=r.getInt32Le(),g=u+(f^a&(s^f))+l[L]+t[L],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;for(;L<32;++L)g=u+(s^f&(a^s))+l[L]+t[h[L]],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;for(;L<48;++L)g=u+(a^s^f)+l[L]+t[h[L]],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;for(;L<64;++L)g=u+(s^(a|~f))+l[L]+t[h[L]],u=f,f=s,s=a,a+=g<<(o=n[L])|g>>>32-o;e.h0=e.h0+u|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+f|0,i-=64}}
},{"./forge":"jo0T","./md":"7aIq","./util":"gkgk"}],"4vk0":[function(require,module,exports) {
var e=require("./forge");require("./util");var r=module.exports=e.pem=e.pem||{};function n(e){for(var r=e.name+": ",n=[],a=function(e,r){return" "+r},t=0;t<e.values.length;++t)n.push(e.values[t].replace(/^(\S+\r\n)/,a));r+=n.join(",")+"\r\n";var o=0,s=-1;for(t=0;t<r.length;++t,++o)if(o>65&&-1!==s){var l=r[s];","===l?(++s,r=r.substr(0,s)+"\r\n "+r.substr(s)):r=r.substr(0,s)+"\r\n"+l+r.substr(s+1),o=t-s-1,s=-1,++t}else" "!==r[t]&&"\t"!==r[t]&&","!==r[t]||(s=t);return r}function a(e){return e.replace(/^\s+/,"")}r.encode=function(r,a){a=a||{};var t,o="-----BEGIN "+r.type+"-----\r\n";if(r.procType&&(o+=n(t={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]})),r.contentDomain&&(o+=n(t={name:"Content-Domain",values:[r.contentDomain]})),r.dekInfo&&(t={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&t.values.push(r.dekInfo.parameters),o+=n(t)),r.headers)for(var s=0;s<r.headers.length;++s)o+=n(r.headers[s]);return r.procType&&(o+="\r\n"),o+=e.util.encode64(r.body,a.maxline||64)+"\r\n",o+="-----END "+r.type+"-----\r\n"},r.decode=function(r){for(var n,t=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,l=/\r?\n/;n=o.exec(r);){var i={type:n[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:e.util.decode64(n[3])};if(t.push(i),n[2]){for(var f=n[2].split(l),u=0;n&&u<f.length;){for(var p=f[u].replace(/\s+$/,""),d=u+1;d<f.length;++d){var m=f[d];if(!/\s/.test(m[0]))break;p+=m,u=d}if(n=p.match(s)){for(var h={name:n[1],values:[]},c=n[2].split(","),v=0;v<c.length;++v)h.values.push(a(c[v]));if(i.procType)if(i.contentDomain||"Content-Domain"!==h.name)if(i.dekInfo||"DEK-Info"!==h.name)i.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');i.dekInfo={algorithm:c[0],parameters:c[1]||null}}else i.contentDomain=c[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');i.procType={version:c[0],type:c[1]}}}++u}if("ENCRYPTED"===i.procType&&!i.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===t.length)throw new Error("Invalid PEM formatted message.");return t};
},{"./forge":"jo0T","./util":"gkgk"}],"YpCS":[function(require,module,exports) {
var e=require("./forge");function r(r,t){e.cipher.registerAlgorithm(r,function(){return new e.des.Algorithm(r,t)})}require("./cipher"),require("./cipherModes"),require("./util"),module.exports=e.des=e.des||{},e.des.startEncrypting=function(e,r,t,i){var n=h({key:e,output:t,decrypt:!1,mode:i||(null===r?"ECB":"CBC")});return n.start(r),n},e.des.createEncryptionCipher=function(e,r){return h({key:e,output:null,decrypt:!1,mode:r})},e.des.startDecrypting=function(e,r,t,i){var n=h({key:e,output:t,decrypt:!0,mode:i||(null===r?"ECB":"CBC")});return n.start(r),n},e.des.createDecryptionCipher=function(e,r){return h({key:e,output:null,decrypt:!0,mode:r})},e.des.Algorithm=function(e,r){var t=this;t.name=e,t.mode=new r({blockSize:8,cipher:{encrypt:function(e,r){return d(t._keys,e,r,!1)},decrypt:function(e,r){return d(t._keys,e,r,!0)}}}),t._init=!1},e.des.Algorithm.prototype.initialize=function(r){if(!this._init){var t=e.util.createBuffer(r.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=a(t),this._init=!0}},r("DES-ECB",e.cipher.modes.ecb),r("DES-CBC",e.cipher.modes.cbc),r("DES-CFB",e.cipher.modes.cfb),r("DES-OFB",e.cipher.modes.ofb),r("DES-CTR",e.cipher.modes.ctr),r("3DES-ECB",e.cipher.modes.ecb),r("3DES-CBC",e.cipher.modes.cbc),r("3DES-CFB",e.cipher.modes.cfb),r("3DES-OFB",e.cipher.modes.ofb),r("3DES-CTR",e.cipher.modes.ctr);var t=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],i=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],n=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],o=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],s=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function a(e){for(var r,t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],i=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],c=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],u=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],p=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],s=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],a=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],l=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,C=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,B=0;B<m;B++){var D=e.getInt32(),g=e.getInt32();D^=(r=252645135&(D>>>4^g))<<4,D^=r=65535&((g^=r)>>>-16^D),D^=(r=858993459&(D>>>2^(g^=r<<-16)))<<2,D^=r=65535&((g^=r)>>>-16^D),D^=(r=1431655765&(D>>>1^(g^=r<<-16)))<<1,D^=r=16711935&((g^=r)>>>8^D),r=(D^=(r=1431655765&(D>>>1^(g^=r<<8)))<<1)<<8|(g^=r)>>>20&240,D=g<<24|g<<8&16711680|g>>>8&65280|g>>>24&240,g=r;for(var S=0;S<E.length;++S){E[S]?(D=D<<2|D>>>26,g=g<<2|g>>>26):(D=D<<1|D>>>27,g=g<<1|g>>>27);var k=t[(D&=-15)>>>28]|i[D>>>24&15]|n[D>>>20&15]|c[D>>>16&15]|o[D>>>12&15]|u[D>>>8&15]|p[D>>>4&15],b=s[(g&=-15)>>>28]|a[g>>>24&15]|d[g>>>20&15]|h[g>>>16&15]|f[g>>>12&15]|l[g>>>8&15]|y[g>>>4&15];r=65535&(b>>>16^k),C[v++]=k^r,C[v++]=b^r<<16}}return C}function d(e,r,a,d){var h,f,l=32===e.length?3:9;h=3===l?d?[30,-2,-2]:[0,32,2]:d?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y=r[0],m=r[1];y^=(f=252645135&(y>>>4^m))<<4,y^=(f=65535&(y>>>16^(m^=f)))<<16,y^=f=858993459&((m^=f)>>>2^y),y^=f=16711935&((m^=f<<2)>>>8^y),y=(y^=(f=1431655765&(y>>>1^(m^=f<<8)))<<1)<<1|y>>>31,m=(m^=f)<<1|m>>>31;for(var C=0;C<l;C+=3){for(var E=h[C+1],v=h[C+2],B=h[C];B!=E;B+=v){var D=m^e[B],g=(m>>>4|m<<28)^e[B+1];f=y,y=m,m=f^(i[D>>>24&63]|c[D>>>16&63]|u[D>>>8&63]|s[63&D]|t[g>>>24&63]|n[g>>>16&63]|o[g>>>8&63]|p[63&g])}f=y,y=m,m=f}m=m>>>1|m<<31,m^=f=1431655765&((y=y>>>1|y<<31)>>>1^m),m^=(f=16711935&(m>>>8^(y^=f<<1)))<<8,m^=(f=858993459&(m>>>2^(y^=f)))<<2,m^=f=65535&((y^=f)>>>16^m),m^=f=252645135&((y^=f<<16)>>>4^m),y^=f<<4,a[0]=y,a[1]=m}function h(r){var t,i="DES-"+((r=r||{}).mode||"CBC").toUpperCase(),n=(t=r.decrypt?e.cipher.createDecipher(i,r.key):e.cipher.createCipher(i,r.key)).start;return t.start=function(r,i){var c=null;i instanceof e.util.ByteBuffer&&(c=i,i={}),(i=i||{}).output=c,i.iv=r,n.call(t,i)},t}
},{"./forge":"jo0T","./cipher":"N+oN","./cipherModes":"SVKT","./util":"gkgk"}],"Avv+":[function(require,module,exports) {
var t=require("./forge");require("./hmac"),require("./md"),require("./util");var r,e=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(r=require("crypto")),module.exports=t.pbkdf2=e.pbkdf2=function(e,n,i,u,l,o){if("function"==typeof l&&(o=l,l=null),t.util.isNodejs&&!t.options.usePureJavaScript&&r.pbkdf2&&(null===l||"object"!=typeof l)&&(r.pbkdf2Sync.length>4||!l||"sha1"===l))return"string"!=typeof l&&(l="sha1"),e=Buffer.from(e,"binary"),n=Buffer.from(n,"binary"),o?4===r.pbkdf2Sync.length?r.pbkdf2(e,n,i,u,function(t,r){if(t)return o(t);o(null,r.toString("binary"))}):r.pbkdf2(e,n,i,u,l,function(t,r){if(t)return o(t);o(null,r.toString("binary"))}):4===r.pbkdf2Sync.length?r.pbkdf2Sync(e,n,i,u).toString("binary"):r.pbkdf2Sync(e,n,i,u,l).toString("binary");if(null==l&&(l="sha1"),"string"==typeof l){if(!(l in t.md.algorithms))throw new Error("Unknown hash algorithm: "+l);l=t.md[l].create()}var s=l.digestLength;if(u>4294967295*s){var a=new Error("Derived key is too long.");if(o)return o(a);throw a}var f=Math.ceil(u/s),d=u-(f-1)*s,p=t.hmac.create();p.start(l,e);var y,g,c,b="";if(!o){for(var h=1;h<=f;++h){p.start(null,null),p.update(n),p.update(t.util.int32ToBytes(h)),y=c=p.digest().getBytes();for(var k=2;k<=i;++k)p.start(null,null),p.update(c),g=p.digest().getBytes(),y=t.util.xorBytes(y,g,s),c=g;b+=h<f?y:y.substr(0,d)}return b}h=1;function m(){if(h>f)return o(null,b);p.start(null,null),p.update(n),p.update(t.util.int32ToBytes(h)),y=c=p.digest().getBytes(),k=2,v()}function v(){if(k<=i)return p.start(null,null),p.update(c),g=p.digest().getBytes(),y=t.util.xorBytes(y,g,s),c=g,++k,t.util.setImmediate(v);b+=h<f?y:y.substr(0,d),++h,m()}m()};
},{"./forge":"jo0T","./hmac":"n8mL","./md":"7aIq","./util":"gkgk"}],"RASh":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha256=e.sha256||{};e.md.sha256=e.md.algorithms.sha256=t,t.create=function(){n||g();var t=null,r=e.util.createBuffer(),s=new Array(64),l={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var h=l.messageLengthSize/4,n=0;n<h;++n)l.fullMessageLength.push(0);return r=e.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},l}};return l.start(),l.update=function(h,n){"utf8"===n&&(h=e.util.encodeUtf8(h));var g=h.length;l.messageLength+=g,g=[g/4294967296>>>0,g>>>0];for(var a=l.fullMessageLength.length-1;a>=0;--a)l.fullMessageLength[a]+=g[1],g[1]=g[0]+(l.fullMessageLength[a]/4294967296>>>0),l.fullMessageLength[a]=l.fullMessageLength[a]>>>0,g[0]=g[1]/4294967296>>>0;return r.putBytes(h),u(t,s,r),(r.read>2048||0===r.length())&&r.compact(),l},l.digest=function(){var n=e.util.createBuffer();n.putBytes(r.bytes());var g,a=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1;n.putBytes(h.substr(0,l.blockLength-a));for(var f=8*l.fullMessageLength[0],i=0;i<l.fullMessageLength.length-1;++i)f+=(g=8*l.fullMessageLength[i+1])/4294967296>>>0,n.putInt32(f>>>0),f=g>>>0;n.putInt32(f);var o={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(o,s,n);var L=e.util.createBuffer();return L.putInt32(o.h0),L.putInt32(o.h1),L.putInt32(o.h2),L.putInt32(o.h3),L.putInt32(o.h4),L.putInt32(o.h5),L.putInt32(o.h6),L.putInt32(o.h7),L},l};var h=null,n=!1,r=null;function g(){h=String.fromCharCode(128),h+=e.util.fillString(String.fromCharCode(0),64),r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0}function u(e,t,h){for(var n,g,u,s,l,a,f,i,o,L,c,p,m,v=h.length();v>=64;){for(l=0;l<16;++l)t[l]=h.getInt32();for(;l<64;++l)n=((n=t[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,g=((g=t[l-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3,t[l]=n+t[l-7]+g+t[l-16]|0;for(a=e.h0,f=e.h1,i=e.h2,o=e.h3,L=e.h4,c=e.h5,p=e.h6,m=e.h7,l=0;l<64;++l)u=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),s=a&f|i&(a^f),n=m+((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(p^L&(c^p))+r[l]+t[l],m=p,p=c,c=L,L=o+n>>>0,o=i,i=f,f=a,a=n+(g=u+s)>>>0;e.h0=e.h0+a|0,e.h1=e.h1+f|0,e.h2=e.h2+i|0,e.h3=e.h3+o|0,e.h4=e.h4+L|0,e.h5=e.h5+c|0,e.h6=e.h6+p|0,e.h7=e.h7+m|0,v-=64}}
},{"./forge":"jo0T","./md":"7aIq","./util":"gkgk"}],"pFcK":[function(require,module,exports) {
var e=require("./forge");require("./util");var t=null;!e.util.isNodejs||e.options.usePureJavaScript||process.versions["node-webkit"]||(t=require("crypto"));var r=module.exports=e.prng=e.prng||{};r.create=function(r){for(var n={plugin:r,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},o=r.md,s=new Array(32),l=0;l<32;++l)s[l]=o.create();function a(){if(n.pools[0].messageLength>=32)return i();var e=32-n.pools[0].messageLength<<5;n.collect(n.seedFileSync(e)),i()}function i(){n.reseeds=4294967295===n.reseeds?0:n.reseeds+1;var e=n.plugin.md.create();e.update(n.keyBytes);for(var t=1,r=0;r<32;++r)n.reseeds%t==0&&(e.update(n.pools[r].digest().getBytes()),n.pools[r].start()),t<<=1;n.keyBytes=e.digest().getBytes(),e.start(),e.update(n.keyBytes);var o=e.digest().getBytes();n.key=n.plugin.formatKey(n.keyBytes),n.seed=n.plugin.formatSeed(o),n.generated=0}function u(t){var r=null,n=e.util.globalScope,o=n.crypto||n.msCrypto;o&&o.getRandomValues&&(r=function(e){return o.getRandomValues(e)});var s=e.util.createBuffer();if(r)for(;s.length()<t;){var l=Math.max(1,Math.min(t-s.length(),65536)/4),a=new Uint32Array(Math.floor(l));try{r(a);for(var i=0;i<a.length;++i)s.putInt32(a[i])}catch(c){if(!("undefined"!=typeof QuotaExceededError&&c instanceof QuotaExceededError))throw c}}if(s.length()<t)for(var u,g,f,d=Math.floor(65536*Math.random());s.length()<t;){g=16807*(65535&d),g+=(32767&(u=16807*(d>>16)))<<16,d=4294967295&(g=(2147483647&(g+=u>>15))+(g>>31));for(i=0;i<3;++i)f=d>>>(i<<3),f^=Math.floor(256*Math.random()),s.putByte(String.fromCharCode(255&f))}return s.getBytes(t)}return n.pools=s,n.pool=0,n.generate=function(t,r){if(!r)return n.generateSync(t);var o=n.plugin.cipher,s=n.plugin.increment,l=n.plugin.formatKey,a=n.plugin.formatSeed,u=e.util.createBuffer();n.key=null,function g(f){if(f)return r(f);if(u.length()>=t)return r(null,u.getBytes(t));n.generated>1048575&&(n.key=null);if(null===n.key)return e.util.nextTick(function(){!function(e){if(n.pools[0].messageLength>=32)return i(),e();var t=32-n.pools[0].messageLength<<5;n.seedFile(t,function(t,r){if(t)return e(t);n.collect(r),i(),e()})}(g)});var d=o(n.key,n.seed);n.generated+=d.length;u.putBytes(d);n.key=l(o(n.key,s(n.seed)));n.seed=a(o(n.key,n.seed));e.util.setImmediate(g)}()},n.generateSync=function(t){var r=n.plugin.cipher,o=n.plugin.increment,s=n.plugin.formatKey,l=n.plugin.formatSeed;n.key=null;for(var i=e.util.createBuffer();i.length()<t;){n.generated>1048575&&(n.key=null),null===n.key&&a();var u=r(n.key,n.seed);n.generated+=u.length,i.putBytes(u),n.key=s(r(n.key,o(n.seed))),n.seed=l(r(n.key,n.seed))}return i.getBytes(t)},t?(n.seedFile=function(e,r){t.randomBytes(e,function(e,t){if(e)return r(e);r(null,t.toString())})},n.seedFileSync=function(e){return t.randomBytes(e).toString()}):(n.seedFile=function(e,t){try{t(null,u(e))}catch(r){t(r)}},n.seedFileSync=u),n.collect=function(e){for(var t=e.length,r=0;r<t;++r)n.pools[n.pool].update(e.substr(r,1)),n.pool=31===n.pool?0:n.pool+1},n.collectInt=function(e,t){for(var r="",o=0;o<t;o+=8)r+=String.fromCharCode(e>>o&255);n.collect(r)},n.registerWorker=function(e){if(e===self)n.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",function(t){var r=t.data;r.forge&&r.forge.prng&&n.seedFile(r.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})})}},n};
},{"./forge":"jo0T","./util":"gkgk"}],"NGh+":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./sha256"),require("./prng"),require("./util"),e.random&&e.random.getBytes?module.exports=e.random:function(t){var n={},r=new Array(4),o=e.util.createBuffer();function a(){var t=e.prng.create(n);return t.getBytes=function(e,n){return t.generate(e,n)},t.getBytesSync=function(e){return t.generate(e)},t}n.formatKey=function(t){var n=e.util.createBuffer(t);return(t=new Array(4))[0]=n.getInt32(),t[1]=n.getInt32(),t[2]=n.getInt32(),t[3]=n.getInt32(),e.aes._expandKey(t,!1)},n.formatSeed=function(t){var n=e.util.createBuffer(t);return(t=new Array(4))[0]=n.getInt32(),t[1]=n.getInt32(),t[2]=n.getInt32(),t[3]=n.getInt32(),t},n.cipher=function(t,n){return e.aes._updateBlock(t,n,r,!1),o.putInt32(r[0]),o.putInt32(r[1]),o.putInt32(r[2]),o.putInt32(r[3]),o.getBytes()},n.increment=function(e){return++e[3],e},n.md=e.md.sha256;var u=a(),i=null,c=e.util.globalScope,f=c.crypto||c.msCrypto;if(f&&f.getRandomValues&&(i=function(e){return f.getRandomValues(e)}),e.options.usePureJavaScript||!e.util.isNodejs&&!i){if("undefined"==typeof window||window.document,u.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var d in navigator)try{"string"==typeof navigator[d]&&(l+=navigator[d])}catch(g){}u.collect(l),l=null}t&&(t().mousemove(function(e){u.collectInt(e.clientX,16),u.collectInt(e.clientY,16)}),t().keypress(function(e){u.collectInt(e.charCode,8)}))}if(e.random)for(var d in u)e.random[d]=u[d];else e.random=u;e.random.createInstance=a,module.exports=e.random}("undefined"!=typeof jQuery?jQuery:null);
},{"./forge":"jo0T","./aes":"VOs8","./sha256":"RASh","./prng":"pFcK","./util":"gkgk"}],"Nn8j":[function(require,module,exports) {
var t=require("./forge");require("./util");var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],e=[1,2,3,5],n=function(t,r){return t<<r&65535|(65535&t)>>16-r},u=function(t,r){return(65535&t)>>r|t<<16-r&65535};module.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(e,n){"string"==typeof e&&(e=t.util.createBuffer(e)),n=n||128;var u,f=e,i=e.length(),c=n,a=Math.ceil(c/8),o=255>>(7&c);for(u=i;u<128;u++)f.putByte(r[f.at(u-1)+f.at(u-i)&255]);for(f.setAt(128-a,r[f.at(128-a)&o]),u=127-a;u>=0;u--)f.setAt(u,r[f.at(u+1)^f.at(u+a)]);return f};var f=function(r,f,i){var c,a,o,l,p=!1,g=null,h=null,s=null,v=[];for(r=t.rc2.expandKey(r,f),o=0;o<64;o++)v.push(r.getInt16Le());i?(c=function(t){for(o=0;o<4;o++)t[o]+=v[l]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),t[o]=n(t[o],e[o]),l++},a=function(t){for(o=0;o<4;o++)t[o]+=v[63&t[(o+3)%4]]}):(c=function(t){for(o=3;o>=0;o--)t[o]=u(t[o],e[o]),t[o]-=v[l]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),l--},a=function(t){for(o=3;o>=0;o--)t[o]-=v[63&t[(o+3)%4]]});var y=function(t){var r=[];for(o=0;o<4;o++){var e=g.getInt16Le();null!==s&&(i?e^=s.getInt16Le():s.putInt16Le(e)),r.push(65535&e)}l=i?0:63;for(var n=0;n<t.length;n++)for(var u=0;u<t[n][0];u++)t[n][1](r);for(o=0;o<4;o++)null!==s&&(i?s.putInt16Le(r[o]):r[o]^=s.getInt16Le()),h.putInt16Le(r[o])},B=null;return B={start:function(r,e){r&&"string"==typeof r&&(r=t.util.createBuffer(r)),p=!1,g=t.util.createBuffer(),h=e||new t.util.createBuffer,s=r,B.output=h},update:function(t){for(p||g.putBuffer(t);g.length()>=8;)y([[5,c],[1,a],[6,c],[1,a],[5,c]])},finish:function(t){var r=!0;if(i)if(t)r=t(8,g,!i);else{var e=8===g.length()?8:8-g.length();g.fillWithByte(e,e)}if(r&&(p=!0,B.update()),!i&&(r=0===g.length()))if(t)r=t(8,h,!i);else{var n=h.length(),u=h.at(n-1);u>n?r=!1:h.truncate(u)}return r}}};t.rc2.startEncrypting=function(r,e,n){var u=t.rc2.createEncryptionCipher(r,128);return u.start(e,n),u},t.rc2.createEncryptionCipher=function(t,r){return f(t,r,!0)},t.rc2.startDecrypting=function(r,e,n){var u=t.rc2.createDecryptionCipher(r,128);return u.start(e,n),u},t.rc2.createDecryptionCipher=function(t,r){return f(t,r,!1)};
},{"./forge":"jo0T","./util":"gkgk"}],"NE4M":[function(require,module,exports) {
var t,i=require("./forge");module.exports=i.jsbn=i.jsbn||{};var o=0xdeadbeefcafe,r=15715070==(16777215&o);function s(t,i,o){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function a(){return new s(null)}function h(t,i,o,r,s,a){for(;--a>=0;){var h=i*this.data[t++]+o.data[r]+s;s=Math.floor(h/67108864),o.data[r++]=67108863&h}return s}function e(t,i,o,r,s,a){for(var h=32767&i,e=i>>15;--a>=0;){var n=32767&this.data[t],u=this.data[t++]>>15,f=e*n+u*h;s=((n=h*n+((32767&f)<<15)+o.data[r]+(1073741823&s))>>>30)+(f>>>15)+e*u+(s>>>30),o.data[r++]=1073741823&n}return s}function n(t,i,o,r,s,a){for(var h=16383&i,e=i>>14;--a>=0;){var n=16383&this.data[t],u=this.data[t++]>>14,f=e*n+u*h;s=((n=h*n+((16383&f)<<14)+o.data[r]+s)>>28)+(f>>14)+e*u,o.data[r++]=268435455&n}return s}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=n,t=28):r&&"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=e,t=30):r&&"Netscape"!=navigator.appName?(s.prototype.am=h,t=26):(s.prototype.am=n,t=28),s.prototype.DB=t,s.prototype.DM=(1<<t)-1,s.prototype.DV=1<<t;var u=52;s.prototype.FV=Math.pow(2,u),s.prototype.F1=u-t,s.prototype.F2=2*t-u;var f,p,d="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(f="0".charCodeAt(0),p=0;p<=9;++p)c[f++]=p;for(f="a".charCodeAt(0),p=10;p<36;++p)c[f++]=p;for(f="A".charCodeAt(0),p=10;p<36;++p)c[f++]=p;function m(t){return d.charAt(t)}function l(t,i){var o=c[t.charCodeAt(i)];return null==o?-1:o}function T(t){for(var i=this.t-1;i>=0;--i)t.data[i]=this.data[i];t.t=this.t,t.s=this.s}function v(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function y(t){var i=a();return i.fromInt(t),i}function D(t,i){var o;if(16==i)o=4;else if(8==i)o=3;else if(256==i)o=8;else if(2==i)o=1;else if(32==i)o=5;else{if(4!=i)return void this.fromRadix(t,i);o=2}this.t=0,this.s=0;for(var r=t.length,a=!1,h=0;--r>=0;){var e=8==o?255&t[r]:l(t,r);e<0?"-"==t.charAt(r)&&(a=!0):(a=!1,0==h?this.data[this.t++]=e:h+o>this.DB?(this.data[this.t-1]|=(e&(1<<this.DB-h)-1)<<h,this.data[this.t++]=e>>this.DB-h):this.data[this.t-1]|=e<<h,(h+=o)>=this.DB&&(h-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,h>0&&(this.data[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),a&&s.ZERO.subTo(this,this)}function b(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function B(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,a="",h=this.t,e=this.DB-h*this.DB%i;if(h-- >0)for(e<this.DB&&(o=this.data[h]>>e)>0&&(s=!0,a=m(o));h>=0;)e<i?(o=(this.data[h]&(1<<e)-1)<<i-e,o|=this.data[--h]>>(e+=this.DB-i)):(o=this.data[h]>>(e-=i)&r,e<=0&&(e+=this.DB,--h)),o>0&&(s=!0),s&&(a+=m(o));return s?a:"0"}function g(){var t=a();return s.ZERO.subTo(this,t),t}function S(){return this.s<0?this.negate():this}function M(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(0!=(i=o-t.t))return this.s<0?-i:i;for(;--o>=0;)if(0!=(i=this.data[o]-t.data[o]))return i;return 0}function w(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function E(){return this.t<=0?0:this.DB*(this.t-1)+w(this.data[this.t-1]^this.s&this.DM)}function O(t,i){var o;for(o=this.t-1;o>=0;--o)i.data[o+t]=this.data[o];for(o=t-1;o>=0;--o)i.data[o]=0;i.t=this.t+t,i.s=this.s}function R(t,i){for(var o=t;o<this.t;++o)i.data[o-t]=this.data[o];i.t=Math.max(this.t-t,0),i.s=this.s}function V(t,i){var o,r=t%this.DB,s=this.DB-r,a=(1<<s)-1,h=Math.floor(t/this.DB),e=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i.data[o+h+1]=this.data[o]>>s|e,e=(this.data[o]&a)<<r;for(o=h-1;o>=0;--o)i.data[o]=0;i.data[h]=e,i.t=this.t+h+1,i.s=this.s,i.clamp()}function q(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)i.t=0;else{var r=t%this.DB,s=this.DB-r,a=(1<<r)-1;i.data[0]=this.data[o]>>r;for(var h=o+1;h<this.t;++h)i.data[h-o-1]|=(this.data[h]&a)<<s,i.data[h-o]=this.data[h]>>r;r>0&&(i.data[this.t-o-1]|=(this.s&a)<<s),i.t=this.t-o,i.clamp()}}function A(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this.data[o]-t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=r<0?-1:0,r<-1?i.data[o++]=this.DV+r:r>0&&(i.data[o++]=r),i.t=o,i.clamp()}function N(t,i){var o=this.abs(),r=t.abs(),a=o.t;for(i.t=a+r.t;--a>=0;)i.data[a]=0;for(a=0;a<r.t;++a)i.data[a+o.t]=o.am(0,r.data[a],i,a,0,o.t);i.s=0,i.clamp(),this.s!=t.s&&s.ZERO.subTo(i,i)}function x(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t.data[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i.data[o],t,2*o,0,1);(t.data[o+i.t]+=i.am(o+1,2*i.data[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t.data[o+i.t]-=i.DV,t.data[o+i.t+1]=1)}t.t>0&&(t.data[t.t-1]+=i.am(o,i.data[o],t,2*o,0,1)),t.s=0,t.clamp()}function L(t,i,o){var r=t.abs();if(!(r.t<=0)){var h=this.abs();if(h.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=a());var e=a(),n=this.s,u=t.s,f=this.DB-w(r.data[r.t-1]);f>0?(r.lShiftTo(f,e),h.lShiftTo(f,o)):(r.copyTo(e),h.copyTo(o));var p=e.t,d=e.data[p-1];if(0!=d){var c=d*(1<<this.F1)+(p>1?e.data[p-2]>>this.F2:0),m=this.FV/c,l=(1<<this.F1)/c,T=1<<this.F2,v=o.t,y=v-p,D=null==i?a():i;for(e.dlShiftTo(y,D),o.compareTo(D)>=0&&(o.data[o.t++]=1,o.subTo(D,o)),s.ONE.dlShiftTo(p,D),D.subTo(e,e);e.t<p;)e.data[e.t++]=0;for(;--y>=0;){var b=o.data[--v]==d?this.DM:Math.floor(o.data[v]*m+(o.data[v-1]+T)*l);if((o.data[v]+=e.am(0,b,o,y,0,p))<b)for(e.dlShiftTo(y,D),o.subTo(D,o);o.data[v]<--b;)o.subTo(D,o)}null!=i&&(o.drShiftTo(p,i),n!=u&&s.ZERO.subTo(i,i)),o.t=p,o.clamp(),f>0&&o.rShiftTo(f,o),n<0&&s.ZERO.subTo(o,o)}}}function I(t){var i=a();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(s.ZERO)>0&&t.subTo(i,i),i}function Z(t){this.m=t}function F(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function P(t){return t}function C(t){t.divRemTo(this.m,null,t)}function j(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function k(t,i){t.squareTo(i),this.reduce(i)}function z(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var i=3&t;return(i=(i=(i=(i=i*(2-(15&t)*i)&15)*(2-(255&t)*i)&255)*(2-((65535&t)*i&65535))&65535)*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i}function U(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function G(t){var i=a();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(s.ZERO)>0&&this.m.subTo(i,i),i}function H(t){var i=a();return t.copyTo(i),this.reduce(i),i}function J(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t.data[i],r=o*this.mpl+((o*this.mph+(t.data[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=i+this.m.t,t.data[o]+=this.m.am(0,r,t,i,0,this.m.t);t.data[o]>=t.DV;)t.data[o]-=t.DV,t.data[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function K(t,i){t.squareTo(i),this.reduce(i)}function Q(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function W(){return 0==(this.t>0?1&this.data[0]:this.s)}function X(t,i){if(t>4294967295||t<1)return s.ONE;var o=a(),r=a(),h=i.convert(this),e=w(t)-1;for(h.copyTo(o);--e>=0;)if(i.sqrTo(o,r),(t&1<<e)>0)i.mulTo(r,h,o);else{var n=o;o=r,r=n}return i.revert(o)}function Y(t,i){var o;return o=t<256||i.isEven()?new Z(i):new U(i),this.exp(t,o)}function $(){var t=a();return this.copyTo(t),t}function _(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function tt(){return 0==this.t?this.s:this.data[0]<<24>>24}function it(){return 0==this.t?this.s:this.data[0]<<16>>16}function ot(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function rt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function st(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var i=this.chunkSize(t),o=Math.pow(t,i),r=y(o),s=a(),h=a(),e="";for(this.divRemTo(r,s,h);s.signum()>0;)e=(o+h.intValue()).toString(t).substr(1)+e,s.divRemTo(r,s,h);return h.intValue().toString(t)+e}function at(t,i){this.fromInt(0),null==i&&(i=10);for(var o=this.chunkSize(i),r=Math.pow(i,o),a=!1,h=0,e=0,n=0;n<t.length;++n){var u=l(t,n);u<0?"-"==t.charAt(n)&&0==this.signum()&&(a=!0):(e=i*e+u,++h>=o&&(this.dMultiply(r),this.dAddOffset(e,0),h=0,e=0))}h>0&&(this.dMultiply(Math.pow(i,h)),this.dAddOffset(e,0)),a&&s.ZERO.subTo(this,this)}function ht(t,i,o){if("number"==typeof i)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),mt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var r=new Array,a=7&t;r.length=1+(t>>3),i.nextBytes(r),a>0?r[0]&=(1<<a)-1:r[0]=0,this.fromString(r,256)}}function et(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-- >0)for(r<this.DB&&(o=this.data[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this.data[t]&(1<<r)-1)<<8-r,o|=this.data[--t]>>(r+=this.DB-8)):(o=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function nt(t){return 0==this.compareTo(t)}function ut(t){return this.compareTo(t)<0?this:t}function ft(t){return this.compareTo(t)>0?this:t}function pt(t,i,o){var r,s,a=Math.min(t.t,this.t);for(r=0;r<a;++r)o.data[r]=i(this.data[r],t.data[r]);if(t.t<this.t){for(s=t.s&this.DM,r=a;r<this.t;++r)o.data[r]=i(this.data[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=a;r<t.t;++r)o.data[r]=i(s,t.data[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()}function dt(t,i){return t&i}function ct(t){var i=a();return this.bitwiseTo(t,dt,i),i}function mt(t,i){return t|i}function lt(t){var i=a();return this.bitwiseTo(t,mt,i),i}function Tt(t,i){return t^i}function vt(t){var i=a();return this.bitwiseTo(t,Tt,i),i}function yt(t,i){return t&~i}function Dt(t){var i=a();return this.bitwiseTo(t,yt,i),i}function bt(){for(var t=a(),i=0;i<this.t;++i)t.data[i]=this.DM&~this.data[i];return t.t=this.t,t.s=~this.s,t}function Bt(t){var i=a();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i}function gt(t){var i=a();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i}function St(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function Mt(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+St(this.data[t]);return this.s<0?this.t*this.DB:-1}function wt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function Et(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=wt(this.data[o]^i);return t}function Ot(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this.data[i]&1<<t%this.DB)}function Rt(t,i){var o=s.ONE.shiftLeft(t);return this.bitwiseTo(o,i,o),o}function Vt(t){return this.changeBit(t,mt)}function qt(t){return this.changeBit(t,yt)}function At(t){return this.changeBit(t,Tt)}function Nt(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this.data[o]+t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=r<0?-1:0,r>0?i.data[o++]=r:r<-1&&(i.data[o++]=this.DV+r),i.t=o,i.clamp()}function xt(t){var i=a();return this.addTo(t,i),i}function Lt(t){var i=a();return this.subTo(t,i),i}function It(t){var i=a();return this.multiplyTo(t,i),i}function Zt(t){var i=a();return this.divRemTo(t,i,null),i}function Ft(t){var i=a();return this.divRemTo(t,null,i),i}function Pt(t){var i=a(),o=a();return this.divRemTo(t,i,o),new Array(i,o)}function Ct(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function jt(t,i){if(0!=t){for(;this.t<=i;)this.data[this.t++]=0;for(this.data[i]+=t;this.data[i]>=this.DV;)this.data[i]-=this.DV,++i>=this.t&&(this.data[this.t++]=0),++this.data[i]}}function kt(){}function zt(t){return t}function Ut(t,i,o){t.multiplyTo(i,o)}function Gt(t,i){t.squareTo(i)}function Ht(t){return this.exp(t,new kt)}function Jt(t,i,o){var r,s=Math.min(this.t+t.t,i);for(o.s=0,o.t=s;s>0;)o.data[--s]=0;for(r=o.t-this.t;s<r;++s)o.data[s+this.t]=this.am(0,t.data[s],o,s,0,this.t);for(r=Math.min(t.t,i);s<r;++s)this.am(0,t.data[s],o,s,0,i-s);o.clamp()}function Kt(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o.data[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o.data[this.t+r-i]=this.am(i-r,t.data[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)}function Qt(t){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Wt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=a();return t.copyTo(i),this.reduce(i),i}function Xt(t){return t}function Yt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function $t(t,i){t.squareTo(i),this.reduce(i)}function _t(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function ti(t,i){var o,r,s=t.bitLength(),h=y(1);if(s<=0)return h;o=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new Z(i):i.isEven()?new Qt(i):new U(i);var e=new Array,n=3,u=o-1,f=(1<<o)-1;if(e[1]=r.convert(this),o>1){var p=a();for(r.sqrTo(e[1],p);n<=f;)e[n]=a(),r.mulTo(p,e[n-2],e[n]),n+=2}var d,c,m=t.t-1,l=!0,T=a();for(s=w(t.data[m])-1;m>=0;){for(s>=u?d=t.data[m]>>s-u&f:(d=(t.data[m]&(1<<s+1)-1)<<u-s,m>0&&(d|=t.data[m-1]>>this.DB+s-u)),n=o;0==(1&d);)d>>=1,--n;if((s-=n)<0&&(s+=this.DB,--m),l)e[d].copyTo(h),l=!1;else{for(;n>1;)r.sqrTo(h,T),r.sqrTo(T,h),n-=2;n>0?r.sqrTo(h,T):(c=h,h=T,T=c),r.mulTo(T,e[d],h)}for(;m>=0&&0==(t.data[m]&1<<s);)r.sqrTo(h,T),c=h,h=T,T=c,--s<0&&(s=this.DB-1,--m)}return r.revert(h)}function ii(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),a=o.getLowestSetBit();if(a<0)return i;for(s<a&&(a=s),a>0&&(i.rShiftTo(a,i),o.rShiftTo(a,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return a>0&&o.lShiftTo(a,o),o}function oi(t){if(t<=0)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this.data[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this.data[r])%t;return o}function ri(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return s.ZERO;for(var o=t.clone(),r=this.clone(),a=y(1),h=y(0),e=y(0),n=y(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),i?(a.isEven()&&h.isEven()||(a.addTo(this,a),h.subTo(t,h)),a.rShiftTo(1,a)):h.isEven()||h.subTo(t,h),h.rShiftTo(1,h);for(;r.isEven();)r.rShiftTo(1,r),i?(e.isEven()&&n.isEven()||(e.addTo(this,e),n.subTo(t,n)),e.rShiftTo(1,e)):n.isEven()||n.subTo(t,n),n.rShiftTo(1,n);o.compareTo(r)>=0?(o.subTo(r,o),i&&a.subTo(e,a),h.subTo(n,h)):(r.subTo(o,r),i&&e.subTo(a,e),n.subTo(h,n))}return 0!=r.compareTo(s.ONE)?s.ZERO:n.compareTo(t)>=0?n.subtract(t):n.signum()<0?(n.addTo(t,n),n.signum()<0?n.add(t):n):n}Z.prototype.convert=F,Z.prototype.revert=P,Z.prototype.reduce=C,Z.prototype.mulTo=j,Z.prototype.sqrTo=k,U.prototype.convert=G,U.prototype.revert=H,U.prototype.reduce=J,U.prototype.mulTo=Q,U.prototype.sqrTo=K,s.prototype.copyTo=T,s.prototype.fromInt=v,s.prototype.fromString=D,s.prototype.clamp=b,s.prototype.dlShiftTo=O,s.prototype.drShiftTo=R,s.prototype.lShiftTo=V,s.prototype.rShiftTo=q,s.prototype.subTo=A,s.prototype.multiplyTo=N,s.prototype.squareTo=x,s.prototype.divRemTo=L,s.prototype.invDigit=z,s.prototype.isEven=W,s.prototype.exp=X,s.prototype.toString=B,s.prototype.negate=g,s.prototype.abs=S,s.prototype.compareTo=M,s.prototype.bitLength=E,s.prototype.mod=I,s.prototype.modPowInt=Y,s.ZERO=y(0),s.ONE=y(1),kt.prototype.convert=zt,kt.prototype.revert=zt,kt.prototype.mulTo=Ut,kt.prototype.sqrTo=Gt,Qt.prototype.convert=Wt,Qt.prototype.revert=Xt,Qt.prototype.reduce=Yt,Qt.prototype.mulTo=_t,Qt.prototype.sqrTo=$t;var si=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ai=(1<<26)/si[si.length-1];function hi(t){var i,o=this.abs();if(1==o.t&&o.data[0]<=si[si.length-1]){for(i=0;i<si.length;++i)if(o.data[0]==si[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<si.length;){for(var r=si[i],s=i+1;s<si.length&&r<ai;)r*=si[s++];for(r=o.modInt(r);i<s;)if(r%si[i++]==0)return!1}return o.millerRabin(t)}function ei(t){var i=this.subtract(s.ONE),o=i.getLowestSetBit();if(o<=0)return!1;for(var r,a=i.shiftRight(o),h=ni(),e=0;e<t;++e){do{r=new s(this.bitLength(),h)}while(r.compareTo(s.ONE)<=0||r.compareTo(i)>=0);var n=r.modPow(a,this);if(0!=n.compareTo(s.ONE)&&0!=n.compareTo(i)){for(var u=1;u++<o&&0!=n.compareTo(i);)if(0==(n=n.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=n.compareTo(i))return!1}}return!0}function ni(){return{nextBytes:function(t){for(var i=0;i<t.length;++i)t[i]=Math.floor(256*Math.random())}}}s.prototype.chunkSize=ot,s.prototype.toRadix=st,s.prototype.fromRadix=at,s.prototype.fromNumber=ht,s.prototype.bitwiseTo=pt,s.prototype.changeBit=Rt,s.prototype.addTo=Nt,s.prototype.dMultiply=Ct,s.prototype.dAddOffset=jt,s.prototype.multiplyLowerTo=Jt,s.prototype.multiplyUpperTo=Kt,s.prototype.modInt=oi,s.prototype.millerRabin=ei,s.prototype.clone=$,s.prototype.intValue=_,s.prototype.byteValue=tt,s.prototype.shortValue=it,s.prototype.signum=rt,s.prototype.toByteArray=et,s.prototype.equals=nt,s.prototype.min=ut,s.prototype.max=ft,s.prototype.and=ct,s.prototype.or=lt,s.prototype.xor=vt,s.prototype.andNot=Dt,s.prototype.not=bt,s.prototype.shiftLeft=Bt,s.prototype.shiftRight=gt,s.prototype.getLowestSetBit=Mt,s.prototype.bitCount=Et,s.prototype.testBit=Ot,s.prototype.setBit=Vt,s.prototype.clearBit=qt,s.prototype.flipBit=At,s.prototype.add=xt,s.prototype.subtract=Lt,s.prototype.multiply=It,s.prototype.divide=Zt,s.prototype.remainder=Ft,s.prototype.divideAndRemainder=Pt,s.prototype.modPow=ti,s.prototype.modInverse=ri,s.prototype.pow=Ht,s.prototype.gcd=ii,s.prototype.isProbablePrime=hi;
},{"./forge":"jo0T"}],"wQ5C":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha1=e.sha1||{};e.md.sha1=e.md.algorithms.sha1=t,t.create=function(){r||n();var t=null,s=e.util.createBuffer(),u=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var h=a.messageLengthSize/4,r=0;r<h;++r)a.fullMessageLength.push(0);return s=e.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(h,r){"utf8"===r&&(h=e.util.encodeUtf8(h));var n=h.length;a.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=n[1],n[1]=n[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,n[0]=n[1]/4294967296>>>0;return s.putBytes(h),g(t,u,s),(s.read>2048||0===s.length())&&s.compact(),a},a.digest=function(){var r=e.util.createBuffer();r.putBytes(s.bytes());var n,l=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;r.putBytes(h.substr(0,a.blockLength-l));for(var f=8*a.fullMessageLength[0],o=0;o<a.fullMessageLength.length-1;++o)f+=(n=8*a.fullMessageLength[o+1])/4294967296>>>0,r.putInt32(f>>>0),f=n>>>0;r.putInt32(f);var i={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};g(i,u,r);var L=e.util.createBuffer();return L.putInt32(i.h0),L.putInt32(i.h1),L.putInt32(i.h2),L.putInt32(i.h3),L.putInt32(i.h4),L},a};var h=null,r=!1;function n(){h=String.fromCharCode(128),h+=e.util.fillString(String.fromCharCode(0),64),r=!0}function g(e,t,h){for(var r,n,g,s,u,a,l,f=h.length();f>=64;){for(n=e.h0,g=e.h1,s=e.h2,u=e.h3,a=e.h4,l=0;l<16;++l)r=h.getInt32(),t[l]=r,r=(n<<5|n>>>27)+(u^g&(s^u))+a+1518500249+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<20;++l)r=(r=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|r>>>31,t[l]=r,r=(n<<5|n>>>27)+(u^g&(s^u))+a+1518500249+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<32;++l)r=(r=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|r>>>31,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+1859775393+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<40;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+1859775393+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<60;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g&s|u&(g^s))+a+2400959708+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<80;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+3395469782+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;e.h0=e.h0+n|0,e.h1=e.h1+g|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,e.h4=e.h4+a|0,f-=64}}
},{"./forge":"jo0T","./md":"7aIq","./util":"gkgk"}],"rEAK":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./random"),require("./sha1");var t=module.exports=e.pkcs1=e.pkcs1||{};function r(t,r,g){g||(g=e.md.sha1.create());for(var n="",i=Math.ceil(r/g.digestLength),s=0;s<i;++s){var h=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);g.start(),g.update(t+h),n+=g.digest().getBytes()}return n.substring(0,r)}t.encode_rsa_oaep=function(t,g,n){var i,s,h,d;"string"==typeof n?(i=n,s=arguments[3]||void 0,h=arguments[4]||void 0):n&&(i=n.label||void 0,s=n.seed||void 0,h=n.md||void 0,n.mgf1&&n.mgf1.md&&(d=n.mgf1.md)),h?h.start():h=e.md.sha1.create(),d||(d=h);var a=Math.ceil(t.n.bitLength()/8),o=a-2*h.digestLength-2;if(g.length>o)throw(c=new Error("RSAES-OAEP input message length is too long.")).length=g.length,c.maxLength=o,c;i||(i=""),h.update(i,"raw");for(var l=h.digest(),u="",v=o-g.length,f=0;f<v;f++)u+="\0";var m=l.getBytes()+u+""+g;if(s){if(s.length!==h.digestLength){var c;throw(c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=s.length,c.digestLength=h.digestLength,c}}else s=e.random.getBytes(h.digestLength);var L=r(s,a-h.digestLength-1,d),A=e.util.xorBytes(m,L,m.length),E=r(A,h.digestLength,d);return"\0"+e.util.xorBytes(s,E,s.length)+A},t.decode_rsa_oaep=function(t,g,n){var i,s,h;"string"==typeof n?(i=n,s=arguments[3]||void 0):n&&(i=n.label||void 0,s=n.md||void 0,n.mgf1&&n.mgf1.md&&(h=n.mgf1.md));var d=Math.ceil(t.n.bitLength()/8);if(g.length!==d)throw(L=new Error("RSAES-OAEP encoded message length is invalid.")).length=g.length,L.expectedLength=d,L;if(void 0===s?s=e.md.sha1.create():s.start(),h||(h=s),d<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),s.update(i,"raw");for(var a=s.digest().getBytes(),o=g.charAt(0),l=g.substring(1,s.digestLength+1),u=g.substring(1+s.digestLength),v=r(u,s.digestLength,h),f=r(e.util.xorBytes(l,v,l.length),d-s.digestLength-1,h),m=e.util.xorBytes(u,f,u.length),c=m.substring(0,s.digestLength),L="\0"!==o,A=0;A<s.digestLength;++A)L|=a.charAt(A)!==c.charAt(A);for(var E=1,p=s.digestLength,w=s.digestLength;w<m.length;w++){var y=m.charCodeAt(w);L|=y&(E?65534:0),p+=E&=1&y^1}if(L||1!==m.charCodeAt(p))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(p+1)};
},{"./forge":"jo0T","./util":"gkgk","./random":"NGh+","./sha1":"wQ5C"}],"/5IH":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./jsbn"),require("./random"),function(){if(e.prime)module.exports=e.prime;else{var r=module.exports=e.prime=e.prime||{},n=e.jsbn.BigInteger,t=[6,4,2,4,2,4,6,2],i=new n(null);i.fromInt(30);var o=function(e,r){return e|r};r.generateProbablePrime=function(r,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var u=t.prng||e.random,s={nextBytes:function(e){for(var r=u.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=r.charCodeAt(n)}};if("PRIMEINC"===o.name)return function(r,t,i,o){if("workers"in i)return function(r,t,i,o){if("undefined"==typeof Worker)return a(r,t,i,o);var u=f(r,t),s=i.workers,m=i.workLoad||100,l=30*m/8,d=i.workerScript||"forge/prime.worker.js";if(-1===s)return e.util.estimateCores(function(e,r){e&&(r=2),s=r-1,g()});function g(){s=Math.max(1,s);for(var e=[],i=0;i<s;++i)e[i]=new Worker(d);for(var i=0;i<s;++i)e[i].addEventListener("message",g);var a=!1;function g(i){if(!a){0;var s=i.data;if(s.found){for(var d=0;d<e.length;++d)e[d].terminate();return a=!0,o(null,new n(s.prime,16))}u.bitLength()>r&&(u=f(r,t));var g=u.toString(16);i.target.postMessage({hex:g,workLoad:m}),u.dAddOffset(l,0)}}}g()}(r,t,i,o);return a(r,t,i,o)}(r,s,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function a(r,n,i,o){var a=f(r,n),u=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in i&&(u=i.millerRabinTests);var s=10;"maxBlockTime"in i&&(s=i.maxBlockTime),function r(n,i,o,a,u,s,m){var l=+new Date;do{if(n.bitLength()>i&&(n=f(i,o)),n.isProbablePrime(u))return m(null,n);n.dAddOffset(t[a++%8],0)}while(s<0||+new Date-l<s);e.util.setImmediate(function(){r(n,i,o,a,u,s,m)})}(a,r,n,0,u,s,o)}function f(e,r){var t=new n(e,r),a=e-1;return t.testBit(a)||t.bitwiseTo(n.ONE.shiftLeft(a),o,t),t.dAddOffset(31-t.mod(i).byteValue(),0),t}}();
},{"./forge":"jo0T","./util":"gkgk","./jsbn":"NE4M","./random":"NGh+"}],"X/pg":[function(require,module,exports) {
var e=require("./forge");if(require("./asn1"),require("./jsbn"),require("./oids"),require("./pkcs1"),require("./prime"),require("./random"),require("./util"),void 0===t)var t=e.jsbn.BigInteger;var r=e.util.isNodejs?require("crypto"):null,n=e.asn1,a=e.util;e.pki=e.pki||{},module.exports=e.pki.rsa=e.rsa=e.rsa||{};var i=e.pki,o=[6,4,2,4,2,4,6,2],s={name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},p={name:"RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},l=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},c=function(e){var t;if(!(e.algorithm in i.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=i.oids[e.algorithm];var a=n.oidToDer(t).getBytes(),o=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),s=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);s.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,a)),s.value.push(n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,""));var u=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.digest().getBytes());return o.value.push(s),o.value.push(u),n.toDer(o).getBytes()},y=function(r,n,a){if(a)return r.modPow(n.e,n.n);if(!n.p||!n.q)return r.modPow(n.d,n.n);var i;n.dP||(n.dP=n.d.mod(n.p.subtract(t.ONE))),n.dQ||(n.dQ=n.d.mod(n.q.subtract(t.ONE))),n.qInv||(n.qInv=n.q.modInverse(n.p));do{i=new t(e.util.bytesToHex(e.random.getBytes(n.n.bitLength()/8)),16)}while(i.compareTo(n.n)>=0||!i.gcd(n.n).equals(t.ONE));for(var o=(r=r.multiply(i.modPow(n.e,n.n)).mod(n.n)).mod(n.p).modPow(n.dP,n.p),s=r.mod(n.q).modPow(n.dQ,n.q);o.compareTo(s)<0;)o=o.add(n.p);var u=o.subtract(s).multiply(n.qInv).mod(n.p).multiply(n.q).add(s);return u=u.multiply(i.modInverse(n.n)).mod(n.n)};function f(t,r,n){var a=e.util.createBuffer(),i=Math.ceil(r.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}a.putByte(0),a.putByte(n);var s,u=i-3-t.length;if(0===n||1===n){s=0===n?0:255;for(var p=0;p<u;++p)a.putByte(s)}else for(;u>0;){var l=0,c=e.random.getBytes(u);for(p=0;p<u;++p)0===(s=c.charCodeAt(p))?++l:a.putByte(s);u=l}return a.putByte(0),a.putBytes(t),a}function E(t,r,n,a){var i=Math.ceil(r.n.bitLength()/8),o=e.util.createBuffer(t),s=o.getByte(),u=o.getByte();if(0!==s||n&&0!==u&&1!==u||!n&&2!=u||n&&0===u&&void 0===a)throw new Error("Encryption block is invalid.");var p=0;if(0===u){p=i-3-a;for(var l=0;l<p;++l)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(p=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++p}else if(2===u)for(p=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++p}if(0!==o.getByte()||p!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function d(r,n,a){"function"==typeof n&&(a=n,n={});var o={algorithm:{name:(n=n||{}).algorithm||"PRIMEINC",options:{workers:n.workers||2,workLoad:n.workLoad||100,workerScript:n.workerScript}}};function s(){u(r.pBits,function(e,t){return e?a(e):(r.p=t,null!==r.q?p(e,r.q):void u(r.qBits,p))})}function u(t,r){e.prime.generateProbablePrime(t,o,r)}function p(e,n){if(e)return a(e);if(r.q=n,r.p.compareTo(r.q)<0){var o=r.p;r.p=r.q,r.q=o}if(0!==r.p.subtract(t.ONE).gcd(r.e).compareTo(t.ONE))return r.p=null,void s();if(0!==r.q.subtract(t.ONE).gcd(r.e).compareTo(t.ONE))return r.q=null,void u(r.qBits,p);if(r.p1=r.p.subtract(t.ONE),r.q1=r.q.subtract(t.ONE),r.phi=r.p1.multiply(r.q1),0!==r.phi.gcd(r.e).compareTo(t.ONE))return r.p=r.q=null,void s();if(r.n=r.p.multiply(r.q),r.n.bitLength()!==r.bits)return r.q=null,void u(r.qBits,p);var l=r.e.modInverse(r.phi);r.keys={privateKey:i.rsa.setPrivateKey(r.n,r.e,l,r.p,r.q,l.mod(r.p1),l.mod(r.q1),r.q.modInverse(r.p)),publicKey:i.rsa.setPublicKey(r.n,r.e)},a(null,r.keys)}"prng"in n&&(o.prng=n.prng),s()}function v(t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=e.util.hexToBytes(r);return n.length>1&&(0===n.charCodeAt(0)&&0==(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128==(128&n.charCodeAt(1)))?n.substr(1):n}function S(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function m(t){return e.util.isNodejs&&"function"==typeof r[t]}function g(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.crypto&&"object"==typeof a.globalScope.crypto.subtle&&"function"==typeof a.globalScope.crypto.subtle[e]}function K(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.msCrypto&&"object"==typeof a.globalScope.msCrypto.subtle&&"function"==typeof a.globalScope.msCrypto.subtle[e]}function b(t){for(var r=e.util.hexToBytes(t.toString(16)),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}function N(e){if("RSA"!==e.kty)throw new Error('Unsupported key algorithm "'+e.kty+'"; algorithm must be "RSA".');return i.setRsaPrivateKey(C(e.n),C(e.e),C(e.d),C(e.p),C(e.q),C(e.dp),C(e.dq),C(e.qi))}function R(e){if("RSA"!==e.kty)throw new Error('Key algorithm must be "RSA".');return i.setRsaPublicKey(C(e.n),C(e.e))}function C(r){return new t(e.util.bytesToHex(e.util.decode64(r)),16)}i.rsa.encrypt=function(r,n,a){var i,o=a,s=Math.ceil(n.n.bitLength()/8);!1!==a&&!0!==a?(o=2===a,i=f(r,n,a)):(i=e.util.createBuffer()).putBytes(r);for(var u=new t(i.toHex(),16),p=y(u,n,o).toString(16),l=e.util.createBuffer(),c=s-Math.ceil(p.length/2);c>0;)l.putByte(0),--c;return l.putBytes(e.util.hexToBytes(p)),l.getBytes()},i.rsa.decrypt=function(r,n,a,i){var o=Math.ceil(n.n.bitLength()/8);if(r.length!==o){var s=new Error("Encrypted message length is invalid.");throw s.length=r.length,s.expected=o,s}var u=new t(e.util.createBuffer(r).toHex(),16);if(u.compareTo(n.n)>=0)throw new Error("Encrypted message is invalid.");for(var p=y(u,n,a).toString(16),l=e.util.createBuffer(),c=o-Math.ceil(p.length/2);c>0;)l.putByte(0),--c;return l.putBytes(e.util.hexToBytes(p)),!1!==i?E(l.getBytes(),n,a):l.getBytes()},i.rsa.createKeyPairGenerationState=function(r,n,a){"string"==typeof r&&(r=parseInt(r,10)),r=r||2048;var i,o=(a=a||{}).prng||e.random,s={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=a.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(i={algorithm:u,state:0,bits:r,rng:s,eInt:n||65537,e:new t(null),p:null,q:null,qBits:r>>1,pBits:r-(r>>1),pqState:0,num:null,keys:null}).e.fromInt(i.eInt),i},i.rsa.stepKeyPairGenerationState=function(e,r){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new t(null);n.fromInt(30);for(var a,s=0,u=function(e,t){return e|t},p=+new Date,l=0;null===e.keys&&(r<=0||l<r);){if(0===e.state){var c=null===e.p?e.pBits:e.qBits,y=c-1;0===e.pqState?(e.num=new t(c,e.rng),e.num.testBit(y)||e.num.bitwiseTo(t.ONE.shiftLeft(y),u,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(S(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(o[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(t.ONE).gcd(e.e).compareTo(t.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(t.ONE),e.q1=e.q.subtract(t.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(t.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:i.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:i.rsa.setPublicKey(e.n,e.e)}}l+=(a=+new Date)-p,p=a}return null!==e.keys},i.rsa.generateKeyPair=function(t,o,s,u){if(1===arguments.length?"object"==typeof t?(s=t,t=void 0):"function"==typeof t&&(u=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof o?(u=o,o=void 0):"number"!=typeof o&&(s=o,o=void 0):(s=t,u=o,t=void 0,o=void 0):3===arguments.length&&("number"==typeof o?"function"==typeof s&&(u=s,s=void 0):(u=s,s=o,o=void 0)),s=s||{},void 0===t&&(t=s.bits||2048),void 0===o&&(o=s.e||65537),!e.options.usePureJavaScript&&!s.prng&&t>=256&&t<=16384&&(65537===o||3===o))if(u){if(m("generateKeyPair"))return r.generateKeyPair("rsa",{modulusLength:t,publicExponent:o,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(e,t,r){if(e)return u(e);u(null,{privateKey:i.privateKeyFromPem(r),publicKey:i.publicKeyFromPem(t)})});if(g("generateKey")&&g("exportKey"))return a.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b(o),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return a.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){u(e)}).then(function(t){if(t){var r=i.privateKeyFromAsn1(n.fromDer(e.util.createBuffer(t)));u(null,{privateKey:r,publicKey:i.setRsaPublicKey(r.n,r.e)})}});if(K("generateKey")&&K("exportKey")){var p=a.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b(o),hash:{name:"SHA-256"}},!0,["sign","verify"]);return p.oncomplete=function(t){var r=t.target.result,o=a.globalScope.msCrypto.subtle.exportKey("pkcs8",r.privateKey);o.oncomplete=function(t){var r=t.target.result,a=i.privateKeyFromAsn1(n.fromDer(e.util.createBuffer(r)));u(null,{privateKey:a,publicKey:i.setRsaPublicKey(a.n,a.e)})},o.onerror=function(e){u(e)}},void(p.onerror=function(e){u(e)})}}else if(m("generateKeyPairSync")){var l=r.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:o,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:i.privateKeyFromPem(l.privateKey),publicKey:i.publicKeyFromPem(l.publicKey)}}var c=i.rsa.createKeyPairGenerationState(t,o,s);if(!u)return i.rsa.stepKeyPairGenerationState(c,0),c.keys;d(c,s,u)},i.setRsaPublicKey=i.rsa.setPublicKey=function(t,r){var a={n:t,e:r,encrypt:function(t,r,n){if("string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===r)r={encode:function(e,t,r){return f(e,t,2).getBytes()}};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={encode:function(t,r){return e.pkcs1.encode_rsa_oaep(r,t,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(r))r={encode:function(e){return e}};else if("string"==typeof r)throw new Error('Unsupported encryption scheme: "'+r+'".');var o=r.encode(t,a,!0);return i.rsa.encrypt(o,a,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=E(t,a,!0),e===n.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=E(t,a,!0))}});var o=i.rsa.decrypt(t,a,!0,!1);return r.verify(e,o,a.n.bitLength())}};return a},i.setRsaPrivateKey=i.rsa.setPrivateKey=function(t,r,n,a,o,s,u,p){var l={n:t,e:r,d:n,p:a,q:o,dP:s,dQ:u,qInv:p,decrypt:function(t,r,n){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5");var a=i.rsa.decrypt(t,l,!1,!1);if("RSAES-PKCS1-V1_5"===r)r={decode:E};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={decode:function(t,r){return e.pkcs1.decode_rsa_oaep(r,t,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(r))throw new Error('Unsupported encryption scheme: "'+r+'".');r={decode:function(e){return e}}}return r.decode(a,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:c},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return i.rsa.encrypt(n,l,r)}};return l},i.wrapRsaPrivateKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(e).getBytes())])},i.privateKeyFromAsn1=function(r){var a,o,p,l,c,y,f,E,d={},v=[];if(n.validate(r,s,d,v)&&(r=n.fromDer(e.util.createBuffer(d.privateKey))),d={},v=[],!n.validate(r,u,d,v)){var S=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw S.errors=v,S}return a=e.util.createBuffer(d.privateKeyModulus).toHex(),o=e.util.createBuffer(d.privateKeyPublicExponent).toHex(),p=e.util.createBuffer(d.privateKeyPrivateExponent).toHex(),l=e.util.createBuffer(d.privateKeyPrime1).toHex(),c=e.util.createBuffer(d.privateKeyPrime2).toHex(),y=e.util.createBuffer(d.privateKeyExponent1).toHex(),f=e.util.createBuffer(d.privateKeyExponent2).toHex(),E=e.util.createBuffer(d.privateKeyCoefficient).toHex(),i.setRsaPrivateKey(new t(a,16),new t(o,16),new t(p,16),new t(l,16),new t(c,16),new t(y,16),new t(f,16),new t(E,16))},i.privateKeyToAsn1=i.privateKeyToRSAPrivateKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.e)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.d)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.p)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.q)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.dP)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.dQ)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.qInv))])},i.publicKeyFromAsn1=function(r){var a={},o=[];if(n.validate(r,l,a,o)){var s,u=n.derToOid(a.publicKeyOid);if(u!==i.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=u,s;r=a.rsaPublicKey}if(o=[],!n.validate(r,p,a,o))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=o,s;var c=e.util.createBuffer(a.publicKeyModulus).toHex(),y=e.util.createBuffer(a.publicKeyExponent).toHex();return i.setRsaPublicKey(new t(c,16),new t(y,16))},i.publicKeyToAsn1=i.publicKeyToSubjectPublicKeyInfo=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,[i.publicKeyToRSAPublicKey(e)])])},i.publicKeyToRSAPublicKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.e))])};
},{"./forge":"jo0T","./asn1":"UkhS","./jsbn":"NE4M","./oids":"5iY2","./pkcs1":"rEAK","./prime":"/5IH","./random":"NGh+","./util":"gkgk"}],"bUou":[function(require,module,exports) {
var e=require("./forge");if(require("./aes"),require("./asn1"),require("./des"),require("./md"),require("./oids"),require("./pbkdf2"),require("./pem"),require("./random"),require("./rc2"),require("./rsa"),require("./util"),void 0===t)var t=e.jsbn.BigInteger;var r=e.asn1,a=e.pki=e.pki||{};module.exports=a.pbe=e.pbe=e.pbe||{};var s=a.oids,n={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},i={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};function p(e,t){return e.start().update(t).digest().getBytes()}function c(e){var t;if(e){if(!(t=a.oids[r.derToOid(e)])){var s=new Error("Unsupported PRF OID.");throw s.oid=e,s.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],s}}else t="hmacWithSHA1";return y(t)}function y(t){var r=e.md;switch(t){case"hmacWithSHA224":r=e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var a=new Error("Unsupported PRF algorithm.");throw a.algorithm=t,a.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],a}if(!(r&&t in r))throw new Error("Unknown hash algorithm: "+t);return r[t].create()}function E(t,s,n,i){var o=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,t),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.getBytes())]);return"hmacWithSHA1"!==i&&o.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,e.util.hexToBytes(n.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids[i]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),o}a.encryptPrivateKeyInfo=function(t,n,i){(i=i||{}).saltSize=i.saltSize||8,i.count=i.count||2048,i.algorithm=i.algorithm||"aes128",i.prfAlgorithm=i.prfAlgorithm||"sha1";var o,p,c,C=e.random.getBytesSync(i.saltSize),d=i.count,l=r.integerToDer(d);if(0===i.algorithm.indexOf("aes")||"des"===i.algorithm){var u,h,S;switch(i.algorithm){case"aes128":o=16,u=16,h=s["aes128-CBC"],S=e.aes.createEncryptionCipher;break;case"aes192":o=24,u=16,h=s["aes192-CBC"],S=e.aes.createEncryptionCipher;break;case"aes256":o=32,u=16,h=s["aes256-CBC"],S=e.aes.createEncryptionCipher;break;case"des":o=8,u=8,h=s.desCBC,S=e.des.createEncryptionCipher;break;default:throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=i.algorithm,T}var m="hmacWith"+i.prfAlgorithm.toUpperCase(),f=y(m),B=e.pkcs5.pbkdf2(n,C,d,o,f),g=e.random.getBytesSync(u);(v=S(B)).start(g),v.update(r.toDer(t)),v.finish(),c=v.output.getBytes();var A=E(C,l,o,m);p=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pkcs5PBKDF2).getBytes()),A]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,g)])])])}else{var T;if("3des"!==i.algorithm)throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=i.algorithm,T;o=24;var v,I=new e.util.ByteBuffer(C);B=a.pbe.generatePkcs12Key(n,I,1,d,o),g=a.pbe.generatePkcs12Key(n,I,2,d,o);(v=e.des.createEncryptionCipher(B)).start(g),v.update(r.toDer(t)),v.finish(),c=v.output.getBytes(),p=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,l.getBytes())])])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[p,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(t,s){var i=null,o={},p=[];if(!r.validate(t,n,o,p)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=p,c}var y=r.derToOid(o.encryptionOid),E=a.pbe.getCipher(y,o.encryptionParams,s),C=e.util.createBuffer(o.encryptedData);return E.update(C),E.finish()&&(i=r.fromDer(E.output)),i},a.encryptedPrivateKeyToPem=function(t,a){var s={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(t).getBytes()};return e.pem.encode(s,{maxline:a})},a.encryptedPrivateKeyFromPem=function(t){var a=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==a.type){var s=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return r.fromDer(a.body)},a.encryptRsaPrivateKey=function(t,s,n){if(!(n=n||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(t));return i=a.encryptPrivateKeyInfo(i,s,n),a.encryptedPrivateKeyToPem(i)}var o,p,c,y;switch(n.algorithm){case"aes128":o="AES-128-CBC",c=16,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,p=e.random.getBytesSync(8),y=e.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,p=e.random.getBytesSync(8),y=e.des.createEncryptionCipher;break;default:var E=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw E.algorithm=n.algorithm,E}var C=y(e.pbe.opensslDeriveBytes(s,p.substr(0,8),c));C.start(p),C.update(r.toDer(a.privateKeyToAsn1(t))),C.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:e.util.bytesToHex(p).toUpperCase()},body:C.output.getBytes()};return e.pem.encode(d)},a.decryptRsaPrivateKey=function(t,s){var n=null,i=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,p;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,p=e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,p=e.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,p=e.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,p=e.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,p=e.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,p=function(t){return e.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":o=8,p=function(t){return e.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":o=16,p=function(t){return e.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var y=e.util.hexToBytes(i.dekInfo.parameters),E=p(e.pbe.opensslDeriveBytes(s,y.substr(0,8),o));if(E.start(y),E.update(e.util.createBuffer(i.body)),!E.finish())return n;n=E.output.getBytes()}else n=i.body;return null!==(n="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(r.fromDer(n),s):r.fromDer(n))&&(n=a.privateKeyFromAsn1(n)),n},a.pbe.generatePkcs12Key=function(t,r,a,s,n,i){var o,p;if(null==i){if(!("sha1"in e.md))throw new Error('"sha1" hash algorithm unavailable.');i=e.md.sha1.create()}var c=i.digestLength,y=i.blockLength,E=new e.util.ByteBuffer,C=new e.util.ByteBuffer;if(null!=t){for(p=0;p<t.length;p++)C.putInt16(t.charCodeAt(p));C.putInt16(0)}var d=C.length(),l=r.length(),u=new e.util.ByteBuffer;u.fillWithByte(a,y);var h=y*Math.ceil(l/y),S=new e.util.ByteBuffer;for(p=0;p<h;p++)S.putByte(r.at(p%l));var m=y*Math.ceil(d/y),f=new e.util.ByteBuffer;for(p=0;p<m;p++)f.putByte(C.at(p%d));var B=S;B.putBuffer(f);for(var g=Math.ceil(n/c),A=1;A<=g;A++){var T=new e.util.ByteBuffer;T.putBytes(u.bytes()),T.putBytes(B.bytes());for(var v=0;v<s;v++)i.start(),i.update(T.getBytes()),T=i.digest();var I=new e.util.ByteBuffer;for(p=0;p<y;p++)I.putByte(T.at(p%c));var R=Math.ceil(l/y)+Math.ceil(d/y),N=new e.util.ByteBuffer;for(o=0;o<R;o++){var P=new e.util.ByteBuffer(B.getBytes(y)),b=511;for(p=I.length()-1;p>=0;p--)b>>=8,b+=I.at(p)+P.at(p),P.setAt(p,255&b);N.putBuffer(P)}B=N,E.putBuffer(T)}return E.truncate(E.length()-n),E},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var s=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw s.oid=e,s.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],s}},a.pbe.getCipherForPBES2=function(t,s,n){var o,p={},y=[];if(!r.validate(s,i,p,y))throw(o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=y,o;if((t=r.derToOid(p.kdfOid))!==a.oids.pkcs5PBKDF2)throw(o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,o.supportedOids=["pkcs5PBKDF2"],o;if((t=r.derToOid(p.encOid))!==a.oids["aes128-CBC"]&&t!==a.oids["aes192-CBC"]&&t!==a.oids["aes256-CBC"]&&t!==a.oids["des-EDE3-CBC"]&&t!==a.oids.desCBC)throw(o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o;var E,C,d=p.kdfSalt,l=e.util.createBuffer(p.kdfIterationCount);switch(l=l.getInt(l.length()<<3),a.oids[t]){case"aes128-CBC":E=16,C=e.aes.createDecryptionCipher;break;case"aes192-CBC":E=24,C=e.aes.createDecryptionCipher;break;case"aes256-CBC":E=32,C=e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":E=24,C=e.des.createDecryptionCipher;break;case"desCBC":E=8,C=e.des.createDecryptionCipher}var u=c(p.prfOid),h=e.pkcs5.pbkdf2(n,d,l,E,u),S=p.encIv,m=C(h);return m.start(S),m},a.pbe.getCipherForPKCS12PBE=function(t,s,n){var i={},p=[];if(!r.validate(s,o,i,p))throw(u=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=p,u;var y,E,C,d=e.util.createBuffer(i.salt),l=e.util.createBuffer(i.iterations);switch(l=l.getInt(l.length()<<3),t){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:y=24,E=8,C=e.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:y=5,E=8,C=function(t,r){var a=e.rc2.createDecryptionCipher(t,40);return a.start(r,null),a};break;default:var u;throw(u=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,u}var h=c(i.prfOid),S=a.pbe.generatePkcs12Key(n,d,1,l,y,h);return h.start(),C(S,a.pbe.generatePkcs12Key(n,d,2,l,E,h))},a.pbe.opensslDeriveBytes=function(t,r,a,s){if(null==s){if(!("md5"in e.md))throw new Error('"md5" hash algorithm unavailable.');s=e.md.md5.create()}null===r&&(r="");for(var n=[p(s,t+r)],i=16,o=1;i<a;++o,i+=16)n.push(p(s,n[o-1]+t+r));return n.join("").substr(0,a)};
},{"./forge":"jo0T","./aes":"VOs8","./asn1":"UkhS","./des":"YpCS","./md":"7aIq","./oids":"5iY2","./pbkdf2":"Avv+","./pem":"4vk0","./random":"NGh+","./rc2":"Nn8j","./rsa":"X/pg","./util":"gkgk"}],"Vv8x":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./util");var t=e.asn1,a=module.exports=e.pkcs7asn1=e.pkcs7asn1||{};e.pkcs7=e.pkcs7||{},e.pkcs7.asn1=a;var s={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=s;var n={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},a.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)};var r={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[r]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};
},{"./forge":"jo0T","./asn1":"UkhS","./util":"gkgk"}],"+QRT":[function(require,module,exports) {
var e=require("./forge");require("./util"),e.mgf=e.mgf||{};var t=module.exports=e.mgf.mgf1=e.mgf1=e.mgf1||{};t.create=function(t){return{generate:function(r,u){for(var f=new e.util.ByteBuffer,g=Math.ceil(u/t.digestLength),n=0;n<g;n++){var a=new e.util.ByteBuffer;a.putInt32(n),t.start(),t.update(r+a.getBytes()),f.putBuffer(t.digest())}return f.truncate(f.length()-u),f.getBytes()}}};
},{"./forge":"jo0T","./util":"gkgk"}],"JuDB":[function(require,module,exports) {
var e=require("./forge");require("./mgf1"),module.exports=e.mgf=e.mgf||{},e.mgf.mgf1=e.mgf1;
},{"./forge":"jo0T","./mgf1":"+QRT"}],"Wrpf":[function(require,module,exports) {
var t=require("./forge");require("./random"),require("./util");var e=module.exports=t.pss=t.pss||{};e.create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var r,o=e.md,n=e.mgf,s=o.digestLength,a=e.salt||null;if("string"==typeof a&&(a=t.util.createBuffer(a)),"saltLength"in e)r=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");r=a.length()}if(null!==a&&a.length()!==r)throw new Error("Given salt length does not match length of given salt.");var i=e.prng||t.random,f={encode:function(e,f){var g,u,h=f-1,l=Math.ceil(h/8),d=e.digest().getBytes();if(l<s+r+2)throw new Error("Message is too long to encrypt.");u=null===a?i.getBytesSync(r):a.bytes();var c=new t.util.ByteBuffer;c.fillWithByte(0,8),c.putBytes(d),c.putBytes(u),o.start(),o.update(c.getBytes());var y=o.digest().getBytes(),B=new t.util.ByteBuffer;B.fillWithByte(0,l-r-s-2),B.putByte(1),B.putBytes(u);var C=B.getBytes(),p=l-s-1,v=n.generate(y,p),w="";for(g=0;g<p;g++)w+=String.fromCharCode(C.charCodeAt(g)^v.charCodeAt(g));var m=65280>>8*l-h&255;return(w=String.fromCharCode(w.charCodeAt(0)&~m)+w.substr(1))+y+String.fromCharCode(188)},verify:function(e,a,i){var f,g=i-1,u=Math.ceil(g/8);if(a=a.substr(-u),u<s+r+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(u-1))throw new Error("Encoded message does not end in 0xBC.");var h=u-s-1,l=a.substr(0,h),d=a.substr(h,s),c=65280>>8*u-g&255;if(0!=(l.charCodeAt(0)&c))throw new Error("Bits beyond keysize not zero as expected.");var y=n.generate(d,h),B="";for(f=0;f<h;f++)B+=String.fromCharCode(l.charCodeAt(f)^y.charCodeAt(f));B=String.fromCharCode(B.charCodeAt(0)&~c)+B.substr(1);var C=u-s-r-2;for(f=0;f<C;f++)if(0!==B.charCodeAt(f))throw new Error("Leftmost octets not zero as expected");if(1!==B.charCodeAt(C))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var p=B.substr(-r),v=new t.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(e),v.putBytes(p),o.start(),o.update(v.getBytes()),d===o.digest().getBytes()}};return f};
},{"./forge":"jo0T","./random":"NGh+","./util":"gkgk"}],"cieh":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./asn1"),require("./des"),require("./md"),require("./mgf"),require("./oids"),require("./pem"),require("./pss"),require("./rsa"),require("./util");var t=e.asn1,r=module.exports=e.pki=e.pki||{},a=r.oids,i={};i.CN=a.commonName,i.commonName="CN",i.C=a.countryName,i.countryName="C",i.L=a.localityName,i.localityName="L",i.ST=a.stateOrProvinceName,i.stateOrProvinceName="ST",i.O=a.organizationName,i.organizationName="O",i.OU=a.organizationalUnitName,i.organizationalUnitName="OU",i.E=a.emailAddress,i.emailAddress="E";var s=e.pki.rsa.publicKeyValidator,n={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},c={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function l(e,t){"string"==typeof t&&(t={shortName:t});for(var r,a=null,i=0;null===a&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?a=r:t.name&&t.name===r.name?a=r:t.shortName&&t.shortName===r.shortName&&(a=r);return a}r.RDNAttributesAsArray=function(e,r){for(var s,n,o,u=[],c=0;c<e.value.length;++c){s=e.value[c];for(var l=0;l<s.value.length;++l)o={},n=s.value[l],o.type=t.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in a&&(o.name=a[o.type],o.name in i&&(o.shortName=i[o.name])),r&&(r.update(o.type),r.update(o.value)),u.push(o)}return u},r.CRIAttributesAsArray=function(e){for(var s=[],n=0;n<e.length;++n)for(var o=e[n],u=t.derToOid(o.value[0].value),c=o.value[1].value,l=0;l<c.length;++l){var d={};if(d.type=u,d.value=c[l].value,d.valueTagClass=c[l].type,d.type in a&&(d.name=a[d.type],d.name in i&&(d.shortName=i[d.name])),d.type===a.extensionRequest){d.extensions=[];for(var f=0;f<d.value.length;++f)d.extensions.push(r.certificateExtensionFromAsn1(d.value[f]))}s.push(d)}return s};var d=function(e,r,i){var s={};if(e!==a["RSASSA-PSS"])return s;i&&(s={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var n={},u=[];if(!t.validate(r,o,n,u)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=u,c}return void 0!==n.hashOid&&(s.hash=s.hash||{},s.hash.algorithmOid=t.derToOid(n.hashOid)),void 0!==n.maskGenOid&&(s.mgf=s.mgf||{},s.mgf.algorithmOid=t.derToOid(n.maskGenOid),s.mgf.hash=s.mgf.hash||{},s.mgf.hash.algorithmOid=t.derToOid(n.maskGenHashOid)),void 0!==n.saltLength&&(s.saltLength=n.saltLength.charCodeAt(0)),s};function f(r){for(var a,i,s=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),n=r.attributes,o=0;o<n.length;++o){var u=(a=n[o]).value,c=t.Type.PRINTABLESTRING;"valueTagClass"in a&&(c=a.valueTagClass)===t.Type.UTF8&&(u=e.util.encodeUtf8(u)),i=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.type).getBytes()),t.create(t.Class.UNIVERSAL,c,!1,u)])]),s.value.push(i)}return s}function C(r){for(var a={},i=0;i<r.length;++i){var s=r[i];if(s.shortName&&(s.valueTagClass===t.Type.UTF8||s.valueTagClass===t.Type.PRINTABLESTRING||s.valueTagClass===t.Type.IA5STRING)){var n=s.value;s.valueTagClass===t.Type.UTF8&&(n=e.util.encodeUtf8(s.value)),s.shortName in a?e.util.isArray(a[s.shortName])?a[s.shortName].push(n):a[s.shortName]=[a[s.shortName],n]:a[s.shortName]=n}}return a}function m(e){for(var s,n=0;n<e.length;++n){if(void 0===(s=e[n]).name&&(s.type&&s.type in r.oids?s.name=r.oids[s.type]:s.shortName&&s.shortName in i&&(s.name=r.oids[i[s.shortName]])),void 0===s.type){if(!(s.name&&s.name in r.oids))throw(u=new Error("Attribute type not specified.")).attribute=s,u;s.type=r.oids[s.name]}if(void 0===s.shortName&&s.name&&s.name in i&&(s.shortName=i[s.name]),s.type===a.extensionRequest&&(s.valueConstructed=!0,s.valueTagClass=t.Type.SEQUENCE,!s.value&&s.extensions)){s.value=[];for(var o=0;o<s.extensions.length;++o)s.value.push(r.certificateExtensionToAsn1(p(s.extensions[o])))}var u;if(void 0===s.value)throw(u=new Error("Attribute value not specified.")).attribute=s,u}}function p(i,s){if(s=s||{},void 0===i.name&&i.id&&i.id in r.oids&&(i.name=r.oids[i.id]),void 0===i.id){if(!(i.name&&i.name in r.oids))throw(T=new Error("Extension ID not specified.")).extension=i,T;i.id=r.oids[i.name]}if(void 0!==i.value)return i;if("keyUsage"===i.name){var n=0,o=0,u=0;i.digitalSignature&&(o|=128,n=7),i.nonRepudiation&&(o|=64,n=6),i.keyEncipherment&&(o|=32,n=5),i.dataEncipherment&&(o|=16,n=4),i.keyAgreement&&(o|=8,n=3),i.keyCertSign&&(o|=4,n=2),i.cRLSign&&(o|=2,n=1),i.encipherOnly&&(o|=1,n=0),i.decipherOnly&&(u|=128,n=7);var c=String.fromCharCode(n);0!==u?c+=String.fromCharCode(o)+String.fromCharCode(u):0!==o&&(c+=String.fromCharCode(o)),i.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("basicConstraints"===i.name)i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),i.cA&&i.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in i&&i.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.pathLenConstraint).getBytes()));else if("extKeyUsage"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var l=i.value.value;for(var d in i)!0===i[d]&&(d in a?l.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a[d]).getBytes())):-1!==d.indexOf(".")&&l.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(d).getBytes())))}else if("nsCertType"===i.name){n=0,o=0;i.client&&(o|=128,n=7),i.server&&(o|=64,n=6),i.email&&(o|=32,n=5),i.objsign&&(o|=16,n=4),i.reserved&&(o|=8,n=3),i.sslCA&&(o|=4,n=2),i.emailCA&&(o|=2,n=1),i.objCA&&(o|=1,n=0);c=String.fromCharCode(n);0!==o&&(c+=String.fromCharCode(o)),i.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("subjectAltName"===i.name||"issuerAltName"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var C=0;C<i.altNames.length;++C){c=(E=i.altNames[C]).value;if(7===E.type&&E.ip){if(null===(c=e.util.bytesFromIP(E.ip)))throw(T=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=i,T}else 8===E.type&&(c=E.oid?t.oidToDer(t.oidToDer(E.oid)):t.oidToDer(c));i.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,E.type,!1,c))}}else if("nsComment"===i.name&&s.cert){if(!/^[\x00-\x7F]*$/.test(i.comment)||i.comment.length<1||i.comment.length>128)throw new Error('Invalid "nsComment" content.');i.value=t.create(t.Class.UNIVERSAL,t.Type.IA5STRING,!1,i.comment)}else if("subjectKeyIdentifier"===i.name&&s.cert){var m=s.cert.generateSubjectKeyIdentifier();i.subjectKeyIdentifier=m.toHex(),i.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,m.getBytes())}else if("authorityKeyIdentifier"===i.name&&s.cert){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);l=i.value.value;if(i.keyIdentifier){var p=!0===i.keyIdentifier?s.cert.generateSubjectKeyIdentifier().getBytes():i.keyIdentifier;l.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,p))}if(i.authorityCertIssuer){var h=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[f(!0===i.authorityCertIssuer?s.cert.issuer:i.authorityCertIssuer)])];l.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,h))}if(i.serialNumber){var g=e.util.hexToBytes(!0===i.serialNumber?s.cert.serialNumber:i.serialNumber);l.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if("cRLDistributionPoints"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);l=i.value.value;var E,y=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),v=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(C=0;C<i.altNames.length;++C){c=(E=i.altNames[C]).value;if(7===E.type&&E.ip){if(null===(c=e.util.bytesFromIP(E.ip)))throw(T=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=i,T}else 8===E.type&&(c=E.oid?t.oidToDer(t.oidToDer(E.oid)):t.oidToDer(c));v.value.push(t.create(t.Class.CONTEXT_SPECIFIC,E.type,!1,c))}y.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[v])),l.push(y)}var T;if(void 0===i.value)throw(T=new Error("Extension value not specified.")).extension=i,T;return i}function h(e,r){switch(e){case a["RSASSA-PSS"]:var i=[];return void 0!==r.hash.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),void 0!==r.mgf.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),void 0!==r.saltLength&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,i);default:return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}}function g(r){var a=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===r.attributes.length)return a;for(var i=r.attributes,s=0;s<i.length;++s){var n=i[s],o=n.value,u=t.Type.UTF8;"valueTagClass"in n&&(u=n.valueTagClass),u===t.Type.UTF8&&(o=e.util.encodeUtf8(o));var c=!1;"valueConstructed"in n&&(c=n.valueConstructed);var l=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,u,c,o)])]);a.value.push(l)}return a}r.certificateFromPem=function(a,i,s){var n=e.pem.decode(a)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=t.fromDer(n.body,s);return r.certificateFromAsn1(u,i)},r.certificateToPem=function(a,i){var s={type:"CERTIFICATE",body:t.toDer(r.certificateToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.publicKeyFromPem=function(a){var i=e.pem.decode(a)[0];if("PUBLIC KEY"!==i.type&&"RSA PUBLIC KEY"!==i.type){var s=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw s.headerType=i.type,s}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=t.fromDer(i.body);return r.publicKeyFromAsn1(n)},r.publicKeyToPem=function(a,i){var s={type:"PUBLIC KEY",body:t.toDer(r.publicKeyToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.publicKeyToRSAPublicKeyPem=function(a,i){var s={type:"RSA PUBLIC KEY",body:t.toDer(r.publicKeyToRSAPublicKey(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.getPublicKeyFingerprint=function(a,i){var s,n=(i=i||{}).md||e.md.sha1.create();switch(i.type||"RSAPublicKey"){case"RSAPublicKey":s=t.toDer(r.publicKeyToRSAPublicKey(a)).getBytes();break;case"SubjectPublicKeyInfo":s=t.toDer(r.publicKeyToAsn1(a)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+i.type+'".')}n.start(),n.update(s);var o=n.digest();if("hex"===i.encoding){var u=o.toHex();return i.delimiter?u.match(/.{2}/g).join(i.delimiter):u}if("binary"===i.encoding)return o.getBytes();if(i.encoding)throw new Error('Unknown encoding "'+i.encoding+'".');return o},r.certificationRequestFromPem=function(a,i,s){var n=e.pem.decode(a)[0];if("CERTIFICATE REQUEST"!==n.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=t.fromDer(n.body,s);return r.certificationRequestFromAsn1(u,i)},r.certificationRequestToPem=function(a,i){var s={type:"CERTIFICATE REQUEST",body:t.toDer(r.certificationRequestToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.createCertificate=function(){var i={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return i.siginfo.algorithmOid=null,i.validity={},i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.issuer={},i.issuer.getField=function(e){return l(i.issuer,e)},i.issuer.addField=function(e){m([e]),i.issuer.attributes.push(e)},i.issuer.attributes=[],i.issuer.hash=null,i.subject={},i.subject.getField=function(e){return l(i.subject,e)},i.subject.addField=function(e){m([e]),i.subject.attributes.push(e)},i.subject.attributes=[],i.subject.hash=null,i.extensions=[],i.publicKey=null,i.md=null,i.setSubject=function(e,t){m(e),i.subject.attributes=e,delete i.subject.uniqueId,t&&(i.subject.uniqueId=t),i.subject.hash=null},i.setIssuer=function(e,t){m(e),i.issuer.attributes=e,delete i.issuer.uniqueId,t&&(i.issuer.uniqueId=t),i.issuer.hash=null},i.setExtensions=function(e){for(var t=0;t<e.length;++t)p(e[t],{cert:i});i.extensions=e},i.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var t,r=null,a=0;null===r&&a<i.extensions.length;++a)t=i.extensions[a],e.id&&t.id===e.id?r=t:e.name&&t.name===e.name&&(r=t);return r},i.sign=function(s,n){i.md=n||e.md.sha1.create();var o=a[i.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=i.md.algorithm,u}i.signatureOid=i.siginfo.algorithmOid=o,i.tbsCertificate=r.getTBSCertificate(i);var c=t.toDer(i.tbsCertificate);i.md.update(c.getBytes()),i.signature=s.sign(i.md)},i.verify=function(s){var n=!1;if(!i.issued(s)){var o=s.issuer,u=i.subject;throw(p=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=o.attributes,p.actualIssuer=u.attributes,p}var c=s.md;if(null===c){if(s.signatureOid in a)switch(a[s.signatureOid]){case"sha1WithRSAEncryption":c=e.md.sha1.create();break;case"md5WithRSAEncryption":c=e.md.md5.create();break;case"sha256WithRSAEncryption":c=e.md.sha256.create();break;case"sha384WithRSAEncryption":c=e.md.sha384.create();break;case"sha512WithRSAEncryption":c=e.md.sha512.create();break;case"RSASSA-PSS":c=e.md.sha256.create()}if(null===c)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=s.signatureOid,p;var l=s.tbsCertificate||r.getTBSCertificate(s),d=t.toDer(l);c.update(d.getBytes())}if(null!==c){var f;switch(s.signatureOid){case a.sha1WithRSAEncryption:f=void 0;break;case a["RSASSA-PSS"]:var C,m,p;if(void 0===(C=a[s.signatureParameters.mgf.hash.algorithmOid])||void 0===e.md[C])throw(p=new Error("Unsupported MGF hash function.")).oid=s.signatureParameters.mgf.hash.algorithmOid,p.name=C,p;if(void 0===(m=a[s.signatureParameters.mgf.algorithmOid])||void 0===e.mgf[m])throw(p=new Error("Unsupported MGF function.")).oid=s.signatureParameters.mgf.algorithmOid,p.name=m,p;if(m=e.mgf[m].create(e.md[C].create()),void 0===(C=a[s.signatureParameters.hash.algorithmOid])||void 0===e.md[C])throw{message:"Unsupported RSASSA-PSS hash function.",oid:s.signatureParameters.hash.algorithmOid,name:C};f=e.pss.create(e.md[C].create(),m,s.signatureParameters.saltLength)}n=i.publicKey.verify(c.digest().getBytes(),s.signature,f)}return n},i.isIssuer=function(e){var t=!1,r=i.issuer,a=e.subject;if(r.hash&&a.hash)t=r.hash===a.hash;else if(r.attributes.length===a.attributes.length){var s,n;t=!0;for(var o=0;t&&o<r.attributes.length;++o)s=r.attributes[o],n=a.attributes[o],s.type===n.type&&s.value===n.value||(t=!1)}return t},i.issued=function(e){return e.isIssuer(i)},i.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(i.publicKey,{type:"RSAPublicKey"})},i.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<i.extensions.length;++r){var s=i.extensions[r];if(s.id===t){var n=i.generateSubjectKeyIdentifier().getBytes();return e.util.hexToBytes(s.subjectKeyIdentifier)===n}}return!1},i},r.certificateFromAsn1=function(i,s){var o={},u=[];if(!t.validate(i,n,o,u))throw(p=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=u,p;if(t.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=r.createCertificate();c.version=o.certVersion?o.certVersion.charCodeAt(0):0;var f=e.util.createBuffer(o.certSerialNumber);c.serialNumber=f.toHex(),c.signatureOid=e.asn1.derToOid(o.certSignatureOid),c.signatureParameters=d(c.signatureOid,o.certSignatureParams,!0),c.siginfo.algorithmOid=e.asn1.derToOid(o.certinfoSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,o.certinfoSignatureParams,!1),c.signature=o.certSignature;var C=[];if(void 0!==o.certValidity1UTCTime&&C.push(t.utcTimeToDate(o.certValidity1UTCTime)),void 0!==o.certValidity2GeneralizedTime&&C.push(t.generalizedTimeToDate(o.certValidity2GeneralizedTime)),void 0!==o.certValidity3UTCTime&&C.push(t.utcTimeToDate(o.certValidity3UTCTime)),void 0!==o.certValidity4GeneralizedTime&&C.push(t.generalizedTimeToDate(o.certValidity4GeneralizedTime)),C.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(C.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=C[0],c.validity.notAfter=C[1],c.tbsCertificate=o.tbsCertificate,s){var p;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=e.md.sha1.create();break;case"md5WithRSAEncryption":c.md=e.md.md5.create();break;case"sha256WithRSAEncryption":c.md=e.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=e.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=e.md.sha512.create();break;case"RSASSA-PSS":c.md=e.md.sha256.create()}if(null===c.md)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,p;var h=t.toDer(c.tbsCertificate);c.md.update(h.getBytes())}var g=e.md.sha1.create();c.issuer.getField=function(e){return l(c.issuer,e)},c.issuer.addField=function(e){m([e]),c.issuer.attributes.push(e)},c.issuer.attributes=r.RDNAttributesAsArray(o.certIssuer,g),o.certIssuerUniqueId&&(c.issuer.uniqueId=o.certIssuerUniqueId),c.issuer.hash=g.digest().toHex();var E=e.md.sha1.create();return c.subject.getField=function(e){return l(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=r.RDNAttributesAsArray(o.certSubject,E),o.certSubjectUniqueId&&(c.subject.uniqueId=o.certSubjectUniqueId),c.subject.hash=E.digest().toHex(),o.certExtensions?c.extensions=r.certificateExtensionsFromAsn1(o.certExtensions):c.extensions=[],c.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),c},r.certificateExtensionsFromAsn1=function(e){for(var t=[],a=0;a<e.value.length;++a)for(var i=e.value[a],s=0;s<i.value.length;++s)t.push(r.certificateExtensionFromAsn1(i.value[s]));return t},r.certificateExtensionFromAsn1=function(r){var i={};if(i.id=t.derToOid(r.value[0].value),i.critical=!1,r.value[1].type===t.Type.BOOLEAN?(i.critical=0!==r.value[1].value.charCodeAt(0),i.value=r.value[2].value):i.value=r.value[1].value,i.id in a)if(i.name=a[i.id],"keyUsage"===i.name){var s=0,n=0;(u=t.fromDer(i.value)).value.length>1&&(s=u.value.charCodeAt(1),n=u.value.length>2?u.value.charCodeAt(2):0),i.digitalSignature=128==(128&s),i.nonRepudiation=64==(64&s),i.keyEncipherment=32==(32&s),i.dataEncipherment=16==(16&s),i.keyAgreement=8==(8&s),i.keyCertSign=4==(4&s),i.cRLSign=2==(2&s),i.encipherOnly=1==(1&s),i.decipherOnly=128==(128&n)}else if("basicConstraints"===i.name){(u=t.fromDer(i.value)).value.length>0&&u.value[0].type===t.Type.BOOLEAN?i.cA=0!==u.value[0].value.charCodeAt(0):i.cA=!1;var o=null;u.value.length>0&&u.value[0].type===t.Type.INTEGER?o=u.value[0].value:u.value.length>1&&(o=u.value[1].value),null!==o&&(i.pathLenConstraint=t.derToInteger(o))}else if("extKeyUsage"===i.name)for(var u=t.fromDer(i.value),c=0;c<u.value.length;++c){var l=t.derToOid(u.value[c].value);l in a?i[a[l]]=!0:i[l]=!0}else if("nsCertType"===i.name){s=0;(u=t.fromDer(i.value)).value.length>1&&(s=u.value.charCodeAt(1)),i.client=128==(128&s),i.server=64==(64&s),i.email=32==(32&s),i.objsign=16==(16&s),i.reserved=8==(8&s),i.sslCA=4==(4&s),i.emailCA=2==(2&s),i.objCA=1==(1&s)}else if("subjectAltName"===i.name||"issuerAltName"===i.name){var d;i.altNames=[];u=t.fromDer(i.value);for(var f=0;f<u.value.length;++f){var C={type:(d=u.value[f]).type,value:d.value};switch(i.altNames.push(C),d.type){case 1:case 2:case 6:break;case 7:C.ip=e.util.bytesToIP(d.value);break;case 8:C.oid=t.derToOid(d.value)}}}else if("subjectKeyIdentifier"===i.name){u=t.fromDer(i.value);i.subjectKeyIdentifier=e.util.bytesToHex(u.value)}return i},r.certificationRequestFromAsn1=function(i,s){var n={},o=[];if(!t.validate(i,c,n,o))throw(f=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=o,f;if(t.derToOid(n.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=r.createCertificationRequest();if(u.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,u.signatureOid=e.asn1.derToOid(n.csrSignatureOid),u.signatureParameters=d(u.signatureOid,n.csrSignatureParams,!0),u.siginfo.algorithmOid=e.asn1.derToOid(n.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,n.csrSignatureParams,!1),u.signature=n.csrSignature,u.certificationRequestInfo=n.certificationRequestInfo,s){var f;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=e.md.sha1.create();break;case"md5WithRSAEncryption":u.md=e.md.md5.create();break;case"sha256WithRSAEncryption":u.md=e.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=e.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=e.md.sha512.create();break;case"RSASSA-PSS":u.md=e.md.sha256.create()}if(null===u.md)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,f;var C=t.toDer(u.certificationRequestInfo);u.md.update(C.getBytes())}var p=e.md.sha1.create();return u.subject.getField=function(e){return l(u.subject,e)},u.subject.addField=function(e){m([e]),u.subject.attributes.push(e)},u.subject.attributes=r.RDNAttributesAsArray(n.certificationRequestInfoSubject,p),u.subject.hash=p.digest().toHex(),u.publicKey=r.publicKeyFromAsn1(n.subjectPublicKeyInfo),u.getAttribute=function(e){return l(u,e)},u.addAttribute=function(e){m([e]),u.attributes.push(e)},u.attributes=r.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),u},r.createCertificationRequest=function(){var i={version:0,signatureOid:null,signature:null,siginfo:{}};return i.siginfo.algorithmOid=null,i.subject={},i.subject.getField=function(e){return l(i.subject,e)},i.subject.addField=function(e){m([e]),i.subject.attributes.push(e)},i.subject.attributes=[],i.subject.hash=null,i.publicKey=null,i.attributes=[],i.getAttribute=function(e){return l(i,e)},i.addAttribute=function(e){m([e]),i.attributes.push(e)},i.md=null,i.setSubject=function(e){m(e),i.subject.attributes=e,i.subject.hash=null},i.setAttributes=function(e){m(e),i.attributes=e},i.sign=function(s,n){i.md=n||e.md.sha1.create();var o=a[i.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=i.md.algorithm,u}i.signatureOid=i.siginfo.algorithmOid=o,i.certificationRequestInfo=r.getCertificationRequestInfo(i);var c=t.toDer(i.certificationRequestInfo);i.md.update(c.getBytes()),i.signature=s.sign(i.md)},i.verify=function(){var s=!1,n=i.md;if(null===n){if(i.signatureOid in a)switch(a[i.signatureOid]){case"sha1WithRSAEncryption":n=e.md.sha1.create();break;case"md5WithRSAEncryption":n=e.md.md5.create();break;case"sha256WithRSAEncryption":n=e.md.sha256.create();break;case"sha384WithRSAEncryption":n=e.md.sha384.create();break;case"sha512WithRSAEncryption":n=e.md.sha512.create();break;case"RSASSA-PSS":n=e.md.sha256.create()}if(null===n)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=i.signatureOid,f;var o=i.certificationRequestInfo||r.getCertificationRequestInfo(i),u=t.toDer(o);n.update(u.getBytes())}if(null!==n){var c;switch(i.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,d,f;if(void 0===(l=a[i.signatureParameters.mgf.hash.algorithmOid])||void 0===e.md[l])throw(f=new Error("Unsupported MGF hash function.")).oid=i.signatureParameters.mgf.hash.algorithmOid,f.name=l,f;if(void 0===(d=a[i.signatureParameters.mgf.algorithmOid])||void 0===e.mgf[d])throw(f=new Error("Unsupported MGF function.")).oid=i.signatureParameters.mgf.algorithmOid,f.name=d,f;if(d=e.mgf[d].create(e.md[l].create()),void 0===(l=a[i.signatureParameters.hash.algorithmOid])||void 0===e.md[l])throw(f=new Error("Unsupported RSASSA-PSS hash function.")).oid=i.signatureParameters.hash.algorithmOid,f.name=l,f;c=e.pss.create(e.md[l].create(),d,i.signatureParameters.saltLength)}s=i.publicKey.verify(n.digest().getBytes(),i.signature,c)}return s},i};var E=new Date("1950-01-01T00:00:00Z"),y=new Date("2050-01-01T00:00:00Z");function v(e){return e>=E&&e<y?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(e)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(e))}r.getTBSCertificate=function(a){var i=v(a.validity.notBefore),s=v(a.validity.notAfter),n=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(a.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(a.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.siginfo.algorithmOid).getBytes()),h(a.siginfo.algorithmOid,a.siginfo.parameters)]),f(a.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[i,s]),f(a.subject),r.publicKeyToAsn1(a.publicKey)]);return a.issuer.uniqueId&&n.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+a.issuer.uniqueId)])),a.subject.uniqueId&&n.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+a.subject.uniqueId)])),a.extensions.length>0&&n.value.push(r.certificateExtensionsToAsn1(a.extensions)),n},r.getCertificationRequestInfo=function(e){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),f(e.subject),r.publicKeyToAsn1(e.publicKey),g(e)])},r.distinguishedNameToAsn1=function(e){return f(e)},r.certificateToAsn1=function(e){var a=e.tbsCertificate||r.getTBSCertificate(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),h(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.certificateExtensionsToAsn1=function(e){var a=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);a.value.push(i);for(var s=0;s<e.length;++s)i.value.push(r.certificateExtensionToAsn1(e[s]));return a},r.certificateExtensionToAsn1=function(e){var r=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.id).getBytes())),e.critical&&r.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255)));var a=e.value;return"string"!=typeof e.value&&(a=t.toDer(a).getBytes()),r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a)),r},r.certificationRequestToAsn1=function(e){var a=e.certificationRequestInfo||r.getCertificationRequestInfo(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),h(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.createCaStore=function(a){var i={certs:{}};function s(e){return n(e),i.certs[e.hash]||null}function n(t){if(!t.hash){var a=e.md.sha1.create();t.attributes=r.RDNAttributesAsArray(f(t),a),t.hash=a.digest().toHex()}}if(i.getIssuer=function(e){return s(e.issuer)},i.addCertificate=function(t){if("string"==typeof t&&(t=e.pki.certificateFromPem(t)),n(t.subject),!i.hasCertificate(t))if(t.subject.hash in i.certs){var r=i.certs[t.subject.hash];e.util.isArray(r)||(r=[r]),r.push(t),i.certs[t.subject.hash]=r}else i.certs[t.subject.hash]=t},i.hasCertificate=function(a){"string"==typeof a&&(a=e.pki.certificateFromPem(a));var i=s(a.subject);if(!i)return!1;e.util.isArray(i)||(i=[i]);for(var n=t.toDer(r.certificateToAsn1(a)).getBytes(),o=0;o<i.length;++o){if(n===t.toDer(r.certificateToAsn1(i[o])).getBytes())return!0}return!1},i.listAllCertificates=function(){var t=[];for(var r in i.certs)if(i.certs.hasOwnProperty(r)){var a=i.certs[r];if(e.util.isArray(a))for(var s=0;s<a.length;++s)t.push(a[s]);else t.push(a)}return t},i.removeCertificate=function(a){var o;if("string"==typeof a&&(a=e.pki.certificateFromPem(a)),n(a.subject),!i.hasCertificate(a))return null;var u=s(a.subject);if(!e.util.isArray(u))return o=i.certs[a.subject.hash],delete i.certs[a.subject.hash],o;for(var c=t.toDer(r.certificateToAsn1(a)).getBytes(),l=0;l<u.length;++l){c===t.toDer(r.certificateToAsn1(u[l])).getBytes()&&(o=u[l],u.splice(l,1))}return 0===u.length&&delete i.certs[a.subject.hash],o},a)for(var o=0;o<a.length;++o){var u=a[o];i.addCertificate(u)}return i},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(t,a,i){"function"==typeof i&&(i={verify:i}),i=i||{};var s=(a=a.slice(0)).slice(0),n=i.validityCheckDate;void 0===n&&(n=new Date);var o=!0,u=null,c=0;do{var l=a.shift(),d=null,f=!1;if(n&&(n<l.validity.notBefore||n>l.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:n}),null===u){if(null===(d=a[0]||t.getIssuer(l))&&l.isIssuer(l)&&(f=!0,d=l),d){var C=d;e.util.isArray(C)||(C=[C]);for(var m=!1;!m&&C.length>0;){d=C.shift();try{m=d.verify(l)}catch(S){}}m||(u={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}null!==u||d&&!f||t.hasCertificate(l)||(u={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(null===u&&d&&!l.isIssuer(d)&&(u={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),null===u)for(var p={keyUsage:!0,basicConstraints:!0},h=0;null===u&&h<l.extensions.length;++h){var g=l.extensions[h];!g.critical||g.name in p||(u={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(null===u&&(!o||0===a.length&&(!d||f))){var E=l.getExtension("basicConstraints"),y=l.getExtension("keyUsage");if(null!==y&&(y.keyCertSign&&null!==E||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate})),null!==u||null===E||E.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),null===u&&null!==y&&"pathLenConstraint"in E)c-1>E.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}var v=null===u||u.error,T=i.verify?i.verify(v,c,s):v;if(!0!==T)throw!0===v&&(u={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(T||0===T)&&("object"!=typeof T||e.util.isArray(T)?"string"==typeof T&&(u.error=T):(T.message&&(u.message=T.message),T.error&&(u.error=T.error))),u;u=null,o=!1,++c}while(a.length>0);return!0};
},{"./forge":"jo0T","./aes":"VOs8","./asn1":"UkhS","./des":"YpCS","./md":"7aIq","./mgf":"JuDB","./oids":"5iY2","./pem":"4vk0","./pss":"Wrpf","./rsa":"X/pg","./util":"gkgk"}],"hAmC":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./hmac"),require("./oids"),require("./pkcs7asn1"),require("./pbe"),require("./random"),require("./rsa"),require("./sha1"),require("./util"),require("./x509");var a=e.asn1,t=e.pki,r=module.exports=e.pkcs12=e.pkcs12||{},s={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},o={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},n={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},l={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function i(e,a,t,r){for(var s=[],o=0;o<e.length;o++)for(var n=0;n<e[o].safeBags.length;n++){var c=e[o].safeBags[n];void 0!==r&&c.type!==r||(null!==a?void 0!==c.attributes[a]&&c.attributes[a].indexOf(t)>=0&&s.push(c):s.push(c))}return s}function C(a){if(a.composed||a.constructed){for(var t=e.util.createBuffer(),r=0;r<a.value.length;++r)t.putBytes(a.value[r].value);a.composed=a.constructed=!1,a.value=t.getBytes()}return a}function d(e,r,o,n){if((r=a.fromDer(r,o)).tagClass!==a.Class.UNIVERSAL||r.type!==a.Type.SEQUENCE||!0!==r.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var c=0;c<r.value.length;c++){var l=r.value[c],i={},d=[];if(!a.validate(l,s,i,d))throw(S=new Error("Cannot read ContentInfo.")).errors=d,S;var p={encrypted:!1},u=null,T=i.content.value[0];switch(a.derToOid(i.contentType)){case t.oids.data:if(T.tagClass!==a.Class.UNIVERSAL||T.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=C(T).value;break;case t.oids.encryptedData:u=E(T,n),p.encrypted=!0;break;default:var S;throw(S=new Error("Unsupported PKCS#12 contentType.")).contentType=a.derToOid(i.contentType),S}p.safeBags=y(u,o,n),e.safeContents.push(p)}}function E(r,s){var o={},n=[];if(!a.validate(r,e.pkcs7.asn1.encryptedDataValidator,o,n))throw(c=new Error("Cannot read EncryptedContentInfo.")).errors=n,c;var c,l=a.derToOid(o.contentType);if(l!==t.oids.data)throw(c=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=l,c;l=a.derToOid(o.encAlgorithm);var i=t.pbe.getCipher(l,o.encParameter,s),d=C(o.encryptedContentAsn1),E=e.util.createBuffer(d.value);if(i.update(E),!i.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return i.output.getBytes()}function y(e,r,s){if(!r&&0===e.length)return[];if((e=a.fromDer(e,r)).tagClass!==a.Class.UNIVERSAL||e.type!==a.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var o=[],c=0;c<e.value.length;c++){var i=e.value[c],C={},d=[];if(!a.validate(i,n,C,d))throw(S=new Error("Cannot read SafeBag.")).errors=d,S;var E,y,u={type:a.derToOid(C.bagId),attributes:p(C.bagAttributes)};o.push(u);var T=C.bagValue.value[0];switch(u.type){case t.oids.pkcs8ShroudedKeyBag:if(null===(T=t.decryptPrivateKeyInfo(T,s)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case t.oids.keyBag:try{u.key=t.privateKeyFromAsn1(T)}catch(I){u.key=null,u.asn1=T}continue;case t.oids.certBag:E=l,y=function(){if(a.derToOid(C.certId)!==t.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=a.derToOid(C.certId),e}var s=a.fromDer(C.cert,r);try{u.cert=t.certificateFromAsn1(s,!0)}catch(I){u.cert=null,u.asn1=s}};break;default:var S;throw(S=new Error("Unsupported PKCS#12 SafeBag type.")).oid=u.type,S}if(void 0!==E&&!a.validate(T,E,C,d))throw(S=new Error("Cannot read PKCS#12 "+E.name)).errors=d,S;y()}return o}function p(e){var r={};if(void 0!==e)for(var s=0;s<e.length;++s){var o={},n=[];if(!a.validate(e[s],c,o,n)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=n,l}var i=a.derToOid(o.oid);if(void 0!==t.oids[i]){r[t.oids[i]]=[];for(var C=0;C<o.values.length;++C)r[t.oids[i]].push(o.values[C].value)}}return r}r.pkcs12FromAsn1=function(s,n,c){"string"==typeof n?(c=n,n=!0):void 0===n&&(n=!0);var l={};if(!a.validate(s,o,l,[]))throw(E=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=E,E;var E,y={version:l.version.charCodeAt(0),safeContents:[],getBags:function(a){var t,r={};return"localKeyId"in a?t=a.localKeyId:"localKeyIdHex"in a&&(t=e.util.hexToBytes(a.localKeyIdHex)),void 0===t&&!("friendlyName"in a)&&"bagType"in a&&(r[a.bagType]=i(y.safeContents,null,null,a.bagType)),void 0!==t&&(r.localKeyId=i(y.safeContents,"localKeyId",t,a.bagType)),"friendlyName"in a&&(r.friendlyName=i(y.safeContents,"friendlyName",a.friendlyName,a.bagType)),r},getBagsByFriendlyName:function(e,a){return i(y.safeContents,"friendlyName",e,a)},getBagsByLocalKeyId:function(e,a){return i(y.safeContents,"localKeyId",e,a)}};if(3!==l.version.charCodeAt(0))throw(E=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=l.version.charCodeAt(0),E;if(a.derToOid(l.contentType)!==t.oids.data)throw(E=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=a.derToOid(l.contentType),E;var p=l.content.value[0];if(p.tagClass!==a.Class.UNIVERSAL||p.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(p=C(p),l.mac){var u=null,T=0,S=a.derToOid(l.macAlgorithm);switch(S){case t.oids.sha1:u=e.md.sha1.create(),T=20;break;case t.oids.sha256:u=e.md.sha256.create(),T=32;break;case t.oids.sha384:u=e.md.sha384.create(),T=48;break;case t.oids.sha512:u=e.md.sha512.create(),T=64;break;case t.oids.md5:u=e.md.md5.create(),T=16}if(null===u)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+S);var I=new e.util.ByteBuffer(l.macSalt),g="macIterations"in l?parseInt(e.util.bytesToHex(l.macIterations),16):1,N=r.generateKey(c,I,3,g,T,u),f=e.hmac.create();if(f.start(u,N),f.update(p.value),f.getMac().getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return d(y,p.value,n,c),y},r.toPkcs12Asn1=function(s,o,n,c){(c=c||{}).saltSize=c.saltSize||8,c.count=c.count||2048,c.algorithm=c.algorithm||c.encAlgorithm||"aes128","useMac"in c||(c.useMac=!0),"localKeyId"in c||(c.localKeyId=null),"generateLocalKeyId"in c||(c.generateLocalKeyId=!0);var l,i=c.localKeyId;if(null!==i)i=e.util.hexToBytes(i);else if(c.generateLocalKeyId)if(o){var C=e.util.isArray(o)?o[0]:o;"string"==typeof C&&(C=t.certificateFromPem(C)),(R=e.md.sha1.create()).update(a.toDer(t.certificateToAsn1(C)).getBytes()),i=R.digest().getBytes()}else i=e.random.getBytes(20);var d=[];null!==i&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,i)])])),"friendlyName"in c&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,c.friendlyName)])])),d.length>0&&(l=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,d));var E=[],y=[];null!==o&&(y=e.util.isArray(o)?o:[o]);for(var p=[],u=0;u<y.length;++u){"string"==typeof(o=y[u])&&(o=t.certificateFromPem(o));var T=0===u?l:void 0,S=t.certificateToAsn1(o),I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(S).getBytes())])])]),T]);p.push(I)}if(p.length>0){var g=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,p),N=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(g).getBytes())])]);E.push(N)}var f=null;if(null!==s){var m=t.wrapRsaPrivateKey(t.privateKeyToAsn1(s));f=null===n?a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[m]),l]):a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[t.encryptPrivateKeyInfo(m,n,c)]),l]);var v=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[f]),A=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(v).getBytes())])]);E.push(A)}var U,h=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,E);if(c.useMac){var R=e.md.sha1.create(),V=new e.util.ByteBuffer(e.random.getBytes(c.saltSize)),L=c.count,B=(s=r.generateKey(n,V,3,L,20),e.hmac.create());B.start(R,s),B.update(a.toDer(h).getBytes());var O=B.getMac();U=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,O.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(L).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(h).getBytes())])]),U])},r.generateKey=e.pbe.generatePkcs12Key;
},{"./forge":"jo0T","./asn1":"UkhS","./hmac":"n8mL","./oids":"5iY2","./pkcs7asn1":"Vv8x","./pbe":"bUou","./random":"NGh+","./rsa":"X/pg","./sha1":"wQ5C","./util":"gkgk","./x509":"cieh"}],"q3sJ":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./oids"),require("./pbe"),require("./pem"),require("./pbkdf2"),require("./pkcs12"),require("./pss"),require("./rsa"),require("./util"),require("./x509");var r=e.asn1,o=module.exports=e.pki=e.pki||{};o.pemToDer=function(r){var o=e.pem.decode(r)[0];if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(o.body)},o.privateKeyFromPem=function(t){var p=e.pem.decode(t)[0];if("PRIVATE KEY"!==p.type&&"RSA PRIVATE KEY"!==p.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=p.type,i}if(p.procType&&"ENCRYPTED"===p.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=r.fromDer(p.body);return o.privateKeyFromAsn1(n)},o.privateKeyToPem=function(t,p){var i={type:"RSA PRIVATE KEY",body:r.toDer(o.privateKeyToAsn1(t)).getBytes()};return e.pem.encode(i,{maxline:p})},o.privateKeyInfoToPem=function(o,t){var p={type:"PRIVATE KEY",body:r.toDer(o).getBytes()};return e.pem.encode(p,{maxline:t})};
},{"./forge":"jo0T","./asn1":"UkhS","./oids":"5iY2","./pbe":"bUou","./pem":"4vk0","./pbkdf2":"Avv+","./pkcs12":"hAmC","./pss":"Wrpf","./rsa":"X/pg","./util":"gkgk","./x509":"cieh"}],"b9qg":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./hmac"),require("./md5"),require("./pem"),require("./pki"),require("./random"),require("./sha1"),require("./util");var t=function(t,r,n,i){var a=e.util.createBuffer(),s=t.length>>1,o=s+(1&t.length),c=t.substr(0,o),l=t.substr(s,o),u=e.util.createBuffer(),p=e.hmac.create();n=r+n;var d=Math.ceil(i/16),f=Math.ceil(i/20);p.start("MD5",c);var h=e.util.createBuffer();u.putBytes(n);for(var v=0;v<d;++v)p.start(null,null),p.update(u.getBytes()),u.putBuffer(p.digest()),p.start(null,null),p.update(u.bytes()+n),h.putBuffer(p.digest());p.start("SHA1",l);var g=e.util.createBuffer();u.clear(),u.putBytes(n);for(v=0;v<f;++v)p.start(null,null),p.update(u.getBytes()),u.putBuffer(p.digest()),p.start(null,null),p.update(u.bytes()+n),g.putBuffer(p.digest());return a.putBytes(e.util.xorBytes(h.getBytes(),g.getBytes(),i)),a},r=function(e,t,r,n){},n=function(t,r,n){var i=e.hmac.create();i.start("SHA1",t);var a=e.util.createBuffer();return a.putInt32(r[0]),a.putInt32(r[1]),a.putByte(n.type),a.putByte(n.version.major),a.putByte(n.version.minor),a.putInt16(n.length),a.putBytes(n.fragment.bytes()),i.update(a.getBytes()),i.digest().getBytes()},i=function(t,r,n){var i=!1;try{var a=t.deflate(r.fragment.getBytes());r.fragment=e.util.createBuffer(a),r.length=a.length,i=!0}catch(s){}return i},a=function(t,r,n){var i=!1;try{var a=t.inflate(r.fragment.getBytes());r.fragment=e.util.createBuffer(a),r.length=a.length,i=!0}catch(s){}return i},s=function(t,r){var n=0;switch(r){case 1:n=t.getByte();break;case 2:n=t.getInt16();break;case 3:n=t.getInt24();break;case 4:n=t.getInt32()}return e.util.createBuffer(t.getBytes(n))},o=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(e){var t=null;for(var r in c.CipherSuites){var n=c.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},c.handleUnexpected=function(e,t){!e.open&&e.entity===c.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(c.queue(e,c.createAlert(e,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(e)),e.process()},c.parseHelloMessage=function(t,r,n){var i=null,a=t.entity===c.ConnectionEnd.client;if(n<38)t.error(t,{message:a?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var o=r.fragment,l=o.length();if(i={version:{major:o.getByte(),minor:o.getByte()},random:e.util.createBuffer(o.getBytes(32)),session_id:s(o,1),extensions:[]},a?(i.cipher_suite=o.getBytes(2),i.compression_method=o.getByte()):(i.cipher_suites=s(o,2),i.compression_methods=s(o,1)),(l=n-(l-o.length()))>0){for(var u=s(o,2);u.length()>0;)i.extensions.push({type:[u.getByte(),u.getByte()],data:s(u,2)});if(!a)for(var p=0;p<i.extensions.length;++p){var d=i.extensions[p];if(0===d.type[0]&&0===d.type[1])for(var f=s(d.data,2);f.length()>0;){if(0!==f.getByte())break;t.session.extensions.server_name.serverNameList.push(s(f,2).getBytes())}}}if(t.session.version&&(i.version.major!==t.session.version.major||i.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(a)t.session.cipherSuite=c.getCipherSuite(i.cipher_suite);else for(var h=e.util.createBuffer(i.cipher_suites.bytes());h.length()>0&&(t.session.cipherSuite=c.getCipherSuite(h.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:e.util.bytesToHex(i.cipher_suite)});t.session.compressionMethod=a?i.compression_method:c.CompressionMethod.none}return i},c.createSecurityParameters=function(e,t){var r=e.entity===c.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:c.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}},c.handleServerHello=function(e,t,r){var n=c.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=h,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=u,e.session.resuming=!1,c.createSecurityParameters(e,n)),e.session.id=i,e.process()}},c.handleClientHello=function(t,r,n){var i=c.parseHelloMessage(t,r,n);if(!t.fail){var a=i.session_id.bytes(),s=null;if(t.sessionCache&&(null===(s=t.sessionCache.getSession(a))?a="":(s.version.major!==i.version.major||s.version.minor>i.version.minor)&&(s=null,a="")),0===a.length&&(a=e.random.getBytes(32)),t.session.id=a,t.session.clientHelloVersion=i.version,t.session.sp={},s)t.version=t.session.version=s.version,t.session.sp=s.sp;else{for(var o,l=1;l<c.SupportedVersions.length&&!((o=c.SupportedVersions[l]).minor<=i.version.minor);++l);t.version={major:o.major,minor:o.minor},t.session.version=t.version}null!==s?(t.expect=k,t.session.resuming=!0,t.session.sp.client_random=i.random.bytes()):(t.expect=!1!==t.verifyClient?_:C,t.session.resuming=!1,c.createSecurityParameters(t,i)),t.open=!0,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHello(t)})),t.session.resuming?(c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.pending=c.createConnectionState(t),t.state.current.write=t.state.pending.write,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)}))):(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)})),t.fail||(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerKeyExchange(t)})),!1!==t.verifyClient&&c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificateRequest(t)})),c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHelloDone(t)})))),c.flush(t),t.process()}},c.handleCertificate=function(t,r,n){if(n<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i,a,o=r.fragment,l={certificate_list:s(o,3)},u=[];try{for(;l.certificate_list.length()>0;)i=s(l.certificate_list,3),a=e.asn1.fromDer(i),i=e.pki.certificateFromAsn1(a,!0),u.push(i)}catch(f){return t.error(t,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var d=t.entity===c.ConnectionEnd.client;!d&&!0!==t.verifyClient||0!==u.length?0===u.length?t.expect=d?p:C:(d?t.session.serverCertificate=u[0]:t.session.clientCertificate=u[0],c.verifyCertificateChain(t,u)&&(t.expect=d?p:C)):t.error(t,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}),t.process()},c.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},c.handleClientKeyExchange=function(t,r,n){if(n<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var i=r.fragment,a={enc_pre_master_secret:s(i,2).getBytes()},o=null;if(t.getPrivateKey)try{o=t.getPrivateKey(t,t.session.serverCertificate),o=e.pki.privateKeyFromPem(o)}catch(p){t.error(t,{message:"Could not get private key.",cause:p,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===o)return t.error(t,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var l=t.session.sp;l.pre_master_secret=o.decrypt(a.enc_pre_master_secret);var u=t.session.clientHelloVersion;if(u.major!==l.pre_master_secret.charCodeAt(0)||u.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(p){l.pre_master_secret=e.random.getBytes(48)}t.expect=k,null!==t.session.clientCertificate&&(t.expect=B),t.process()},c.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:s(n,1),certificate_authorities:s(n,2)};e.session.certificateRequest=i,e.expect=f,e.process()},c.handleCertificateVerify=function(t,r,n){if(n<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i=r.fragment;i.read-=4;var a=i.bytes();i.read+=4;var o={signature:s(i,2).getBytes()},l=e.util.createBuffer();l.putBuffer(t.session.md5.digest()),l.putBuffer(t.session.sha1.digest()),l=l.getBytes();try{if(!t.session.clientCertificate.publicKey.verify(l,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(a),t.session.sha1.update(a)}catch(u){return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}t.expect=k,t.process()},c.handleServerHelloDone=function(t,r,n){if(n>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===t.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},a=t.verify(t,i.alert.description,0,[]);if(!0!==a)return(a||0===a)&&("object"!=typeof a||e.util.isArray(a)?"number"==typeof a&&(i.alert.description=a):(a.message&&(i.message=a.message),a.alert&&(i.alert.description=a.alert))),t.error(t,i)}null!==t.session.certificateRequest&&(r=c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)}),c.queue(t,r)),r=c.createRecord(t,{type:c.ContentType.handshake,data:c.createClientKeyExchange(t)}),c.queue(t,r),t.expect=y;var s=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateVerify(e,t)})),c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)})),e.expect=h,c.flush(e),e.process()};if(null===t.session.certificateRequest||null===t.session.clientCertificate)return s(t,null);c.getClientSignature(t,s)},c.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=e.entity===c.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=c.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?v:A,e.process()},c.handleFinished=function(r,n,i){var a=n.fragment;a.read-=4;var s=a.bytes();a.read+=4;var o=n.fragment.getBytes();(a=e.util.createBuffer()).putBuffer(r.session.md5.digest()),a.putBuffer(r.session.sha1.digest());var l=r.entity===c.ConnectionEnd.client,u=l?"server finished":"client finished",p=r.session.sp;if((a=t(p.master_secret,u,a.getBytes(),12)).getBytes()!==o)return r.error(r,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});r.session.md5.update(s),r.session.sha1.update(s),(r.session.resuming&&l||!r.session.resuming&&!l)&&(c.queue(r,c.createRecord(r,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),r.state.current.write=r.state.pending.write,r.state.pending=null,c.queue(r,c.createRecord(r,{type:c.ContentType.handshake,data:c.createFinished(r)}))),r.expect=l?g:b,r.handshaking=!1,++r.handshakes,r.peerCertificate=l?r.session.serverCertificate:r.session.clientCertificate,c.flush(r),r.isConnected=!0,r.connected(r),r.process()},c.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case c.Alert.Description.close_notify:r="Connection closed.";break;case c.Alert.Description.unexpected_message:r="Unexpected message.";break;case c.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case c.Alert.Description.decryption_failed:r="Decryption failed.";break;case c.Alert.Description.record_overflow:r="Record overflow.";break;case c.Alert.Description.decompression_failure:r="Decompression failed.";break;case c.Alert.Description.handshake_failure:r="Handshake failure.";break;case c.Alert.Description.bad_certificate:r="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case c.Alert.Description.certificate_expired:r="Certificate expired.";break;case c.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case c.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case c.Alert.Description.access_denied:r="Access denied.";break;case c.Alert.Description.decode_error:r="Decode error.";break;case c.Alert.Description.decrypt_error:r="Decrypt error.";break;case c.Alert.Description.export_restriction:r="Export restriction.";break;case c.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:r="Insufficient security.";break;case c.Alert.Description.internal_error:r="Internal error.";break;case c.Alert.Description.user_canceled:r="User canceled.";break;case c.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===c.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===c.ConnectionEnd.client?"server":"client",alert:i}),e.process()},c.handleHandshake=function(t,r){var n=r.fragment,i=n.getByte(),a=n.getInt24();if(a>n.length())return t.fragmented=r,r.fragment=e.util.createBuffer(),n.read-=4,t.process();t.fragmented=null,n.read-=4;var s=n.bytes(a+4);n.read+=4,i in K[t.entity][t.expect]?(t.entity!==c.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:e.md.md5.create(),sha1:e.md.sha1.create()}),i!==c.HandshakeType.hello_request&&i!==c.HandshakeType.certificate_verify&&i!==c.HandshakeType.finished&&(t.session.md5.update(s),t.session.sha1.update(s)),K[t.entity][t.expect][i](t,r,a)):c.handleUnexpected(t,r)},c.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},c.handleHeartbeat=function(t,r){var n=r.fragment,i=n.getByte(),a=n.getInt16(),s=n.getBytes(a);if(i===c.HeartbeatMessageType.heartbeat_request){if(t.handshaking||a>s.length)return t.process();c.queue(t,c.createRecord(t,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,s)})),c.flush(t)}else if(i===c.HeartbeatMessageType.heartbeat_response){if(s!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,e.util.createBuffer(s))}t.process()};var l=0,u=1,p=2,d=3,f=4,h=5,v=6,g=7,y=8,m=0,_=1,C=2,B=3,k=4,A=5,b=6,S=7,D=c.handleUnexpected,T=c.handleChangeCipherSpec,x=c.handleAlert,E=c.handleHandshake,w=c.handleApplicationData,R=c.handleHeartbeat,H=[];H[c.ConnectionEnd.client]=[[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[T,x,D,D,R],[D,x,E,D,R],[D,x,E,w,R],[D,x,E,D,R]],H[c.ConnectionEnd.server]=[[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[D,x,E,D,R],[T,x,D,D,R],[D,x,E,D,R],[D,x,E,w,R],[D,x,E,D,R]];var q=c.handleHelloRequest,I=c.handleServerHello,L=c.handleCertificate,M=c.handleServerKeyExchange,j=c.handleCertificateRequest,F=c.handleServerHelloDone,V=c.handleFinished,K=[];K[c.ConnectionEnd.client]=[[D,D,I,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,L,M,j,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,M,j,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,j,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,F,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,V],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[q,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D]];var P=c.handleClientHello,N=c.handleClientKeyExchange,U=c.handleCertificateVerify;K[c.ConnectionEnd.server]=[[D,P,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,L,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,N,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,U,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,V],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D]],c.generateKeys=function(e,r){var n=t,i=r.client_random+r.server_random;e.session.resuming||(r.master_secret=n(r.pre_master_secret,"master secret",i,48).bytes(),r.pre_master_secret=null),i=r.server_random+r.client_random;var a=2*r.mac_key_length+2*r.enc_key_length,s=e.version.major===c.Versions.TLS_1_0.major&&e.version.minor===c.Versions.TLS_1_0.minor;s&&(a+=2*r.fixed_iv_length);var o=n(r.master_secret,"key expansion",i,a),l={client_write_MAC_key:o.getBytes(r.mac_key_length),server_write_MAC_key:o.getBytes(r.mac_key_length),client_write_key:o.getBytes(r.enc_key_length),server_write_key:o.getBytes(r.enc_key_length)};return s&&(l.client_write_IV=o.getBytes(r.fixed_iv_length),l.server_write_IV=o.getBytes(r.fixed_iv_length)),l},c.createConnectionState=function(e){var t=e.entity===c.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!e.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=c.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=i;break;default:throw new Error("Unsupported compression algorithm.")}}return n},c.createRandom=function(){var t=new Date,r=+t+6e4*t.getTimezoneOffset(),n=e.util.createBuffer();return n.putInt32(r),n.putBytes(e.random.getBytes(28)),n},c.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},c.createAlert=function(t,r){var n=e.util.createBuffer();return n.putByte(r.level),n.putByte(r.description),c.createRecord(t,{type:c.ContentType.alert,data:n})},c.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var r=e.util.createBuffer(),n=0;n<t.cipherSuites.length;++n){var i=t.cipherSuites[n];r.putByte(i.id[0]),r.putByte(i.id[1])}var a=r.length(),s=e.util.createBuffer();s.putByte(c.CompressionMethod.none);var l=s.length(),u=e.util.createBuffer();if(t.virtualHost){var p=e.util.createBuffer();p.putByte(0),p.putByte(0);var d=e.util.createBuffer();d.putByte(0),o(d,2,e.util.createBuffer(t.virtualHost));var f=e.util.createBuffer();o(f,2,d),o(p,2,f),u.putBuffer(p)}var h=u.length();h>0&&(h+=2);var v=t.session.id,g=v.length+1+2+4+28+2+a+1+l+h,y=e.util.createBuffer();return y.putByte(c.HandshakeType.client_hello),y.putInt24(g),y.putByte(t.version.major),y.putByte(t.version.minor),y.putBytes(t.session.sp.client_random),o(y,1,e.util.createBuffer(v)),o(y,2,r),o(y,1,s),h>0&&o(y,2,u),y},c.createServerHello=function(t){var r=t.session.id,n=r.length+1+2+4+28+2+1,i=e.util.createBuffer();return i.putByte(c.HandshakeType.server_hello),i.putInt24(n),i.putByte(t.version.major),i.putByte(t.version.minor),i.putBytes(t.session.sp.server_random),o(i,1,e.util.createBuffer(r)),i.putByte(t.session.cipherSuite.id[0]),i.putByte(t.session.cipherSuite.id[1]),i.putByte(t.session.compressionMethod),i},c.createCertificate=function(t){var r,n=t.entity===c.ConnectionEnd.client,i=null;t.getCertificate&&(r=n?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,i=t.getCertificate(t,r));var a=e.util.createBuffer();if(null!==i)try{e.util.isArray(i)||(i=[i]);for(var s=null,l=0;l<i.length;++l){var u=e.pem.decode(i[l])[0];if("CERTIFICATE"!==u.type&&"X509 CERTIFICATE"!==u.type&&"TRUSTED CERTIFICATE"!==u.type){var p=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw p.headerType=u.type,p}if(u.procType&&"ENCRYPTED"===u.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=e.util.createBuffer(u.body);null===s&&(s=e.asn1.fromDer(d.bytes(),!1));var f=e.util.createBuffer();o(f,3,d),a.putBuffer(f)}i=e.pki.certificateFromAsn1(s),n?t.session.clientCertificate=i:t.session.serverCertificate=i}catch(g){return t.error(t,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var h=3+a.length(),v=e.util.createBuffer();return v.putByte(c.HandshakeType.certificate),v.putInt24(h),o(v,3,a),v},c.createClientKeyExchange=function(t){var r=e.util.createBuffer();r.putByte(t.session.clientHelloVersion.major),r.putByte(t.session.clientHelloVersion.minor),r.putBytes(e.random.getBytes(46));var n=t.session.sp;n.pre_master_secret=r.getBytes();var i=(r=t.session.serverCertificate.publicKey.encrypt(n.pre_master_secret)).length+2,a=e.util.createBuffer();return a.putByte(c.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(r.length),a.putBytes(r),a},c.createServerKeyExchange=function(t){var r=e.util.createBuffer();return r},c.getClientSignature=function(t,r){var n=e.util.createBuffer();n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest()),n=n.getBytes(),t.getSignature=t.getSignature||function(t,r,n){var i=null;if(t.getPrivateKey)try{i=t.getPrivateKey(t,t.session.clientCertificate),i=e.pki.privateKeyFromPem(i)}catch(a){t.error(t,{message:"Could not get private key.",cause:a,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===i?t.error(t,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):r=i.sign(r,null),n(t,r)},t.getSignature(t,n,r)},c.createCertificateVerify=function(t,r){var n=r.length+2,i=e.util.createBuffer();return i.putByte(c.HandshakeType.certificate_verify),i.putInt24(n),i.putInt16(r.length),i.putBytes(r),i},c.createCertificateRequest=function(t){var r=e.util.createBuffer();r.putByte(1);var n=e.util.createBuffer();for(var i in t.caStore.certs){var a=t.caStore.certs[i],s=e.pki.distinguishedNameToAsn1(a.subject),l=e.asn1.toDer(s);n.putInt16(l.length()),n.putBuffer(l)}var u=1+r.length()+2+n.length(),p=e.util.createBuffer();return p.putByte(c.HandshakeType.certificate_request),p.putInt24(u),o(p,1,r),o(p,2,n),p},c.createServerHelloDone=function(t){var r=e.util.createBuffer();return r.putByte(c.HandshakeType.server_hello_done),r.putInt24(0),r},c.createChangeCipherSpec=function(){var t=e.util.createBuffer();return t.putByte(1),t},c.createFinished=function(r){var n=e.util.createBuffer();n.putBuffer(r.session.md5.digest()),n.putBuffer(r.session.sha1.digest());var i=r.entity===c.ConnectionEnd.client,a=r.session.sp,s=i?"client finished":"server finished";n=t(a.master_secret,s,n.getBytes(),12);var o=e.util.createBuffer();return o.putByte(c.HandshakeType.finished),o.putInt24(n.length()),o.putBuffer(n),o},c.createHeartbeat=function(t,r,n){void 0===n&&(n=r.length);var i=e.util.createBuffer();i.putByte(t),i.putInt16(n),i.putBytes(r);var a=i.length(),s=Math.max(16,a-n-3);return i.putBytes(e.random.getBytes(s)),i},c.queue=function(t,r){if(r&&(0!==r.fragment.length()||r.type!==c.ContentType.handshake&&r.type!==c.ContentType.alert&&r.type!==c.ContentType.change_cipher_spec)){if(r.type===c.ContentType.handshake){var n=r.fragment.bytes();t.session.md5.update(n),t.session.sha1.update(n),n=null}var i;if(r.fragment.length()<=c.MaxFragment)i=[r];else{i=[];for(var a=r.fragment.bytes();a.length>c.MaxFragment;)i.push(c.createRecord(t,{type:r.type,data:e.util.createBuffer(a.slice(0,c.MaxFragment))})),a=a.slice(c.MaxFragment);a.length>0&&i.push(c.createRecord(t,{type:r.type,data:e.util.createBuffer(a)}))}for(var s=0;s<i.length&&!t.fail;++s){var o=i[s];t.state.current.write.update(t,o)&&t.records.push(o)}}},c.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var O=function(t){switch(t){case!0:return!0;case e.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case e.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case e.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case e.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case e.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case e.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}},X=function(t){switch(t){case!0:return!0;case c.Alert.Description.bad_certificate:return e.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return e.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return e.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return e.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return e.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return e.pki.certificateError.unknown_ca;default:return e.pki.certificateError.bad_certificate}};for(var z in c.verifyCertificateChain=function(t,r){try{var n={};for(var i in t.verifyOptions)n[i]=t.verifyOptions[i];n.verify=function(r,n,i){O(r);var a=t.verify(t,r,n,i);if(!0!==a){if("object"==typeof a&&!e.util.isArray(a)){var s=new Error("The application rejected the certificate.");throw s.send=!0,s.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},a.message&&(s.message=a.message),a.alert&&(s.alert.description=a.alert),s}a!==r&&(a=X(a))}return a},e.pki.verifyCertificateChain(t.caStore,r,n)}catch(s){var a=s;("object"!=typeof a||e.util.isArray(a))&&(a={send:!0,alert:{level:c.Alert.Level.fatal,description:O(s)}}),"send"in a||(a.send=!0),"alert"in a||(a.alert={level:c.Alert.Level.fatal,description:O(a.error)}),t.error(t,a)}return!t.fail},c.createSessionCache=function(t,r){var n=null;if(t&&t.getSession&&t.setSession&&t.order)n=t;else{for(var i in(n={}).cache=t||{},n.capacity=Math.max(r||100,1),n.order=[],t)n.order.length<=r?n.order.push(i):delete t[i];n.getSession=function(t){var r=null,i=null;if(t?i=e.util.bytesToHex(t):n.order.length>0&&(i=n.order[0]),null!==i&&i in n.cache)for(var a in r=n.cache[i],delete n.cache[i],n.order)if(n.order[a]===i){n.order.splice(a,1);break}return r},n.setSession=function(t,r){if(n.order.length===n.capacity){var i=n.order.shift();delete n.cache[i]}i=e.util.bytesToHex(t);n.order.push(i),n.cache[i]=r}}return n},c.createConnection=function(t){var r=null;r=t.caStore?e.util.isArray(t.caStore)?e.pki.createCaStore(t.caStore):t.caStore:e.pki.createCaStore();var n=t.cipherSuites||null;if(null===n)for(var i in n=[],c.CipherSuites)n.push(c.CipherSuites[i]);var a=t.server?c.ConnectionEnd.server:c.ConnectionEnd.client,s=t.sessionCache?c.createSessionCache(t.sessionCache):null,o={version:{major:c.Version.major,minor:c.Version.minor},entity:a,sessionId:t.sessionId,caStore:r,sessionCache:s,cipherSuites:n,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(e,t,r,n){return t},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:e.util.createBuffer(),tlsData:e.util.createBuffer(),data:e.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===c.ConnectionEnd.client?"client":"server"),r.send&&(c.queue(e,c.createAlert(e,r.alert)),c.flush(e));var n=!1!==r.fatal;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null,reset:function(e){o.version={major:c.Version.major,minor:c.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===c.ConnectionEnd.client?l:m,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||void 0===e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=c.createConnectionState(o)}};o.reset();return o.handshake=function(t){if(o.entity!==c.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var r=null;(t=t||"").length>0&&(o.sessionCache&&(r=o.sessionCache.getSession(t)),null===r&&(t="")),0===t.length&&o.sessionCache&&null!==(r=o.sessionCache.getSession())&&(t=r.id),o.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:e.md.md5.create(),sha1:e.md.sha1.create()},r&&(o.version=r.version,o.session.sp=r.sp),o.session.sp.client_random=c.createRandom().getBytes(),o.open=!0,c.queue(o,c.createRecord(o,{type:c.ContentType.handshake,data:c.createClientHello(o)})),c.flush(o)}},o.process=function(t){var r=0;return t&&o.input.putBytes(t),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(r=function(t){var r=0,n=t.input,i=n.length();if(i<5)r=5-i;else{t.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:e.util.createBuffer(),ready:!1};var a=t.record.version.major===t.version.major;a&&t.session&&t.session.version&&(a=t.record.version.minor===t.version.minor),a||t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return r}(o)),o.fail||null===o.record||o.record.ready||(r=function(e){var t=0,r=e.input,n=r.length();n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),e.record.ready=!0));return t}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(e,t){var r=t.type-c.ContentType.change_cipher_spec,n=H[e.entity][e.expect];r in n?n[r](e,t):c.handleUnexpected(e,t)}(o,o.record)),r},o.prepare=function(t){return c.queue(o,c.createRecord(o,{type:c.ContentType.application_data,data:e.util.createBuffer(t)})),c.flush(o)},o.prepareHeartbeatRequest=function(t,r){return t instanceof e.util.ByteBuffer&&(t=t.bytes()),void 0===r&&(r=t.length),o.expectedHeartbeatPayload=t,c.queue(o,c.createRecord(o,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,t,r)})),c.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,c.queue(o,c.createAlert(o,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(o)),o.closed(o)),o.reset(e)},o},module.exports=e.tls=e.tls||{},c)"function"!=typeof c[z]&&(e.tls[z]=c[z]);e.tls.prf_tls1=t,e.tls.hmac_sha1=n,e.tls.createSessionCache=c.createSessionCache,e.tls.createConnection=c.createConnection;
},{"./forge":"jo0T","./asn1":"UkhS","./hmac":"n8mL","./md5":"kG8c","./pem":"4vk0","./pki":"q3sJ","./random":"NGh+","./sha1":"wQ5C","./util":"gkgk"}],"1//n":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./tls");var t=module.exports=e.tls;function r(r,n,a){var _=n.entity===e.tls.ConnectionEnd.client;r.read.cipherState={init:!1,cipher:e.cipher.createDecipher("AES-CBC",_?a.keys.server_write_key:a.keys.client_write_key),iv:_?a.keys.server_write_IV:a.keys.client_write_IV},r.write.cipherState={init:!1,cipher:e.cipher.createCipher("AES-CBC",_?a.keys.client_write_key:a.keys.server_write_key),iv:_?a.keys.client_write_IV:a.keys.server_write_IV},r.read.cipherFunction=c,r.write.cipherFunction=i,r.read.macLength=r.write.macLength=a.mac_length,r.read.macFunction=r.write.macFunction=t.hmac_sha1}function i(r,i){var a,c=!1,_=i.macFunction(i.macKey,i.sequenceNumber,r);r.fragment.putBytes(_),i.updateSequenceNumber(),a=r.version.minor===t.Versions.TLS_1_0.minor?i.cipherState.init?null:i.cipherState.iv:e.random.getBytesSync(16),i.cipherState.init=!0;var h=i.cipherState.cipher;return h.start({iv:a}),r.version.minor>=t.Versions.TLS_1_1.minor&&h.output.putBytes(a),h.update(r.fragment),h.finish(n)&&(r.fragment=h.output,r.length=r.fragment.length(),c=!0),c}function n(e,t,r){if(!r){var i=e-t.length()%e;t.fillWithByte(i-1,i)}return!0}function a(e,t,r){var i=!0;if(r){for(var n=t.length(),a=t.last(),c=n-1-a;c<n-1;++c)i=i&&t.at(c)==a;i&&t.truncate(a+1)}return i}function c(r,i){var n,c=!1;n=r.version.minor===t.Versions.TLS_1_0.minor?i.cipherState.init?null:i.cipherState.iv:r.fragment.getBytes(16),i.cipherState.init=!0;var h=i.cipherState.cipher;h.start({iv:n}),h.update(r.fragment),c=h.finish(a);var u=i.macLength,o=e.random.getBytesSync(u),l=h.output.length();l>=u?(r.fragment=h.output.getBytes(l-u),o=h.output.getBytes(u)):r.fragment=h.output.getBytes(),r.fragment=e.util.createBuffer(r.fragment),r.length=r.fragment.length();var m=i.macFunction(i.macKey,i.sequenceNumber,r);return i.updateSequenceNumber(),c=_(i.macKey,o,m)&&c}function _(t,r,i){var n=e.hmac.create();return n.start("SHA1",t),n.update(r),r=n.digest().getBytes(),n.start(null,null),n.update(i),r===(i=n.digest().getBytes())}t.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,e.cipher_type=t.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=t.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:r},t.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,e.cipher_type=t.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=t.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:r};
},{"./forge":"jo0T","./aes":"VOs8","./tls":"b9qg"}],"KZkJ":[function(require,module,exports) {
var e=require("./forge");module.exports=e.debug=e.debug||{},e.debug.storage={},e.debug.get=function(g,d){var u;return void 0===g?u=e.debug.storage:g in e.debug.storage&&(u=void 0===d?e.debug.storage[g]:e.debug.storage[g][d]),u},e.debug.set=function(g,d,u){g in e.debug.storage||(e.debug.storage[g]={}),e.debug.storage[g][d]=u},e.debug.clear=function(g,d){void 0===g?e.debug.storage={}:g in e.debug.storage&&(void 0===d?delete e.debug.storage[g]:delete e.debug.storage[g][d])};
},{"./forge":"jo0T"}],"biZn":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha512=e.sha512||{};e.md.sha512=e.md.algorithms.sha512=t;var a=e.sha384=e.sha512.sha384=e.sha512.sha384||{};a.create=function(){return t.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=a,e.sha512.sha256=e.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,t.create=function(t){if(s||l(),void 0===t&&(t="SHA-512"),!(t in h))throw new Error("Invalid SHA-512 algorithm: "+t);for(var a=h[t],n=null,u=e.util.createBuffer(),f=new Array(80),o=0;o<80;++o)f[o]=new Array(2);var i=64;switch(t){case"SHA-384":i=48;break;case"SHA-512/256":i=32;break;case"SHA-512/224":i=28}var c={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:i,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var t=c.messageLengthSize/4,r=0;r<t;++r)c.fullMessageLength.push(0);u=e.util.createBuffer(),n=new Array(a.length);for(r=0;r<a.length;++r)n[r]=a[r].slice(0);return c}};return c.start(),c.update=function(t,a){"utf8"===a&&(t=e.util.encodeUtf8(t));var r=t.length;c.messageLength+=r,r=[r/4294967296>>>0,r>>>0];for(var s=c.fullMessageLength.length-1;s>=0;--s)c.fullMessageLength[s]+=r[1],r[1]=r[0]+(c.fullMessageLength[s]/4294967296>>>0),c.fullMessageLength[s]=c.fullMessageLength[s]>>>0,r[0]=r[1]/4294967296>>>0;return u.putBytes(t),g(n,f,u),(u.read>2048||0===u.length())&&u.compact(),c},c.digest=function(){var a=e.util.createBuffer();a.putBytes(u.bytes());var s,h=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize&c.blockLength-1;a.putBytes(r.substr(0,c.blockLength-h));for(var l=8*c.fullMessageLength[0],o=0;o<c.fullMessageLength.length-1;++o)l+=(s=8*c.fullMessageLength[o+1])/4294967296>>>0,a.putInt32(l>>>0),l=s>>>0;a.putInt32(l);var i=new Array(n.length);for(o=0;o<n.length;++o)i[o]=n[o].slice(0);g(i,f,a);var m,L=e.util.createBuffer();m="SHA-512"===t?i.length:"SHA-384"===t?i.length-2:i.length-4;for(o=0;o<m;++o)L.putInt32(i[o][0]),o===m-1&&"SHA-512/224"===t||L.putInt32(i[o][1]);return L},c};var r=null,s=!1,n=null,h=null;function l(){r=String.fromCharCode(128),r+=e.util.fillString(String.fromCharCode(0),128),n=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(h={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],h["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],h["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],h["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0}function g(e,t,a){for(var r,s,h,l,g,u,f,o,i,c,m,L,S,d,A,v,H,M,p,w,y,b,B,I,k,C,q,z,x,E,U,j,D,F=a.length();F>=128;){for(q=0;q<16;++q)t[q][0]=a.getInt32()>>>0,t[q][1]=a.getInt32()>>>0;for(;q<80;++q)r=(((z=(E=t[q-2])[0])>>>19|(x=E[1])<<13)^(x>>>29|z<<3)^z>>>6)>>>0,s=((z<<13|x>>>19)^(x<<3|z>>>29)^(z<<26|x>>>6))>>>0,h=(((z=(j=t[q-15])[0])>>>1|(x=j[1])<<31)^(z>>>8|x<<24)^z>>>7)>>>0,l=((z<<31|x>>>1)^(z<<24|x>>>8)^(z<<25|x>>>7))>>>0,U=t[q-7],D=t[q-16],x=s+U[1]+l+D[1],t[q][0]=r+U[0]+h+D[0]+(x/4294967296>>>0)>>>0,t[q][1]=x>>>0;for(m=e[0][0],L=e[0][1],S=e[1][0],d=e[1][1],A=e[2][0],v=e[2][1],H=e[3][0],M=e[3][1],p=e[4][0],w=e[4][1],y=e[5][0],b=e[5][1],B=e[6][0],I=e[6][1],k=e[7][0],C=e[7][1],q=0;q<80;++q)f=((p>>>14|w<<18)^(p>>>18|w<<14)^(w>>>9|p<<23))>>>0,o=(B^p&(y^B))>>>0,g=((m>>>28|L<<4)^(L>>>2|m<<30)^(L>>>7|m<<25))>>>0,u=((m<<4|L>>>28)^(L<<30|m>>>2)^(L<<25|m>>>7))>>>0,i=(m&S|A&(m^S))>>>0,c=(L&d|v&(L^d))>>>0,x=C+(((p<<18|w>>>14)^(p<<14|w>>>18)^(w<<23|p>>>9))>>>0)+((I^w&(b^I))>>>0)+n[q][1]+t[q][1],r=k+f+o+n[q][0]+t[q][0]+(x/4294967296>>>0)>>>0,s=x>>>0,h=g+i+((x=u+c)/4294967296>>>0)>>>0,l=x>>>0,k=B,C=I,B=y,I=b,y=p,b=w,p=H+r+((x=M+s)/4294967296>>>0)>>>0,w=x>>>0,H=A,M=v,A=S,v=d,S=m,d=L,m=r+h+((x=s+l)/4294967296>>>0)>>>0,L=x>>>0;x=e[0][1]+L,e[0][0]=e[0][0]+m+(x/4294967296>>>0)>>>0,e[0][1]=x>>>0,x=e[1][1]+d,e[1][0]=e[1][0]+S+(x/4294967296>>>0)>>>0,e[1][1]=x>>>0,x=e[2][1]+v,e[2][0]=e[2][0]+A+(x/4294967296>>>0)>>>0,e[2][1]=x>>>0,x=e[3][1]+M,e[3][0]=e[3][0]+H+(x/4294967296>>>0)>>>0,e[3][1]=x>>>0,x=e[4][1]+w,e[4][0]=e[4][0]+p+(x/4294967296>>>0)>>>0,e[4][1]=x>>>0,x=e[5][1]+b,e[5][0]=e[5][0]+y+(x/4294967296>>>0)>>>0,e[5][1]=x>>>0,x=e[6][1]+I,e[6][0]=e[6][0]+B+(x/4294967296>>>0)>>>0,e[6][1]=x>>>0,x=e[7][1]+C,e[7][0]=e[7][0]+k+(x/4294967296>>>0)>>>0,e[7][1]=x>>>0,F-=128}}
},{"./forge":"jo0T","./md":"7aIq","./util":"gkgk"}],"OTte":[function(require,module,exports) {
var r=require("./forge");if(require("./jsbn"),require("./random"),require("./sha512"),require("./util"),void 0===n)var n=r.jsbn.BigInteger;var o=r.util.ByteBuffer,t="undefined"==typeof Buffer?Uint8Array:Buffer;r.pki=r.pki||{},module.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var e=r.ed25519;function a(r){var n=r.message;if(n instanceof Uint8Array)return n;var e=r.encoding;if(void 0===n){if(!r.md)throw new TypeError('"options.message" or "options.md" not specified.');n=r.md.digest().getBytes(),e="binary"}if("string"==typeof n&&!e)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof n){if("undefined"!=typeof Buffer)return Buffer.from(n,e);n=new o(n,e)}else if(!(n instanceof o))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var a=new t(n.length()),f=0;f<a.length;++f)a[f]=n.at(f);return a}e.constants={},e.constants.PUBLIC_KEY_BYTE_LENGTH=32,e.constants.PRIVATE_KEY_BYTE_LENGTH=64,e.constants.SEED_BYTE_LENGTH=32,e.constants.SIGN_BYTE_LENGTH=64,e.constants.HASH_BYTE_LENGTH=64,e.generateKeyPair=function(n){var o=(n=n||{}).seed;if(void 0===o)o=r.random.getBytesSync(e.constants.SEED_BYTE_LENGTH);else if("string"==typeof o){if(o.length!==e.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+e.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(o instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');o=a({message:o,encoding:"binary"});for(var f=new t(e.constants.PUBLIC_KEY_BYTE_LENGTH),i=new t(e.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)i[s]=o[s];return v(f,i),{publicKey:f,privateKey:i}},e.publicKeyFromPrivateKey=function(r){var n=a({message:(r=r||{}).privateKey,encoding:"binary"});if(n.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);for(var o=new t(e.constants.PUBLIC_KEY_BYTE_LENGTH),f=0;f<o.length;++f)o[f]=n[32+f];return o},e.sign=function(r){var n=a(r=r||{}),o=a({message:r.privateKey,encoding:"binary"});if(o.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);var f=new t(e.constants.SIGN_BYTE_LENGTH+n.length);y(f,n,n.length,o);for(var i=new t(e.constants.SIGN_BYTE_LENGTH),s=0;s<i.length;++s)i[s]=f[s];return i},e.verify=function(r){var n=a(r=r||{});if(void 0===r.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var o=a({message:r.signature,encoding:"binary"});if(o.length!==e.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+e.constants.SIGN_BYTE_LENGTH);var f=a({message:r.publicKey,encoding:"binary"});if(f.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+e.constants.PUBLIC_KEY_BYTE_LENGTH);var i,s=new t(e.constants.SIGN_BYTE_LENGTH+n.length),u=new t(e.constants.SIGN_BYTE_LENGTH+n.length);for(i=0;i<e.constants.SIGN_BYTE_LENGTH;++i)s[i]=o[i];for(i=0;i<n.length;++i)s[i+e.constants.SIGN_BYTE_LENGTH]=n[i];return _(u,s,s.length,f)>=0};var f=C(),i=C([1]),s=C([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=C([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),E=C([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),c=C([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),l=C([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(n,a){var f=r.md.sha512.create(),i=new o(n);f.update(i.getBytes(a),"binary");var s=f.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(s,"binary");for(var u=new t(e.constants.HASH_BYTE_LENGTH),E=0;E<64;++E)u[E]=s.charCodeAt(E);return u}function v(r,n){var o,t=[C(),C(),C(),C()],e=T(n,32);for(e[0]&=248,e[31]&=127,e[31]|=64,I(t,e),w(r,t),o=0;o<32;++o)n[o+32]=r[o];return 0}function y(r,n,o,t){var e,a,f=new Float64Array(64),i=[C(),C(),C(),C()],s=T(t,32);s[0]&=248,s[31]&=127,s[31]|=64;var u=o+64;for(e=0;e<o;++e)r[64+e]=n[e];for(e=0;e<32;++e)r[32+e]=s[32+e];var E=T(r.subarray(32),o+32);for(B(E),I(i,E),w(r,i),e=32;e<64;++e)r[e]=t[e];var c=T(r,o+64);for(B(c),e=32;e<64;++e)f[e]=0;for(e=0;e<32;++e)f[e]=E[e];for(e=0;e<32;++e)for(a=0;a<32;a++)f[e+a]+=c[e]*s[a];return g(r.subarray(32),f),u}function _(r,n,o,e){var a,f=new t(32),i=[C(),C(),C(),C()],s=[C(),C(),C(),C()];if(-1,o<64)return-1;if(G(s,e))return-1;for(a=0;a<o;++a)r[a]=n[a];for(a=0;a<32;++a)r[a+32]=e[a];var u=T(r,o);if(B(u),K(i,s,u),I(s,n.subarray(32)),p(i,s),w(f,i),o-=64,b(n,0,f,0)){for(a=0;a<o;++a)r[a]=0;return-1}for(a=0;a<o;++a)r[a]=n[a+64];return o}function g(r,n){var o,t,e,a;for(t=63;t>=32;--t){for(o=0,e=t-32,a=t-12;e<a;++e)n[e]+=o-16*n[t]*h[e-(t-32)],o=n[e]+128>>8,n[e]-=256*o;n[e]+=o,n[t]=0}for(o=0,e=0;e<32;++e)n[e]+=o-(n[31]>>4)*h[e],o=n[e]>>8,n[e]&=255;for(e=0;e<32;++e)n[e]-=o*h[e];for(t=0;t<32;++t)n[t+1]+=n[t]>>8,r[t]=255&n[t]}function B(r){for(var n=new Float64Array(64),o=0;o<64;++o)n[o]=r[o],r[o]=0;g(r,n)}function p(r,n){var o=C(),t=C(),e=C(),a=C(),f=C(),i=C(),s=C(),E=C(),c=C();V(o,r[1],r[0]),V(c,n[1],n[0]),q(o,o,c),R(t,r[0],r[1]),R(c,n[0],n[1]),q(t,t,c),q(e,r[3],n[3]),q(e,e,u),q(a,r[2],n[2]),R(a,a,a),V(f,t,o),V(i,a,e),R(s,a,e),R(E,t,o),q(r[0],f,i),q(r[1],E,s),q(r[2],s,i),q(r[3],f,E)}function d(r,n,o){for(var t=0;t<4;++t)U(r[t],n[t],o)}function w(r,n){var o=C(),t=C(),e=C();S(e,n[2]),q(o,n[0],e),q(t,n[1],e),Y(r,t),r[31]^=m(o)<<7}function Y(r,n){var o,t,e,a=C(),f=C();for(o=0;o<16;++o)f[o]=n[o];for(P(f),P(f),P(f),t=0;t<2;++t){for(a[0]=f[0]-65517,o=1;o<15;++o)a[o]=f[o]-65535-(a[o-1]>>16&1),a[o-1]&=65535;a[15]=f[15]-32767-(a[14]>>16&1),e=a[15]>>16&1,a[14]&=65535,U(f,a,1-e)}for(o=0;o<16;o++)r[2*o]=255&f[o],r[2*o+1]=f[o]>>8}function G(r,n){var o=C(),t=C(),e=C(),a=C(),u=C(),E=C(),c=C();return A(r[2],i),N(r[1],n),j(e,r[1]),q(a,e,s),V(e,e,r[2]),R(a,r[2],a),j(u,a),j(E,u),q(c,E,u),q(o,c,e),q(o,o,a),M(o,o),q(o,o,e),q(o,o,a),q(o,o,a),q(r[0],o,a),j(t,r[0]),q(t,t,a),L(t,e)&&q(r[0],r[0],l),j(t,r[0]),q(t,t,a),L(t,e)?-1:(m(r[0])===n[31]>>7&&V(r[0],f,r[0]),q(r[3],r[0],r[1]),0)}function N(r,n){var o;for(o=0;o<16;++o)r[o]=n[2*o]+(n[2*o+1]<<8);r[15]&=32767}function M(r,n){var o,t=C();for(o=0;o<16;++o)t[o]=n[o];for(o=250;o>=0;--o)j(t,t),1!==o&&q(t,t,n);for(o=0;o<16;++o)r[o]=t[o]}function L(r,n){var o=new t(32),e=new t(32);return Y(o,r),Y(e,n),b(o,0,e,0)}function b(r,n,o,t){return H(r,n,o,t,32)}function H(r,n,o,t,e){var a,f=0;for(a=0;a<e;++a)f|=r[n+a]^o[t+a];return(1&f-1>>>8)-1}function m(r){var n=new t(32);return Y(n,r),1&n[0]}function K(r,n,o){var t,e;for(A(r[0],f),A(r[1],i),A(r[2],i),A(r[3],f),e=255;e>=0;--e)d(r,n,t=o[e/8|0]>>(7&e)&1),p(n,r),p(r,r),d(r,n,t)}function I(r,n){var o=[C(),C(),C(),C()];A(o[0],E),A(o[1],c),A(o[2],i),q(o[3],E,c),K(r,o,n)}function A(r,n){var o;for(o=0;o<16;o++)r[o]=0|n[o]}function S(r,n){var o,t=C();for(o=0;o<16;++o)t[o]=n[o];for(o=253;o>=0;--o)j(t,t),2!==o&&4!==o&&q(t,t,n);for(o=0;o<16;++o)r[o]=t[o]}function P(r){var n,o,t=1;for(n=0;n<16;++n)o=r[n]+t+65535,t=Math.floor(o/65536),r[n]=o-65536*t;r[0]+=t-1+37*(t-1)}function U(r,n,o){for(var t,e=~(o-1),a=0;a<16;++a)t=e&(r[a]^n[a]),r[a]^=t,n[a]^=t}function C(r){var n,o=new Float64Array(16);if(r)for(n=0;n<r.length;++n)o[n]=r[n];return o}function R(r,n,o){for(var t=0;t<16;++t)r[t]=n[t]+o[t]}function V(r,n,o){for(var t=0;t<16;++t)r[t]=n[t]-o[t]}function j(r,n){q(r,n,n)}function q(r,n,o){var t,e,a=0,f=0,i=0,s=0,u=0,E=0,c=0,h=0,l=0,T=0,v=0,y=0,_=0,g=0,B=0,p=0,d=0,w=0,Y=0,G=0,N=0,M=0,L=0,b=0,H=0,m=0,K=0,I=0,A=0,S=0,P=0,U=o[0],C=o[1],R=o[2],V=o[3],j=o[4],q=o[5],F=o[6],D=o[7],k=o[8],x=o[9],z=o[10],J=o[11],O=o[12],Q=o[13],W=o[14],X=o[15];a+=(t=n[0])*U,f+=t*C,i+=t*R,s+=t*V,u+=t*j,E+=t*q,c+=t*F,h+=t*D,l+=t*k,T+=t*x,v+=t*z,y+=t*J,_+=t*O,g+=t*Q,B+=t*W,p+=t*X,f+=(t=n[1])*U,i+=t*C,s+=t*R,u+=t*V,E+=t*j,c+=t*q,h+=t*F,l+=t*D,T+=t*k,v+=t*x,y+=t*z,_+=t*J,g+=t*O,B+=t*Q,p+=t*W,d+=t*X,i+=(t=n[2])*U,s+=t*C,u+=t*R,E+=t*V,c+=t*j,h+=t*q,l+=t*F,T+=t*D,v+=t*k,y+=t*x,_+=t*z,g+=t*J,B+=t*O,p+=t*Q,d+=t*W,w+=t*X,s+=(t=n[3])*U,u+=t*C,E+=t*R,c+=t*V,h+=t*j,l+=t*q,T+=t*F,v+=t*D,y+=t*k,_+=t*x,g+=t*z,B+=t*J,p+=t*O,d+=t*Q,w+=t*W,Y+=t*X,u+=(t=n[4])*U,E+=t*C,c+=t*R,h+=t*V,l+=t*j,T+=t*q,v+=t*F,y+=t*D,_+=t*k,g+=t*x,B+=t*z,p+=t*J,d+=t*O,w+=t*Q,Y+=t*W,G+=t*X,E+=(t=n[5])*U,c+=t*C,h+=t*R,l+=t*V,T+=t*j,v+=t*q,y+=t*F,_+=t*D,g+=t*k,B+=t*x,p+=t*z,d+=t*J,w+=t*O,Y+=t*Q,G+=t*W,N+=t*X,c+=(t=n[6])*U,h+=t*C,l+=t*R,T+=t*V,v+=t*j,y+=t*q,_+=t*F,g+=t*D,B+=t*k,p+=t*x,d+=t*z,w+=t*J,Y+=t*O,G+=t*Q,N+=t*W,M+=t*X,h+=(t=n[7])*U,l+=t*C,T+=t*R,v+=t*V,y+=t*j,_+=t*q,g+=t*F,B+=t*D,p+=t*k,d+=t*x,w+=t*z,Y+=t*J,G+=t*O,N+=t*Q,M+=t*W,L+=t*X,l+=(t=n[8])*U,T+=t*C,v+=t*R,y+=t*V,_+=t*j,g+=t*q,B+=t*F,p+=t*D,d+=t*k,w+=t*x,Y+=t*z,G+=t*J,N+=t*O,M+=t*Q,L+=t*W,b+=t*X,T+=(t=n[9])*U,v+=t*C,y+=t*R,_+=t*V,g+=t*j,B+=t*q,p+=t*F,d+=t*D,w+=t*k,Y+=t*x,G+=t*z,N+=t*J,M+=t*O,L+=t*Q,b+=t*W,H+=t*X,v+=(t=n[10])*U,y+=t*C,_+=t*R,g+=t*V,B+=t*j,p+=t*q,d+=t*F,w+=t*D,Y+=t*k,G+=t*x,N+=t*z,M+=t*J,L+=t*O,b+=t*Q,H+=t*W,m+=t*X,y+=(t=n[11])*U,_+=t*C,g+=t*R,B+=t*V,p+=t*j,d+=t*q,w+=t*F,Y+=t*D,G+=t*k,N+=t*x,M+=t*z,L+=t*J,b+=t*O,H+=t*Q,m+=t*W,K+=t*X,_+=(t=n[12])*U,g+=t*C,B+=t*R,p+=t*V,d+=t*j,w+=t*q,Y+=t*F,G+=t*D,N+=t*k,M+=t*x,L+=t*z,b+=t*J,H+=t*O,m+=t*Q,K+=t*W,I+=t*X,g+=(t=n[13])*U,B+=t*C,p+=t*R,d+=t*V,w+=t*j,Y+=t*q,G+=t*F,N+=t*D,M+=t*k,L+=t*x,b+=t*z,H+=t*J,m+=t*O,K+=t*Q,I+=t*W,A+=t*X,B+=(t=n[14])*U,p+=t*C,d+=t*R,w+=t*V,Y+=t*j,G+=t*q,N+=t*F,M+=t*D,L+=t*k,b+=t*x,H+=t*z,m+=t*J,K+=t*O,I+=t*Q,A+=t*W,S+=t*X,p+=(t=n[15])*U,f+=38*(w+=t*R),i+=38*(Y+=t*V),s+=38*(G+=t*j),u+=38*(N+=t*q),E+=38*(M+=t*F),c+=38*(L+=t*D),h+=38*(b+=t*k),l+=38*(H+=t*x),T+=38*(m+=t*z),v+=38*(K+=t*J),y+=38*(I+=t*O),_+=38*(A+=t*Q),g+=38*(S+=t*W),B+=38*(P+=t*X),a=(t=(a+=38*(d+=t*C))+(e=1)+65535)-65536*(e=Math.floor(t/65536)),f=(t=f+e+65535)-65536*(e=Math.floor(t/65536)),i=(t=i+e+65535)-65536*(e=Math.floor(t/65536)),s=(t=s+e+65535)-65536*(e=Math.floor(t/65536)),u=(t=u+e+65535)-65536*(e=Math.floor(t/65536)),E=(t=E+e+65535)-65536*(e=Math.floor(t/65536)),c=(t=c+e+65535)-65536*(e=Math.floor(t/65536)),h=(t=h+e+65535)-65536*(e=Math.floor(t/65536)),l=(t=l+e+65535)-65536*(e=Math.floor(t/65536)),T=(t=T+e+65535)-65536*(e=Math.floor(t/65536)),v=(t=v+e+65535)-65536*(e=Math.floor(t/65536)),y=(t=y+e+65535)-65536*(e=Math.floor(t/65536)),_=(t=_+e+65535)-65536*(e=Math.floor(t/65536)),g=(t=g+e+65535)-65536*(e=Math.floor(t/65536)),B=(t=B+e+65535)-65536*(e=Math.floor(t/65536)),p=(t=p+e+65535)-65536*(e=Math.floor(t/65536)),a=(t=(a+=e-1+37*(e-1))+(e=1)+65535)-65536*(e=Math.floor(t/65536)),f=(t=f+e+65535)-65536*(e=Math.floor(t/65536)),i=(t=i+e+65535)-65536*(e=Math.floor(t/65536)),s=(t=s+e+65535)-65536*(e=Math.floor(t/65536)),u=(t=u+e+65535)-65536*(e=Math.floor(t/65536)),E=(t=E+e+65535)-65536*(e=Math.floor(t/65536)),c=(t=c+e+65535)-65536*(e=Math.floor(t/65536)),h=(t=h+e+65535)-65536*(e=Math.floor(t/65536)),l=(t=l+e+65535)-65536*(e=Math.floor(t/65536)),T=(t=T+e+65535)-65536*(e=Math.floor(t/65536)),v=(t=v+e+65535)-65536*(e=Math.floor(t/65536)),y=(t=y+e+65535)-65536*(e=Math.floor(t/65536)),_=(t=_+e+65535)-65536*(e=Math.floor(t/65536)),g=(t=g+e+65535)-65536*(e=Math.floor(t/65536)),B=(t=B+e+65535)-65536*(e=Math.floor(t/65536)),p=(t=p+e+65535)-65536*(e=Math.floor(t/65536)),a+=e-1+37*(e-1),r[0]=a,r[1]=f,r[2]=i,r[3]=s,r[4]=u,r[5]=E,r[6]=c,r[7]=h,r[8]=l,r[9]=T,r[10]=v,r[11]=y,r[12]=_,r[13]=g,r[14]=B,r[15]=p}
},{"./forge":"jo0T","./jsbn":"NE4M","./random":"NGh+","./sha512":"biZn","./util":"gkgk"}],"CTaX":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./random"),require("./jsbn"),module.exports=e.kem=e.kem||{};var t=e.jsbn.BigInteger;function r(t,r,n,i){t.generate=function(t,u){for(var a=new e.util.ByteBuffer,o=Math.ceil(u/i)+n,g=new e.util.ByteBuffer,s=n;s<o;++s){g.putInt32(s),r.start(),r.update(t+g.getBytes());var c=r.digest();a.putBytes(c.getBytes(i))}return a.truncate(a.length()-u),a.getBytes()}}e.kem.rsa={},e.kem.rsa.create=function(r,n){var i=(n=n||{}).prng||e.random,u={encrypt:function(n,u){var a,o=Math.ceil(n.n.bitLength()/8);do{a=new t(e.util.bytesToHex(i.getBytesSync(o)),16).mod(n.n)}while(a.compareTo(t.ONE)<=0);var g=o-(a=e.util.hexToBytes(a.toString(16))).length;return g>0&&(a=e.util.fillString(String.fromCharCode(0),g)+a),{encapsulation:n.encrypt(a,"NONE"),key:r.generate(a,u)}},decrypt:function(e,t,n){var i=e.decrypt(t,"NONE");return r.generate(i,n)}};return u},e.kem.kdf1=function(e,t){r(this,e,0,t||e.digestLength)},e.kem.kdf2=function(e,t){r(this,e,1,t||e.digestLength)};
},{"./forge":"jo0T","./util":"gkgk","./random":"NGh+","./jsbn":"NE4M"}],"BIp2":[function(require,module,exports) {
var e=require("./forge");require("./util"),module.exports=e.log=e.log||{},e.log.levels=["none","error","warning","info","debug","verbose","max"];var l={},o=[],n=null;e.log.LEVEL_LOCKED=2,e.log.NO_LEVEL_CHECK=4,e.log.INTERPOLATE=8;for(var r=0;r<e.log.levels.length;++r){var a=e.log.levels[r];l[a]={index:r,name:a.toUpperCase()}}e.log.logMessage=function(n){for(var r=l[n.level].index,a=0;a<o.length;++a){var g=o[a];if(g.flags&e.log.NO_LEVEL_CHECK)g.f(n);else r<=l[g.level].index&&g.f(g,n)}},e.log.prepareStandard=function(e){"standard"in e||(e.standard=l[e.level].name+" ["+e.category+"] "+e.message)},e.log.prepareFull=function(l){if(!("full"in l)){var o=[l.message];o=o.concat([]||l.arguments),l.full=e.util.format.apply(this,o)}},e.log.prepareStandardFull=function(l){"standardFull"in l||(e.log.prepareStandard(l),l.standardFull=l.standard)};var g=["error","warning","info","debug","verbose"];for(r=0;r<g.length;++r)!function(l){e.log[l]=function(o,n){var r=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:l,category:o,message:n,arguments:r};e.log.logMessage(a)}}(g[r]);if(e.log.makeLogger=function(l){var o={flags:0,f:l};return e.log.setLevel(o,"none"),o},e.log.setLevel=function(l,o){var n=!1;if(l&&!(l.flags&e.log.LEVEL_LOCKED))for(var r=0;r<e.log.levels.length;++r){if(o==e.log.levels[r]){l.level=o,n=!0;break}}return n},e.log.lock=function(l,o){void 0===o||o?l.flags|=e.log.LEVEL_LOCKED:l.flags&=~e.log.LEVEL_LOCKED},e.log.addLogger=function(e){o.push(e)},"undefined"!=typeof console&&"log"in console){var s;if(console.error&&console.warn&&console.info&&console.debug){var t={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},i=function(l,o){e.log.prepareStandard(o);var n=t[o.level],r=[o.standard];r=r.concat(o.arguments.slice()),n.apply(console,r)};s=e.log.makeLogger(i)}else{i=function(l,o){e.log.prepareStandardFull(o),console.log(o.standardFull)};s=e.log.makeLogger(i)}e.log.setLevel(s,"debug"),e.log.addLogger(s),n=s}else console={log:function(){}};if(null!==n){var c=e.util.getQueryVariables();if("console.level"in c&&e.log.setLevel(n,c["console.level"].slice(-1)[0]),"console.lock"in c){var u=c["console.lock"].slice(-1)[0];"true"==u&&e.log.lock(n)}}e.log.consoleLogger=n;
},{"./forge":"jo0T","./util":"gkgk"}],"Ansg":[function(require,module,exports) {
module.exports=require("./md"),require("./md5"),require("./sha1"),require("./sha256"),require("./sha512");
},{"./md":"7aIq","./md5":"kG8c","./sha1":"wQ5C","./sha256":"RASh","./sha512":"biZn"}],"ZFXY":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./asn1"),require("./des"),require("./oids"),require("./pem"),require("./pkcs7asn1"),require("./random"),require("./util"),require("./x509");var t=e.asn1,r=module.exports=e.pkcs7=e.pkcs7||{};function n(n){var a={},i=[];if(!t.validate(n,r.asn1.recipientInfoValidator,a,i)){var s=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw s.errors=i,s}return{version:a.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(a.issuer),serialNumber:e.util.createBuffer(a.serial).toHex(),encryptedContent:{algorithm:t.derToOid(a.encAlgorithm),parameter:a.encParameter.value,content:a.encKey}}}function a(r){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.encryptedContent.content)])}function i(e){for(var t=[],r=0;r<e.length;++r)t.push(n(e[r]));return t}function s(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}function o(n){var a={},i=[];if(!t.validate(n,r.asn1.signerInfoValidator,a,i)){var s=new Error("Cannot read PKCS#7 SignerInfo. ASN.1 object is not an PKCS#7 SignerInfo.");throw s.errors=i,s}var o={version:a.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(a.issuer),serialNumber:e.util.createBuffer(a.serial).toHex(),digestAlgorithm:t.derToOid(a.digestAlgorithm),signatureAlgorithm:t.derToOid(a.signatureAlgorithm),signature:a.signature,authenticatedAttributes:[],unauthenticatedAttributes:[]};a.authenticatedAttributes,a.unauthenticatedAttributes;return o}function c(r){var n=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(r.authenticatedAttributesAsn1&&n.value.push(r.authenticatedAttributesAsn1),n.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),n.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.signature)),r.unauthenticatedAttributes.length>0){for(var a=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<r.unauthenticatedAttributes.length;++i){var s=r.unauthenticatedAttributes[i];a.values.push(u(s))}n.value.push(a)}return n}function p(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}function d(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}function u(r){var n;if(r.type===e.pki.oids.contentType)n=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.value).getBytes());else if(r.type===e.pki.oids.messageDigest)n=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.value.bytes());else if(r.type===e.pki.oids.signingTime){var a=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),s=r.value;if("string"==typeof s){var o=Date.parse(s);s=isNaN(o)?13===s.length?t.utcTimeToDate(s):t.generalizedTimeToDate(s):new Date(o)}n=s>=a&&s<i?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(s)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(s))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[n])])}function l(r){return[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.parameter.getBytes())]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.content.getBytes())])]}function C(r,n,a){var i={};if(!t.validate(n,a,i,[])){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(t.derToOid(i.contentType)!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var o="";if(e.util.isArray(i.encryptedContent))for(var c=0;c<i.encryptedContent.length;++c){if(i.encryptedContent[c].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=i.encryptedContent[c].value}else o=i.encryptedContent;r.encryptedContent={algorithm:t.derToOid(i.encAlgorithm),parameter:e.util.createBuffer(i.encParameter.value),content:e.util.createBuffer(o)}}if(i.content){o="";if(e.util.isArray(i.content))for(c=0;c<i.content.length;++c){if(i.content[c].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=i.content[c].value}else o=i.content;r.content=e.util.createBuffer(o)}return r.version=i.version.charCodeAt(0),r.rawCapture=i,i}function y(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var r;switch(t.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:r=e.aes.createDecryptionCipher(t.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:r=e.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(r.start(t.encryptedContent.parameter),r.update(t.encryptedContent.content),!r.finish())throw new Error("Symmetric decryption failed.");t.content=r.output}}r.messageFromPem=function(n){var a=e.pem.decode(n)[0];if("PKCS7"!==a.type){var i=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw i.headerType=a.type,i}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var s=t.fromDer(a.body);return r.messageFromAsn1(s)},r.messageToPem=function(r,n){var a={type:"PKCS7",body:t.toDer(r.toAsn1()).getBytes()};return e.pem.encode(a,{maxline:n})},r.messageFromAsn1=function(n){var a={},i=[];if(!t.validate(n,r.asn1.contentInfoValidator,a,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=i,s}var o,c=t.derToOid(a.contentType);switch(c){case e.pki.oids.envelopedData:o=r.createEnvelopedData();break;case e.pki.oids.encryptedData:o=r.createEncryptedData();break;case e.pki.oids.signedData:o=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return o.fromAsn1(a.content.value[0]),o},r.createSignedData=function(){var n=null;return n={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(C(n,t,r.asn1.signedDataValidator),n.certificates=[],n.crls=[],n.digestAlgorithmIdentifiers=[],n.contentInfo=null,n.signerInfos=[],n.rawCapture.certificates)for(var a=n.rawCapture.certificates.value,i=0;i<a.length;++i)n.certificates.push(e.pki.certificateFromAsn1(a[i]))},toAsn1:function(){n.contentInfo||n.sign();for(var r=[],a=0;a<n.certificates.length;++a)r.push(e.pki.certificateToAsn1(n.certificates[a]));var i=[],s=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(n.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,n.digestAlgorithmIdentifiers),n.contentInfo])]);return r.length>0&&s.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,r)),i.length>0&&s.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,i)),s.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,n.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),s])},addSigner:function(t){var r=t.issuer,a=t.serialNumber;if(t.certificate){var i=t.certificate;"string"==typeof i&&(i=e.pki.certificateFromPem(i)),r=i.issuer.attributes,a=i.serialNumber}var s=t.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof s&&(s=e.pki.privateKeyFromPem(s));var o=t.digestAlgorithm||e.pki.oids.sha1;switch(o){case e.pki.oids.sha1:case e.pki.oids.sha256:case e.pki.oids.sha384:case e.pki.oids.sha512:case e.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var p=!1,d=!1,u=0;u<c.length;++u){var l=c[u];if(p||l.type!==e.pki.oids.contentType){if(d||l.type!==e.pki.oids.messageDigest);else if(d=!0,p)break}else if(p=!0,d)break}if(!p||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}n.signers.push({key:s,version:1,issuer:r,serialNumber:a,digestAlgorithm:o,signatureAlgorithm:e.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(r){var a;(r=r||{},"object"!=typeof n.content||null===n.contentInfo)&&(n.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes())]),"content"in n&&(n.content instanceof e.util.ByteBuffer?a=n.content.bytes():"string"==typeof n.content&&(a=e.util.encodeUtf8(n.content)),r.detached?n.detachedContent=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a):n.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a)]))));0!==n.signers.length&&function(r){var a;a=n.detachedContent?n.detachedContent:(a=n.contentInfo.value[1]).value[0];if(!a)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=t.derToOid(n.contentInfo.value[0].value),s=t.toDer(a);for(var o in s.getByte(),t.getBerValueLength(s),s=s.getBytes(),r)r[o].start().update(s);for(var c=new Date,p=0;p<n.signers.length;++p){var l=n.signers[p];if(0===l.authenticatedAttributes.length){if(i!==e.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var C=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),y=0;y<l.authenticatedAttributes.length;++y){var E=l.authenticatedAttributes[y];E.type===e.pki.oids.messageDigest?E.value=r[l.digestAlgorithm].digest():E.type===e.pki.oids.signingTime&&(E.value||(E.value=c)),C.value.push(u(E)),l.authenticatedAttributesAsn1.value.push(u(E))}s=t.toDer(C).getBytes(),l.md.start().update(s)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}n.signerInfos=d(n.signers)}(function(){for(var r={},a=0;a<n.signers.length;++a){var i=n.signers[a],s=i.digestAlgorithm;s in r||(r[s]=e.md[e.pki.oids[s]].create()),0===i.authenticatedAttributes.length?i.md=r[s]:i.md=e.md[e.pki.oids[s]].create()}for(var s in n.digestAlgorithmIdentifiers=[],r)n.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(s).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return r}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=e.pki.certificateFromPem(t)),n.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},r.createEncryptedData=function(){var t=null;return t={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){C(t,e,r.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),y(t)}}},r.createEnvelopedData=function(){var n=null;return n={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){var t=C(n,e,r.asn1.envelopedDataValidator);n.recipients=i(t.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(n.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,s(n.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,l(n.encryptedContent))])])])},findRecipient:function(e){for(var t=e.issuer.attributes,r=0;r<n.recipients.length;++r){var a=n.recipients[r],i=a.issuer;if(a.serialNumber===e.serialNumber&&i.length===t.length){for(var s=!0,o=0;o<t.length;++o)if(i[o].type!==t[o].type||i[o].value!==t[o].value){s=!1;break}if(s)return a}}return null},decrypt:function(t,r){if(void 0===n.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var a=r.decrypt(t.encryptedContent.content);n.encryptedContent.key=e.util.createBuffer(a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}y(n)},addRecipient:function(t){n.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===n.encryptedContent.content){var a,i,s;switch(r=r||n.encryptedContent.algorithm,t=t||n.encryptedContent.key,r){case e.pki.oids["aes128-CBC"]:a=16,i=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:a=24,i=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:a=32,i=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:a=24,i=8,s=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=e.util.createBuffer(e.random.getBytes(a));else if(t.length()!=a)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+a+".");n.encryptedContent.algorithm=r,n.encryptedContent.key=t,n.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(i));var o=s(t);if(o.start(n.encryptedContent.parameter.copy()),o.update(n.content),!o.finish())throw new Error("Symmetric encryption failed.");n.encryptedContent.content=o.output}for(var c=0;c<n.recipients.length;++c){var p=n.recipients[c];if(void 0===p.encryptedContent.content)switch(p.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:p.encryptedContent.content=p.encryptedContent.key.encrypt(n.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}}}}};
},{"./forge":"jo0T","./aes":"VOs8","./asn1":"UkhS","./des":"YpCS","./oids":"5iY2","./pem":"4vk0","./pkcs7asn1":"Vv8x","./random":"NGh+","./util":"gkgk","./x509":"cieh"}],"+yOr":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./hmac"),require("./md5"),require("./sha1"),require("./util");var t=module.exports=e.ssh=e.ssh||{};function r(t,r){var n=r.toString(16);n[0]>="8"&&(n="00"+n);var i=e.util.hexToBytes(n);t.putInt32(i.length),t.putBytes(i)}function n(e,t){e.putInt32(t.length),e.putString(t)}function i(){for(var t=e.md.sha1.create(),r=arguments.length,n=0;n<r;++n)t.update(arguments[n]);return t.digest()}t.privateKeyToPutty=function(t,u,a){var s=""===(u=u||"")?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: ssh-rsa\r\n";c+="Encryption: "+s+"\r\n",c+="Comment: "+(a=a||"")+"\r\n";var o=e.util.createBuffer();n(o,"ssh-rsa"),r(o,t.e),r(o,t.n);var f=e.util.encode64(o.bytes(),64),l=Math.floor(f.length/66)+1;c+="Public-Lines: "+l+"\r\n",c+=f;var p,h=e.util.createBuffer();if(r(h,t.d),r(h,t.p),r(h,t.q),r(h,t.qInv),u){var g=h.length()+16-1;g-=g%16;var v=i(h.bytes());v.truncate(v.length()-g+h.length()),h.putBuffer(v);var y=e.util.createBuffer();y.putBuffer(i("\0\0\0\0",u)),y.putBuffer(i("\0\0\0",u));var d=e.aes.createEncryptionCipher(y.truncate(8),"CBC");d.start(e.util.createBuffer().fillWithByte(0,16)),d.update(h.copy()),d.finish();var B=d.output;B.truncate(16),p=e.util.encode64(B.bytes(),64)}else p=e.util.encode64(h.bytes(),64);c+="\r\nPrivate-Lines: "+(l=Math.floor(p.length/66)+1)+"\r\n",c+=p;var m=i("putty-private-key-file-mac-key",u),b=e.util.createBuffer();n(b,"ssh-rsa"),n(b,s),n(b,a),b.putInt32(o.length()),b.putBuffer(o),b.putInt32(h.length()),b.putBuffer(h);var q=e.hmac.create();return q.start("sha1",m),q.update(b.bytes()),c+="\r\nPrivate-MAC: "+q.digest().toHex()+"\r\n"},t.publicKeyToOpenSSH=function(t,i){i=i||"";var u=e.util.createBuffer();return n(u,"ssh-rsa"),r(u,t.e),r(u,t.n),"ssh-rsa "+e.util.encode64(u.bytes())+" "+i},t.privateKeyToOpenSSH=function(t,r){return r?e.pki.encryptRsaPrivateKey(t,r,{legacy:!0,algorithm:"aes128"}):e.pki.privateKeyToPem(t)},t.getPublicKeyFingerprint=function(t,i){var u=(i=i||{}).md||e.md.md5.create(),a=e.util.createBuffer();n(a,"ssh-rsa"),r(a,t.e),r(a,t.n),u.start(),u.update(a.getBytes());var s=u.digest();if("hex"===i.encoding){var c=s.toHex();return i.delimiter?c.match(/.{2}/g).join(i.delimiter):c}if("binary"===i.encoding)return s.getBytes();if(i.encoding)throw new Error('Unknown encoding "'+i.encoding+'".');return s};
},{"./forge":"jo0T","./aes":"VOs8","./hmac":"n8mL","./md5":"kG8c","./sha1":"wQ5C","./util":"gkgk"}],"Ttlb":[function(require,module,exports) {
var t=require("./forge");require("./debug"),require("./log"),require("./util");var e="forge.task",s=0,i={},a=0;t.debug.set(e,"tasks",i);var r={};t.debug.set(e,"queues",r);var n="?",u=30,o=20,l="ready",h="running",p="blocked",c="sleeping",f="done",k="error",m="stop",b="start",d="block",y="unblock",g="sleep",v="wakeup",w="cancel",T="fail",C={};C[l]={},C[l][m]=l,C[l][b]=h,C[l][w]=f,C[l][T]=k,C[h]={},C[h][m]=l,C[h][b]=h,C[h][d]=p,C[h][y]=h,C[h][g]=c,C[h][v]=h,C[h][w]=f,C[h][T]=k,C[p]={},C[p][m]=p,C[p][b]=p,C[p][d]=p,C[p][y]=p,C[p][g]=p,C[p][v]=p,C[p][w]=f,C[p][T]=k,C[c]={},C[c][m]=c,C[c][b]=c,C[c][d]=c,C[c][y]=c,C[c][g]=c,C[c][v]=c,C[c][w]=f,C[c][T]=k,C[f]={},C[f][m]=f,C[f][b]=f,C[f][d]=f,C[f][y]=f,C[f][g]=f,C[f][v]=f,C[f][w]=f,C[f][T]=k,C[k]={},C[k][m]=k,C[k][b]=k,C[k][d]=k,C[k][y]=k,C[k][g]=k,C[k][v]=k,C[k][w]=k,C[k][T]=k;var D=function(r){this.id=-1,this.name=r.name||n,this.parent=r.parent||null,this.run=r.run,this.subtasks=[],this.error=!1,this.state=l,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,i[this.id]=this,s>=1&&t.log.verbose(e,"[%s][%s] init",this.id,this.name,this)};D.prototype.debug=function(s){s=s||"",t.log.debug(e,s,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",r)},D.prototype.next=function(t,e){"function"==typeof t&&(e=t,t=this.name);var s=new D({run:e,name:t,parent:this});return s.state=h,s.type=this.type,s.successCallback=this.successCallback||null,s.failureCallback=this.failureCallback||null,this.subtasks.push(s),this},D.prototype.parallel=function(e,s){return t.util.isArray(e)&&(s=e,e=this.name),this.next(e,function(i){var a=i;a.block(s.length);for(var r=function(e,i){t.task.start({type:e,run:function(t){s[i](t)},success:function(t){a.unblock()},failure:function(t){a.unblock()}})},n=0;n<s.length;n++){r(e+"__parallel-"+i.id+"-"+n,n)}})},D.prototype.stop=function(){this.state=C[this.state][m]},D.prototype.start=function(){this.error=!1,this.state=C[this.state][b],this.state===h&&(this.start=new Date,this.run(this),I(this,0))},D.prototype.block=function(t){t=void 0===t?1:t,this.blocks+=t,this.blocks>0&&(this.state=C[this.state][d])},D.prototype.unblock=function(t){return t=void 0===t?1:t,this.blocks-=t,0===this.blocks&&this.state!==f&&(this.state=h,I(this,0)),this.blocks},D.prototype.sleep=function(t){t=void 0===t?0:t,this.state=C[this.state][g];var e=this;this.timeoutId=setTimeout(function(){e.timeoutId=null,e.state=h,I(e,0)},t)},D.prototype.wait=function(t){t.wait(this)},D.prototype.wakeup=function(){this.state===c&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=h,I(this,0))},D.prototype.cancel=function(){this.state=C[this.state][w],this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},D.prototype.fail=function(t){if(this.error=!0,x(this,!0),t)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,I(t,0);else{if(null!==this.parent){for(var e=this.parent;null!==e.parent;)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,e=e.parent;x(e,!0)}this.failureCallback&&this.failureCallback(this)}};var q=function(t){t.error=!1,t.state=C[t.state][b],setTimeout(function(){t.state===h&&(t.swapTime=+new Date,t.run(t),I(t,0))},0)},I=function(t,e){var s=e>u||+new Date-t.swapTime>o,i=function(e){if(e++,t.state===h)if(s&&(t.swapTime=+new Date),t.subtasks.length>0){var i=t.subtasks.shift();i.error=t.error,i.swapTime=t.swapTime,i.userData=t.userData,i.run(i),i.error||I(i,e)}else x(t),t.error||null!==t.parent&&(t.parent.error=t.error,t.parent.swapTime=t.swapTime,t.parent.userData=t.userData,I(t.parent,e))};s?setTimeout(i,0):i(e)},x=function(a,n){a.state=f,delete i[a.id],s>=1&&t.log.verbose(e,"[%s][%s] finish",a.id,a.name,a),null===a.parent&&(a.type in r?0===r[a.type].length?t.log.error(e,"[%s][%s] task queue empty [%s]",a.id,a.name,a.type):r[a.type][0]!==a?t.log.error(e,"[%s][%s] task not first in queue [%s]",a.id,a.name,a.type):(r[a.type].shift(),0===r[a.type].length?(s>=1&&t.log.verbose(e,"[%s][%s] delete queue [%s]",a.id,a.name,a.type),delete r[a.type]):(s>=1&&t.log.verbose(e,"[%s][%s] queue start next [%s] remain:%s",a.id,a.name,a.type,r[a.type].length),r[a.type][0].start())):t.log.error(e,"[%s][%s] task queue missing [%s]",a.id,a.name,a.type),n||(a.error&&a.failureCallback?a.failureCallback(a):!a.error&&a.successCallback&&a.successCallback(a)))};module.exports=t.task=t.task||{},t.task.start=function(i){var a=new D({run:i.run,name:i.name||n});a.type=i.type,a.successCallback=i.success||null,a.failureCallback=i.failure||null,a.type in r?r[i.type].push(a):(s>=1&&t.log.verbose(e,"[%s][%s] create queue [%s]",a.id,a.name,a.type),r[a.type]=[a],q(a))},t.task.cancel=function(t){t in r&&(r[t]=[r[t][0]])},t.task.createCondition=function(){var t={tasks:{},wait:function(e){e.id in t.tasks||(e.block(),t.tasks[e.id]=e)},notify:function(){var e=t.tasks;for(var s in t.tasks={},e)e[s].unblock()}};return t};
},{"./forge":"jo0T","./debug":"KZkJ","./log":"BIp2","./util":"gkgk"}],"QqwF":[function(require,module,exports) {
module.exports=require("./forge"),require("./aes"),require("./aesCipherSuites"),require("./asn1"),require("./cipher"),require("./debug"),require("./des"),require("./ed25519"),require("./hmac"),require("./kem"),require("./log"),require("./md.all"),require("./mgf1"),require("./pbkdf2"),require("./pem"),require("./pkcs1"),require("./pkcs12"),require("./pkcs7"),require("./pki"),require("./prime"),require("./prng"),require("./pss"),require("./random"),require("./rc2"),require("./ssh"),require("./task"),require("./tls"),require("./util");
},{"./forge":"jo0T","./aes":"VOs8","./aesCipherSuites":"1//n","./asn1":"UkhS","./cipher":"N+oN","./debug":"KZkJ","./des":"YpCS","./ed25519":"OTte","./hmac":"n8mL","./kem":"CTaX","./log":"BIp2","./md.all":"Ansg","./mgf1":"+QRT","./pbkdf2":"Avv+","./pem":"4vk0","./pkcs1":"rEAK","./pkcs12":"hAmC","./pkcs7":"ZFXY","./pki":"q3sJ","./prime":"/5IH","./prng":"pFcK","./pss":"Wrpf","./random":"NGh+","./rc2":"Nn8j","./ssh":"+yOr","./task":"Ttlb","./tls":"b9qg","./util":"gkgk"}],"diCk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("fs"),r=require("node-forge"),n=require("util"),t=n.promisify(e.readFile);function i(e,r){if(!r)return o(e);o(e).then(e=>r(null,e)).catch(e=>r(e,null))}function o(e){return t(e,{encoding:"base64"}).then(e=>s(e))}function s(e){const n=r.util.decode64(e),t=r.asn1.fromDer(n),i=r.pkcs12.pkcs12FromAsn1(t,"notasecret").getBags({friendlyName:"privatekey"});if(i.friendlyName){const e=i.friendlyName[0].key;return r.pki.privateKeyToPem(e).replace(/\r\n/g,"\n")}throw new Error("Unable to get friendly name.")}exports.getPem=i;
},{"node-forge":"QqwF"}],"2OIF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("fs"),t=require("gaxios"),i=require("jws"),s=require("mime"),r=require("util"),o=e.readFile?r.promisify(e.readFile):async()=>{throw new h("use key rather than keyFile.","MISSING_CREDENTIALS")},n="https://www.googleapis.com/oauth2/v4/token",a="https://accounts.google.com/o/oauth2/revoke?token=";class h extends Error{constructor(e,t){super(e),this.code=t}}let c;class k{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(e){this.configure(e)}hasExpired(){const e=(new Date).getTime();return!this.rawToken||!this.expiresAt||e>=this.expiresAt}getToken(e){if(!e)return this.getTokenAsync();this.getTokenAsync().then(t=>e(null,t),e)}async getCredentials(e){switch(s.getType(e)){case"application/json":{const t=await o(e,"utf8"),i=JSON.parse(t),s=i.private_key,r=i.client_email;if(!s||!r)throw new h("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:s,clientEmail:r}}case"application/x-x509-ca-cert":return{privateKey:await o(e,"utf8")};case"application/x-pkcs12":return c||(c=(await Promise.resolve().then(()=>require("google-p12-pem"))).getPem),{privateKey:await c(e)};default:throw new h("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, *.pem, and *.p12.","UNKNOWN_CERTIFICATE_TYPE")}}async getTokenAsync(){if(!this.hasExpired())return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const e=await this.getCredentials(this.keyFile);this.key=e.privateKey,this.iss=e.clientEmail||this.iss,e.clientEmail||this.ensureEmail()}return this.requestToken()}ensureEmail(){if(!this.iss)throw new h("email is required.","MISSING_CREDENTIALS")}revokeToken(e){if(!e)return this.revokeTokenAsync();this.revokeTokenAsync().then(()=>e(),e)}async revokeTokenAsync(){if(!this.accessToken)throw new Error("No token to revoke.");const e=a+this.accessToken;await t.request({url:e}),this.configure({email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})}configure(e={}){this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,"object"==typeof e.scope?this.scope=e.scope.join(" "):this.scope=e.scope}async requestToken(){const e=Math.floor((new Date).getTime()/1e3),s=this.additionalClaims||{},r=Object.assign({iss:this.iss,scope:this.scope,aud:n,exp:e+3600,iat:e,sub:this.sub},s),o=i.sign({header:{alg:"RS256"},payload:r,secret:this.key});try{const i=await t.request({method:"POST",url:n,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json"});return this.rawToken=i.data,this.expiresAt=null===i.data.expires_in||void 0===i.data.expires_in?void 0:1e3*(e+i.data.expires_in),this.rawToken}catch(a){this.rawToken=void 0,this.tokenExpires=void 0;const e=a.response&&a.response.data?a.response.data:{};if(e.error){const t=e.error_description?`: ${e.error_description}`:"";a.message=`${e.error}${t}`}throw a}}}exports.GoogleToken=k;
},{"gaxios":"5k16","jws":"hnM1","mime":"bwt/","google-p12-pem":"diCk"}],"w0AC":[function(require,module,exports) {
"use strict";module.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}};
},{}],"euSS":[function(require,module,exports) {
"use strict";function t(e){var i=this;if(i instanceof t||(i=new t),i.tail=null,i.head=null,i.length=0,e&&"function"==typeof e.forEach)e.forEach(function(t){i.push(t)});else if(arguments.length>0)for(var h=0,n=arguments.length;h<n;h++)i.push(arguments[h]);return i}function e(t,e){t.tail=new h(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function i(t,e){t.head=new h(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function h(t,e,i,n){if(!(this instanceof h))return new h(t,e,i,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}module.exports=t,t.Node=h,t.create=t,t.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=i),t.list.length--,t.next=null,t.prev=null,t.list=null},t.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},t.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},t.prototype.push=function(){for(var t=0,i=arguments.length;t<i;t++)e(this,arguments[t]);return this.length},t.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},t.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},t.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},t.prototype.forEach=function(t,e){e=e||this;for(var i=this.head,h=0;null!==i;h++)t.call(e,i.value,h,this),i=i.next},t.prototype.forEachReverse=function(t,e){e=e||this;for(var i=this.tail,h=this.length-1;null!==i;h--)t.call(e,i.value,h,this),i=i.prev},t.prototype.get=function(t){for(var e=0,i=this.head;null!==i&&e<t;e++)i=i.next;if(e===t&&null!==i)return i.value},t.prototype.getReverse=function(t){for(var e=0,i=this.tail;null!==i&&e<t;e++)i=i.prev;if(e===t&&null!==i)return i.value},t.prototype.map=function(e,i){i=i||this;for(var h=new t,n=this.head;null!==n;)h.push(e.call(i,n.value,this)),n=n.next;return h},t.prototype.mapReverse=function(e,i){i=i||this;for(var h=new t,n=this.tail;null!==n;)h.push(e.call(i,n.value,this)),n=n.prev;return h},t.prototype.reduce=function(t,e){var i,h=this.head;if(arguments.length>1)i=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");h=this.head.next,i=this.head.value}for(var n=0;null!==h;n++)i=t(i,h.value,n),h=h.next;return i},t.prototype.reduceReverse=function(t,e){var i,h=this.tail;if(arguments.length>1)i=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");h=this.tail.prev,i=this.tail.value}for(var n=this.length-1;null!==h;n--)i=t(i,h.value,n),h=h.prev;return i},t.prototype.toArray=function(){for(var t=new Array(this.length),e=0,i=this.head;null!==i;e++)t[e]=i.value,i=i.next;return t},t.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,i=this.tail;null!==i;e++)t[e]=i.value,i=i.prev;return t},t.prototype.slice=function(e,i){(i=i||this.length)<0&&(i+=this.length),(e=e||0)<0&&(e+=this.length);var h=new t;if(i<e||i<0)return h;e<0&&(e=0),i>this.length&&(i=this.length);for(var n=0,l=this.head;null!==l&&n<e;n++)l=l.next;for(;null!==l&&n<i;n++,l=l.next)h.push(l.value);return h},t.prototype.sliceReverse=function(e,i){(i=i||this.length)<0&&(i+=this.length),(e=e||0)<0&&(e+=this.length);var h=new t;if(i<e||i<0)return h;e<0&&(e=0),i>this.length&&(i=this.length);for(var n=this.length,l=this.tail;null!==l&&n>i;n--)l=l.prev;for(;null!==l&&n>e;n--,l=l.prev)h.push(l.value);return h},t.prototype.reverse=function(){for(var t=this.head,e=this.tail,i=t;null!==i;i=i.prev){var h=i.prev;i.prev=i.next,i.next=h}return this.head=e,this.tail=t,this};try{require("./iterator.js")(t)}catch(n){}
},{"./iterator.js":"w0AC"}],"vmLf":[function(require,module,exports) {
"use strict";const t=require("yallist"),e=Symbol("max"),s=Symbol("length"),i=Symbol("lengthCalculator"),h=Symbol("allowStale"),n=Symbol("maxAge"),r=Symbol("dispose"),o=Symbol("noDisposeOnSet"),a=Symbol("lruList"),l=Symbol("cache"),u=Symbol("updateAgeOnGet"),m=()=>1;class g{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[e]=t.max||1/0;const s=t.length||m;if(this[i]="function"!=typeof s?m:s,this[h]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[n]=t.maxAge||0,this[r]=t.dispose,this[o]=t.noDisposeOnSet||!1,this[u]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[e]=t||1/0,y(this)}get max(){return this[e]}set allowStale(t){this[h]=!!t}get allowStale(){return this[h]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[n]=t,y(this)}get maxAge(){return this[n]}set lengthCalculator(t){"function"!=typeof t&&(t=m),t!==this[i]&&(this[i]=t,this[s]=0,this[a].forEach(t=>{t.length=this[i](t.value,t.key),this[s]+=t.length})),y(this)}get lengthCalculator(){return this[i]}get length(){return this[s]}get itemCount(){return this[a].length}rforEach(t,e){e=e||this;for(let s=this[a].tail;null!==s;){const i=s.prev;x(this,t,s,e),s=i}}forEach(t,e){e=e||this;for(let s=this[a].head;null!==s;){const i=s.next;x(this,t,s,e),s=i}}keys(){return this[a].toArray().map(t=>t.key)}values(){return this[a].toArray().map(t=>t.value)}reset(){this[r]&&this[a]&&this[a].length&&this[a].forEach(t=>this[r](t.key,t.value)),this[l]=new Map,this[a]=new t,this[s]=0}dump(){return this[a].map(t=>!f(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[a]}set(t,h,u){if((u=u||this[n])&&"number"!=typeof u)throw new TypeError("maxAge must be a number");const m=u?Date.now():0,g=this[i](h,t);if(this[l].has(t)){if(g>this[e])return p(this,this[l].get(t)),!1;const i=this[l].get(t).value;return this[r]&&(this[o]||this[r](t,i.value)),i.now=m,i.maxAge=u,i.value=h,this[s]+=g-i.length,i.length=g,this.get(t),y(this),!0}const c=new v(t,h,g,m,u);return c.length>this[e]?(this[r]&&this[r](t,h),!1):(this[s]+=c.length,this[a].unshift(c),this[l].set(t,this[a].head),y(this),!0)}has(t){if(!this[l].has(t))return!1;const e=this[l].get(t).value;return!f(this,e)}get(t){return c(this,t,!0)}peek(t){return c(this,t,!1)}pop(){const t=this[a].tail;return t?(p(this,t),t.value):null}del(t){p(this,this[l].get(t))}load(t){this.reset();const e=Date.now();for(let s=t.length-1;s>=0;s--){const i=t[s],h=i.e||0;if(0===h)this.set(i.k,i.v);else{const t=h-e;t>0&&this.set(i.k,i.v,t)}}}prune(){this[l].forEach((t,e)=>c(this,e,!1))}}const c=(t,e,s)=>{const i=t[l].get(e);if(i){const e=i.value;if(f(t,e)){if(p(t,i),!t[h])return}else s&&(t[u]&&(i.value.now=Date.now()),t[a].unshiftNode(i));return e.value}},f=(t,e)=>{if(!e||!e.maxAge&&!t[n])return!1;const s=Date.now()-e.now;return e.maxAge?s>e.maxAge:t[n]&&s>t[n]},y=t=>{if(t[s]>t[e])for(let i=t[a].tail;t[s]>t[e]&&null!==i;){const e=i.prev;p(t,i),i=e}},p=(t,e)=>{if(e){const i=e.value;t[r]&&t[r](i.key,i.value),t[s]-=i.length,t[l].delete(i.key),t[a].removeNode(e)}};class v{constructor(t,e,s,i,h){this.key=t,this.value=e,this.length=s,this.now=i,this.maxAge=h||0}}const x=(t,e,s,i)=>{let n=s.value;f(t,n)&&(p(t,s),t[h]||(n=void 0)),n&&e.call(i,n.value,n.key,t)};module.exports=g;
},{"yallist":"euSS"}],"dvWX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("jws"),t=require("lru-cache"),i=require("../messages"),r={alg:"RS256",typ:"JWT"};class s{constructor(e,i,r){this.cache=new t({max:500,maxAge:36e5}),this.email=e,this.key=i,this.keyId=r}createScopedRequired(){return i.warn(i.JWT_ACCESS_CREATE_SCOPED_DEPRECATED),!1}getRequestMetadata(e,t){return i.warn(i.JWT_ACCESS_GET_REQUEST_METADATA_DEPRECATED),{headers:this.getRequestHeaders(e,t)}}getRequestHeaders(t,i){const s=this.cache.get(t);if(s)return s;const a=Math.floor((new Date).getTime()/1e3),n=a+3600,o={iss:this.email,sub:this.email,aud:t,exp:n,iat:a};if(i)for(const e in o)if(i[e])throw new Error(`The '${e}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`);const c=this.keyId?Object.assign({},r,{kid:this.keyId}):r,h=Object.assign(o,i),d={Authorization:`Bearer ${e.sign({header:c,payload:h,secret:this.key})}`};return this.cache.set(t,d),d}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(e=>t(),t)}fromStreamAsync(e){return new Promise((t,i)=>{e||i(new Error("Must pass in a stream containing the service account auth settings."));let r="";e.setEncoding("utf8").on("data",e=>r+=e).on("error",i).on("end",()=>{try{const s=JSON.parse(r);this.fromJSON(s),t()}catch(e){i(e)}})})}}exports.JWTAccess=s;
},{"jws":"hnM1","lru-cache":"vmLf","../messages":"1+qZ"}],"LYsa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("gtoken"),t=require("../messages"),i=require("./jwtaccess"),s=require("./oauth2client");class r extends s.OAuth2Client{constructor(e,t,i,s,r,a){const n=e&&"object"==typeof e?e:{email:e,keyFile:t,key:i,keyId:a,scopes:s,subject:r};super({eagerRefreshThresholdMillis:n.eagerRefreshThresholdMillis}),this.email=n.email,this.keyFile=n.keyFile,this.key=n.key,this.keyId=n.keyId,this.scopes=n.scopes,this.subject=n.subject,this.additionalClaims=n.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){return new r({email:this.email,keyFile:this.keyFile,key:this.key,keyId:this.keyId,scopes:e,subject:this.subject,additionalClaims:this.additionalClaims})}async getRequestMetadataAsync(e){if(this.apiKey||this.hasScopes()||!e)return super.getRequestMetadataAsync(e);if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:e}=await this.refreshToken();return{headers:{Authorization:`Bearer ${e.id_token}`}}}return this.access||(this.access=new i.JWTAccess(this.email,this.key,this.keyId)),{headers:await this.access.getRequestHeaders(e,this.additionalClaims)}}createScopedRequired(){return t.warn(t.JWT_CREATE_SCOPED_DEPRECATED),!this.hasScopes()}hasScopes(){return!!this.scopes&&(this.scopes instanceof Array?this.scopes.length>0:String(this.scopes).length>0)}authorize(e){if(!e)return this.authorizeAsync();this.authorizeAsync().then(t=>e(null,t),e)}async authorizeAsync(){const e=await this.refreshToken();if(!e)throw new Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(e){const t=this.createGToken(),i={access_token:(await t.getToken()).access_token,token_type:"Bearer",expiry_date:t.expiresAt,id_token:t.idToken};return this.emit("tokens",i),{res:null,tokens:i}}createGToken(){return this.gtoken||(this.gtoken=new e.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims})),this.gtoken}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(e=>t(),t)}fromStreamAsync(e){return new Promise((t,i)=>{if(!e)throw new Error("Must pass in a stream containing the service account auth settings.");let s="";e.setEncoding("utf8").on("error",i).on("data",e=>s+=e).on("end",()=>{try{const r=JSON.parse(s);this.fromJSON(r),t()}catch(e){i(e)}})})}fromAPIKey(e){if("string"!=typeof e)throw new Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const e=this.createGToken(),t=await e.getCredentials(this.keyFile);return{private_key:t.privateKey,client_email:t.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}exports.JWT=r;
},{"gtoken":"2OIF","../messages":"1+qZ","./jwtaccess":"dvWX","./oauth2client":"4uul"}],"UPoR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./oauth2client");class r extends e.OAuth2Client{constructor(e,r,t,n){const o=e&&"object"==typeof e?e:{clientId:e,clientSecret:r,refreshToken:t,eagerRefreshThresholdMillis:n};super({clientId:o.clientId,clientSecret:o.clientSecret,eagerRefreshThresholdMillis:o.eagerRefreshThresholdMillis}),this._refreshToken=o.refreshToken}async refreshTokenNoCache(e){return super.refreshTokenNoCache(this._refreshToken)}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the user refresh token");if("authorized_user"!==e.type)throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token}fromStream(e,r){if(!r)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(e=>r(),r)}async fromStreamAsync(e){return new Promise((r,t)=>{if(!e)return t(new Error("Must pass in a stream containing the user refresh token."));let n="";e.setEncoding("utf8").on("error",t).on("data",e=>n+=e).on("end",()=>{try{const o=JSON.parse(n);return this.fromJSON(o),r()}catch(e){return t(e)}})})}}exports.UserRefreshClient=r;
},{"./oauth2client":"4uul"}],"2tXd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("child_process"),t=require("fs"),r=require("gcp-metadata"),i=require("os"),n=require("path"),s=require("../crypto/crypto"),o=require("../messages"),a=require("../transporters"),c=require("./computeclient"),l=require("./envDetect"),h=require("./jwtclient"),d=require("./refreshclient");exports.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";class u{constructor(e){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,e=e||{},this._cachedProjectId=e.projectId||null,this.keyFilename=e.keyFilename||e.keyFile,this.scopes=e.scopes,this.jsonContent=e.credentials||null,this.clientOptions=e.clientOptions}get isGCE(){return this.checkIsGCE}getDefaultProjectId(e){if(o.warn(o.DEFAULT_PROJECT_ID_DEPRECATED),!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}getProjectIdAsync(){return this._cachedProjectId?Promise.resolve(this._cachedProjectId):(this._getDefaultProjectIdPromise||(this._getDefaultProjectIdPromise=new Promise(async(e,t)=>{try{const i=this.getProductionProjectId()||await this.getFileProjectId()||await this.getDefaultServiceProjectId()||await this.getGCEProjectId();if(this._cachedProjectId=i,!i)throw new Error("Unable to detect a Project Id in the current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started");e(i)}catch(r){t(r)}})),this._getDefaultProjectIdPromise)}getApplicationDefault(e={},t){let r;if("function"==typeof e?t=e:r=e,!t)return this.getApplicationDefaultAsync(r);this.getApplicationDefaultAsync(r).then(e=>t(null,e.credential,e.projectId),t)}async getApplicationDefaultAsync(e={}){if(this.cachedCredential)return{credential:this.cachedCredential,projectId:await this.getProjectIdAsync()};let t,r,i;if(t=await this._tryGetApplicationCredentialsFromEnvironmentVariable(e))return t instanceof h.JWT&&(t.scopes=this.scopes),this.cachedCredential=t,{credential:t,projectId:r=await this.getProjectId()};if(t=await this._tryGetApplicationCredentialsFromWellKnownFile(e))return t instanceof h.JWT&&(t.scopes=this.scopes),this.cachedCredential=t,{credential:t,projectId:r=await this.getProjectId()};try{i=await this._checkIsGCE()}catch(n){throw n.message=`Unexpected error determining execution environment: ${n.message}`,n}if(!i)throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.");return e.scopes=this.scopes,this.cachedCredential=new c.Compute(e),{projectId:r=await this.getProjectId(),credential:this.cachedCredential}}async _checkIsGCE(){return void 0===this.checkIsGCE&&(this.checkIsGCE=await r.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(e){const t=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!t||0===t.length)return null;try{return this._getApplicationCredentialsFromFilePath(t,e)}catch(r){throw r.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${r.message}`,r}}async _tryGetApplicationCredentialsFromWellKnownFile(e){let r=null;if(this._isWindows())r=process.env.APPDATA;else{const e=process.env.HOME;e&&(r=n.join(e,".config"))}if(r&&(r=n.join(r,"gcloud","application_default_credentials.json"),t.existsSync(r)||(r=null)),!r)return null;const i=await this._getApplicationCredentialsFromFilePath(r,e);return this.warnOnProblematicCredentials(i),i}async _getApplicationCredentialsFromFilePath(e,r={}){if(!e||0===e.length)throw new Error("The file path is invalid.");try{if(e=t.realpathSync(e),!t.lstatSync(e).isFile())throw new Error}catch(n){throw n.message=`The file at ${e} does not exist, or it is not a file. ${n.message}`,n}const i=t.createReadStream(e);return this.fromStream(i,r)}warnOnProblematicCredentials(e){e.email===exports.CLOUD_SDK_CLIENT_ID&&o.warn(o.PROBLEMATIC_CREDENTIALS_WARNING)}fromJSON(e,t){let r;if(!e)throw new Error("Must pass in a JSON object containing the Google auth settings.");return t=t||{},"authorized_user"===e.type?r=new d.UserRefreshClient(t):(t.scopes=this.scopes,r=new h.JWT(t)),r.fromJSON(e),r}_cacheClientFromJSON(e,t){let r;return t=t||{},"authorized_user"===e.type?r=new d.UserRefreshClient(t):(t.scopes=this.scopes,r=new h.JWT(t)),r.fromJSON(e),this.jsonContent=e,this.cachedCredential=r,this.cachedCredential}fromStream(e,t={},r){let i={};if("function"==typeof t?r=t:i=t,!r)return this.fromStreamAsync(e,i);this.fromStreamAsync(e,i).then(e=>r(null,e),r)}fromStreamAsync(e,t){return new Promise((r,i)=>{if(!e)throw new Error("Must pass in a stream containing the Google auth settings.");let n="";e.setEncoding("utf8").on("error",i).on("data",e=>n+=e).on("end",()=>{try{const s=JSON.parse(n),o=this._cacheClientFromJSON(s,t);return r(o)}catch(e){return i(e)}})})}fromAPIKey(e,t){t=t||{};const r=new h.JWT(t);return r.fromAPIKey(e),r}_isWindows(){const e=i.platform();return!!(e&&e.length>=3&&"win"===e.substring(0,3).toLowerCase())}async getDefaultServiceProjectId(){return new Promise(t=>{e.exec("gcloud config config-helper --format json",(e,r,i)=>{if(!e&&r)try{const e=JSON.parse(r).configuration.properties.core.project;return void t(e)}catch(n){}t(null)})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const e=await this.getClient();if(e&&e.projectId)return e.projectId}const e=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return e?e.projectId:null}async getGCEProjectId(){try{return await r.project("project-id")}catch(e){return null}}getCredentials(e){if(!e)return this.getCredentialsAsync();this.getCredentialsAsync().then(t=>e(null,t),e)}async getCredentialsAsync(){if(await this.getClient(),this.jsonContent){return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key}}if(!(await this._checkIsGCE()))throw new Error("Unknown error.");const e=await r.instance({property:"service-accounts/",params:{recursive:"true"}});if(!e||!e.default||!e.default.email)throw new Error("Failure from metadata server.");return{client_email:e.default.email}}async getClient(e){if(e)throw new Error("Passing options to getClient is forbidden in v5.0.0. Use new GoogleAuth(opts) instead.");if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){const e=n.resolve(this.keyFilename),r=t.createReadStream(e);await this.fromStreamAsync(r,this.clientOptions)}else await this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential}async getAccessToken(){const e=await this.getClient();return(await e.getAccessToken()).token}async getRequestHeaders(e){return(await this.getClient()).getRequestHeaders(e)}async authorizeRequest(e){const t=(e=e||{}).url||e.uri,r=await this.getClient(),i=await r.getRequestHeaders(t);return e.headers=Object.assign(e.headers||{},i),e}async request(e){return(await this.getClient()).request(e)}getEnv(){return l.getEnv()}async sign(e){const t=await this.getClient(),r=s.createCrypto();if(t instanceof h.JWT&&t.key){return await r.sign(t.key,e)}const i=await this.getProjectId();if(!i)throw new Error("Cannot sign data without a project ID.");const n=await this.getCredentials();if(!n.client_email)throw new Error("Cannot sign data without `client_email`.");const o=`projects/${i}/serviceAccounts/${n.client_email}`;return(await this.request({method:"POST",url:`https://iam.googleapis.com/v1/${o}:signBlob`,data:{bytesToSign:r.encodeBase64StringUtf8(e)}})).data.signature}}u.DefaultTransporter=a.DefaultTransporter,exports.GoogleAuth=u;
},{"gcp-metadata":"AZt1","../crypto/crypto":"RCiK","../messages":"1+qZ","../transporters":"bORK","./computeclient":"Xrxy","./envDetect":"fvOM","./jwtclient":"LYsa","./refreshclient":"UPoR"}],"G7Cb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../messages");class t{constructor(e,t){this.selector=e,this.token=t,this.selector=e,this.token=t}createScopedRequired(){return e.warn(e.IAM_CREATE_SCOPED_DEPRECATED),!1}getRequestMetadata(t,s){e.warn(e.IAM_GET_REQUEST_METADATA_DEPRECATED),s(null,this.getRequestHeaders())}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}exports.IAMAuth=t;
},{"../messages":"1+qZ"}],"bmqp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./auth/googleauth");exports.GoogleAuth=e.GoogleAuth;var t=require("./auth/computeclient");exports.Compute=t.Compute;var r=require("./auth/envDetect");exports.GCPEnv=r.GCPEnv;var o=require("./auth/iam");exports.IAMAuth=o.IAMAuth;var u=require("./auth/jwtaccess");exports.JWTAccess=u.JWTAccess;var s=require("./auth/jwtclient");exports.JWT=s.JWT;var a=require("./auth/oauth2client");exports.CodeChallengeMethod=a.CodeChallengeMethod,exports.OAuth2Client=a.OAuth2Client;var h=require("./auth/refreshclient");exports.UserRefreshClient=h.UserRefreshClient;var i=require("./transporters");exports.DefaultTransporter=i.DefaultTransporter;const l=new e.GoogleAuth;exports.auth=l;
},{"./auth/googleauth":"2tXd","./auth/computeclient":"Xrxy","./auth/envDetect":"fvOM","./auth/iam":"G7Cb","./auth/jwtaccess":"dvWX","./auth/jwtclient":"LYsa","./auth/oauth2client":"4uul","./auth/refreshclient":"UPoR","./transporters":"bORK"}],"Y+bo":[function(require,module,exports) {
module.exports=require("stream");
},{}],"k/zV":[function(require,module,exports) {
"use strict";function t(t){for(var n=1;n<arguments.length;n++){var h=null!=arguments[n]?arguments[n]:{},i=Object.keys(h);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(h).filter(function(t){return Object.getOwnPropertyDescriptor(h,t).enumerable}))),i.forEach(function(n){e(t,n,h[n])})}return t}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=require("buffer"),h=n.Buffer,i=require("util"),a=i.inspect,r=a&&a.custom||"inspect";function l(t,e,n){h.prototype.copy.call(t,e,n)}module.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var n=e.prototype;return n.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},n.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.clear=function(){this.head=this.tail=null,this.length=0},n.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},n.concat=function(t){if(0===this.length)return h.alloc(0);for(var e=h.allocUnsafe(t>>>0),n=this.head,i=0;n;)l(n.data,e,i),i+=n.data.length,n=n.next;return e},n.consume=function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n},n.first=function(){return this.head.data},n._getString=function(t){var e=this.head,n=1,h=e.data;for(t-=h.length;e=e.next;){var i=e.data,a=t>i.length?i.length:t;if(a===i.length?h+=i:h+=i.slice(0,t),0===(t-=a)){a===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(a));break}++n}return this.length-=n,h},n._getBuffer=function(t){var e=h.allocUnsafe(t),n=this.head,i=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var a=n.data,r=t>a.length?a.length:t;if(a.copy(e,e.length-t,0,r),0===(t-=r)){r===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(r));break}++i}return this.length-=i,e},n[r]=function(e,n){return a(this,t({},n,{depth:0,customInspect:!1}))},e}();
},{}],"JuBc":[function(require,module,exports) {
"use strict";function t(t,i){var s=this,d=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return d||l?(i?i(t):!t||this._writableState&&this._writableState.errorEmitted||process.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!i&&t?(process.nextTick(e,s,t),s._writableState&&(s._writableState.errorEmitted=!0)):i?(process.nextTick(a,s),i(t)):process.nextTick(a,s)}),this)}function e(t,e){r(t,e),a(t)}function a(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(t,e){t.emit("error",e)}module.exports={destroy:t,undestroy:i};
},{}],"aJzw":[function(require,module,exports) {
"use strict";const e={};function t(t,n,r){r||(r=Error);class o extends r{constructor(e,t,r){super(function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(e,t,r))}}o.prototype.name=r.name,o.prototype.code=t,e[t]=o}function n(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map(e=>String(e)),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}function r(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function o(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function E(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}t("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(e,t,u){let R,i;if("string"==typeof t&&r(t,"not ")?(R="must not be",t=t.replace(/^not /,"")):R="must be",o(e," argument"))i=`The ${e} ${R} ${n(t,"type")}`;else{i=`The "${e}" ${E(e,".")?"property":"argument"} ${R} ${n(t,"type")}`}return i+=`. Received type ${typeof u}`},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=e;
},{}],"Xv01":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"aJzw"}],"RR96":[function(require,module,exports) {
"use strict";var e=new Set;function n(n){if(!e.has(n)){var a=n+" is an experimental feature. This feature could change at any time";e.add(n),process.emitWarning(a,"ExperimentalWarning")}}function a(){}module.exports.emitExperimentalWarning=process.emitWarning?n:a;
},{}],"UAgo":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"Cpyn":[function(require,module,exports) {
try{var r=require("util");if("function"!=typeof r.inherits)throw"";module.exports=r.inherits}catch(e){module.exports=require("./inherits_browser.js")}
},{"./inherits_browser.js":"UAgo"}],"yAJ6":[function(require,module,exports) {
module.exports=require("util").deprecate;
},{}],"6Mly":[function(require,module,exports) {
"use strict";function e(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function t(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}var n;module.exports=q,q.WritableState=S;var r={deprecate:require("util-deprecate")},i=require("./internal/streams/stream"),o=require("buffer").Buffer,s=global.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof s}var c,a=require("./internal/streams/destroy"),l=require("./internal/streams/state"),d=l.getHighWaterMark,h=require("../errors").codes,b=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,R=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING;function E(){}function S(e,r,i){n=n||require("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function q(e){var t=this instanceof(n=n||require("./_stream_duplex"));if(!t&&!c.call(q,this))return new q(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function m(e,t){var n=new R;e.emit("error",n),process.nextTick(t,n)}function v(e,t,n,r){var i;return null===n?i=new _:"string"==typeof n||t.objectMode||(i=new b("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}function x(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n)),t}function M(e,t,n,r,i,o){if(!n){var s=x(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,f,r,i,o);return u}function B(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new w;if(P(n),t)T(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(C,e,n,o,i):C(e,n,o,i)}}function C(e,t,n,r){n||O(e,t),t.pendingcb--,r(),I(e,t)}function O(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(e._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var f=0,u=!0;r;)o[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;o.allBuffers=u,B(e,n,!0,n.length,o,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new t(n),n.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,a=r.encoding,l=r.callback;if(B(e,n,!1,n.objectMode?1:c.length,c,a,l),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function N(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t)))}function I(e,t){var n=D(t);return n&&(N(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function W(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(q,i),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===q&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},q.prototype.pipe=function(){this.emit("error",new y)},q.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&u(e);return s&&!o.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=E),r.ending?m(this,n):(s||v(this,r,e,n))&&(r.pendingcb++,i=M(this,r,s,e,t,n)),i},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},q.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(e,t,n){n(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||W(this,r,n),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),q.prototype.destroy=a.destroy,q.prototype._undestroy=a.undestroy,q.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yAJ6","./internal/streams/stream":"Y+bo","./internal/streams/destroy":"JuBc","./internal/streams/state":"Xv01","../errors":"aJzw","inherits":"Cpyn","./_stream_duplex":"6F03"}],"6F03":[function(require,module,exports) {
"use strict";var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=o;var t=require("./_stream_readable"),r=require("./_stream_writable");require("inherits")(o,t);for(var a=e(r.prototype),i=0;i<a.length;i++){var n=a[i];o.prototype[n]||(o.prototype[n]=r.prototype[n])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(s,this)}function s(e){e.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"aqat","./_stream_writable":"6Mly","inherits":"Cpyn"}],"lrG1":[function(require,module,exports) {
"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"udfh"}],"OoWQ":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"aJzw"}],"YjkX":[function(require,module,exports) {
"use strict";var e;function n(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var r=require("./end-of-stream"),t=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),a=Symbol("handlePromise"),s=Symbol("stream");function c(e,n){return{value:e,done:n}}function f(e){var n=e[t];if(null!==n){var r=e[s].read();null!==r&&(e[o]=null,e[t]=null,e[l]=null,n(c(r,!1)))}}function v(e){process.nextTick(f,e)}function d(e,n){return function(r,t){e.then(function(){n[i]?r(c(void 0,!0)):n[a](r,t)},t)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(e={get stream(){return this[s]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[i])return Promise.resolve(c(void 0,!0));if(this[s].destroyed)return new Promise(function(n,r){process.nextTick(function(){e[u]?r(e[u]):n(c(void 0,!0))})});var r,t=this[o];if(t)r=new Promise(d(t,this));else{var l=this[s].read();if(null!==l)return Promise.resolve(c(l,!1));r=new Promise(this[a])}return this[o]=r,r}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(n,r){e[s].destroy(null,function(e){e?r(e):n(c(void 0,!0))})})}),e),b),h=function(e){var f,d=Object.create(m,(n(f={},s,{value:e,writable:!0}),n(f,t,{value:null,writable:!0}),n(f,l,{value:null,writable:!0}),n(f,u,{value:null,writable:!0}),n(f,i,{value:e._readableState.endEmitted,writable:!0}),n(f,a,{value:function(e,n){var r=d[s].read();r?(d[o]=null,d[t]=null,d[l]=null,e(c(r,!1))):(d[t]=e,d[l]=n)},writable:!0}),f));return d[o]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=d[l];return null!==n&&(d[o]=null,d[t]=null,d[l]=null,n(e)),void(d[u]=e)}var r=d[t];null!==r&&(d[o]=null,d[t]=null,d[l]=null,r(c(void 0,!0))),d[i]=!0}),e.on("readable",v.bind(null,d)),d};module.exports=h;
},{"./end-of-stream":"OoWQ"}],"aqat":[function(require,module,exports) {
"use strict";var e;module.exports=k,k.ReadableState=E;var t=require("events").EventEmitter,n=function(e,t){return e.listeners(t).length},r=require("./internal/streams/stream"),i=require("buffer").Buffer,a=global.Uint8Array||function(){};function o(e){return i.from(e)}function d(e){return i.isBuffer(e)||e instanceof a}var s,l=require("util");s=l&&l.debuglog?l.debuglog("stream"):function(){};var u,p,h=require("./internal/streams/buffer_list"),f=require("./internal/streams/destroy"),c=require("./internal/streams/state"),g=c.getHighWaterMark,b=require("../errors").codes,m=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=require("../experimentalWarning"),S=w.emitExperimentalWarning;require("inherits")(k,r);var M=["error","close","destroy","pause","resume"];function R(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function E(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",r),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=require("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function k(t){if(e=e||require("./_stream_duplex"),!(this instanceof k))return new k(t);var n=this instanceof e;this._readableState=new E(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function L(e,t,n,r,a){s("readableAddChunk",t);var d,l=e._readableState;if(null===t)l.reading=!1,q(e,l);else if(a||(d=C(l,t)),d)e.emit("error",d);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=o(t)),r)l.endEmitted?e.emit("error",new v):j(e,l,t,!0);else if(l.ended)e.emit("error",new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?j(e,l,t,!1):O(e,l)):j(e,l,t,!1)}else r||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),O(e,t)}function C(e,t){var n;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=""),n=!0),L(this,e,t,!1,n)},k.prototype.unshift=function(e){return L(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return u||(u=require("string_decoder/").StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function D(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function W(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function q(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,B(e))}}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){s("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}function F(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function G(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Y,t,e))}function Y(e,t){s("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):x(this),null;if(0===(e=W(e,t))&&t.ended)return 0===t.length&&G(this),null;var r,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=W(n,t))),null===(r=e>0?V(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:g;function o(t,n){s("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",c),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",d),r.removeListener("end",g),r.removeListener("data",p),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function d(){s("onend"),e.end()}i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",o);var l=U(r);e.on("drain",l);var u=!1;function p(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){s("onerror",t),g(),e.removeListener("error",h),0===n(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",c),g()}function c(){s("onfinish"),e.removeListener("close",f),g()}function g(){s("unpipe"),r.unpipe(e)}return r.on("data",p),R(e,"error",h),e.once("close",f),e.once("finish",c),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},k.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?x(this):i.reading||process.nextTick(N,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(I,this),n},k.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(I,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(s("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(s("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<M.length;a++)e.on(M[a],this.emit.bind(this,M[a]));return this._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),void 0===p&&(p=require("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=V,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"./internal/streams/stream":"Y+bo","./internal/streams/buffer_list":"k/zV","./internal/streams/destroy":"JuBc","./internal/streams/state":"Xv01","../errors":"aJzw","../experimentalWarning":"RR96","inherits":"Cpyn","./_stream_duplex":"6F03","string_decoder/":"lrG1","./internal/streams/async_iterator":"YjkX"}],"eEo0":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"aJzw","./_stream_duplex":"6F03","inherits":"Cpyn"}],"35Sm":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"eEo0","inherits":"Cpyn"}],"UFJj":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"aJzw","./end-of-stream":"OoWQ"}],"55hr":[function(require,module,exports) {
var e=require("stream");"disable"===process.env.READABLE_STREAM&&e?(module.exports=e.Readable,Object.assign(module.exports,e),module.exports.Stream=e):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js"));
},{"./lib/_stream_readable.js":"aqat","./lib/_stream_writable.js":"6Mly","./lib/_stream_duplex.js":"6F03","./lib/_stream_transform.js":"eEo0","./lib/_stream_passthrough.js":"35Sm","./lib/internal/streams/end-of-stream.js":"OoWQ","./lib/internal/streams/pipeline.js":"UFJj"}],"eMQt":[function(require,module,exports) {
var t=require("readable-stream").Transform,n=require("util").inherits;function e(n){t.call(this,n),this._destroyed=!1}function o(t,n,e){e(null,t)}function r(t){return function(n,e,r){return"function"==typeof n&&(r=e,e=n,n={}),"function"!=typeof e&&(e=o),"function"!=typeof r&&(r=null),t(n,e,r)}}n(e,t),e.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;process.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},module.exports=r(function(t,n,o){var r=new e(t);return r._transform=n,o&&(r._flush=o),r}),module.exports.ctor=r(function(t,o,r){function i(n){if(!(this instanceof i))return new i(n);this.options=Object.assign({},t,n),e.call(this,this.options)}return n(i,e),i.prototype._transform=o,r&&(i.prototype._flush=r),i}),module.exports.obj=r(function(t,n,o){var r=new e(Object.assign({objectMode:!0,highWaterMark:16},t));return r._transform=n,o&&(r._flush=o),r});
},{"readable-stream":"55hr"}],"myP4":[function(require,module,exports) {
function e(e){function n(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function t(e){let o;function i(...e){if(!i.enabled)return;const n=i,s=Number(new Date),r=s-(o||s);n.diff=r,n.prev=o,n.curr=s,o=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,r)=>{if("%%"===s)return s;a++;const o=t.formatters[r];if("function"==typeof o){const t=e[a];s=o.call(n,t),e.splice(a,1),a--}return s}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,i.extend=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function r(e,n){const s=t(this.namespace+(void 0===n?":":n)+e);return s.log=this.log,s}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=require("ms"),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=n,t.enable(t.load()),t}module.exports=e;
},{"ms":"1U8J"}],"4Qeg":[function(require,module,exports) {
function e(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;e.splice(1,0,o,"color: inherit");let C=0,t=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(C++,"%c"===e&&(t=C))}),e.splice(t,0,o)}function C(...e){return"object"==typeof console&&console.log&&console.log(...e)}function t(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function n(){let e;try{e=exports.storage.getItem("debug")}catch(o){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function r(){try{return localStorage}catch(e){}}exports.log=C,exports.formatArgs=o,exports.save=t,exports.load=n,exports.useColors=e,exports.storage=r(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);const{formatters:s}=module.exports;s.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"myP4"}],"3RCJ":[function(require,module,exports) {
const e=require("tty"),s=require("util");exports.init=c,exports.log=n,exports.formatArgs=o,exports.save=p,exports.load=i,exports.useColors=t,exports.colors=[6,2,3,4,5,1];try{const e=require("supports-color");e&&(e.stderr||e).level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(l){}function t(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):e.isatty(process.stderr.fd)}function o(e){const{namespace:s,useColors:t}=this;if(t){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),r=`  ${o};1m${s} [0m`;e[0]=r+e[0].split("\n").join("\n"+r),e.push(o+"m+"+module.exports.humanize(this.diff)+"[0m")}else e[0]=r()+s+" "+e[0]}function r(){return exports.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function n(...e){return process.stderr.write(s.format(...e)+"\n")}function p(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function i(){return process.env.DEBUG}function c(e){e.inspectOpts={};const s=Object.keys(exports.inspectOpts);for(let t=0;t<s.length;t++)e.inspectOpts[s[t]]=exports.inspectOpts[s[t]]}exports.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,s)=>{const t=s.substring(6).toLowerCase().replace(/_([a-z])/g,(e,s)=>s.toUpperCase());let o=process.env[s];return o=!!/^(yes|on|true|enabled)$/i.test(o)||!/^(no|off|false|disabled)$/i.test(o)&&("null"===o?null:Number(o)),e[t]=o,e},{}),module.exports=require("./common")(exports);const{formatters:u}=module.exports;u.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},u.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)};
},{"supports-color":"9wRp","./common":"myP4"}],"IhAR":[function(require,module,exports) {
"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?module.exports=require("./browser.js"):module.exports=require("./node.js");
},{"./browser.js":"4Qeg","./node.js":"3RCJ"}],"v2t1":[function(require,module,exports) {
module.exports=["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","freight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","com.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","net.ar","org.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","eq.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","education.tas.edu.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","cri.br","cuiaba.br","curitiba.br","def.br","ecn.br","eco.br","edu.br","emp.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","aéroport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","gov.cl","gob.cl","co.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn","公司.cn","网络.cn","網絡.cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","name.cy","net.cy","org.cy","parliament.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","com.dz","org.dz","net.dz","gov.dz","edu.dz","asso.dz","pol.dz","art.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","*.fj","*.fk","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk","公司.hk","教育.hk","敎育.hk","政府.hk","個人.hk","个人.hk","箇人.hk","網络.hk","网络.hk","组織.hk","網絡.hk","网絡.hk","组织.hk","組織.hk","組织.hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir","ایران.ir","ايران.ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-süd-tirol.it","trentin-sudtirol.it","trentin-südtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-süd-tirol.it","trentino-sudtirol.it","trentino-südtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinosüd-tirol.it","trentinosudtirol.it","trentinosüdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentinsüd-tirol.it","trentinsudtirol.it","trentinsüdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","vallée-aoste.it","vallee-d-aoste.it","vallée-d-aoste.it","valleeaoste.it","valléeaoste.it","valleedaoste.it","valléedaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-südtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-südtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-südtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forlì.it","cesenaforli.it","cesenaforlì.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forlì-cesena.it","forlicesena.it","forlìcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","südtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp","栃木.jp","愛知.jp","愛媛.jp","兵庫.jp","熊本.jp","茨城.jp","北海道.jp","千葉.jp","和歌山.jp","長崎.jp","長野.jp","新潟.jp","青森.jp","静岡.jp","東京.jp","石川.jp","埼玉.jp","三重.jp","京都.jp","佐賀.jp","大分.jp","大阪.jp","奈良.jp","宮城.jp","宮崎.jp","富山.jp","山口.jp","山形.jp","山梨.jp","岩手.jp","岐阜.jp","岡山.jp","島根.jp","広島.jp","徳島.jp","沖縄.jp","滋賀.jp","神奈川.jp","福井.jp","福岡.jp","福島.jp","秋田.jp","群馬.jp","香川.jp","高知.jp","鳥取.jp","鹿児島.jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","edu.ky","gov.ky","com.ky","org.ky","net.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunicações.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunicações.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","läns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nuernberg.museum","nuremberg.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum","ירושלים.museum","иком.museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","com.my","net.my","org.my","gov.my","edu.my","mil.my","name.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","åkrehamn.no","algard.no","ålgård.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","brønnøysund.no","drobak.no","drøbak.no","egersund.no","fetsund.no","floro.no","florø.no","fredrikstad.no","hokksund.no","honefoss.no","hønefoss.no","jessheim.no","jorpeland.no","jørpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langevåg.no","leirvik.no","mjondalen.no","mjøndalen.no","mo-i-rana.no","mosjoen.no","mosjøen.no","nesoddtangen.no","orkanger.no","osoyro.no","osøyro.no","raholt.no","råholt.no","sandnessjoen.no","sandnessjøen.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stjørdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","åfjord.no","agdenes.no","al.no","ål.no","alesund.no","ålesund.no","alstahaug.no","alta.no","áltá.no","alaheadju.no","álaheadju.no","alvdal.no","amli.no","åmli.no","amot.no","åmot.no","andebu.no","andoy.no","andøy.no","andasuolo.no","ardal.no","årdal.no","aremark.no","arendal.no","ås.no","aseral.no","åseral.no","asker.no","askim.no","askvoll.no","askoy.no","askøy.no","asnes.no","åsnes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-høland.no","austevoll.no","austrheim.no","averoy.no","averøy.no","balestrand.no","ballangen.no","balat.no","bálát.no","balsfjord.no","bahccavuotna.no","báhccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","bájddar.no","baidar.no","báidár.no","berg.no","bergen.no","berlevag.no","berlevåg.no","bearalvahki.no","bearalváhki.no","bindal.no","birkenes.no","bjarkoy.no","bjarkøy.no","bjerkreim.no","bjugn.no","bodo.no","bodø.no","badaddja.no","bådåddjå.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","brønnøy.no","bygland.no","bykle.no","barum.no","bærum.no","bo.telemark.no","bø.telemark.no","bo.nordland.no","bø.nordland.no","bievat.no","bievát.no","bomlo.no","bømlo.no","batsfjord.no","båtsfjord.no","bahcavuotna.no","báhcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyrøy.no","donna.no","dønna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","evenášši.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finnøy.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","flå.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","fræna.no","froya.no","frøya.no","fusa.no","fyresdal.no","forde.no","førde.no","gamvik.no","gangaviika.no","gáŋgaviika.no","gaular.no","gausdal.no","gildeskal.no","gildeskål.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gjøvik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kråanghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","hábmer.no","hapmir.no","hápmir.no","hammerfest.no","hammarfeasta.no","hámmárfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","ákŋoluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","herøy.møre-og-romsdal.no","heroy.nordland.no","herøy.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hobøl.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holtålen.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","hægebostad.no","hoyanger.no","høyanger.no","hoylandet.no","høylandet.no","ha.no","hå.no","ibestad.no","inderoy.no","inderøy.no","iveland.no","jevnaker.no","jondal.no","jolster.no","jølster.no","karasjok.no","karasjohka.no","kárášjohka.no","karlsoy.no","galsa.no","gálsá.no","karmoy.no","karmøy.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","klæbu.no","kongsberg.no","kongsvinger.no","kragero.no","kragerø.no","kristiansand.no","kristiansund.no","krodsherad.no","krødsherad.no","kvalsund.no","rahkkeravju.no","ráhkkerávju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvitsøy.no","kvafjord.no","kvæfjord.no","giehtavuoatna.no","kvanangen.no","kvænangen.no","navuotna.no","návuotna.no","kafjord.no","kåfjord.no","gaivuotna.no","gáivuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loabát.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","leaŋgaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","lindås.no","lom.no","loppa.no","lahppi.no","láhppi.no","lund.no","lunner.no","luroy.no","lurøy.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","lærdal.no","lodingen.no","lødingen.no","lorenskog.no","lørenskog.no","loten.no","løten.no","malvik.no","masoy.no","måsøy.no","muosat.no","muosát.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","meløy.no","meraker.no","meråker.no","moareke.no","moåreke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","målselv.no","malatvuopmi.no","málatvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","nååmesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unjárga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenjárga.no","nordre-land.no","nordreisa.no","raisa.no","ráisa.no","nore-og-uvdal.no","notodden.no","naroy.no","nærøy.no","notteroy.no","nøtterøy.no","odda.no","oksnes.no","øksnes.no","oppdal.no","oppegard.no","oppegård.no","orkdal.no","orland.no","ørland.no","orskog.no","ørskog.no","orsta.no","ørsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","osterøy.no","ostre-toten.no","østre-toten.no","overhalla.no","ovre-eiker.no","øvre-eiker.no","oyer.no","øyer.no","oygarden.no","øygarden.no","oystre-slidre.no","øystre-slidre.no","porsanger.no","porsangu.no","porsáŋgu.no","porsgrunn.no","radoy.no","radøy.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennesøy.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","risør.no","roan.no","rollag.no","rygge.no","ralingen.no","rælingen.no","rodoy.no","rødøy.no","romskog.no","rømskog.no","roros.no","røros.no","rost.no","røst.no","royken.no","røyken.no","royrvik.no","røyrvik.no","rade.no","råde.no","salangen.no","siellak.no","saltdal.no","salat.no","sálát.no","sálat.no","samnanger.no","sande.more-og-romsdal.no","sande.møre-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sandøy.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjervøy.no","skierva.no","skiervá.no","skjak.no","skjåk.no","skodje.no","skanland.no","skånland.no","skanit.no","skánit.no","smola.no","smøla.no","snillfjord.no","snasa.no","snåsa.no","snoasa.no","snaase.no","snåase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stjørdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","søgne.no","somna.no","sømna.no","sondre-land.no","søndre-land.no","sor-aurdal.no","sør-aurdal.no","sor-fron.no","sør-fron.no","sor-odal.no","sør-odal.no","sor-varanger.no","sør-varanger.no","matta-varjjat.no","mátta-várjjat.no","sorfold.no","sørfold.no","sorreisa.no","sørreisa.no","sorum.no","sørum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tjøme.no","tokke.no","tolga.no","torsken.no","tranoy.no","tranøy.no","tromso.no","tromsø.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","træna.no","trogstad.no","trøgstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysvær.no","tonsberg.no","tønsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vadsø.no","cahcesuolo.no","čáhcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vardø.no","varggat.no","várggát.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","vegårshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestvågøy.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","værøy.no","vagan.no","vågan.no","voagat.no","vagsoy.no","vågsøy.no","vaga.no","vågå.no","valer.ostfold.no","våler.østfold.no","valer.hedmark.no","våler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","māori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","net.so","org.so","sr","st","co.st","com.st","consulado.st","edu.st","embaixada.st","gov.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","intl.tn","nat.tn","net.tn","org.tn","info.tn","perso.tn","tourism.tn","edunet.tn","rnrt.tn","rns.tn","rnu.tn","mincom.tn","agrinet.tn","defense.tn","turen.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw","網路.tw","組織.tw","商業.tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","dominic.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.ri.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","org.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","امارات","հայ","বাংলা","бг","бел","中国","中國","الجزائر","مصر","ею","გე","ελ","香港","公司.香港","教育.香港","政府.香港","個人.香港","網絡.香港","組織.香港","ಭಾರತ","ଭାରତ","ভাৰত","भारतम्","भारोत","ڀارت","ഭാരതം","भारत","بارت","بھارت","భారత్","ભારત","ਭਾਰਤ","ভারত","இந்தியா","ایران","ايران","عراق","الاردن","한국","қаз","ලංකා","இலங்கை","المغرب","мкд","мон","澳門","澳门","مليسيا","عمان","پاکستان","پاكستان","فلسطين","срб","пр.срб","орг.срб","обр.срб","од.срб","упр.срб","ак.срб","рф","قطر","السعودية","السعودیة","السعودیۃ","السعوديه","سودان","新加坡","சிங்கப்பூர்","سورية","سوريا","ไทย","ศึกษา.ไทย","ธุรกิจ.ไทย","รัฐบาล.ไทย","ทหาร.ไทย","เน็ต.ไทย","องค์กร.ไทย","تونس","台灣","台湾","臺灣","укр","اليمن","xxx","*.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afamilycompany","afl","africa","agakhan","agency","aig","aigo","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnl","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","budapest","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","catering","catholic","cba","cbn","cbre","cbs","ceb","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dodge","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","esurance","etisalat","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glade","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","intel","international","intuit","investments","ipiranga","irish","iselect","ismaili","ist","istanbul","itau","itv","iveco","jaguar","java","jcb","jcp","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","lupin","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","metlife","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","msd","mtn","mtr","mutual","nab","nadex","nagoya","nationwide","natura","navy","nba","nec","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","qvc","racing","radio","raid","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","sport","spot","spreadbetting","srl","srt","stada","staples","star","starhub","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiftcover","swiss","sydney","symantec","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","telefonica","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","uconnect","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vistaprint","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","慈善","集团","在线","大众汽车","点看","คอม","八卦","موقع","公益","公司","香格里拉","网站","移动","我爱你","москва","католик","онлайн","сайт","联通","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","삼성","商标","商店","商城","дети","ポイント","新闻","工行","家電","كوم","中文网","中信","娱乐","谷歌","電訊盈科","购物","クラウド","通販","网店","संगठन","餐厅","网络","ком","诺基亚","食品","飞利浦","手表","手机","ارامكو","العليان","اتصالات","بازار","موبايلي","ابوظبي","كاثوليك","همراه","닷컴","政府","شبكة","بيتك","عرب","机构","组织机构","健康","招聘","рус","珠宝","大拿","みんな","グーグル","世界","書籍","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","广东","政务","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","beep.pl","barsy.ca","*.compute.estate","*.alces.network","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","go-vip.co","go-vip.net","wpcomstaging.com","myfritz.net","*.awdev.ca","*.advisor.ws","b-data.io","backplaneapp.io","balena-devices.com","app.banzaicloud.io","betainabox.com","bnr.la","blackbaudcdn.net","boomla.net","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","mycd.eu","carrd.co","crd.co","uwu.ai","ae.org","ar.com","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.com","gb.net","hu.com","hu.net","jp.net","jpn.com","kr.com","mex.com","no.com","qc.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","uy.com","za.bz","za.com","africa.com","gr.com","in.net","us.org","co.com","c.la","certmgr.org","xenapponazure.com","discourse.group","virtueeldomein.nl","cleverapps.io","*.lcl.dev","*.stg.dev","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","cloudera.site","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cloudeity.net","cnpy.gdn","co.nl","co.no","webhosting.be","hosting-cluster.nl","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","cyon.link","cyon.site","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","*.dapps.earth","*.bzz.dapps.earth","debian.net","dedyn.io","dnshome.de","online.th","shop.th","drayddns.com","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","mytuleap.com","onred.one","staging.onred.one","enonic.io","customer.enonic.io","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastpanel.direct","fastvps-server.com","fhapp.xyz","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","mydobiss.com","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","flynnhub.com","flynnhosting.net","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","service.gov.uk","gehirn.ne.jp","usercontent.jp","lab.ms","github.io","githubusercontent.com","gitlab.io","glitch.me","cloudapps.digital","london.cloudapps.digital","homeoffice.gov.uk","ro.im","shop.ro","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","cloudfunctions.net","cloud.goog","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","hepforge.org","herokuapp.com","herokussl.com","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","bpl.biz","orx.biz","ng.city","biz.gl","ng.ink","col.ng","firm.ng","gen.ng","ltd.ng","ng.school","sch.so","häkkinen.fi","*.moonscale.io","moonscale.net","iki.fi","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","ipifony.net","mein-iserv.de","test-iserv.de","iserv.dev","iobb.net","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","co.krd","edu.krd","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkitools.space","linkyard.cloud","linkyard-cloud.ch","members.linode.com","nodebalancer.linode.com","we.bs","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","uklugs.org","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","miniserver.com","memset.net","cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","ui.nabu.casa","pony.club","of.fashion","on.fashion","of.football","in.london","of.london","for.men","and.mom","for.mom","for.one","for.sale","of.work","to.work","nctu.me","bitballoon.com","netlify.com","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","nodum.co","nodum.io","pcloud.host","nyc.mn","nom.ae","nom.af","nom.ai","nom.al","nym.by","nym.bz","nom.cl","nym.ec","nom.gd","nom.ge","nom.gl","nym.gr","nom.gt","nym.gy","nym.hk","nom.hn","nym.ie","nom.im","nom.ke","nym.kz","nym.la","nym.lc","nom.li","nym.li","nym.lt","nym.lu","nym.me","nom.mk","nym.mn","nym.mx","nom.nu","nym.nz","nym.pe","nym.pt","nom.pw","nom.qa","nym.ro","nom.rs","nom.si","nym.sk","nom.st","nym.su","nym.sx","nom.tj","nym.tw","nom.ug","nom.uy","nom.vc","nom.vg","cya.gg","cloudycluster.net","nid.io","opencraft.hosting","operaunite.com","outsystemscloud.com","ownprovider.com","own.pm","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","on-web.fr","*.platform.sh","*.platformsh.site","dyn53.io","co.bn","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","qualifioapp.com","instantcloud.cn","ras.ru","qa2.com","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","ptplus.fit","wellbeingzone.co.uk","git-pages.rit.edu","sandcats.io","logoip.de","logoip.com","schokokeks.net","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","biz.ua","co.ua","pp.ua","shiftedit.io","myshopblocks.com","shopitsite.com","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","stackhero-network.com","static.land","dev.static.land","sites.static.land","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","applicationcloud.io","scapp.io","*.s5y.io","*.sensiosite.cloud","syncloud.it","diskstation.me","dscloud.biz","dscloud.me","dscloud.mobi","dsmynas.com","dsmynas.net","dsmynas.org","familyds.com","familyds.net","familyds.org","i234.me","myds.me","synology.me","vpnplus.to","taifun-dns.de","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","edugit.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","arvo.network","azimuth.network","bloxcms.com","townnews-staging.com","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","virtualuser.de","virtual-user.de","lib.de.us","2038.io","router.management","v-info.info","voorloper.cloud","wafflecell.com","*.webhare.dev","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","wmflabs.org","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","nohost.me","noho.st","za.net","za.org","now.sh","bss.design","basicserver.io","virtualserver.io","site.builder.nu","enterprisecloud.nu","zone.id"];
},{}],"TJUY":[function(require,module,exports) {
"use strict";var n=require("punycode"),e={};e.rules=require("./data/rules.json").map(function(n){return{rule:n,suffix:n.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:"*"===n.charAt(0),exception:"!"===n.charAt(0)}}),e.endsWith=function(n,e){return-1!==n.indexOf(e,n.length-e.length)},e.findRule=function(t){var r=n.toASCII(t);return e.rules.reduce(function(t,a){return-1===a.punySuffix&&(a.punySuffix=n.toASCII(a.suffix)),e.endsWith(r,"."+a.punySuffix)||r===a.punySuffix?a:t},null)},exports.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},e.validate=function(e){var t=n.toASCII(e);if(t.length<1)return"DOMAIN_TOO_SHORT";if(t.length>255)return"DOMAIN_TOO_LONG";for(var r,a=t.split("."),o=0;o<a.length;++o){if(!(r=a[o]).length)return"LABEL_TOO_SHORT";if(r.length>63)return"LABEL_TOO_LONG";if("-"===r.charAt(0))return"LABEL_STARTS_WITH_DASH";if("-"===r.charAt(r.length-1))return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(r))return"LABEL_INVALID_CHARS"}},exports.parse=function(t){if("string"!=typeof t)throw new TypeError("Domain name must be a string.");var r=t.slice(0).toLowerCase();"."===r.charAt(r.length-1)&&(r=r.slice(0,r.length-1));var a=e.validate(r);if(a)return{input:t,error:{message:exports.errorCodes[a],code:a}};var o={input:t,tld:null,sld:null,domain:null,subdomain:null,listed:!1},i=r.split(".");if("local"===i[i.length-1])return o;var l=function(){return/xn--/.test(r)?(o.domain&&(o.domain=n.toASCII(o.domain)),o.subdomain&&(o.subdomain=n.toASCII(o.subdomain)),o):o},u=e.findRule(r);if(!u)return i.length<2?o:(o.tld=i.pop(),o.sld=i.pop(),o.domain=[o.sld,o.tld].join("."),i.length&&(o.subdomain=i.pop()),l());o.listed=!0;var s=u.suffix.split("."),d=i.slice(0,i.length-s.length);return u.exception&&d.push(s.shift()),o.tld=s.join("."),d.length?(u.wildcard&&(s.unshift(d.pop()),o.tld=s.join(".")),d.length?(o.sld=d.pop(),o.domain=[o.sld,o.tld].join("."),d.length&&(o.subdomain=d.join(".")),l()):l()):l()},exports.get=function(n){return n&&exports.parse(n).domain||null},exports.isValid=function(n){var e=exports.parse(n);return Boolean(e.domain&&e.listed)};
},{"./data/rules.json":"v2t1"}],"opaz":[function(require,module,exports) {
"use strict";var e=require("psl");function r(r){return e.get(r)}exports.getPublicSuffix=r;
},{"psl":"TJUY"}],"2ETH":[function(require,module,exports) {
"use strict";function o(){}exports.Store=o,o.prototype.synchronous=!1,o.prototype.findCookie=function(o,e,t,r){throw new Error("findCookie is not implemented")},o.prototype.findCookies=function(o,e,t){throw new Error("findCookies is not implemented")},o.prototype.putCookie=function(o,e){throw new Error("putCookie is not implemented")},o.prototype.updateCookie=function(o,e,t){throw new Error("updateCookie is not implemented")},o.prototype.removeCookie=function(o,e,t,r){throw new Error("removeCookie is not implemented")},o.prototype.removeCookies=function(o,e,t){throw new Error("removeCookies is not implemented")},o.prototype.getAllCookies=function(o){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")};
},{}],"H2QJ":[function(require,module,exports) {
"use strict";var r=require("./pubsuffix-psl");function e(e){var t=r.getPublicSuffix(e);if(!t)return null;if(t==e)return[e];for(var u=e.slice(0,-(t.length+1)).split(".").reverse(),i=t,s=[i];u.length;)i=u.shift()+"."+i,s.push(i);return s}exports.permuteDomain=e;
},{"./pubsuffix-psl":"opaz"}],"2r5m":[function(require,module,exports) {
"use strict";function t(t,r){if(r===t)return!0;if(0===t.indexOf(r)){if("/"===r.substr(-1))return!0;if("/"===t.substr(r.length,1))return!0}return!1}exports.pathMatch=t;
},{}],"8wtn":[function(require,module,exports) {
"use strict";var t=require("./store").Store,i=require("./permuteDomain").permuteDomain,o=require("./pathMatch").pathMatch,e=require("util");function n(){t.call(this),this.idx={}}e.inherits(n,t),exports.MemoryCookieStore=n,n.prototype.idx=null,n.prototype.synchronous=!0,n.prototype.inspect=function(){return"{ idx: "+e.inspect(this.idx,!1,2)+" }"},e.inspect.custom&&(n.prototype[e.inspect.custom]=n.prototype.inspect),n.prototype.findCookie=function(t,i,o,e){return this.idx[t]&&this.idx[t][i]?e(null,this.idx[t][i][o]||null):e(null,void 0)},n.prototype.findCookies=function(t,e,n){var r,u=[];if(!t)return n(null,[]);r=e?function(t){Object.keys(t).forEach(function(i){if(o(e,i)){var n=t[i];for(var r in n)u.push(n[r])}})}:function(t){for(var i in t){var o=t[i];for(var e in o)u.push(o[e])}};var s=i(t)||[t],p=this.idx;s.forEach(function(t){var i=p[t];i&&r(i)}),n(null,u)},n.prototype.putCookie=function(t,i){this.idx[t.domain]||(this.idx[t.domain]={}),this.idx[t.domain][t.path]||(this.idx[t.domain][t.path]={}),this.idx[t.domain][t.path][t.key]=t,i(null)},n.prototype.updateCookie=function(t,i,o){this.putCookie(i,o)},n.prototype.removeCookie=function(t,i,o,e){this.idx[t]&&this.idx[t][i]&&this.idx[t][i][o]&&delete this.idx[t][i][o],e(null)},n.prototype.removeCookies=function(t,i,o){return this.idx[t]&&(i?delete this.idx[t][i]:delete this.idx[t]),o(null)},n.prototype.getAllCookies=function(t){var i=[],o=this.idx;Object.keys(o).forEach(function(t){Object.keys(o[t]).forEach(function(e){Object.keys(o[t][e]).forEach(function(n){null!==n&&i.push(o[t][e][n])})})}),i.sort(function(t,i){return(t.creationIndex||0)-(i.creationIndex||0)}),t(null,i)};
},{"./store":"2ETH","./permuteDomain":"H2QJ","./pathMatch":"2r5m"}],"j0hX":[function(require,module,exports) {
module.exports={author:{name:"Jeremy Stashewsky",email:"jstash@gmail.com",website:"https://github.com/stash"},contributors:[{name:"Alexander Savin",website:"https://github.com/apsavin"},{name:"Ian Livingstone",website:"https://github.com/ianlivingstone"},{name:"Ivan Nikulin",website:"https://github.com/inikulin"},{name:"Lalit Kapoor",website:"https://github.com/lalitkapoor"},{name:"Sam Thompson",website:"https://github.com/sambthompson"},{name:"Sebastian Mayr",website:"https://github.com/Sebmaster"}],license:"BSD-3-Clause",name:"tough-cookie",description:"RFC6265 Cookies and Cookie Jar for node.js",keywords:["HTTP","cookie","cookies","set-cookie","cookiejar","jar","RFC6265","RFC2965"],version:"2.4.3",homepage:"https://github.com/salesforce/tough-cookie",repository:{type:"git",url:"git://github.com/salesforce/tough-cookie.git"},bugs:{url:"https://github.com/salesforce/tough-cookie/issues"},main:"./lib/cookie",files:["lib"],scripts:{test:"vows test/*_test.js",cover:"nyc --reporter=lcov --reporter=html vows test/*_test.js"},engines:{node:">=0.8"},devDependencies:{async:"^1.4.2",nyc:"^11.6.0","string.prototype.repeat":"^0.2.0",vows:"^0.8.1"},dependencies:{psl:"^1.1.24",punycode:"^1.4.1"}};
},{}],"owcq":[function(require,module,exports) {
"use strict";var e,t=require("net"),r=require("url").parse,n=require("util"),o=require("./pubsuffix-psl"),i=require("./store").Store,s=require("./memstore").MemoryCookieStore,a=require("./pathMatch").pathMatch,u=require("../package.json").version;try{e=require("punycode")}catch(F){console.warn("tough-cookie: can't load punycode; won't use punycode for domain normalization")}var l=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,p=/[\x00-\x1F]/,c=["\n","\r","\0"],f=/[\x20-\x3A\x3C-\x7E]+/,h=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,y={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=2147483647e3,d=0;function v(e,t,r,n){for(var o=0;o<e.length;){var i=e.charCodeAt(o);if(i<=47||i>=58)break;o++}return o<t||o>r?null:n||o==e.length?parseInt(e.substr(0,o),10):null}function k(e){var t=e.split(":"),r=[0,0,0];if(3!==t.length)return null;for(var n=0;n<3;n++){var o=2==n,i=v(t[n],1,2,o);if(null===i)return null;r[n]=i}return r}function b(e){e=String(e).substr(0,3).toLowerCase();var t=y[e];return t>=0?t:null}function C(e){if(e){var t=e.split(h);if(t){for(var r=null,n=null,o=null,i=null,s=null,a=null,u=0;u<t.length;u++){var l,p=t[u].trim();if(p.length)null===o&&(l=k(p))?(r=l[0],n=l[1],o=l[2]):null!==i||null===(l=v(p,1,2,!0))?null!==s||null===(l=b(p))?null===a&&null!==(l=v(p,2,4,!0))&&((a=l)>=70&&a<=99?a+=1900:a>=0&&a<=69&&(a+=2e3)):s=l:i=l}if(!(null===i||null===s||null===a||null===o||i<1||i>31||a<1601||r>23||n>59||o>59))return new Date(Date.UTC(a,s,i,r,n,o))}}}function S(e){var t=e.getUTCDate();t=t>=10?t:"0"+t;var r=e.getUTCHours();r=r>=10?r:"0"+r;var n=e.getUTCMinutes();n=n>=10?n:"0"+n;var o=e.getUTCSeconds();return o=o>=10?o:"0"+o,m[e.getUTCDay()]+", "+t+" "+x[e.getUTCMonth()]+" "+e.getUTCFullYear()+" "+r+":"+n+":"+o+" GMT"}function A(t){return null==t?null:(t=t.trim().replace(/^\./,""),e&&/[^\u0001-\u007f]/.test(t)&&(t=e.toASCII(t)),t.toLowerCase())}function O(e,r,n){if(null==e||null==r)return null;if(!1!==n&&(e=A(e),r=A(r)),e==r)return!0;if(t.isIP(e))return!1;var o=e.indexOf(r);return!(o<=0)&&(e.length===r.length+o&&"."===e.substr(o-1,1))}function w(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;var t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}function D(e){for(var t=0;t<c.length;t++){var r=e.indexOf(c[t]);-1!==r&&(e=e.substr(0,r))}return e}function P(e,t){var r,n,o=(e=D(e)).indexOf("=");if(t)0===o&&(o=(e=e.substr(1)).indexOf("="));else if(o<=0)return;if(o<=0?(r="",n=e.trim()):(r=e.substr(0,o).trim(),n=e.substr(o+1).trim()),!p.test(r)&&!p.test(n)){var i=new J;return i.key=r,i.value=n,i}}function I(e,t){t&&"object"==typeof t||(t={});var r=(e=e.trim()).indexOf(";"),n=P(-1===r?e:e.substr(0,r),!!t.loose);if(n){if(-1===r)return n;var o=e.slice(r+1).trim();if(0===o.length)return n;for(var i=o.split(";");i.length;){var s=i.shift().trim();if(0!==s.length){var a,u,l=s.indexOf("=");switch(-1===l?(a=s,u=null):(a=s.substr(0,l),u=s.substr(l+1)),a=a.trim().toLowerCase(),u&&(u=u.trim()),a){case"expires":if(u){var p=C(u);p&&(n.expires=p)}break;case"max-age":if(u&&/^-?[0-9]+$/.test(u)){var c=parseInt(u,10);n.setMaxAge(c)}break;case"domain":if(u){var f=u.trim().replace(/^\./,"");f&&(n.domain=f.toLowerCase())}break;case"path":n.path=u&&"/"===u[0]?u:null;break;case"secure":n.secure=!0;break;case"httponly":n.httpOnly=!0;break;default:n.extensions=n.extensions||[],n.extensions.push(s)}}}return n}}function T(e){var t;try{t=JSON.parse(e)}catch(F){return F}return t}function E(e){if(!e)return null;var t;if("string"==typeof e){if((t=T(e))instanceof Error)return null}else t=e;for(var r=new J,n=0;n<J.serializableProperties.length;n++){var o=J.serializableProperties[n];void 0!==t[o]&&t[o]!==J.prototype[o]&&("expires"===o||"creation"===o||"lastAccessed"===o?null===t[o]?r[o]=null:r[o]="Infinity"==t[o]?"Infinity":new Date(t[o]):r[o]=t[o])}return r}function j(e,t){var r=0,n=e.path?e.path.length:0;return 0!==(r=(t.path?t.path.length:0)-n)?r:0!==(r=(e.creation?e.creation.getTime():g)-(t.creation?t.creation.getTime():g))?r:r=e.creationIndex-t.creationIndex}function M(e){if("/"===e)return["/"];e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var r=e.lastIndexOf("/");if(0===r)break;e=e.substr(0,r),t.push(e)}return t.push("/"),t}function z(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(t){}return r(e)}function J(e){e=e||{},Object.keys(e).forEach(function(t){J.prototype.hasOwnProperty(t)&&J.prototype[t]!==e[t]&&"_"!==t.substr(0,1)&&(this[t]=e[t])},this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++J.cookiesCreated})}function q(e,t){"boolean"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new s),this.store=e}J.cookiesCreated=0,J.parse=I,J.fromJSON=E,J.prototype.key="",J.prototype.value="",J.prototype.expires="Infinity",J.prototype.maxAge=null,J.prototype.domain=null,J.prototype.path=null,J.prototype.secure=!1,J.prototype.httpOnly=!1,J.prototype.extensions=null,J.prototype.hostOnly=null,J.prototype.pathIsDefault=null,J.prototype.creation=null,J.prototype.lastAccessed=null,Object.defineProperty(J.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),J.serializableProperties=Object.keys(J.prototype).filter(function(e){return!(J.prototype[e]instanceof Function||"creationIndex"===e||"_"===e.substr(0,1))}),J.prototype.inspect=function(){var e=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?e-this.creation.getTime()+"ms":"?")+'"'},n.inspect.custom&&(J.prototype[n.inspect.custom]=J.prototype.inspect),J.prototype.toJSON=function(){for(var e={},t=J.serializableProperties,r=0;r<t.length;r++){var n=t[r];this[n]!==J.prototype[n]&&("expires"===n||"creation"===n||"lastAccessed"===n?null===this[n]?e[n]=null:e[n]="Infinity"==this[n]?"Infinity":this[n].toISOString():"maxAge"===n?null!==this[n]&&(e[n]=this[n]==1/0||this[n]==-1/0?this[n].toString():this[n]):this[n]!==J.prototype[n]&&(e[n]=this[n]))}return e},J.prototype.clone=function(){return E(this.toJSON())},J.prototype.validate=function(){if(!l.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||C(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!f.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\.$/))return!1;if(null==o.getPublicSuffix(e))return!1}return!0},J.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=C(e)||"Infinity"},J.prototype.setMaxAge=function(e){this.maxAge=e===1/0||e===-1/0?e.toString():e},J.prototype.cookieString=function(){var e=this.value;return null==e&&(e=""),""===this.key?e:this.key+"="+e},J.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(this.expires instanceof Date?e+="; Expires="+S(this.expires):e+="; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(e+="; Domain="+this.domain),this.path&&(e+="; Path="+this.path),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.extensions&&this.extensions.forEach(function(t){e+="; "+t}),e},J.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=C(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},J.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,r=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+r}return this.expires==1/0?1/0:this.expires.getTime()},J.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date(g):t==-1/0?new Date(d):new Date(t)},J.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},J.prototype.cdomain=J.prototype.canonicalizedDomain=function(){return null==this.domain?null:A(this.domain)},q.prototype.store=null,q.prototype.rejectPublicSuffixes=!0,q.prototype.enableLooseMode=!1;var N=[];function U(e){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var t,r,n=Array.prototype.slice.call(arguments);if(n.push(function(e,n){t=e,r=n}),this[e].apply(this,n),t)throw t;return r}}N.push("setCookie"),q.prototype.setCookie=function(e,t,r,n){var i,s=z(t);r instanceof Function&&(n=r,r={});var a=A(s.hostname),u=this.enableLooseMode;if(null!=r.loose&&(u=r.loose),e instanceof J||(e=J.parse(e,{loose:u})),!e)return i=new Error("Cookie failed to parse"),n(r.ignoreError?null:i);var l=r.now||new Date;if(this.rejectPublicSuffixes&&e.domain&&null==o.getPublicSuffix(e.cdomain()))return i=new Error("Cookie has domain set to a public suffix"),n(r.ignoreError?null:i);if(e.domain){if(!O(a,e.cdomain(),!1))return i=new Error("Cookie not in this host's domain. Cookie:"+e.cdomain()+" Request:"+a),n(r.ignoreError?null:i);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=a;if(e.path&&"/"===e.path[0]||(e.path=w(s.pathname),e.pathIsDefault=!0),!1===r.http&&e.httpOnly)return i=new Error("Cookie is HttpOnly and this isn't an HTTP API"),n(r.ignoreError?null:i);var p=this.store;p.updateCookie||(p.updateCookie=function(e,t,r){this.putCookie(t,r)}),p.findCookie(e.domain,e.path,e.key,function(t,o){if(t)return n(t);var i=function(t){if(t)return n(t);n(null,e)};if(o){if(!1===r.http&&o.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),n(r.ignoreError?null:t);e.creation=o.creation,e.creationIndex=o.creationIndex,e.lastAccessed=l,p.updateCookie(o,e,i)}else e.creation=e.lastAccessed=l,p.putCookie(e,i)})},N.push("getCookies"),q.prototype.getCookies=function(e,t,r){var n=z(e);t instanceof Function&&(r=t,t={});var o=A(n.hostname),i=n.pathname||"/",s=t.secure;null!=s||!n.protocol||"https:"!=n.protocol&&"wss:"!=n.protocol||(s=!0);var u=t.http;null==u&&(u=!0);var l=t.now||Date.now(),p=!1!==t.expire,c=!!t.allPaths,f=this.store;function h(e){if(e.hostOnly){if(e.domain!=o)return!1}else if(!O(o,e.domain,!1))return!1;return!(!c&&!a(i,e.path))&&(!(e.secure&&!s)&&(!(e.httpOnly&&!u)&&(!(p&&e.expiryTime()<=l)||(f.removeCookie(e.domain,e.path,e.key,function(){}),!1))))}f.findCookies(o,c?null:i,function(e,n){if(e)return r(e);n=n.filter(h),!1!==t.sort&&(n=n.sort(j));var o=new Date;n.forEach(function(e){e.lastAccessed=o}),r(null,n)})},N.push("getCookieString"),q.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop();e.push(function(e,r){e?t(e):t(null,r.sort(j).map(function(e){return e.cookieString()}).join("; "))}),this.getCookies.apply(this,e)},N.push("getSetCookieStrings"),q.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop();e.push(function(e,r){e?t(e):t(null,r.map(function(e){return e.toString()}))}),this.getCookies.apply(this,e)},N.push("serialize"),q.prototype.serialize=function(e){var t=this.store.constructor.name;"Object"===t&&(t=null);var r={version:"tough-cookie@"+u,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return e(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies(function(t,n){return t?e(t):(r.cookies=n.map(function(e){return delete(e=e instanceof J?e.toJSON():e).creationIndex,e}),e(null,r))})},q.prototype.toJSON=function(){return this.serializeSync()},N.push("_importCookies"),q.prototype._importCookies=function(e,t){var r=this,n=e.cookies;if(!n||!Array.isArray(n))return t(new Error("serialized jar has no cookies array"));n=n.slice(),function e(o){if(o)return t(o);if(!n.length)return t(o,r);var i;try{i=E(n.shift())}catch(F){return t(F)}if(null===i)return e(null);r.store.putCookie(i,e)}()},q.deserialize=function(e,t,r){var n;if(3!==arguments.length&&(r=t,t=null),"string"==typeof e){if((n=T(e))instanceof Error)return r(n)}else n=e;var o=new q(t,n.rejectPublicSuffixes);o._importCookies(n,function(e){if(e)return r(e);r(null,o)})},q.deserializeSync=function(e,t){var r="string"==typeof e?JSON.parse(e):e,n=new q(t,r.rejectPublicSuffixes);if(!n.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return n._importCookiesSync(r),n},q.fromJSON=q.deserializeSync,N.push("clone"),q.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize(function(r,n){if(r)return t(r);q.deserialize(e,n,t)})},N.forEach(function(e){q.prototype[e+"Sync"]=U(e)}),exports.CookieJar=q,exports.Cookie=J,exports.Store=i,exports.MemoryCookieStore=s,exports.parseDate=C,exports.formatDate=S,exports.parse=I,exports.fromJSON=E,exports.domainMatch=O,exports.defaultPath=w,exports.pathMatch=a,exports.getPublicSuffix=o.getPublicSuffix,exports.cookieCompare=j,exports.permuteDomain=require("./permuteDomain").permuteDomain,exports.permutePath=M,exports.canonicalDomain=A;
},{"./pubsuffix-psl":"opaz","./store":"2ETH","./memstore":"8wtn","./pathMatch":"2r5m","../package.json":"j0hX","./permuteDomain":"H2QJ"}],"SbG+":[function(require,module,exports) {
"use strict";var o=require("tough-cookie"),e=o.Cookie,t=o.CookieJar;function r(o){this._jar=new t(o,{looseMode:!0})}exports.parse=function(o){if(o&&o.uri&&(o=o.uri),"string"!=typeof o)throw new Error("The cookie function only accepts STRING as param");return e.parse(o,{loose:!0})},r.prototype.setCookie=function(o,e,t){return this._jar.setCookieSync(o,e,t||{})},r.prototype.getCookieString=function(o){return this._jar.getCookieStringSync(o)},r.prototype.getCookies=function(o){return this._jar.getCookiesSync(o)},exports.jar=function(o){return new r(o)};
},{"tough-cookie":"owcq"}],"VexP":[function(require,module,exports) {
function i(i,n,r,t){return JSON.stringify(i,e(n,t),r)}function e(i,e){var n=[],r=[];return null==e&&(e=function(i,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"}),function(t,l){if(n.length>0){var u=n.indexOf(this);~u?n.splice(u+1):n.push(this),~u?r.splice(u,1/0,t):r.push(t),~n.indexOf(l)&&(l=e.call(this,t,l))}else n.push(l);return null==i?l:i.call(this,t,l)}}exports=module.exports=i,exports.getSerialize=e;
},{}],"p14+":[function(require,module,exports) {
"use strict";var e=require("json-stringify-safe"),r=require("crypto"),t=require("safe-buffer").Buffer,n="undefined"==typeof setImmediate?process.nextTick:setImmediate;function o(e){return e.body||e.requestBodyStream||e.json&&"boolean"!=typeof e.json||e.multipart}function s(r,t){var n;try{n=JSON.stringify(r,t)}catch(o){n=e(r,t)}return n}function a(e){return r.createHash("md5").update(e).digest("hex")}function i(e){return e.readable&&e.path&&e.mode}function u(e){return t.from(e||"","utf8").toString("base64")}function f(e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function p(){var e=process.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}exports.paramsHaveRequestBody=o,exports.safeStringify=s,exports.md5=a,exports.isReadStream=i,exports.toBase64=u,exports.copy=f,exports.version=p,exports.defer=n;
},{"json-stringify-safe":"VexP","safe-buffer":"udfh"}],"SJT+":[function(require,module,exports) {
var e=require("crypto"),r=require("url").parse,n=["acl","location","logging","notification","partNumber","policy","requestPayment","torrent","uploadId","uploads","versionId","versioning","versions","website"];function o(e){return"AWS "+e.key+":"+u(e)}function t(r){return e.createHmac("sha1",r.secret).update(r.message).digest("base64")}function u(e){return e.message=i(e),t(e)}function a(e){return e.message=s(e),t(e)}function i(e){var r=e.amazonHeaders||"";return r&&(r+="\n"),[e.verb,e.md5,e.contentType,e.date?e.date.toUTCString():"",r+e.resource].join("\n")}function s(e){return"GET\n\n\n"+e.date+"\n"+e.resource}function c(e){for(var r=[],n=Object.keys(e),o=0,t=n.length;o<t;++o){var u,a=e[u=n[o]];0===(u=u.toLowerCase()).indexOf("x-amz")&&r.push(u+":"+a)}return r.sort().join("\n")}function d(e){var o=r(e,!0),t=o.pathname,u=[];return Object.keys(o.query).forEach(function(e){if(~n.indexOf(e)){var r=""==o.query[e]?"":"="+encodeURIComponent(o.query[e]);u.push(e+r)}}),t+(u.length?"?"+u.sort().join("&"):"")}module.exports=o,module.exports.authorization=o,module.exports.hmacSha1=t,module.exports.sign=u,module.exports.signQuery=a,module.exports.stringToSign=i,module.exports.queryStringToSign=s,module.exports.canonicalizeHeaders=c,module.exports.canonicalizeResource=d;
},{}],"/gFn":[function(require,module,exports) {
function t(t){this.capacity=0|t,this.map=Object.create(null),this.list=new e}function e(){this.firstNode=null,this.lastNode=null}function i(t,e){this.key=t,this.val=e,this.prev=null,this.next=null}module.exports=function(e){return new t(e)},t.prototype.get=function(t){var e=this.map[t];if(null!=e)return this.used(e),e.val},t.prototype.set=function(t,e){var n=this.map[t];if(null!=n)n.val=e;else{if(this.capacity||this.prune(),!this.capacity)return!1;n=new i(t,e),this.map[t]=n,this.capacity--}return this.used(n),!0},t.prototype.used=function(t){this.list.moveToFront(t)},t.prototype.prune=function(){var t=this.list.pop();null!=t&&(delete this.map[t.key],this.capacity++)},e.prototype.moveToFront=function(t){this.firstNode!=t&&(this.remove(t),null==this.firstNode?(this.firstNode=t,this.lastNode=t,t.prev=null,t.next=null):(t.prev=null,t.next=this.firstNode,t.next.prev=t,this.firstNode=t))},e.prototype.pop=function(){var t=this.lastNode;return null!=t&&this.remove(t),t},e.prototype.remove=function(t){this.firstNode==t?this.firstNode=t.next:null!=t.prev&&(t.prev.next=t.next),this.lastNode==t?this.lastNode=t.prev:null!=t.next&&(t.next.prev=t.prev)};
},{}],"jRJI":[function(require,module,exports) {
var e=exports,t=require("url"),s=require("querystring"),i=require("crypto"),r=require("./lru"),n=r(1e3);function o(e,t,s){return i.createHmac("sha256",e).update(t,"utf8").digest(s)}function a(e,t){return i.createHash("sha256").update(e,"utf8").digest(t)}function h(e){return e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e,s){"string"==typeof e&&(e=t.parse(e));var i=e.headers=e.headers||{},r=this.matchHost(e.hostname||e.host||i.Host||i.host);this.request=e,this.credentials=s||this.defaultCredentials(),this.service=e.service||r[0]||"",this.region=e.region||r[1]||"us-east-1","email"===this.service&&(this.service="ses"),!e.method&&e.body&&(e.method="POST"),i.Host||i.host||(i.Host=e.hostname||e.host||this.createHost(),e.port&&(i.Host+=":"+e.port)),e.hostname||e.host||(e.hostname=i.Host||i.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===e.method}c.prototype.matchHost=function(e){var t=((e||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(\.cn)?$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),t},c.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},c.prototype.createHost=function(){var e=this.isSingleRegion()?"":("s3"===this.service&&"us-east-1"!==this.region?"-":".")+this.region;return("ses"===this.service?"email":this.service)+e+".amazonaws.com"},c.prototype.prepareRequest=function(){this.parsePath();var e,t=this.request,s=t.headers;t.signQuery?(this.parsedPath.query=e=this.parsedPath.query||{},this.credentials.sessionToken&&(e["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||e["X-Amz-Expires"]||(e["X-Amz-Expires"]=86400),e["X-Amz-Date"]?this.datetime=e["X-Amz-Date"]:e["X-Amz-Date"]=this.getDateTime(),e["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",e["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),e["X-Amz-SignedHeaders"]=this.signedHeaders()):(t.doNotModifyHeaders||this.isCodeCommitGit||(!t.body||s["Content-Type"]||s["content-type"]||(s["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!t.body||s["Content-Length"]||s["content-length"]||(s["Content-Length"]=Buffer.byteLength(t.body)),!this.credentials.sessionToken||s["X-Amz-Security-Token"]||s["x-amz-security-token"]||(s["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||s["X-Amz-Content-Sha256"]||s["x-amz-content-sha256"]||(s["X-Amz-Content-Sha256"]=a(this.request.body||"","hex")),s["X-Amz-Date"]||s["x-amz-date"]?this.datetime=s["X-Amz-Date"]||s["x-amz-date"]:s["X-Amz-Date"]=this.getDateTime()),delete s.Authorization,delete s.authorization)},c.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},c.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},c.prototype.getDate=function(){return this.getDateTime().substr(0,8)},c.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},c.prototype.signature=function(){var e,t,s,i=this.getDate(),r=[this.credentials.secretAccessKey,i,this.region,this.service].join(),a=n.get(r);return a||(e=o("AWS4"+this.credentials.secretAccessKey,i),t=o(e,this.region),s=o(t,this.service),a=o(s,"aws4_request"),n.set(r,a)),o(a,this.stringToSign(),"hex")},c.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),a(this.canonicalString(),"hex")].join("\n")},c.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e,t=this.parsedPath.path,i=this.parsedPath.query,r=this.request.headers,n="",o="s3"!==this.service,c="s3"===this.service||this.request.doNotEncodePath,u="s3"===this.service,d="s3"===this.service;return e="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":r["X-Amz-Content-Sha256"]||r["x-amz-content-sha256"]||a(this.request.body||"","hex"),i&&(n=h(s.stringify(Object.keys(i).sort().reduce(function(e,t){return t?(e[t]=Array.isArray(i[t])?d?i[t][0]:i[t].slice().sort():i[t],e):e},{})))),"/"!==t&&(o&&(t=t.replace(/\/{2,}/g,"/")),"/"!==(t=t.split("/").reduce(function(e,t){return o&&".."===t?e.pop():o&&"."===t||(c&&(t=decodeURIComponent(t)),e.push(h(encodeURIComponent(t)))),e},[]).join("/"))[0]&&(t="/"+t),u&&(t=t.replace(/%2F/g,"/"))),[this.request.method||"GET",t,n,this.canonicalHeaders()+"\n",this.signedHeaders(),e].join("\n")},c.prototype.canonicalHeaders=function(){var e=this.request.headers;return Object.keys(e).sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}).map(function(t){return t.toLowerCase()+":"+e[t].toString().trim().replace(/\s+/g," ")}).join("\n")},c.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(e){return e.toLowerCase()}).sort().join(";")},c.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},c.prototype.defaultCredentials=function(){var e=process.env;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},c.prototype.parsePath=function(){var e=this.request.path||"/",t=e.indexOf("?"),i=null;t>=0&&(i=s.parse(e.slice(t+1)),e=e.slice(0,t)),/[^0-9A-Za-z!'()*\-._~%\/]/.test(e)&&(e=e.split("/").map(function(e){return encodeURIComponent(decodeURIComponent(e))}).join("/")),this.parsedPath={path:e,query:i}},c.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(null!=t[""]&&delete t[""],e+"?"+h(s.stringify(t))):e},e.RequestSigner=c,e.sign=function(e,t){return new c(e,t).sign()};
},{"./lru":"/gFn"}],"RnCe":[function(require,module,exports) {
var r=require("assert"),e=require("stream").Stream,t=require("util"),n=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function o(r){return r.charAt(0).toUpperCase()+r.slice(1)}function c(e,n,o,a,u){throw new r.AssertionError({message:t.format("%s (%s) is required",e,n),actual:void 0===u?typeof a:u(a),expected:n,operator:o||"===",stackStartFunction:c.caller})}function a(r){return Object.prototype.toString.call(r).slice(8,-1)}function u(){}var f={bool:{check:function(r){return"boolean"==typeof r}},func:{check:function(r){return"function"==typeof r}},string:{check:function(r){return"string"==typeof r}},object:{check:function(r){return"object"==typeof r&&null!==r}},number:{check:function(r){return"number"==typeof r&&!isNaN(r)}},finite:{check:function(r){return"number"==typeof r&&!isNaN(r)&&isFinite(r)}},buffer:{check:function(r){return Buffer.isBuffer(r)},operator:"Buffer.isBuffer"},array:{check:function(r){return Array.isArray(r)},operator:"Array.isArray"},stream:{check:function(r){return r instanceof e},operator:"instanceof",actual:a},date:{check:function(r){return r instanceof Date},operator:"instanceof",actual:a},regexp:{check:function(r){return r instanceof RegExp},operator:"instanceof",actual:a},uuid:{check:function(r){return"string"==typeof r&&n.test(r)},operator:"isUUID"}};function i(e){var t,n=Object.keys(f);return t=process.env.NODE_NDEBUG?u:function(r,e){r||c(e,"true",r)},n.forEach(function(r){if(e)t[r]=u;else{var n=f[r];t[r]=function(e,t){n.check(e)||c(t,r,n.operator,e,n.actual)}}}),n.forEach(function(r){var n="optional"+o(r);if(e)t[n]=u;else{var a=f[r];t[n]=function(e,t){null!=e&&(a.check(e)||c(t,r,a.operator,e,a.actual))}}}),n.forEach(function(r){var n="arrayOf"+o(r);if(e)t[n]=u;else{var a=f[r],i="["+r+"]";t[n]=function(r,e){var t;for(Array.isArray(r)||c(e,i,a.operator,r,a.actual),t=0;t<r.length;t++)a.check(r[t])||c(e,i,a.operator,r,a.actual)}}}),n.forEach(function(r){var n="optionalArrayOf"+o(r);if(e)t[n]=u;else{var a=f[r],i="["+r+"]";t[n]=function(r,e){var t;if(null!=r)for(Array.isArray(r)||c(e,i,a.operator,r,a.actual),t=0;t<r.length;t++)a.check(r[t])||c(e,i,a.operator,r,a.actual)}}}),Object.keys(r).forEach(function(n){t[n]="AssertionError"!==n&&e?u:r[n]}),t._setExports=i,t}module.exports=i(process.env.NODE_NDEBUG);
},{}],"o7gO":[function(require,module,exports) {
"use strict";var e,r=require("buffer"),t=r.Buffer,n={};for(e in r)r.hasOwnProperty(e)&&"SlowBuffer"!==e&&"Buffer"!==e&&(n[e]=r[e]);var o=n.Buffer={};for(e in t)t.hasOwnProperty(e)&&"allocUnsafe"!==e&&"allocUnsafeSlow"!==e&&(o[e]=t[e]);if(n.Buffer.prototype=t.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(e,r,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return t(e,r,n)}),o.alloc||(o.alloc=function(e,r,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var o=t(e);return r&&0!==r.length?"string"==typeof n?o.fill(r,n):o.fill(r):o.fill(0),o}),!n.kStringMaxLength)try{n.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(f){}n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),module.exports=n;
},{}],"UgGu":[function(require,module,exports) {
var f=require("safer-buffer").Buffer,F={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["A"],sizePart:"A"}};F.curve25519=F.ed25519;var e={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["A","k"]}};e.curve25519=e.ed25519;var a={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},c={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:f.from("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:f.from("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:f.from("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:f.from("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:f.from("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:f.from("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:f.from("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:f.from("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:f.from("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:f.from("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:f.from("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:f.from("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:f.from("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:f.from("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:f.from("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:f.from("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:f.from("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:f.from("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};module.exports={info:F,privInfo:e,hashAlgs:a,curves:c};
},{"safer-buffer":"o7gO"}],"8eeV":[function(require,module,exports) {
var r=require("assert-plus"),t=require("util");function e(r,t){Error.captureStackTrace&&Error.captureStackTrace(this,e),this.name="FingerprintFormatError",this.fingerprint=r,this.format=t,this.message="Fingerprint format is not supported, or is invalid: ",void 0!==r&&(this.message+=" fingerprint = "+r),void 0!==t&&(this.message+=" format = "+t)}function a(r){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.name="InvalidAlgorithmError",this.algorithm=r,this.message='Algorithm "'+r+'" is not supported'}function i(r,t,e){Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="KeyParseError",this.format=t,this.keyName=r,this.innerErr=e,this.message="Failed to parse "+r+" as a valid "+t+" format key: "+e.message}function s(r,t,e){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.name="SignatureParseError",this.type=r,this.format=t,this.innerErr=e,this.message="Failed to parse the given data as a "+r+" signature in "+t+" format: "+e.message}function o(r,t,e){Error.captureStackTrace&&Error.captureStackTrace(this,o),this.name="CertificateParseError",this.format=t,this.certName=r,this.innerErr=e,this.message="Failed to parse "+r+" as a valid "+t+" format certificate: "+e.message}function n(r,t){Error.captureStackTrace&&Error.captureStackTrace(this,n),this.name="KeyEncryptedError",this.format=t,this.keyName=r,this.message="The "+t+" format key "+r+" is encrypted (password-protected), and no passphrase was provided in `options`"}t.inherits(e,Error),t.inherits(a,Error),t.inherits(i,Error),t.inherits(s,Error),t.inherits(o,Error),t.inherits(n,Error),module.exports={FingerprintFormatError:e,InvalidAlgorithmError:a,KeyParseError:i,SignatureParseError:s,KeyEncryptedError:n,CertificateParseError:o};
},{"assert-plus":"RnCe"}],"komk":[function(require,module,exports) {
module.exports={newInvalidAsn1Error:function(r){var n=new Error;return n.name="InvalidAsn1Error",n.message=r||"",n}};
},{}],"FfXD":[function(require,module,exports) {
module.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128};
},{}],"u2ud":[function(require,module,exports) {
var t=require("assert"),e=require("safer-buffer").Buffer,r=require("./types"),n=require("./errors"),i=n.newInvalidAsn1Error;function o(t){if(!t||!e.isBuffer(t))throw new TypeError("data must be a node Buffer");this._buf=t,this._size=t.length,this._len=0,this._offset=0}Object.defineProperty(o.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(o.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),o.prototype.readByte=function(t){if(this._size-this._offset<1)return null;var e=255&this._buf[this._offset];return t||(this._offset+=1),e},o.prototype.peek=function(){return this.readByte(!0)},o.prototype.readLength=function(t){if(void 0===t&&(t=this._offset),t>=this._size)return null;var e=255&this._buf[t++];if(null===e)return null;if(128==(128&e)){if(0===(e&=127))throw i("Indefinite length not supported");if(e>4)throw i("encoding too long");if(this._size-t<e)return null;this._len=0;for(var r=0;r<e;r++)this._len=(this._len<<8)+(255&this._buf[t++])}else this._len=e;return t},o.prototype.readSequence=function(t){var e=this.peek();if(null===e)return null;if(void 0!==t&&t!==e)throw i("Expected 0x"+t.toString(16)+": got 0x"+e.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,e)},o.prototype.readInt=function(){return this._readTag(r.Integer)},o.prototype.readBoolean=function(){return 0!==this._readTag(r.Boolean)},o.prototype.readEnumeration=function(){return this._readTag(r.Enumeration)},o.prototype.readString=function(t,n){t||(t=r.OctetString);var o=this.peek();if(null===o)return null;if(o!==t)throw i("Expected 0x"+t.toString(16)+": got 0x"+o.toString(16));var f=this.readLength(this._offset+1);if(null===f)return null;if(this.length>this._size-f)return null;if(this._offset=f,0===this.length)return n?e.alloc(0):"";var s=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,n?s:s.toString("utf8")},o.prototype.readOID=function(t){t||(t=r.OID);var e=this.readString(t,!0);if(null===e)return null;for(var n=[],i=0,o=0;o<e.length;o++){var f=255&e[o];i<<=7,i+=127&f,0==(128&f)&&(n.push(i),i=0)}return i=n.shift(),n.unshift(i%40),n.unshift(i/40>>0),n.join(".")},o.prototype._readTag=function(e){t.ok(void 0!==e);var r=this.peek();if(null===r)return null;if(r!==e)throw i("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>4)throw i("Integer too long: "+this.length);if(this.length>this._size-n)return null;this._offset=n;for(var o=this._buf[this._offset],f=0,s=0;s<this.length;s++)f<<=8,f|=255&this._buf[this._offset++];return 128==(128&o)&&4!==s&&(f-=1<<8*s),f>>0},module.exports=o;
},{"safer-buffer":"o7gO","./types":"FfXD","./errors":"komk"}],"y68c":[function(require,module,exports) {
var t=require("assert"),e=require("safer-buffer").Buffer,s=require("./types"),i=require("./errors"),r=i.newInvalidAsn1Error,f={size:1024,growthFactor:8};function o(e,s){return t.ok(e),t.equal(typeof e,"object"),t.ok(s),t.equal(typeof s,"object"),Object.getOwnPropertyNames(e).forEach(function(t){if(!s[t]){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,i)}}),s}function h(t){t=o(f,t||{}),this._buf=e.alloc(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}Object.defineProperty(h.prototype,"buffer",{get:function(){if(this._seq.length)throw r(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),h.prototype.writeByte=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=t},h.prototype.writeInt=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");"number"!=typeof e&&(e=s.Integer);for(var i=4;(0==(4286578688&t)||-8388608==(4286578688&t))&&i>1;)i--,t<<=8;if(i>4)throw r("BER ints cannot be > 0xffffffff");for(this._ensure(2+i),this._buf[this._offset++]=e,this._buf[this._offset++]=i;i-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},h.prototype.writeNull=function(){this.writeByte(s.Null),this.writeByte(0)},h.prototype.writeEnumeration=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");return"number"!=typeof e&&(e=s.Enumeration),this.writeInt(t,e)},h.prototype.writeBoolean=function(t,e){if("boolean"!=typeof t)throw new TypeError("argument must be a Boolean");"number"!=typeof e&&(e=s.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},h.prototype.writeString=function(t,i){if("string"!=typeof t)throw new TypeError("argument must be a string (was: "+typeof t+")");"number"!=typeof i&&(i=s.OctetString);var r=e.byteLength(t);this.writeByte(i),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},h.prototype.writeBuffer=function(t,s){if("number"!=typeof s)throw new TypeError("tag must be a number");if(!e.isBuffer(t))throw new TypeError("argument must be a buffer");this.writeByte(s),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},h.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError("argument must be an Array[String]");var e=this;t.forEach(function(t){e.writeString(t)})},h.prototype.writeOID=function(t,e){if("string"!=typeof t)throw new TypeError("argument must be a string");if("number"!=typeof e&&(e=s.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(t))throw new Error("argument is not a valid OID string");var i=t.split("."),r=[];r.push(40*parseInt(i[0],10)+parseInt(i[1],10)),i.slice(2).forEach(function(t){!function(t,e){e<128?t.push(e):e<16384?(t.push(e>>>7|128),t.push(127&e)):e<2097152?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):e<268435456?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}(r,parseInt(t,10))});var f=this;this._ensure(2+r.length),this.writeByte(e),this.writeLength(r.length),r.forEach(function(t){f.writeByte(t)})},h.prototype.writeLength=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");if(this._ensure(4),t<=127)this._buf[this._offset++]=t;else if(t<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(t<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(t<=16777215))throw r("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},h.prototype.startSequence=function(t){"number"!=typeof t&&(t=s.Sequence|s.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},h.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,s=this._offset-e;if(s<=127)this._shift(e,s,-2),this._buf[t]=s;else if(s<=255)this._shift(e,s,-1),this._buf[t]=129,this._buf[t+1]=s;else if(s<=65535)this._buf[t]=130,this._buf[t+1]=s>>8,this._buf[t+2]=s;else{if(!(s<=16777215))throw r("Sequence too long");this._shift(e,s,1),this._buf[t]=131,this._buf[t+1]=s>>16,this._buf[t+2]=s>>8,this._buf[t+3]=s}},h.prototype._shift=function(e,s,i){t.ok(void 0!==e),t.ok(void 0!==s),t.ok(i),this._buf.copy(this._buf,e+i,e,e+s),this._offset+=i},h.prototype._ensure=function(s){if(t.ok(s),this._size-this._offset<s){var i=this._size*this._options.growthFactor;i-this._offset<s&&(i+=s);var r=e.alloc(i);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=i}},module.exports=h;
},{"safer-buffer":"o7gO","./types":"FfXD","./errors":"komk"}],"U+wS":[function(require,module,exports) {
var r=require("./errors"),e=require("./types"),o=require("./reader"),i=require("./writer");for(var t in module.exports={Reader:o,Writer:i},e)e.hasOwnProperty(t)&&(module.exports[t]=e[t]);for(var a in r)r.hasOwnProperty(a)&&(module.exports[a]=r[a]);
},{"./errors":"komk","./types":"FfXD","./reader":"u2ud","./writer":"y68c"}],"ceMZ":[function(require,module,exports) {
var e=require("./ber/index");module.exports={Ber:e,BerReader:e.Reader,BerWriter:e.Writer};
},{"./ber/index":"U+wS"}],"IcIp":[function(require,module,exports) {
(function(){var t;function i(t,i,o){null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function o(){return new i(null)}var r="undefined"!=typeof navigator;r&&"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=function(t,i,o,r,s,h){for(var e=32767&i,n=i>>15;--h>=0;){var f=32767&this[t],u=this[t++]>>15,p=n*f+u*e;s=((f=e*f+((32767&p)<<15)+o[r]+(1073741823&s))>>>30)+(p>>>15)+n*u+(s>>>30),o[r++]=1073741823&f}return s},t=30):r&&"Netscape"!=navigator.appName?(i.prototype.am=function(t,i,o,r,s,h){for(;--h>=0;){var e=i*this[t++]+o[r]+s;s=Math.floor(e/67108864),o[r++]=67108863&e}return s},t=26):(i.prototype.am=function(t,i,o,r,s,h){for(var e=16383&i,n=i>>14;--h>=0;){var f=16383&this[t],u=this[t++]>>14,p=n*f+u*e;s=((f=e*f+((16383&p)<<14)+o[r]+s)>>28)+(p>>14)+n*u,o[r++]=268435455&f}return s},t=28),i.prototype.DB=t,i.prototype.DM=(1<<t)-1,i.prototype.DV=1<<t;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-t,i.prototype.F2=2*t-52;var s,h,e="0123456789abcdefghijklmnopqrstuvwxyz",n=new Array;for(s="0".charCodeAt(0),h=0;h<=9;++h)n[s++]=h;for(s="a".charCodeAt(0),h=10;h<36;++h)n[s++]=h;for(s="A".charCodeAt(0),h=10;h<36;++h)n[s++]=h;function f(t){return e.charAt(t)}function u(t,i){var o=n[t.charCodeAt(i)];return null==o?-1:o}function p(t){var i=o();return i.fromInt(t),i}function a(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function c(t){this.m=t}function m(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function l(t,i){return t&i}function v(t,i){return t|i}function T(t,i){return t^i}function y(t,i){return t&~i}function d(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function D(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function g(){}function b(t){return t}function S(t){this.r2=o(),this.q3=o(),i.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}c.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},c.prototype.revert=function(t){return t},c.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},c.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o),this.reduce(o)},c.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},m.prototype.convert=function(t){var r=o();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(i.ZERO)>0&&this.m.subTo(r,r),r},m.prototype.revert=function(t){var i=o();return t.copyTo(i),this.reduce(i),i},m.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t[i],r=o*this.mpl+((o*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[o=i+this.m.t]+=this.m.am(0,r,t,i,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},m.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o),this.reduce(o)},m.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},i.prototype.copyTo=function(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s},i.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},i.prototype.fromString=function(t,o){var r;if(16==o)r=4;else if(8==o)r=3;else if(256==o)r=8;else if(2==o)r=1;else if(32==o)r=5;else{if(4!=o)return void this.fromRadix(t,o);r=2}this.t=0,this.s=0;for(var s=t.length,h=!1,e=0;--s>=0;){var n=8==r?255&t[s]:u(t,s);n<0?"-"==t.charAt(s)&&(h=!0):(h=!1,0==e?this[this.t++]=n:e+r>this.DB?(this[this.t-1]|=(n&(1<<this.DB-e)-1)<<e,this[this.t++]=n>>this.DB-e):this[this.t-1]|=n<<e,(e+=r)>=this.DB&&(e-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,e>0&&(this[this.t-1]|=(1<<this.DB-e)-1<<e)),this.clamp(),h&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},i.prototype.dlShiftTo=function(t,i){var o;for(o=this.t-1;o>=0;--o)i[o+t]=this[o];for(o=t-1;o>=0;--o)i[o]=0;i.t=this.t+t,i.s=this.s},i.prototype.drShiftTo=function(t,i){for(var o=t;o<this.t;++o)i[o-t]=this[o];i.t=Math.max(this.t-t,0),i.s=this.s},i.prototype.lShiftTo=function(t,i){var o,r=t%this.DB,s=this.DB-r,h=(1<<s)-1,e=Math.floor(t/this.DB),n=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i[o+e+1]=this[o]>>s|n,n=(this[o]&h)<<r;for(o=e-1;o>=0;--o)i[o]=0;i[e]=n,i.t=this.t+e+1,i.s=this.s,i.clamp()},i.prototype.rShiftTo=function(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)i.t=0;else{var r=t%this.DB,s=this.DB-r,h=(1<<r)-1;i[0]=this[o]>>r;for(var e=o+1;e<this.t;++e)i[e-o-1]|=(this[e]&h)<<s,i[e-o]=this[e]>>r;r>0&&(i[this.t-o-1]|=(this.s&h)<<s),i.t=this.t-o,i.clamp()}},i.prototype.subTo=function(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this[o]-t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t[o],i[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=r<0?-1:0,r<-1?i[o++]=this.DV+r:r>0&&(i[o++]=r),i.t=o,i.clamp()},i.prototype.multiplyTo=function(t,o){var r=this.abs(),s=t.abs(),h=r.t;for(o.t=h+s.t;--h>=0;)o[h]=0;for(h=0;h<s.t;++h)o[h+r.t]=r.am(0,s[h],o,h,0,r.t);o.s=0,o.clamp(),this.s!=t.s&&i.ZERO.subTo(o,o)},i.prototype.squareTo=function(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i[o],t,2*o,0,1);(t[o+i.t]+=i.am(o+1,2*i[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t[o+i.t]-=i.DV,t[o+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(o,i[o],t,2*o,0,1)),t.s=0,t.clamp()},i.prototype.divRemTo=function(t,r,s){var h=t.abs();if(!(h.t<=0)){var e=this.abs();if(e.t<h.t)return null!=r&&r.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=o());var n=o(),f=this.s,u=t.s,p=this.DB-a(h[h.t-1]);p>0?(h.lShiftTo(p,n),e.lShiftTo(p,s)):(h.copyTo(n),e.copyTo(s));var c=n.t,m=n[c-1];if(0!=m){var l=m*(1<<this.F1)+(c>1?n[c-2]>>this.F2:0),v=this.FV/l,T=(1<<this.F1)/l,y=1<<this.F2,d=s.t,D=d-c,g=null==r?o():r;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),i.ONE.dlShiftTo(c,g),g.subTo(n,n);n.t<c;)n[n.t++]=0;for(;--D>=0;){var b=s[--d]==m?this.DM:Math.floor(s[d]*v+(s[d-1]+y)*T);if((s[d]+=n.am(0,b,s,D,0,c))<b)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--b;)s.subTo(g,s)}null!=r&&(s.drShiftTo(c,r),f!=u&&i.ZERO.subTo(r,r)),s.t=c,s.clamp(),p>0&&s.rShiftTo(p,s),f<0&&i.ZERO.subTo(s,s)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return(i=(i=(i=(i=i*(2-(15&t)*i)&15)*(2-(255&t)*i)&255)*(2-((65535&t)*i&65535))&65535)*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i},i.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.prototype.exp=function(t,r){if(t>4294967295||t<1)return i.ONE;var s=o(),h=o(),e=r.convert(this),n=a(t)-1;for(e.copyTo(s);--n>=0;)if(r.sqrTo(s,h),(t&1<<n)>0)r.mulTo(h,e,s);else{var f=s;s=h,h=f}return r.revert(s)},i.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,h="",e=this.t,n=this.DB-e*this.DB%i;if(e-- >0)for(n<this.DB&&(o=this[e]>>n)>0&&(s=!0,h=f(o));e>=0;)n<i?(o=(this[e]&(1<<n)-1)<<i-n,o|=this[--e]>>(n+=this.DB-i)):(o=this[e]>>(n-=i)&r,n<=0&&(n+=this.DB,--e)),o>0&&(s=!0),s&&(h+=f(o));return s?h:"0"},i.prototype.negate=function(){var t=o();return i.ZERO.subTo(this,t),t},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(0!=(i=o-t.t))return this.s<0?-i:i;for(;--o>=0;)if(0!=(i=this[o]-t[o]))return i;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+a(this[this.t-1]^this.s&this.DM)},i.prototype.mod=function(t){var r=o();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(i.ZERO)>0&&t.subTo(r,r),r},i.prototype.modPowInt=function(t,i){var o;return o=t<256||i.isEven()?new c(i):new m(i),this.exp(t,o)},i.ZERO=p(0),i.ONE=p(1),g.prototype.convert=b,g.prototype.revert=b,g.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o)},g.prototype.sqrTo=function(t,i){t.squareTo(i)},S.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=o();return t.copyTo(i),this.reduce(i),i},S.prototype.revert=function(t){return t},S.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},S.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o),this.reduce(o)},S.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)};var B,w,M,E=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],R=(1<<26)/E[E.length-1];function O(){var t;t=(new Date).getTime(),w[M++]^=255&t,w[M++]^=t>>8&255,w[M++]^=t>>16&255,w[M++]^=t>>24&255,M>=I&&(M-=I)}if(i.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},i.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var i=this.chunkSize(t),r=Math.pow(t,i),s=p(r),h=o(),e=o(),n="";for(this.divRemTo(s,h,e);h.signum()>0;)n=(r+e.intValue()).toString(t).substr(1)+n,h.divRemTo(s,h,e);return e.intValue().toString(t)+n},i.prototype.fromRadix=function(t,o){this.fromInt(0),null==o&&(o=10);for(var r=this.chunkSize(o),s=Math.pow(o,r),h=!1,e=0,n=0,f=0;f<t.length;++f){var p=u(t,f);p<0?"-"==t.charAt(f)&&0==this.signum()&&(h=!0):(n=o*n+p,++e>=r&&(this.dMultiply(s),this.dAddOffset(n,0),e=0,n=0))}e>0&&(this.dMultiply(Math.pow(o,e)),this.dAddOffset(n,0)),h&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(t,o,r){if("number"==typeof o)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(i.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(i.ONE.shiftLeft(t-1),this);else{var s=new Array,h=7&t;s.length=1+(t>>3),o.nextBytes(s),h>0?s[0]&=(1<<h)-1:s[0]=0,this.fromString(s,256)}},i.prototype.bitwiseTo=function(t,i,o){var r,s,h=Math.min(t.t,this.t);for(r=0;r<h;++r)o[r]=i(this[r],t[r]);if(t.t<this.t){for(s=t.s&this.DM,r=h;r<this.t;++r)o[r]=i(this[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=h;r<t.t;++r)o[r]=i(s,t[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()},i.prototype.changeBit=function(t,o){var r=i.ONE.shiftLeft(t);return this.bitwiseTo(r,o,r),r},i.prototype.addTo=function(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this[o]+t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t[o],i[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=r<0?-1:0,r>0?i[o++]=r:r<-1&&(i[o++]=this.DV+r),i.t=o,i.clamp()},i.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(t,i){if(0!=t){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}},i.prototype.multiplyLowerTo=function(t,i,o){var r,s=Math.min(this.t+t.t,i);for(o.s=0,o.t=s;s>0;)o[--s]=0;for(r=o.t-this.t;s<r;++s)o[s+this.t]=this.am(0,t[s],o,s,0,this.t);for(r=Math.min(t.t,i);s<r;++s)this.am(0,t[s],o,s,0,i-s);o.clamp()},i.prototype.multiplyUpperTo=function(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o[this.t+r-i]=this.am(i-r,t[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)},i.prototype.modInt=function(t){if(t<=0)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this[r])%t;return o},i.prototype.millerRabin=function(t){var r=this.subtract(i.ONE),s=r.getLowestSetBit();if(s<=0)return!1;var h=r.shiftRight(s);(t=t+1>>1)>E.length&&(t=E.length);for(var e=o(),n=0;n<t;++n){e.fromInt(E[Math.floor(Math.random()*E.length)]);var f=e.modPow(h,this);if(0!=f.compareTo(i.ONE)&&0!=f.compareTo(r)){for(var u=1;u++<s&&0!=f.compareTo(r);)if(0==(f=f.modPowInt(2,this)).compareTo(i.ONE))return!1;if(0!=f.compareTo(r))return!1}}return!0},i.prototype.clone=function(){var t=o();return this.copyTo(t),t},i.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},i.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},i.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},i.prototype.toByteArray=function(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-- >0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i},i.prototype.equals=function(t){return 0==this.compareTo(t)},i.prototype.min=function(t){return this.compareTo(t)<0?this:t},i.prototype.max=function(t){return this.compareTo(t)>0?this:t},i.prototype.and=function(t){var i=o();return this.bitwiseTo(t,l,i),i},i.prototype.or=function(t){var i=o();return this.bitwiseTo(t,v,i),i},i.prototype.xor=function(t){var i=o();return this.bitwiseTo(t,T,i),i},i.prototype.andNot=function(t){var i=o();return this.bitwiseTo(t,y,i),i},i.prototype.not=function(){for(var t=o(),i=0;i<this.t;++i)t[i]=this.DM&~this[i];return t.t=this.t,t.s=~this.s,t},i.prototype.shiftLeft=function(t){var i=o();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i},i.prototype.shiftRight=function(t){var i=o();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i},i.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+d(this[t]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=D(this[o]^i);return t},i.prototype.testBit=function(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)},i.prototype.setBit=function(t){return this.changeBit(t,v)},i.prototype.clearBit=function(t){return this.changeBit(t,y)},i.prototype.flipBit=function(t){return this.changeBit(t,T)},i.prototype.add=function(t){var i=o();return this.addTo(t,i),i},i.prototype.subtract=function(t){var i=o();return this.subTo(t,i),i},i.prototype.multiply=function(t){var i=o();return this.multiplyTo(t,i),i},i.prototype.divide=function(t){var i=o();return this.divRemTo(t,i,null),i},i.prototype.remainder=function(t){var i=o();return this.divRemTo(t,null,i),i},i.prototype.divideAndRemainder=function(t){var i=o(),r=o();return this.divRemTo(t,i,r),new Array(i,r)},i.prototype.modPow=function(t,i){var r,s,h=t.bitLength(),e=p(1);if(h<=0)return e;r=h<18?1:h<48?3:h<144?4:h<768?5:6,s=h<8?new c(i):i.isEven()?new S(i):new m(i);var n=new Array,f=3,u=r-1,l=(1<<r)-1;if(n[1]=s.convert(this),r>1){var v=o();for(s.sqrTo(n[1],v);f<=l;)n[f]=o(),s.mulTo(v,n[f-2],n[f]),f+=2}var T,y,d=t.t-1,D=!0,g=o();for(h=a(t[d])-1;d>=0;){for(h>=u?T=t[d]>>h-u&l:(T=(t[d]&(1<<h+1)-1)<<u-h,d>0&&(T|=t[d-1]>>this.DB+h-u)),f=r;0==(1&T);)T>>=1,--f;if((h-=f)<0&&(h+=this.DB,--d),D)n[T].copyTo(e),D=!1;else{for(;f>1;)s.sqrTo(e,g),s.sqrTo(g,e),f-=2;f>0?s.sqrTo(e,g):(y=e,e=g,g=y),s.mulTo(g,n[T],e)}for(;d>=0&&0==(t[d]&1<<h);)s.sqrTo(e,g),y=e,e=g,g=y,--h<0&&(h=this.DB-1,--d)}return s.revert(e)},i.prototype.modInverse=function(t){var o=t.isEven();if(this.isEven()&&o||0==t.signum())return i.ZERO;for(var r=t.clone(),s=this.clone(),h=p(1),e=p(0),n=p(0),f=p(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),o?(h.isEven()&&e.isEven()||(h.addTo(this,h),e.subTo(t,e)),h.rShiftTo(1,h)):e.isEven()||e.subTo(t,e),e.rShiftTo(1,e);for(;s.isEven();)s.rShiftTo(1,s),o?(n.isEven()&&f.isEven()||(n.addTo(this,n),f.subTo(t,f)),n.rShiftTo(1,n)):f.isEven()||f.subTo(t,f),f.rShiftTo(1,f);r.compareTo(s)>=0?(r.subTo(s,r),o&&h.subTo(n,h),e.subTo(f,e)):(s.subTo(r,s),o&&n.subTo(h,n),f.subTo(e,f))}return 0!=s.compareTo(i.ONE)?i.ZERO:f.compareTo(t)>=0?f.subtract(t):f.signum()<0?(f.addTo(t,f),f.signum()<0?f.add(t):f):f},i.prototype.pow=function(t){return this.exp(t,new g)},i.prototype.gcd=function(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),h=o.getLowestSetBit();if(h<0)return i;for(s<h&&(h=s),h>0&&(i.rShiftTo(h,i),o.rShiftTo(h,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return h>0&&o.lShiftTo(h,o),o},i.prototype.isProbablePrime=function(t){var i,o=this.abs();if(1==o.t&&o[0]<=E[E.length-1]){for(i=0;i<E.length;++i)if(o[0]==E[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<E.length;){for(var r=E[i],s=i+1;s<E.length&&r<R;)r*=E[s++];for(r=o.modInt(r);i<s;)if(r%E[i++]==0)return!1}return o.millerRabin(t)},i.prototype.square=function(){var t=o();return this.squareTo(t),t},i.prototype.Barrett=S,null==w){var A;if(w=new Array,M=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var V=new Uint8Array(32);for(window.crypto.getRandomValues(V),A=0;A<32;++A)w[M++]=V[A]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var q=window.crypto.random(32);for(A=0;A<q.length;++A)w[M++]=255&q.charCodeAt(A)}for(;M<I;)A=Math.floor(65536*Math.random()),w[M++]=A>>>8,w[M++]=255&A;M=0,O()}function N(){if(null==B){for(O(),(B=new L).init(w),M=0;M<w.length;++M)w[M]=0;M=0}return B.next()}function x(){}function L(){this.i=0,this.j=0,this.S=new Array}x.prototype.nextBytes=function(t){var i;for(i=0;i<t.length;++i)t[i]=N()},L.prototype.init=function(t){var i,o,r;for(i=0;i<256;++i)this.S[i]=i;for(o=0,i=0;i<256;++i)o=o+this.S[i]+t[i%t.length]&255,r=this.S[i],this.S[i]=this.S[o],this.S[o]=r;this.i=0,this.j=0},L.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var I=256;i.SecureRandom=x,i.BigInteger=i,"undefined"!=typeof exports?exports=module.exports=i:(this.BigInteger=i,this.SecureRandom=x)}).call(this);
},{}],"l63X":[function(require,module,exports) {
var t=require("jsbn").BigInteger,i=t.prototype.Barrett;function e(t,i){this.x=i,this.q=t}function r(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)}function s(){return this.x}function n(){return new e(this.q,this.x.negate().mod(this.q))}function u(t){return new e(this.q,this.x.add(t.toBigInteger()).mod(this.q))}function o(t){return new e(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}function h(t){return new e(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}function l(){return new e(this.q,this.x.square().mod(this.q))}function g(t){return new e(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}function c(i,e,r,s){this.curve=i,this.x=e,this.y=r,this.z=null==s?t.ONE:s,this.zinv=null}function a(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function p(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function f(i){return i==this||(this.isInfinity()?i.isInfinity():i.isInfinity()?this.isInfinity():!!i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(t.ZERO)&&i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(t.ZERO))}function m(){return null==this.x&&null==this.y||this.z.equals(t.ZERO)&&!this.y.toBigInteger().equals(t.ZERO)}function y(){return new c(this.curve,this.x,this.y.negate(),this.z)}function d(i){if(this.isInfinity())return i;if(i.isInfinity())return this;var e=i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q),r=i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q);if(t.ZERO.equals(r))return t.ZERO.equals(e)?this.twice():this.curve.getInfinity();var s=new t("3"),n=this.x.toBigInteger(),u=this.y.toBigInteger(),o=(i.x.toBigInteger(),i.y.toBigInteger(),r.square()),h=o.multiply(r),l=n.multiply(o),g=e.square().multiply(this.z),a=g.subtract(l.shiftLeft(1)).multiply(i.z).subtract(h).multiply(r).mod(this.curve.q),p=l.multiply(s).multiply(e).subtract(u.multiply(h)).subtract(g.multiply(e)).multiply(i.z).add(e.multiply(h)).mod(this.curve.q),f=h.multiply(this.z).multiply(i.z).mod(this.curve.q);return new c(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(p),f)}function v(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var i=new t("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),s=r.multiply(this.z),n=s.multiply(r).mod(this.curve.q),u=this.curve.a.toBigInteger(),o=e.square().multiply(i);t.ZERO.equals(u)||(o=o.add(this.z.square().multiply(u)));var h=(o=o.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(s).mod(this.curve.q),l=o.multiply(i).multiply(e).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(o.square().multiply(o)).mod(this.curve.q),g=s.square().multiply(s).shiftLeft(3).mod(this.curve.q);return new c(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(l),g)}function I(i){if(this.isInfinity())return this;if(0==i.signum())return this.curve.getInfinity();var e,r=i,s=r.multiply(new t("3")),n=this.negate(),u=this;for(e=s.bitLength()-2;e>0;--e){u=u.twice();var o=s.testBit(e);o!=r.testBit(e)&&(u=u.add(o?this:n))}return u}function B(t,i,e){var r;r=t.bitLength()>e.bitLength()?t.bitLength()-1:e.bitLength()-1;for(var s=this.curve.getInfinity(),n=this.add(i);r>=0;)s=s.twice(),t.testBit(r)?s=e.testBit(r)?s.add(n):s.add(this):e.testBit(r)&&(s=s.add(i)),--r;return s}function b(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new c(this,null,null),this.reducer=new i(this.q)}function w(){return this.q}function x(){return this.a}function R(){return this.b}function z(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}function E(){return this.infinity}function L(t){return new e(this.q,t)}function O(t){this.reducer.reduce(t)}function N(i){switch(parseInt(i.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(i.length-2)/2,r=i.substr(2,e),s=i.substr(e+2,e);return new c(this,this.fromBigInteger(new t(r,16)),this.fromBigInteger(new t(s,16)));default:return null}}function M(t){if(t.isInfinity())return"00";var i=t.getX().toBigInteger().toString(16),e=t.getY().toBigInteger().toString(16),r=this.getQ().toString(16).length;for(r%2!=0&&r++;i.length<r;)i="0"+i;for(;e.length<r;)e="0"+e;return"04"+i+e}e.prototype.equals=r,e.prototype.toBigInteger=s,e.prototype.negate=n,e.prototype.add=u,e.prototype.subtract=o,e.prototype.multiply=h,e.prototype.square=l,e.prototype.divide=g,c.prototype.getX=a,c.prototype.getY=p,c.prototype.equals=f,c.prototype.isInfinity=m,c.prototype.negate=y,c.prototype.add=d,c.prototype.twice=v,c.prototype.multiply=I,c.prototype.multiplyTwo=B,b.prototype.getQ=w,b.prototype.getA=x,b.prototype.getB=R,b.prototype.equals=z,b.prototype.getInfinity=E,b.prototype.fromBigInteger=L,b.prototype.reduce=O,b.prototype.encodePointHex=M,b.prototype.decodePointHex=function(i){var e;switch(parseInt(i.substr(0,2),16)){case 0:return this.infinity;case 2:e=!1;case 3:null==e&&(e=!0);var r=i.length-2,s=i.substr(2,r),n=this.fromBigInteger(new t(s,16)),u=n.multiply(n.square().add(this.getA())).add(this.getB()).sqrt();if(null==u)throw"Invalid point compression";var o=u.toBigInteger();return o.testBit(0)!=e&&(u=this.fromBigInteger(this.getQ().subtract(o))),new c(this,n,u);case 4:case 6:case 7:r=(i.length-2)/2,s=i.substr(2,r);var h=i.substr(r+2,r);return new c(this,this.fromBigInteger(new t(s,16)),this.fromBigInteger(new t(h,16)));default:return null}},b.prototype.encodeCompressedPointHex=function(t){if(t.isInfinity())return"00";var i=t.getX().toBigInteger().toString(16),e=this.getQ().toString(16).length;for(e%2!=0&&e++;i.length<e;)i="0"+i;return(t.getY().toBigInteger().isEven()?"02":"03")+i},e.prototype.getR=function(){if(null!=this.r)return this.r;this.r=null;var i=this.q.bitLength();i>128&&(-1==this.q.shiftRight(i-64).intValue()&&(this.r=t.ONE.shiftLeft(i).subtract(this.q)));return this.r},e.prototype.modMult=function(t,i){return this.modReduce(t.multiply(i))},e.prototype.modReduce=function(i){if(null!=this.getR()){for(var e=q.bitLength();i.bitLength()>e+1;){var r=i.shiftRight(e),s=i.subtract(r.shiftLeft(e));this.getR().equals(t.ONE)||(r=r.multiply(this.getR())),i=r.add(s)}for(;i.compareTo(q)>=0;)i=i.subtract(q)}else i=i.mod(q);return i},e.prototype.sqrt=function(){if(!this.q.testBit(0))throw"unsupported";if(this.q.testBit(1)){var i=new e(this.q,this.x.modPow(this.q.shiftRight(2).add(t.ONE),this.q));return i.square().equals(this)?i:null}var r=this.q.subtract(t.ONE),s=r.shiftRight(1);if(!this.x.modPow(s,this.q).equals(t.ONE))return null;var n,u,o=r.shiftRight(2).shiftLeft(1).add(t.ONE),h=this.x,l=modDouble(modDouble(h));do{var g;do{g=new t(this.q.bitLength(),new SecureRandom)}while(g.compareTo(this.q)>=0||!g.multiply(g).subtract(l).modPow(s,this.q).equals(r));var c=this.lucasSequence(g,h,o);if(n=c[0],u=c[1],this.modMult(u,u).equals(l))return u.testBit(0)&&(u=u.add(q)),u=u.shiftRight(1),new e(q,u)}while(n.equals(t.ONE)||n.equals(r));return null},e.prototype.lucasSequence=function(i,e,r){for(var s=r.bitLength(),n=r.getLowestSetBit(),u=t.ONE,o=t.TWO,h=i,l=t.ONE,g=t.ONE,c=s-1;c>=n+1;--c)l=this.modMult(l,g),r.testBit(c)?(g=this.modMult(l,e),u=this.modMult(u,h),o=this.modReduce(h.multiply(o).subtract(i.multiply(l))),h=this.modReduce(h.multiply(h).subtract(g.shiftLeft(1)))):(g=l,u=this.modReduce(u.multiply(o).subtract(l)),h=this.modReduce(h.multiply(o).subtract(i.multiply(l))),o=this.modReduce(o.multiply(o).subtract(l.shiftLeft(1))));l=this.modMult(l,g),g=this.modMult(l,e),u=this.modReduce(u.multiply(o).subtract(l)),o=this.modReduce(h.multiply(o).subtract(i.multiply(l))),l=this.modMult(l,g);for(c=1;c<=n;++c)u=this.modMult(u,o),o=this.modReduce(o.multiply(o).subtract(l.shiftLeft(1))),l=this.modMult(l,l);return[u,o]};var S={ECCurveFp:b,ECPointFp:c,ECFieldElementFp:e};module.exports=S;
},{"jsbn":"IcIp"}],"eTMP":[function(require,module,exports) {
!function(r){"use strict";var t=function(r){var t,n=new Float64Array(16);if(r)for(t=0;t<r.length;t++)n[t]=r[t];return n},n=function(){throw new Error("no PRNG")},e=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=t(),h=t([1]),a=t([56129,1]),f=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(r,t,n,e){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=255&n,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=255&e}function w(r,t,n,e,o){var i,h=0;for(i=0;i<o;i++)h|=r[t+i]^n[e+i];return(1&h-1>>>8)-1}function v(r,t,n,e){return w(r,t,n,e,16)}function p(r,t,n,e){return w(r,t,n,e,32)}function b(r,t,n,e){!function(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=i,U=h,E=a,x=f,M=s,m=c,B=u,S=y,K=l,T=w,Y=v,k=p,L=b,z=g,R=_,P=A,O=0;O<20;O+=2)d^=(o=(L^=(o=(K^=(o=(M^=(o=d+L|0)<<7|o>>>25)+d|0)<<9|o>>>23)+M|0)<<13|o>>>19)+K|0)<<18|o>>>14,m^=(o=(U^=(o=(z^=(o=(T^=(o=m+U|0)<<7|o>>>25)+m|0)<<9|o>>>23)+T|0)<<13|o>>>19)+z|0)<<18|o>>>14,Y^=(o=(B^=(o=(E^=(o=(R^=(o=Y+B|0)<<7|o>>>25)+Y|0)<<9|o>>>23)+R|0)<<13|o>>>19)+E|0)<<18|o>>>14,P^=(o=(k^=(o=(S^=(o=(x^=(o=P+k|0)<<7|o>>>25)+P|0)<<9|o>>>23)+x|0)<<13|o>>>19)+S|0)<<18|o>>>14,d^=(o=(x^=(o=(E^=(o=(U^=(o=d+x|0)<<7|o>>>25)+d|0)<<9|o>>>23)+U|0)<<13|o>>>19)+E|0)<<18|o>>>14,m^=(o=(M^=(o=(S^=(o=(B^=(o=m+M|0)<<7|o>>>25)+m|0)<<9|o>>>23)+B|0)<<13|o>>>19)+S|0)<<18|o>>>14,Y^=(o=(T^=(o=(K^=(o=(k^=(o=Y+T|0)<<7|o>>>25)+Y|0)<<9|o>>>23)+k|0)<<13|o>>>19)+K|0)<<18|o>>>14,P^=(o=(R^=(o=(z^=(o=(L^=(o=P+R|0)<<7|o>>>25)+P|0)<<9|o>>>23)+L|0)<<13|o>>>19)+z|0)<<18|o>>>14;d=d+i|0,U=U+h|0,E=E+a|0,x=x+f|0,M=M+s|0,m=m+c|0,B=B+u|0,S=S+y|0,K=K+l|0,T=T+w|0,Y=Y+v|0,k=k+p|0,L=L+b|0,z=z+g|0,R=R+_|0,P=P+A|0,r[0]=d>>>0&255,r[1]=d>>>8&255,r[2]=d>>>16&255,r[3]=d>>>24&255,r[4]=U>>>0&255,r[5]=U>>>8&255,r[6]=U>>>16&255,r[7]=U>>>24&255,r[8]=E>>>0&255,r[9]=E>>>8&255,r[10]=E>>>16&255,r[11]=E>>>24&255,r[12]=x>>>0&255,r[13]=x>>>8&255,r[14]=x>>>16&255,r[15]=x>>>24&255,r[16]=M>>>0&255,r[17]=M>>>8&255,r[18]=M>>>16&255,r[19]=M>>>24&255,r[20]=m>>>0&255,r[21]=m>>>8&255,r[22]=m>>>16&255,r[23]=m>>>24&255,r[24]=B>>>0&255,r[25]=B>>>8&255,r[26]=B>>>16&255,r[27]=B>>>24&255,r[28]=S>>>0&255,r[29]=S>>>8&255,r[30]=S>>>16&255,r[31]=S>>>24&255,r[32]=K>>>0&255,r[33]=K>>>8&255,r[34]=K>>>16&255,r[35]=K>>>24&255,r[36]=T>>>0&255,r[37]=T>>>8&255,r[38]=T>>>16&255,r[39]=T>>>24&255,r[40]=Y>>>0&255,r[41]=Y>>>8&255,r[42]=Y>>>16&255,r[43]=Y>>>24&255,r[44]=k>>>0&255,r[45]=k>>>8&255,r[46]=k>>>16&255,r[47]=k>>>24&255,r[48]=L>>>0&255,r[49]=L>>>8&255,r[50]=L>>>16&255,r[51]=L>>>24&255,r[52]=z>>>0&255,r[53]=z>>>8&255,r[54]=z>>>16&255,r[55]=z>>>24&255,r[56]=R>>>0&255,r[57]=R>>>8&255,r[58]=R>>>16&255,r[59]=R>>>24&255,r[60]=P>>>0&255,r[61]=P>>>8&255,r[62]=P>>>16&255,r[63]=P>>>24&255}(r,t,n,e)}function g(r,t,n,e){!function(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,d=0;d<20;d+=2)i^=(o=(b^=(o=(l^=(o=(s^=(o=i+b|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+l|0)<<18|o>>>14,c^=(o=(h^=(o=(g^=(o=(w^=(o=c+h|0)<<7|o>>>25)+c|0)<<9|o>>>23)+w|0)<<13|o>>>19)+g|0)<<18|o>>>14,v^=(o=(u^=(o=(a^=(o=(_^=(o=v+u|0)<<7|o>>>25)+v|0)<<9|o>>>23)+_|0)<<13|o>>>19)+a|0)<<18|o>>>14,A^=(o=(p^=(o=(y^=(o=(f^=(o=A+p|0)<<7|o>>>25)+A|0)<<9|o>>>23)+f|0)<<13|o>>>19)+y|0)<<18|o>>>14,i^=(o=(f^=(o=(a^=(o=(h^=(o=i+f|0)<<7|o>>>25)+i|0)<<9|o>>>23)+h|0)<<13|o>>>19)+a|0)<<18|o>>>14,c^=(o=(s^=(o=(y^=(o=(u^=(o=c+s|0)<<7|o>>>25)+c|0)<<9|o>>>23)+u|0)<<13|o>>>19)+y|0)<<18|o>>>14,v^=(o=(w^=(o=(l^=(o=(p^=(o=v+w|0)<<7|o>>>25)+v|0)<<9|o>>>23)+p|0)<<13|o>>>19)+l|0)<<18|o>>>14,A^=(o=(_^=(o=(g^=(o=(b^=(o=A+_|0)<<7|o>>>25)+A|0)<<9|o>>>23)+b|0)<<13|o>>>19)+g|0)<<18|o>>>14;r[0]=i>>>0&255,r[1]=i>>>8&255,r[2]=i>>>16&255,r[3]=i>>>24&255,r[4]=c>>>0&255,r[5]=c>>>8&255,r[6]=c>>>16&255,r[7]=c>>>24&255,r[8]=v>>>0&255,r[9]=v>>>8&255,r[10]=v>>>16&255,r[11]=v>>>24&255,r[12]=A>>>0&255,r[13]=A>>>8&255,r[14]=A>>>16&255,r[15]=A>>>24&255,r[16]=u>>>0&255,r[17]=u>>>8&255,r[18]=u>>>16&255,r[19]=u>>>24&255,r[20]=y>>>0&255,r[21]=y>>>8&255,r[22]=y>>>16&255,r[23]=y>>>24&255,r[24]=l>>>0&255,r[25]=l>>>8&255,r[26]=l>>>16&255,r[27]=l>>>24&255,r[28]=w>>>0&255,r[29]=w>>>8&255,r[30]=w>>>16&255,r[31]=w>>>24&255}(r,t,n,e)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function A(r,t,n,e,o,i,h){var a,f,s=new Uint8Array(16),c=new Uint8Array(64);for(f=0;f<16;f++)s[f]=0;for(f=0;f<8;f++)s[f]=i[f];for(;o>=64;){for(b(c,s,h,_),f=0;f<64;f++)r[t+f]=n[e+f]^c[f];for(a=1,f=8;f<16;f++)a=a+(255&s[f])|0,s[f]=255&a,a>>>=8;o-=64,t+=64,e+=64}if(o>0)for(b(c,s,h,_),f=0;f<o;f++)r[t+f]=n[e+f]^c[f];return 0}function d(r,t,n,e,o){var i,h,a=new Uint8Array(16),f=new Uint8Array(64);for(h=0;h<16;h++)a[h]=0;for(h=0;h<8;h++)a[h]=e[h];for(;n>=64;){for(b(f,a,o,_),h=0;h<64;h++)r[t+h]=f[h];for(i=1,h=8;h<16;h++)i=i+(255&a[h])|0,a[h]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(b(f,a,o,_),h=0;h<n;h++)r[t+h]=f[h];return 0}function U(r,t,n,e,o){var i=new Uint8Array(32);g(i,e,o,_);for(var h=new Uint8Array(8),a=0;a<8;a++)h[a]=e[a+16];return d(r,t,n,h,i)}function E(r,t,n,e,o,i,h){var a=new Uint8Array(32);g(a,i,h,_);for(var f=new Uint8Array(8),s=0;s<8;s++)f[s]=i[s+16];return A(r,t,n,e,o,f,a)}var x=function(r){var t,n,e,o,i,h,a,f;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&r[0]|(255&r[1])<<8,this.r[0]=8191&t,n=255&r[2]|(255&r[3])<<8,this.r[1]=8191&(t>>>13|n<<3),e=255&r[4]|(255&r[5])<<8,this.r[2]=7939&(n>>>10|e<<6),o=255&r[6]|(255&r[7])<<8,this.r[3]=8191&(e>>>7|o<<9),i=255&r[8]|(255&r[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,h=255&r[10]|(255&r[11])<<8,this.r[6]=8191&(i>>>14|h<<2),a=255&r[12]|(255&r[13])<<8,this.r[7]=8065&(h>>>11|a<<5),f=255&r[14]|(255&r[15])<<8,this.r[8]=8191&(a>>>8|f<<8),this.r[9]=f>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};function M(r,t,n,e,o,i){var h=new x(i);return h.update(n,e,o),h.finish(r,t),0}function m(r,t,n,e,o,i){var h=new Uint8Array(16);return M(h,0,n,e,o,i),v(r,t,h,0)}function B(r,t,n,e,o){var i;if(n<32)return-1;for(E(r,0,t,0,n,e,o),M(r,16,r,32,n-32,r),i=0;i<16;i++)r[i]=0;return 0}function S(r,t,n,e,o){var i,h=new Uint8Array(32);if(n<32)return-1;if(U(h,0,32,e,o),0!==m(t,16,t,32,n-32,h))return-1;for(E(r,0,t,0,n,e,o),i=0;i<32;i++)r[i]=0;return 0}function K(r,t){var n;for(n=0;n<16;n++)r[n]=0|t[n]}function T(r){var t,n,e=1;for(t=0;t<16;t++)n=r[t]+e+65535,e=Math.floor(n/65536),r[t]=n-65536*e;r[0]+=e-1+37*(e-1)}function Y(r,t,n){for(var e,o=~(n-1),i=0;i<16;i++)e=o&(r[i]^t[i]),r[i]^=e,t[i]^=e}function k(r,n){var e,o,i,h=t(),a=t();for(e=0;e<16;e++)a[e]=n[e];for(T(a),T(a),T(a),o=0;o<2;o++){for(h[0]=a[0]-65517,e=1;e<15;e++)h[e]=a[e]-65535-(h[e-1]>>16&1),h[e-1]&=65535;h[15]=a[15]-32767-(h[14]>>16&1),i=h[15]>>16&1,h[14]&=65535,Y(a,h,1-i)}for(e=0;e<16;e++)r[2*e]=255&a[e],r[2*e+1]=a[e]>>8}function L(r,t){var n=new Uint8Array(32),e=new Uint8Array(32);return k(n,r),k(e,t),p(n,0,e,0)}function z(r){var t=new Uint8Array(32);return k(t,r),1&t[0]}function R(r,t){var n;for(n=0;n<16;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function P(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]+n[e]}function O(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]-n[e]}function N(r,t,n){var e,o,i=0,h=0,a=0,f=0,s=0,c=0,u=0,y=0,l=0,w=0,v=0,p=0,b=0,g=0,_=0,A=0,d=0,U=0,E=0,x=0,M=0,m=0,B=0,S=0,K=0,T=0,Y=0,k=0,L=0,z=0,R=0,P=n[0],O=n[1],N=n[2],C=n[3],F=n[4],I=n[5],G=n[6],Z=n[7],j=n[8],q=n[9],V=n[10],X=n[11],D=n[12],H=n[13],J=n[14],Q=n[15];i+=(e=t[0])*P,h+=e*O,a+=e*N,f+=e*C,s+=e*F,c+=e*I,u+=e*G,y+=e*Z,l+=e*j,w+=e*q,v+=e*V,p+=e*X,b+=e*D,g+=e*H,_+=e*J,A+=e*Q,h+=(e=t[1])*P,a+=e*O,f+=e*N,s+=e*C,c+=e*F,u+=e*I,y+=e*G,l+=e*Z,w+=e*j,v+=e*q,p+=e*V,b+=e*X,g+=e*D,_+=e*H,A+=e*J,d+=e*Q,a+=(e=t[2])*P,f+=e*O,s+=e*N,c+=e*C,u+=e*F,y+=e*I,l+=e*G,w+=e*Z,v+=e*j,p+=e*q,b+=e*V,g+=e*X,_+=e*D,A+=e*H,d+=e*J,U+=e*Q,f+=(e=t[3])*P,s+=e*O,c+=e*N,u+=e*C,y+=e*F,l+=e*I,w+=e*G,v+=e*Z,p+=e*j,b+=e*q,g+=e*V,_+=e*X,A+=e*D,d+=e*H,U+=e*J,E+=e*Q,s+=(e=t[4])*P,c+=e*O,u+=e*N,y+=e*C,l+=e*F,w+=e*I,v+=e*G,p+=e*Z,b+=e*j,g+=e*q,_+=e*V,A+=e*X,d+=e*D,U+=e*H,E+=e*J,x+=e*Q,c+=(e=t[5])*P,u+=e*O,y+=e*N,l+=e*C,w+=e*F,v+=e*I,p+=e*G,b+=e*Z,g+=e*j,_+=e*q,A+=e*V,d+=e*X,U+=e*D,E+=e*H,x+=e*J,M+=e*Q,u+=(e=t[6])*P,y+=e*O,l+=e*N,w+=e*C,v+=e*F,p+=e*I,b+=e*G,g+=e*Z,_+=e*j,A+=e*q,d+=e*V,U+=e*X,E+=e*D,x+=e*H,M+=e*J,m+=e*Q,y+=(e=t[7])*P,l+=e*O,w+=e*N,v+=e*C,p+=e*F,b+=e*I,g+=e*G,_+=e*Z,A+=e*j,d+=e*q,U+=e*V,E+=e*X,x+=e*D,M+=e*H,m+=e*J,B+=e*Q,l+=(e=t[8])*P,w+=e*O,v+=e*N,p+=e*C,b+=e*F,g+=e*I,_+=e*G,A+=e*Z,d+=e*j,U+=e*q,E+=e*V,x+=e*X,M+=e*D,m+=e*H,B+=e*J,S+=e*Q,w+=(e=t[9])*P,v+=e*O,p+=e*N,b+=e*C,g+=e*F,_+=e*I,A+=e*G,d+=e*Z,U+=e*j,E+=e*q,x+=e*V,M+=e*X,m+=e*D,B+=e*H,S+=e*J,K+=e*Q,v+=(e=t[10])*P,p+=e*O,b+=e*N,g+=e*C,_+=e*F,A+=e*I,d+=e*G,U+=e*Z,E+=e*j,x+=e*q,M+=e*V,m+=e*X,B+=e*D,S+=e*H,K+=e*J,T+=e*Q,p+=(e=t[11])*P,b+=e*O,g+=e*N,_+=e*C,A+=e*F,d+=e*I,U+=e*G,E+=e*Z,x+=e*j,M+=e*q,m+=e*V,B+=e*X,S+=e*D,K+=e*H,T+=e*J,Y+=e*Q,b+=(e=t[12])*P,g+=e*O,_+=e*N,A+=e*C,d+=e*F,U+=e*I,E+=e*G,x+=e*Z,M+=e*j,m+=e*q,B+=e*V,S+=e*X,K+=e*D,T+=e*H,Y+=e*J,k+=e*Q,g+=(e=t[13])*P,_+=e*O,A+=e*N,d+=e*C,U+=e*F,E+=e*I,x+=e*G,M+=e*Z,m+=e*j,B+=e*q,S+=e*V,K+=e*X,T+=e*D,Y+=e*H,k+=e*J,L+=e*Q,_+=(e=t[14])*P,A+=e*O,d+=e*N,U+=e*C,E+=e*F,x+=e*I,M+=e*G,m+=e*Z,B+=e*j,S+=e*q,K+=e*V,T+=e*X,Y+=e*D,k+=e*H,L+=e*J,z+=e*Q,A+=(e=t[15])*P,h+=38*(U+=e*N),a+=38*(E+=e*C),f+=38*(x+=e*F),s+=38*(M+=e*I),c+=38*(m+=e*G),u+=38*(B+=e*Z),y+=38*(S+=e*j),l+=38*(K+=e*q),w+=38*(T+=e*V),v+=38*(Y+=e*X),p+=38*(k+=e*D),b+=38*(L+=e*H),g+=38*(z+=e*J),_+=38*(R+=e*Q),i=(e=(i+=38*(d+=e*O))+(o=1)+65535)-65536*(o=Math.floor(e/65536)),h=(e=h+o+65535)-65536*(o=Math.floor(e/65536)),a=(e=a+o+65535)-65536*(o=Math.floor(e/65536)),f=(e=f+o+65535)-65536*(o=Math.floor(e/65536)),s=(e=s+o+65535)-65536*(o=Math.floor(e/65536)),c=(e=c+o+65535)-65536*(o=Math.floor(e/65536)),u=(e=u+o+65535)-65536*(o=Math.floor(e/65536)),y=(e=y+o+65535)-65536*(o=Math.floor(e/65536)),l=(e=l+o+65535)-65536*(o=Math.floor(e/65536)),w=(e=w+o+65535)-65536*(o=Math.floor(e/65536)),v=(e=v+o+65535)-65536*(o=Math.floor(e/65536)),p=(e=p+o+65535)-65536*(o=Math.floor(e/65536)),b=(e=b+o+65535)-65536*(o=Math.floor(e/65536)),g=(e=g+o+65535)-65536*(o=Math.floor(e/65536)),_=(e=_+o+65535)-65536*(o=Math.floor(e/65536)),A=(e=A+o+65535)-65536*(o=Math.floor(e/65536)),i=(e=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(e/65536)),h=(e=h+o+65535)-65536*(o=Math.floor(e/65536)),a=(e=a+o+65535)-65536*(o=Math.floor(e/65536)),f=(e=f+o+65535)-65536*(o=Math.floor(e/65536)),s=(e=s+o+65535)-65536*(o=Math.floor(e/65536)),c=(e=c+o+65535)-65536*(o=Math.floor(e/65536)),u=(e=u+o+65535)-65536*(o=Math.floor(e/65536)),y=(e=y+o+65535)-65536*(o=Math.floor(e/65536)),l=(e=l+o+65535)-65536*(o=Math.floor(e/65536)),w=(e=w+o+65535)-65536*(o=Math.floor(e/65536)),v=(e=v+o+65535)-65536*(o=Math.floor(e/65536)),p=(e=p+o+65535)-65536*(o=Math.floor(e/65536)),b=(e=b+o+65535)-65536*(o=Math.floor(e/65536)),g=(e=g+o+65535)-65536*(o=Math.floor(e/65536)),_=(e=_+o+65535)-65536*(o=Math.floor(e/65536)),A=(e=A+o+65535)-65536*(o=Math.floor(e/65536)),i+=o-1+37*(o-1),r[0]=i,r[1]=h,r[2]=a,r[3]=f,r[4]=s,r[5]=c,r[6]=u,r[7]=y,r[8]=l,r[9]=w,r[10]=v,r[11]=p,r[12]=b,r[13]=g,r[14]=_,r[15]=A}function C(r,t){N(r,t,t)}function F(r,n){var e,o=t();for(e=0;e<16;e++)o[e]=n[e];for(e=253;e>=0;e--)C(o,o),2!==e&&4!==e&&N(o,o,n);for(e=0;e<16;e++)r[e]=o[e]}function I(r,n,e){var o,i,h=new Uint8Array(32),f=new Float64Array(80),s=t(),c=t(),u=t(),y=t(),l=t(),w=t();for(i=0;i<31;i++)h[i]=n[i];for(h[31]=127&n[31]|64,h[0]&=248,R(f,e),i=0;i<16;i++)c[i]=f[i],y[i]=s[i]=u[i]=0;for(s[0]=y[0]=1,i=254;i>=0;--i)Y(s,c,o=h[i>>>3]>>>(7&i)&1),Y(u,y,o),P(l,s,u),O(s,s,u),P(u,c,y),O(c,c,y),C(y,l),C(w,s),N(s,u,s),N(u,c,l),P(l,s,u),O(s,s,u),C(c,s),O(u,y,w),N(s,u,a),P(s,s,y),N(u,u,s),N(s,y,w),N(y,c,f),C(c,l),Y(s,c,o),Y(u,y,o);for(i=0;i<16;i++)f[i+16]=s[i],f[i+32]=u[i],f[i+48]=c[i],f[i+64]=y[i];var v=f.subarray(32),p=f.subarray(16);return F(v,v),N(p,p,v),k(r,p),0}function G(r,t){return I(r,t,o)}function Z(r,t){return n(t,32),G(r,t)}function j(r,t,n){var o=new Uint8Array(32);return I(o,n,t),g(r,e,o,_)}x.prototype.blocks=function(r,t,n){for(var e,o,i,h,a,f,s,c,u,y,l,w,v,p,b,g,_,A,d,U=this.fin?0:2048,E=this.h[0],x=this.h[1],M=this.h[2],m=this.h[3],B=this.h[4],S=this.h[5],K=this.h[6],T=this.h[7],Y=this.h[8],k=this.h[9],L=this.r[0],z=this.r[1],R=this.r[2],P=this.r[3],O=this.r[4],N=this.r[5],C=this.r[6],F=this.r[7],I=this.r[8],G=this.r[9];n>=16;)y=u=0,y+=(E+=8191&(e=255&r[t+0]|(255&r[t+1])<<8))*L,y+=(x+=8191&(e>>>13|(o=255&r[t+2]|(255&r[t+3])<<8)<<3))*(5*G),y+=(M+=8191&(o>>>10|(i=255&r[t+4]|(255&r[t+5])<<8)<<6))*(5*I),y+=(m+=8191&(i>>>7|(h=255&r[t+6]|(255&r[t+7])<<8)<<9))*(5*F),u=(y+=(B+=8191&(h>>>4|(a=255&r[t+8]|(255&r[t+9])<<8)<<12))*(5*C))>>>13,y&=8191,y+=(S+=a>>>1&8191)*(5*N),y+=(K+=8191&(a>>>14|(f=255&r[t+10]|(255&r[t+11])<<8)<<2))*(5*O),y+=(T+=8191&(f>>>11|(s=255&r[t+12]|(255&r[t+13])<<8)<<5))*(5*P),y+=(Y+=8191&(s>>>8|(c=255&r[t+14]|(255&r[t+15])<<8)<<8))*(5*R),l=u+=(y+=(k+=c>>>5|U)*(5*z))>>>13,l+=E*z,l+=x*L,l+=M*(5*G),l+=m*(5*I),u=(l+=B*(5*F))>>>13,l&=8191,l+=S*(5*C),l+=K*(5*N),l+=T*(5*O),l+=Y*(5*P),u+=(l+=k*(5*R))>>>13,l&=8191,w=u,w+=E*R,w+=x*z,w+=M*L,w+=m*(5*G),u=(w+=B*(5*I))>>>13,w&=8191,w+=S*(5*F),w+=K*(5*C),w+=T*(5*N),w+=Y*(5*O),v=u+=(w+=k*(5*P))>>>13,v+=E*P,v+=x*R,v+=M*z,v+=m*L,u=(v+=B*(5*G))>>>13,v&=8191,v+=S*(5*I),v+=K*(5*F),v+=T*(5*C),v+=Y*(5*N),p=u+=(v+=k*(5*O))>>>13,p+=E*O,p+=x*P,p+=M*R,p+=m*z,u=(p+=B*L)>>>13,p&=8191,p+=S*(5*G),p+=K*(5*I),p+=T*(5*F),p+=Y*(5*C),b=u+=(p+=k*(5*N))>>>13,b+=E*N,b+=x*O,b+=M*P,b+=m*R,u=(b+=B*z)>>>13,b&=8191,b+=S*L,b+=K*(5*G),b+=T*(5*I),b+=Y*(5*F),g=u+=(b+=k*(5*C))>>>13,g+=E*C,g+=x*N,g+=M*O,g+=m*P,u=(g+=B*R)>>>13,g&=8191,g+=S*z,g+=K*L,g+=T*(5*G),g+=Y*(5*I),_=u+=(g+=k*(5*F))>>>13,_+=E*F,_+=x*C,_+=M*N,_+=m*O,u=(_+=B*P)>>>13,_&=8191,_+=S*R,_+=K*z,_+=T*L,_+=Y*(5*G),A=u+=(_+=k*(5*I))>>>13,A+=E*I,A+=x*F,A+=M*C,A+=m*N,u=(A+=B*O)>>>13,A&=8191,A+=S*P,A+=K*R,A+=T*z,A+=Y*L,d=u+=(A+=k*(5*G))>>>13,d+=E*G,d+=x*I,d+=M*F,d+=m*C,u=(d+=B*N)>>>13,d&=8191,d+=S*O,d+=K*P,d+=T*R,d+=Y*z,E=y=8191&(u=(u=((u+=(d+=k*L)>>>13)<<2)+u|0)+(y&=8191)|0),x=l+=u>>>=13,M=w&=8191,m=v&=8191,B=p&=8191,S=b&=8191,K=g&=8191,T=_&=8191,Y=A&=8191,k=d&=8191,t+=16,n-=16;this.h[0]=E,this.h[1]=x,this.h[2]=M,this.h[3]=m,this.h[4]=B,this.h[5]=S,this.h[6]=K,this.h[7]=T,this.h[8]=Y,this.h[9]=k},x.prototype.finish=function(r,t){var n,e,o,i,h=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,h[0]=this.h[0]+5,n=h[0]>>>13,h[0]&=8191,i=1;i<10;i++)h[i]=this.h[i]+n,n=h[i]>>>13,h[i]&=8191;for(h[9]-=8192,e=(1^n)-1,i=0;i<10;i++)h[i]&=e;for(e=~e,i=0;i<10;i++)this.h[i]=this.h[i]&e|h[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},x.prototype.update=function(r,t,n){var e,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),e=0;e<o;e++)this.buffer[this.leftover+e]=r[t+e];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(r,t,o),t+=o,n-=o),n){for(e=0;e<n;e++)this.buffer[this.leftover+e]=r[t+e];this.leftover+=n}};var q=B,V=S;var X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(r,t,n,e){for(var o,i,h,a,f,s,c,u,y,l,w,v,p,b,g,_,A,d,U,E,x,M,m,B,S,K,T=new Int32Array(16),Y=new Int32Array(16),k=r[0],L=r[1],z=r[2],R=r[3],P=r[4],O=r[5],N=r[6],C=r[7],F=t[0],I=t[1],G=t[2],Z=t[3],j=t[4],q=t[5],V=t[6],D=t[7],H=0;e>=128;){for(U=0;U<16;U++)E=8*U+H,T[U]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],Y[U]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(U=0;U<80;U++)if(o=k,i=L,h=z,a=R,f=P,s=O,c=N,C,y=F,l=I,w=G,v=Z,p=j,b=q,g=V,D,m=65535&(M=D),B=M>>>16,S=65535&(x=C),K=x>>>16,m+=65535&(M=(j>>>14|P<<18)^(j>>>18|P<<14)^(P>>>9|j<<23)),B+=M>>>16,S+=65535&(x=(P>>>14|j<<18)^(P>>>18|j<<14)^(j>>>9|P<<23)),K+=x>>>16,m+=65535&(M=j&q^~j&V),B+=M>>>16,S+=65535&(x=P&O^~P&N),K+=x>>>16,x=X[2*U],m+=65535&(M=X[2*U+1]),B+=M>>>16,S+=65535&x,K+=x>>>16,x=T[U%16],B+=(M=Y[U%16])>>>16,S+=65535&x,K+=x>>>16,S+=(B+=(m+=65535&M)>>>16)>>>16,m=65535&(M=d=65535&m|B<<16),B=M>>>16,S=65535&(x=A=65535&S|(K+=S>>>16)<<16),K=x>>>16,m+=65535&(M=(F>>>28|k<<4)^(k>>>2|F<<30)^(k>>>7|F<<25)),B+=M>>>16,S+=65535&(x=(k>>>28|F<<4)^(F>>>2|k<<30)^(F>>>7|k<<25)),K+=x>>>16,B+=(M=F&I^F&G^I&G)>>>16,S+=65535&(x=k&L^k&z^L&z),K+=x>>>16,u=65535&(S+=(B+=(m+=65535&M)>>>16)>>>16)|(K+=S>>>16)<<16,_=65535&m|B<<16,m=65535&(M=v),B=M>>>16,S=65535&(x=a),K=x>>>16,B+=(M=d)>>>16,S+=65535&(x=A),K+=x>>>16,L=o,z=i,R=h,P=a=65535&(S+=(B+=(m+=65535&M)>>>16)>>>16)|(K+=S>>>16)<<16,O=f,N=s,C=c,k=u,I=y,G=l,Z=w,j=v=65535&m|B<<16,q=p,V=b,D=g,F=_,U%16==15)for(E=0;E<16;E++)x=T[E],m=65535&(M=Y[E]),B=M>>>16,S=65535&x,K=x>>>16,x=T[(E+9)%16],m+=65535&(M=Y[(E+9)%16]),B+=M>>>16,S+=65535&x,K+=x>>>16,A=T[(E+1)%16],m+=65535&(M=((d=Y[(E+1)%16])>>>1|A<<31)^(d>>>8|A<<24)^(d>>>7|A<<25)),B+=M>>>16,S+=65535&(x=(A>>>1|d<<31)^(A>>>8|d<<24)^A>>>7),K+=x>>>16,A=T[(E+14)%16],B+=(M=((d=Y[(E+14)%16])>>>19|A<<13)^(A>>>29|d<<3)^(d>>>6|A<<26))>>>16,S+=65535&(x=(A>>>19|d<<13)^(d>>>29|A<<3)^A>>>6),K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,T[E]=65535&S|K<<16,Y[E]=65535&m|B<<16;m=65535&(M=F),B=M>>>16,S=65535&(x=k),K=x>>>16,x=r[0],B+=(M=t[0])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[0]=k=65535&S|K<<16,t[0]=F=65535&m|B<<16,m=65535&(M=I),B=M>>>16,S=65535&(x=L),K=x>>>16,x=r[1],B+=(M=t[1])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[1]=L=65535&S|K<<16,t[1]=I=65535&m|B<<16,m=65535&(M=G),B=M>>>16,S=65535&(x=z),K=x>>>16,x=r[2],B+=(M=t[2])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[2]=z=65535&S|K<<16,t[2]=G=65535&m|B<<16,m=65535&(M=Z),B=M>>>16,S=65535&(x=R),K=x>>>16,x=r[3],B+=(M=t[3])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[3]=R=65535&S|K<<16,t[3]=Z=65535&m|B<<16,m=65535&(M=j),B=M>>>16,S=65535&(x=P),K=x>>>16,x=r[4],B+=(M=t[4])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[4]=P=65535&S|K<<16,t[4]=j=65535&m|B<<16,m=65535&(M=q),B=M>>>16,S=65535&(x=O),K=x>>>16,x=r[5],B+=(M=t[5])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[5]=O=65535&S|K<<16,t[5]=q=65535&m|B<<16,m=65535&(M=V),B=M>>>16,S=65535&(x=N),K=x>>>16,x=r[6],B+=(M=t[6])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[6]=N=65535&S|K<<16,t[6]=V=65535&m|B<<16,m=65535&(M=D),B=M>>>16,S=65535&(x=C),K=x>>>16,x=r[7],B+=(M=t[7])>>>16,S+=65535&x,K+=x>>>16,K+=(S+=(B+=(m+=65535&M)>>>16)>>>16)>>>16,r[7]=C=65535&S|K<<16,t[7]=D=65535&m|B<<16,H+=128,e-=128}return e}function H(r,t,n){var e,o=new Int32Array(8),i=new Int32Array(8),h=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,D(o,i,t,n),n%=128,e=0;e<n;e++)h[e]=t[a-n+e];for(h[n]=128,h[(n=256-128*(n<112?1:0))-9]=0,l(h,n-8,a/536870912|0,a<<3),D(o,i,h,n),e=0;e<8;e++)l(r,8*e,o[e],i[e]);return 0}function J(r,n){var e=t(),o=t(),i=t(),h=t(),a=t(),f=t(),c=t(),u=t(),y=t();O(e,r[1],r[0]),O(y,n[1],n[0]),N(e,e,y),P(o,r[0],r[1]),P(y,n[0],n[1]),N(o,o,y),N(i,r[3],n[3]),N(i,i,s),N(h,r[2],n[2]),P(h,h,h),O(a,o,e),O(f,h,i),P(c,h,i),P(u,o,e),N(r[0],a,f),N(r[1],u,c),N(r[2],c,f),N(r[3],a,u)}function Q(r,t,n){var e;for(e=0;e<4;e++)Y(r[e],t[e],n)}function W(r,n){var e=t(),o=t(),i=t();F(i,n[2]),N(e,n[0],i),N(o,n[1],i),k(r,o),r[31]^=z(e)<<7}function $(r,t,n){var e,o;for(K(r[0],i),K(r[1],h),K(r[2],h),K(r[3],i),o=255;o>=0;--o)Q(r,t,e=n[o/8|0]>>(7&o)&1),J(t,r),J(r,r),Q(r,t,e)}function rr(r,n){var e=[t(),t(),t(),t()];K(e[0],c),K(e[1],u),K(e[2],h),N(e[3],c,u),$(r,e,n)}function tr(r,e,o){var i,h=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||n(e,32),H(h,e,32),h[0]&=248,h[31]&=127,h[31]|=64,rr(a,h),W(r,a),i=0;i<32;i++)e[i+32]=r[i];return 0}var nr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function er(r,t){var n,e,o,i;for(e=63;e>=32;--e){for(n=0,o=e-32,i=e-12;o<i;++o)t[o]+=n-16*t[e]*nr[o-(e-32)],n=t[o]+128>>8,t[o]-=256*n;t[o]+=n,t[e]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*nr[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*nr[o];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,r[e]=255&t[e]}function or(r){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=r[t];for(t=0;t<64;t++)r[t]=0;er(r,n)}function ir(r,n,e,o){var i,h,a=new Uint8Array(64),f=new Uint8Array(64),s=new Uint8Array(64),c=new Float64Array(64),u=[t(),t(),t(),t()];H(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var y=e+64;for(i=0;i<e;i++)r[64+i]=n[i];for(i=0;i<32;i++)r[32+i]=a[32+i];for(H(s,r.subarray(32),e+32),or(s),rr(u,s),W(r,u),i=32;i<64;i++)r[i]=o[i];for(H(f,r,e+64),or(f),i=0;i<64;i++)c[i]=0;for(i=0;i<32;i++)c[i]=s[i];for(i=0;i<32;i++)for(h=0;h<32;h++)c[i+h]+=f[i]*a[h];return er(r.subarray(32),c),y}function hr(r,n){var e=t(),o=t(),a=t(),s=t(),c=t(),u=t(),l=t();return K(r[2],h),R(r[1],n),C(a,r[1]),N(s,a,f),O(a,a,r[2]),P(s,r[2],s),C(c,s),C(u,c),N(l,u,c),N(e,l,a),N(e,e,s),function(r,n){var e,o=t();for(e=0;e<16;e++)o[e]=n[e];for(e=250;e>=0;e--)C(o,o),1!==e&&N(o,o,n);for(e=0;e<16;e++)r[e]=o[e]}(e,e),N(e,e,a),N(e,e,s),N(e,e,s),N(r[0],e,s),C(o,r[0]),N(o,o,s),L(o,a)&&N(r[0],r[0],y),C(o,r[0]),N(o,o,s),L(o,a)?-1:(z(r[0])===n[31]>>7&&O(r[0],i,r[0]),N(r[3],r[0],r[1]),0)}function ar(r,n,e,o){var i,h=new Uint8Array(32),a=new Uint8Array(64),f=[t(),t(),t(),t()],s=[t(),t(),t(),t()];if(-1,e<64)return-1;if(hr(s,o))return-1;for(i=0;i<e;i++)r[i]=n[i];for(i=0;i<32;i++)r[i+32]=o[i];if(H(a,r,e),or(a),$(f,s,a),rr(s,n.subarray(32)),J(f,s),W(h,f),e-=64,p(n,0,h,0)){for(i=0;i<e;i++)r[i]=0;return-1}for(i=0;i<e;i++)r[i]=n[i+64];return e}var fr=32,sr=24,cr=32,ur=32,yr=sr;function lr(r,t){if(r.length!==fr)throw new Error("bad key size");if(t.length!==sr)throw new Error("bad nonce size")}function wr(){var r,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(r=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+r+", use Uint8Array")}function vr(r){for(var t=0;t<r.length;t++)r[t]=0}r.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:E,crypto_stream:U,crypto_stream_salsa20_xor:A,crypto_stream_salsa20:d,crypto_onetimeauth:M,crypto_onetimeauth_verify:m,crypto_verify_16:v,crypto_verify_32:p,crypto_secretbox:B,crypto_secretbox_open:S,crypto_scalarmult:I,crypto_scalarmult_base:G,crypto_box_beforenm:j,crypto_box_afternm:q,crypto_box:function(r,t,n,e,o,i){var h=new Uint8Array(32);return j(h,o,i),q(r,t,n,e,h)},crypto_box_open:function(r,t,n,e,o,i){var h=new Uint8Array(32);return j(h,o,i),V(r,t,n,e,h)},crypto_box_keypair:Z,crypto_hash:H,crypto_sign:ir,crypto_sign_keypair:tr,crypto_sign_open:ar,crypto_secretbox_KEYBYTES:fr,crypto_secretbox_NONCEBYTES:sr,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:cr,crypto_box_SECRETKEYBYTES:ur,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:yr,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},r.util||(r.util={},r.util.decodeUTF8=r.util.encodeUTF8=r.util.encodeBase64=r.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),r.randomBytes=function(r){var t=new Uint8Array(r);return n(t,r),t},r.secretbox=function(r,t,n){wr(r,t,n),lr(n,t);for(var e=new Uint8Array(32+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+32]=r[i];return B(o,e,e.length,t,n),o.subarray(16)},r.secretbox.open=function(r,t,n){wr(r,t,n),lr(n,t);for(var e=new Uint8Array(16+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+16]=r[i];return!(e.length<32)&&(0===S(o,e,e.length,t,n)&&o.subarray(32))},r.secretbox.keyLength=fr,r.secretbox.nonceLength=sr,r.secretbox.overheadLength=16,r.scalarMult=function(r,t){if(wr(r,t),32!==r.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return I(n,r,t),n},r.scalarMult.base=function(r){if(wr(r),32!==r.length)throw new Error("bad n size");var t=new Uint8Array(32);return G(t,r),t},r.scalarMult.scalarLength=32,r.scalarMult.groupElementLength=32,r.box=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox(t,n,i)},r.box.before=function(r,t){wr(r,t),function(r,t){if(r.length!==cr)throw new Error("bad public key size");if(t.length!==ur)throw new Error("bad secret key size")}(r,t);var n=new Uint8Array(32);return j(n,r,t),n},r.box.after=r.secretbox,r.box.open=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox.open(t,n,i)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(cr),t=new Uint8Array(ur);return Z(r,t),{publicKey:r,secretKey:t}},r.box.keyPair.fromSecretKey=function(r){if(wr(r),r.length!==ur)throw new Error("bad secret key size");var t=new Uint8Array(cr);return G(t,r),{publicKey:t,secretKey:new Uint8Array(r)}},r.box.publicKeyLength=cr,r.box.secretKeyLength=ur,r.box.sharedKeyLength=32,r.box.nonceLength=yr,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,t){if(wr(r,t),64!==t.length)throw new Error("bad secret key size");var n=new Uint8Array(64+r.length);return ir(n,r,r.length,t),n},r.sign.open=function(r,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(wr(r,t),32!==t.length)throw new Error("bad public key size");var n=new Uint8Array(r.length),e=ar(n,r,r.length,t);if(e<0)return null;for(var o=new Uint8Array(e),i=0;i<o.length;i++)o[i]=n[i];return o},r.sign.detached=function(t,n){for(var e=r.sign(t,n),o=new Uint8Array(64),i=0;i<o.length;i++)o[i]=e[i];return o},r.sign.detached.verify=function(r,t,n){if(wr(r,t,n),64!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var e,o=new Uint8Array(64+r.length),i=new Uint8Array(64+r.length);for(e=0;e<64;e++)o[e]=t[e];for(e=0;e<r.length;e++)o[e+64]=r[e];return ar(i,o,o.length,n)>=0},r.sign.keyPair=function(){var r=new Uint8Array(32),t=new Uint8Array(64);return tr(r,t),{publicKey:r,secretKey:t}},r.sign.keyPair.fromSecretKey=function(r){if(wr(r),64!==r.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=r[32+n];return{publicKey:t,secretKey:new Uint8Array(r)}},r.sign.keyPair.fromSeed=function(r){if(wr(r),32!==r.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),e=0;e<32;e++)n[e]=r[e];return tr(t,n,!0),{publicKey:t,secretKey:n}},r.sign.publicKeyLength=32,r.sign.secretKeyLength=64,r.sign.seedLength=32,r.sign.signatureLength=64,r.hash=function(r){wr(r);var t=new Uint8Array(64);return H(t,r,r.length),t},r.hash.hashLength=64,r.verify=function(r,t){return wr(r,t),0!==r.length&&0!==t.length&&(r.length===t.length&&0===w(r,0,t,0,r.length))},r.setPRNG=function(r){n=r},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){r.setPRNG(function(r,n){var e,o=new Uint8Array(n);for(e=0;e<n;e+=65536)t.getRandomValues(o.subarray(e,e+Math.min(n-e,65536)));for(e=0;e<n;e++)r[e]=o[e];vr(o)})}else"undefined"!=typeof require&&(t=require("crypto"))&&t.randomBytes&&r.setPRNG(function(r,n){var e,o=t.randomBytes(n);for(e=0;e<n;e++)r[e]=o[e];vr(o)})}()}("undefined"!=typeof module&&module.exports?module.exports:self.nacl=self.nacl||{});
},{}],"na/q":[function(require,module,exports) {
module.exports={bufferSplit:g,addRSAMissing:C,calculateDSAPublic:P,calculateED25519Public:j,calculateX25519Public:B,mpNormalize:S,mpDenormalize:q,ecNormalize:y,countZeros:h,assertCompatible:l,isCompatible:f,opensslKeyDeriv:m,opensshCipherInfo:N,publicFromPrivateECDSA:E,zeroPadToLength:z,writeBitString:w,readBitString:k,pbkdf2:v};var e=require("assert-plus"),r=require("safer-buffer").Buffer,t=require("./private-key"),n=require("./key"),o=require("crypto"),a=require("./algs"),i=require("asn1"),c=require("ecc-jsbn/lib/ec"),s=require("jsbn").BigInteger,u=require("tweetnacl"),p=3;function f(e,r,t){if(null===e||"object"!=typeof e)return!1;if(void 0===t&&(t=r.prototype._sshpkApiVersion),e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])return!0;for(var n=Object.getPrototypeOf(e),o=0;n.constructor.name!==r.name;)if(!(n=Object.getPrototypeOf(n))||++o>p)return!1;if(n.constructor.name!==r.name)return!1;var a=n._sshpkApiVersion;return void 0===a&&(a=r._oldVersionDetect(e)),!(a[0]!=t[0]||a[1]<t[1])}function l(r,t,n,o){if(void 0===o&&(o="object"),e.ok(r,o+" must not be null"),e.object(r,o+" must be an object"),void 0===n&&(n=t.prototype._sshpkApiVersion),!(r instanceof t&&t.prototype._sshpkApiVersion[0]==n[0])){for(var a=Object.getPrototypeOf(r),i=0;a.constructor.name!==t.name;)a=Object.getPrototypeOf(a),e.ok(a&&++i<=p,o+" must be a "+t.name+" instance");e.strictEqual(a.constructor.name,t.name,o+" must be a "+t.name+" instance");var c=a._sshpkApiVersion;void 0===c&&(c=t._oldVersionDetect(r)),e.ok(c[0]==n[0]&&c[1]>=n[1],o+" must be compatible with "+t.name+" klass version "+n[0]+"."+n[1])}}var b={"des-ede3-cbc":{key:24,iv:8},"aes-128-cbc":{key:16,iv:16},"aes-256-cbc":{key:32,iv:16}},d=8;function m(t,n,a,i){e.buffer(n,"salt"),e.buffer(a,"passphrase"),e.number(i,"iteration count");var c,s,u,p=b[t];e.object(p,"supported cipher"),n=n.slice(0,d);for(var f=r.alloc(0);f.length<p.key+p.iv;){u=[],s&&u.push(s),u.push(a),u.push(n),c=r.concat(u);for(var l=0;l<i;++l)c=o.createHash("md5").update(c).digest();f=r.concat([f,c]),s=c}return{key:f.slice(0,p.key),iv:f.slice(p.key,p.key+p.iv)}}function v(e,t,n,a,i){var c=r.alloc(t.length+4);t.copy(c);for(var s=0,u=[],p=1;s<a;){var f=l(p++);s+=f.length,u.push(f)}return r.concat(u).slice(0,a);function l(r){c.writeUInt32BE(r,c.length-4);var t=o.createHmac(e,i);t.update(c);for(var a=t.digest(),s=a,u=1;u++<n;){(t=o.createHmac(e,i)).update(s),s=t.digest();for(var p=0;p<a.length;++p)a[p]^=s[p]}return a}}function h(e){for(var r=0,t=8;r<e.length;){var n=1<<t;if((e[r]&n)===n)break;--t<0&&(r++,t=8)}return 8*r+(8-t)-1}function g(r,t){e.buffer(r),e.string(t);for(var n=[],o=0,a=0,i=0;i<r.length;++i)if(r[i]===t.charCodeAt(a)?++a:a=r[i]===t.charCodeAt(0)?1:0,a>=t.length){var c=i+1;n.push(r.slice(o,c-a)),o=c,a=0}return o<=r.length&&n.push(r.slice(o,r.length)),n}function y(t,n){if(e.buffer(t),0===t[0]&&4===t[1])return n?t:t.slice(1);if(4===t[0]){if(!n)return t}else{for(;0===t[0];)t=t.slice(1);if(2===t[0]||3===t[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==t[0])throw new Error("Not a valid elliptic curve point");if(!n)return t}var o=r.alloc(t.length+1);return o[0]=0,t.copy(o,1),o}function k(r,t){void 0===t&&(t=i.Ber.BitString);var n=r.readString(t,!0);return e.strictEqual(n[0],0,"bit strings with unused bits are not supported (0x"+n[0].toString(16)+")"),n.slice(1)}function w(e,t,n){void 0===n&&(n=i.Ber.BitString);var o=r.alloc(t.length+1);o[0]=0,t.copy(o,1),e.writeBuffer(o,n)}function S(t){for(e.buffer(t);t.length>1&&0===t[0]&&0==(128&t[1]);)t=t.slice(1);if(128==(128&t[0])){var n=r.alloc(t.length+1);n[0]=0,t.copy(n,1),t=n}return t}function q(r){for(e.buffer(r);r.length>1&&0===r[0];)r=r.slice(1);return r}function z(t,n){for(e.buffer(t),e.number(n);t.length>n;)e.equal(t[0],0),t=t.slice(1);for(;t.length<n;){var o=r.alloc(t.length+1);o[0]=0,t.copy(o,1),t=o}return t}function A(e){var t=r.from(e.toByteArray());return t=S(t)}function P(r,t,n){return e.buffer(r),e.buffer(t),e.buffer(n),r=new s(r),t=new s(t),n=new s(n),A(r.modPow(n,t))}function j(t){e.buffer(t);var n=u.sign.keyPair.fromSeed(new Uint8Array(t));return r.from(n.publicKey)}function B(t){e.buffer(t);var n=u.box.keyPair.fromSeed(new Uint8Array(t));return r.from(n.publicKey)}function C(r){e.object(r),l(r,t,[1,1]);var n,o=new s(r.part.d.data);if(!r.part.dmodp){var a=new s(r.part.p.data);n=A(o.mod(a.subtract(1))),r.part.dmodp={name:"dmodp",data:n},r.parts.push(r.part.dmodp)}if(!r.part.dmodq){var i=new s(r.part.q.data);n=A(o.mod(i.subtract(1))),r.part.dmodq={name:"dmodq",data:n},r.parts.push(r.part.dmodq)}}function E(t,o){e.string(t,"curveName"),e.buffer(o);var i=a.curves[t],u=new s(i.p),p=new s(i.a),f=new s(i.b),l=new c.ECCurveFp(u,p,f),b=l.decodePointHex(i.G.toString("hex")),d=new s(S(o)),m=b.multiply(d);m=r.from(l.encodePointHex(m),"hex");var v=[];return v.push({name:"curve",data:r.from(t)}),v.push({name:"Q",data:m}),new n({type:"ecdsa",curve:l,parts:v})}function N(e){var r={};switch(e){case"3des-cbc":r.keySize=24,r.blockSize=8,r.opensslName="des-ede3-cbc";break;case"blowfish-cbc":r.keySize=16,r.blockSize=8,r.opensslName="bf-cbc";break;case"aes128-cbc":case"aes128-ctr":case"aes128-gcm@openssh.com":r.keySize=16,r.blockSize=16,r.opensslName="aes-128-"+e.slice(7,10);break;case"aes192-cbc":case"aes192-ctr":case"aes192-gcm@openssh.com":r.keySize=24,r.blockSize=16,r.opensslName="aes-192-"+e.slice(7,10);break;case"aes256-cbc":case"aes256-ctr":case"aes256-gcm@openssh.com":r.keySize=32,r.blockSize=16,r.opensslName="aes-256-"+e.slice(7,10);break;default:throw new Error('Unsupported openssl cipher "'+e+'"')}return r}
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./private-key":"Tg/q","./key":"llMH","./algs":"UgGu","asn1":"ceMZ","ecc-jsbn/lib/ec":"l63X","jsbn":"IcIp","tweetnacl":"eTMP"}],"Lmz6":[function(require,module,exports) {
module.exports=e;var t=require("assert-plus"),f=require("safer-buffer").Buffer;function e(e){t.object(e,"options"),void 0!==e.buffer&&t.buffer(e.buffer,"options.buffer"),this._size=e.buffer?e.buffer.length:1024,this._buffer=e.buffer||f.alloc(this._size),this._offset=0}e.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},e.prototype.atEnd=function(){return this._offset>=this._buffer.length},e.prototype.remainder=function(){return this._buffer.slice(this._offset)},e.prototype.skip=function(t){this._offset+=t},e.prototype.expand=function(){this._size*=2;var t=f.alloc(this._size);this._buffer.copy(t,0),this._buffer=t},e.prototype.readPart=function(){return{data:this.readBuffer()}},e.prototype.readBuffer=function(){var f=this._buffer.readUInt32BE(this._offset);this._offset+=4,t.ok(this._offset+f<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var e=this._buffer.slice(this._offset,this._offset+f);return this._offset+=f,e},e.prototype.readString=function(){return this.readBuffer().toString()},e.prototype.readCString=function(){for(var f=this._offset;f<this._buffer.length&&0!==this._buffer[f];)f++;t.ok(f<this._buffer.length,"c string does not terminate");var e=this._buffer.slice(this._offset,f).toString();return this._offset=f+1,e},e.prototype.readInt=function(){var t=this._buffer.readUInt32BE(this._offset);return this._offset+=4,t},e.prototype.readInt64=function(){t.ok(this._offset+8<this._buffer.length,"buffer not long enough to read Int64");var f=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,f},e.prototype.readChar=function(){return this._buffer[this._offset++]},e.prototype.writeBuffer=function(t){for(;this._offset+4+t.length>this._size;)this.expand();this._buffer.writeUInt32BE(t.length,this._offset),this._offset+=4,t.copy(this._buffer,this._offset),this._offset+=t.length},e.prototype.writeString=function(t){this.writeBuffer(f.from(t,"utf8"))},e.prototype.writeCString=function(t){for(;this._offset+1+t.length>this._size;)this.expand();this._buffer.write(t,this._offset),this._offset+=t.length,this._buffer[this._offset++]=0},e.prototype.writeInt=function(t){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(t,this._offset),this._offset+=4},e.prototype.writeInt64=function(f){if(t.buffer(f,"value"),f.length>8){for(var e=f.slice(0,f.length-8),i=0;i<e.length;++i)t.strictEqual(e[i],0,"must fit in 64 bits of precision");f=f.slice(f.length-8,f.length)}for(;this._offset+8>this._size;)this.expand();f.copy(this._buffer,this._offset),this._offset+=8},e.prototype.writeChar=function(t){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=t},e.prototype.writePart=function(t){this.writeBuffer(t.data)},e.prototype.write=function(t){for(;this._offset+t.length>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=t.length};
},{"assert-plus":"RnCe","safer-buffer":"o7gO"}],"UAEA":[function(require,module,exports) {
module.exports=f;var r=require("assert-plus"),t=require("safer-buffer").Buffer,e=require("./algs"),a=require("crypto"),s=require("./errors"),i=require("./utils"),n=require("asn1"),h=require("./ssh-buffer"),o=s.InvalidAlgorithmError,u=s.SignatureParseError;function f(t){r.object(t,"options"),r.arrayOfObject(t.parts,"options.parts"),r.string(t.type,"options.type");for(var e={},a=0;a<t.parts.length;++a){var s=t.parts[a];e[s.name]=s}this.type=t.type,this.hashAlgorithm=t.hashAlgo,this.curve=t.curve,this.parts=t.parts,this.part=e}function p(t,e,a,s){if("ssh"===a){try{var i=new h({buffer:t}),n=i.readString()}catch(p){}if(void 0!==i){var o="SSH signature does not match expected type (expected "+e+", got "+n+")";switch(n){case"ssh-rsa":r.strictEqual(e,"rsa",o),s.hashAlgo="sha1";break;case"rsa-sha2-256":r.strictEqual(e,"rsa",o),s.hashAlgo="sha256";break;case"rsa-sha2-512":r.strictEqual(e,"rsa",o),s.hashAlgo="sha512";break;case"ssh-ed25519":r.strictEqual(e,"ed25519",o),s.hashAlgo="sha512";break;default:throw new Error("Unknown SSH signature type: "+n)}var u=i.readPart();return r.ok(i.atEnd(),"extra trailing bytes"),u.name="sig",s.parts.push(u),new f(s)}}return s.parts.push({name:"sig",data:t}),new f(s)}function c(r,t,e,a){var s=new n.BerReader(r);s.readSequence();var h=s.readString(n.Ber.Integer,!0),o=s.readString(n.Ber.Integer,!0);return a.parts.push({name:"r",data:i.mpNormalize(h)}),a.parts.push({name:"s",data:i.mpNormalize(o)}),new f(a)}function g(t,e,a,s){if(40!=t.length){var i=new h({buffer:t}),n=i.readBuffer();"ssh-dss"===n.toString("ascii")&&(n=i.readBuffer()),r.ok(i.atEnd(),"extra trailing bytes"),r.strictEqual(n.length,40,"invalid inner length"),t=n}return s.parts.push({name:"r",data:t.slice(0,20)}),s.parts.push({name:"s",data:t.slice(20,40)}),new f(s)}function d(t,e,a,s){var i,n,o=new h({buffer:t}),u=o.readBuffer(),p=u.toString("ascii");if("ecdsa-"===p.slice(0,6)){var c=p.split("-");switch(r.strictEqual(c[0],"ecdsa"),r.strictEqual(c[1],"sha2"),s.curve=c[2],s.curve){case"nistp256":s.hashAlgo="sha256";break;case"nistp384":s.hashAlgo="sha384";break;case"nistp521":s.hashAlgo="sha512";break;default:throw new Error("Unsupported ECDSA curve: "+s.curve)}u=o.readBuffer(),r.ok(o.atEnd(),"extra trailing bytes on outer"),i=(o=new h({buffer:u})).readPart()}else i={data:u};return n=o.readPart(),r.ok(o.atEnd(),"extra trailing bytes"),i.name="r",n.name="s",s.parts.push(i),s.parts.push(n),new f(s)}f.prototype.toBuffer=function(e){var a;void 0===e&&(e="asn1"),r.string(e,"format");var s="ssh-"+this.type;switch(this.type){case"rsa":switch(this.hashAlgorithm){case"sha256":s="rsa-sha2-256";break;case"sha512":s="rsa-sha2-512";break;case"sha1":case void 0:break;default:throw new Error("SSH signature format does not support hash algorithm "+this.hashAlgorithm)}return"ssh"===e?((a=new h({})).writeString(s),a.writePart(this.part.sig),a.toBuffer()):this.part.sig.data;case"ed25519":return"ssh"===e?((a=new h({})).writeString(s),a.writePart(this.part.sig),a.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var o,u;if("asn1"===e){var f=new n.BerWriter;return f.startSequence(),o=i.mpNormalize(this.part.r.data),u=i.mpNormalize(this.part.s.data),f.writeBuffer(o,n.Ber.Integer),f.writeBuffer(u,n.Ber.Integer),f.endSequence(),f.buffer}if("ssh"===e&&"dsa"===this.type){if((a=new h({})).writeString("ssh-dss"),(o=this.part.r.data).length>20&&0===o[0]&&(o=o.slice(1)),(u=this.part.s.data).length>20&&0===u[0]&&(u=u.slice(1)),this.hashAlgorithm&&"sha1"!==this.hashAlgorithm||o.length+u.length!==40)throw new Error("OpenSSH only supports DSA signatures with SHA1 hash");return a.writeBuffer(t.concat([o,u])),a.toBuffer()}if("ssh"===e&&"ecdsa"===this.type){var p,c=new h({});o=this.part.r.data,c.writeBuffer(o),c.writePart(this.part.s),a=new h({}),0===o[0]&&(o=o.slice(1));var g=8*o.length;return 256===g?p="nistp256":384===g?p="nistp384":528===g&&(p="nistp521"),a.writeString("ecdsa-sha2-"+p),a.writeBuffer(c.toBuffer()),a.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},f.prototype.toString=function(t){return r.optionalString(t,"format"),this.toBuffer(t).toString("base64")},f.parse=function(e,a,s){"string"==typeof e&&(e=t.from(e,"base64")),r.buffer(e,"data"),r.string(s,"format"),r.string(a,"type");var i={};i.type=a.toLowerCase(),i.parts=[];try{switch(r.ok(e.length>0,"signature must not be empty"),i.type){case"rsa":case"ed25519":return p(e,a,s,i);case"dsa":case"ecdsa":return"asn1"===s?c(e,a,s,i):"dsa"===i.type?g(e,a,s,i):d(e,a,s,i);default:throw new o(a)}}catch(n){if(n instanceof o)throw n;throw new u(a,s,n)}},f.isSignature=function(r,t){return i.isCompatible(r,f,t)},f.prototype._sshpkApiVersion=[2,1],f._oldVersionDetect=function(t){return r.func(t.toBuffer),t.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]};
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./algs":"UgGu","./errors":"8eeV","./utils":"na/q","asn1":"ceMZ","./ssh-buffer":"Lmz6"}],"+Krv":[function(require,module,exports) {
var F=require("jsbn").BigInteger,e=require("./ec.js").ECCurveFp;function B(F,e,B,E){this.curve=F,this.g=e,this.n=B,this.h=E}function E(){return this.curve}function C(){return this.g}function n(){return this.n}function D(){return this.h}function A(e){return new F(e,16)}function r(){var E=A("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),C=A("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),n=A("E87579C11079F43DD824993C2CEE5ED3"),D=A("FFFFFFFE0000000075A30D1B9038A115"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new B(t,c,D,r)}function t(){var E=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),C=F.ZERO,n=A("7"),D=A("0100000000000000000001B8FA16DFAB9ACA16B6B3"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new B(t,c,D,r)}function c(){var E=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),C=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),n=A("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),D=A("0100000000000000000001F4C8F927AED3CA752257"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new B(t,c,D,r)}function o(){var E=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),C=F.ZERO,n=A("3"),D=A("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new B(t,c,D,r)}function u(){var E=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),C=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),n=A("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),D=A("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new B(t,c,D,r)}function i(){var E=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),C=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),n=A("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),D=A("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new B(t,c,D,r)}function s(){var E=A("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),C=A("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),n=A("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),D=A("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),r=F.ONE,t=new e(E,C,n),c=t.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new B(t,c,D,r)}function p(F){return"secp128r1"==F?r():"secp160k1"==F?t():"secp160r1"==F?c():"secp192k1"==F?o():"secp192r1"==F?u():"secp224r1"==F?i():"secp256r1"==F?s():null}B.prototype.getCurve=E,B.prototype.getG=C,B.prototype.getN=n,B.prototype.getH=D,module.exports={secp128r1:r,secp160k1:t,secp160r1:c,secp192k1:o,secp192r1:u,secp224r1:i,secp256r1:s};
},{"jsbn":"IcIp","./ec.js":"l63X"}],"he2l":[function(require,module,exports) {
var e=require("crypto"),t=require("jsbn").BigInteger,r=require("./lib/ec.js").ECPointFp,i=require("safer-buffer").Buffer;function n(e,t){return e.length>=t?e:n("0"+e,t)}exports.ECCurves=require("./lib/sec.js"),exports.ECKey=function(r,o,s){var u,h=r(),g=h.getN(),f=Math.floor(g.bitLength()/8);if(o)if(s){r=h.getCurve();this.P=r.decodePointHex(o.toString("hex"))}else{if(o.length!=f)return!1;u=new t(o.toString("hex"),16)}else{var l=g.subtract(t.ONE),a=new t(e.randomBytes(g.bitLength()));u=a.mod(l).add(t.ONE),this.P=h.getG().multiply(u)}this.P&&(this.PublicKey=i.from(h.getCurve().encodeCompressedPointHex(this.P),"hex")),u&&(this.PrivateKey=i.from(n(u.toString(16),2*f),"hex"),this.deriveSharedSecret=function(e){if(!e||!e.P)return!1;var t=e.P.multiply(u);return i.from(n(t.getX().toBigInteger().toString(16),2*f),"hex")})};
},{"jsbn":"IcIp","./lib/ec.js":"l63X","safer-buffer":"o7gO","./lib/sec.js":"+Krv"}],"ctmP":[function(require,module,exports) {
module.exports={DiffieHellman:d,generateECDSA:m,generateED25519:l};var e=require("assert-plus"),t=require("crypto"),r=require("safer-buffer").Buffer,i=require("./algs"),a=require("./utils"),s=require("tweetnacl"),h=require("./key"),n=require("./private-key"),p=void 0!==t.createECDH,o=require("ecc-jsbn"),u=require("ecc-jsbn/lib/ec"),c=require("jsbn").BigInteger;function d(e){if(a.assertCompatible(e,h,[1,4],"key"),this._isPriv=n.isPrivateKey(e,[1,3]),this._algo=e.type,this._curve=e.curve,this._key=e,"dsa"===e.type){if(!p)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=t.createDiffieHellman(e.part.p.data,void 0,e.part.g.data,void 0),this._p=e.part.p,this._g=e.part.g,this._isPriv&&this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)}else if("ecdsa"===e.type){if(!p)return this._ecParams=new y(this._curve),void(this._isPriv&&(this._priv=new _(this._ecParams,e.part.d.data)));var r={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[e.curve];if(this._dh=t.createECDH(r),"object"!=typeof this._dh||"function"!=typeof this._dh.setPrivateKey)return p=!1,void d.call(this,e);this._isPriv&&this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)}else{if("curve25519"!==e.type)throw new Error("DH not supported for "+e.type+" keys");this._isPriv&&(a.assertCompatible(e,n,[1,5],"key"),this._priv=e.part.k.data)}}function y(t){var r=i.curves[t];e.object(r);var a=new c(r.p),s=new c(r.a),h=new c(r.b),n=new c(r.n),p=c.ONE,o=new u.ECCurveFp(a,s,h),d=o.decodePointHex(r.G.toString("hex"));this.curve=o,this.g=d,this.n=n,this.h=p}function v(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString("hex"))}function _(e,t){this._params=e,this._priv=new c(a.mpNormalize(t))}function l(){var t=s.sign.keyPair(),i=r.from(t.secretKey),a=r.from(t.publicKey);e.strictEqual(i.length,64),e.strictEqual(a.length,32);var h=[];return h.push({name:"A",data:a}),h.push({name:"k",data:i.slice(0,32)}),new n({type:"ed25519",parts:h})}function m(e){var i=[];if(p){var a={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[e],s=t.createECDH(a);return s.generateKeys(),i.push({name:"curve",data:r.from(e)}),i.push({name:"Q",data:s.getPublicKey()}),i.push({name:"d",data:s.getPrivateKey()}),new n({type:"ecdsa",curve:e,parts:i})}var h=new y(e),o=h.getN(),u=Math.ceil((o.bitLength()+64)/8),d=new c(t.randomBytes(u)),v=o.subtract(c.ONE),_=d.mod(v).add(c.ONE),l=h.getG().multiply(_);return _=r.from(_.toByteArray()),l=r.from(h.getCurve().encodePointHex(l),"hex"),i.push({name:"curve",data:r.from(e)}),i.push({name:"Q",data:l}),i.push({name:"d",data:_}),new n({type:"ecdsa",curve:e,parts:i})}d.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},d.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},d.prototype.getKey=d.prototype.getPrivateKey,d.prototype._keyCheck=function(t,r){if(e.object(t,"key"),r||a.assertCompatible(t,n,[1,3],"key"),a.assertCompatible(t,h,[1,4],"key"),t.type!==this._algo)throw new Error("A "+t.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(t.curve!==this._curve)throw new Error("A key from the "+t.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===t.type&&(e.deepEqual(t.part.p,this._p,"DSA key prime does not match"),e.deepEqual(t.part.g,this._g,"DSA key generator does not match"))},d.prototype.setKey=function(e){if(this._keyCheck(e),"dsa"===e.type)this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data);else if("ecdsa"===e.type)p?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new _(this._ecParams,e.part.d.data);else if("curve25519"===e.type){var t=e.part.k;e.part.k||(t=e.part.r),this._priv=t.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)}this._key=e,this._isPriv=!0},d.prototype.setPrivateKey=d.prototype.setKey,d.prototype.computeSecret=function(t){if(this._keyCheck(t,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var i;if("dsa"===this._algo)return this._dh.computeSecret(t.part.y.data);if("ecdsa"===this._algo)return p?this._dh.computeSecret(t.part.Q.data):(i=new v(this._ecParams,t.part.Q.data),this._priv.deriveSharedSecret(i));if("curve25519"===this._algo){for(i=t.part.A.data;0===i[0]&&i.length>32;)i=i.slice(1);var a=this._priv;e.strictEqual(i.length,32),e.strictEqual(a.length,32);var h=s.box.before(new Uint8Array(i),new Uint8Array(a));return r.from(h)}throw new Error("Invalid algorithm: "+this._algo)},d.prototype.generateKey=function(){var i,a,h=[];if("dsa"===this._algo)return this._dh.generateKeys(),h.push({name:"p",data:this._p.data}),h.push({name:"q",data:this._key.part.q.data}),h.push({name:"g",data:this._g.data}),h.push({name:"y",data:this._dh.getPublicKey()}),h.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new n({type:"dsa",parts:h}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(p)return this._dh.generateKeys(),h.push({name:"curve",data:r.from(this._curve)}),h.push({name:"Q",data:this._dh.getPublicKey()}),h.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new n({type:"ecdsa",curve:this._curve,parts:h}),this._isPriv=!0,this._key;var o=this._ecParams.getN(),u=new c(t.randomBytes(o.bitLength())),d=o.subtract(c.ONE);return i=u.mod(d).add(c.ONE),a=this._ecParams.getG().multiply(i),i=r.from(i.toByteArray()),a=r.from(this._ecParams.getCurve().encodePointHex(a),"hex"),this._priv=new _(this._ecParams,i),h.push({name:"curve",data:r.from(this._curve)}),h.push({name:"Q",data:a}),h.push({name:"d",data:i}),this._key=new n({type:"ecdsa",curve:this._curve,parts:h}),this._isPriv=!0,this._key}if("curve25519"===this._algo){var y=s.box.keyPair();return i=r.from(y.secretKey),a=r.from(y.publicKey),i=r.concat([i,a]),e.strictEqual(i.length,64),e.strictEqual(a.length,32),h.push({name:"A",data:a}),h.push({name:"k",data:i}),this._key=new n({type:"curve25519",parts:h}),this._isPriv=!0,this._key}throw new Error("Invalid algorithm: "+this._algo)},d.prototype.generateKeys=d.prototype.generateKey,y.prototype.getCurve=function(){return this.curve},y.prototype.getG=function(){return this.g},y.prototype.getN=function(){return this.n},y.prototype.getH=function(){return this.h},_.prototype.deriveSharedSecret=function(t){e.ok(t instanceof v);var i=t._pub.multiply(this._priv);return r.from(i.getX().toBigInteger().toByteArray())};
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./algs":"UgGu","./utils":"na/q","tweetnacl":"eTMP","./key":"llMH","./private-key":"Tg/q","ecc-jsbn":"he2l","ecc-jsbn/lib/ec":"l63X","jsbn":"IcIp"}],"6fj+":[function(require,module,exports) {
module.exports={Verifier:a,Signer:o};var r=require("tweetnacl"),e=require("stream"),t=require("util"),i=require("assert-plus"),s=require("safer-buffer").Buffer,n=require("./signature");function a(r,t){if("sha512"!==t.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=r,this.chunks=[],e.Writable.call(this,{})}function o(r,t){if("sha512"!==t.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=r,this.chunks=[],e.Writable.call(this,{})}t.inherits(a,e.Writable),a.prototype._write=function(r,e,t){this.chunks.push(r),t()},a.prototype.update=function(r){"string"==typeof r&&(r=s.from(r,"binary")),this.chunks.push(r)},a.prototype.verify=function(e,t){var a;if(n.isSignature(e,[2,0])){if("ed25519"!==e.type)return!1;a=e.toBuffer("raw")}else if("string"==typeof e)a=s.from(e,"base64");else if(n.isSignature(e,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return i.buffer(a),r.sign.detached.verify(new Uint8Array(s.concat(this.chunks)),new Uint8Array(a),new Uint8Array(this.key.part.A.data))},t.inherits(o,e.Writable),o.prototype._write=function(r,e,t){this.chunks.push(r),t()},o.prototype.update=function(r){"string"==typeof r&&(r=s.from(r,"binary")),this.chunks.push(r)},o.prototype.sign=function(){var e=r.sign.detached(new Uint8Array(s.concat(this.chunks)),new Uint8Array(s.concat([this.key.part.k.data,this.key.part.A.data]))),t=s.from(e),i=n.parse(t,"ed25519","raw");return i.hashAlgorithm="sha512",i};
},{"tweetnacl":"eTMP","assert-plus":"RnCe","safer-buffer":"o7gO","./signature":"UAEA"}],"0LzK":[function(require,module,exports) {
module.exports={read:d,readPkcs8:B,write:f,writePkcs8:O,pkcs8ToBuffer:y,readECDSACurve:q,writeECDSACurve:D};var e=require("assert-plus"),r=require("asn1"),t=require("safer-buffer").Buffer,a=require("../algs"),n=require("../utils"),i=require("../key"),u=require("../private-key"),c=require("./pem");function d(e,r){return c.read(e,r,"pkcs8")}function f(e,r){return c.write(e,r,"pkcs8")}function o(t,a){return e.strictEqual(t.peek(),r.Ber.Integer,a+" is not an Integer"),n.mpNormalize(t.readString(r.Ber.Integer,!0))}function B(t,a,n){n.peek()===r.Ber.Integer&&(e.strictEqual(a,"private","unexpected Integer at start of public key"),n.readString(r.Ber.Integer,!0)),n.readSequence();var i=n.offset+n.length,u=n.readOID();switch(u){case"1.2.840.113549.1.1.1":return n._offset=i,"public"===a?p(n):S(n);case"1.2.840.10040.4.1":return"public"===a?s(n):g(n);case"1.2.840.10045.2.1":return"public"===a?m(n):v(n);case"1.3.101.112":return"public"===a?w(n):k(n);case"1.3.101.110":return"public"===a?l(n):I(n);default:throw new Error("Unknown key type OID "+u)}}function p(e){e.readSequence(r.Ber.BitString),e.readByte(),e.readSequence();var t=o(e,"modulus"),a=o(e,"exponent"),n={type:"rsa",source:e.originalInput,parts:[{name:"e",data:a},{name:"n",data:t}]};return new i(n)}function S(t){t.readSequence(r.Ber.OctetString),t.readSequence();var a=o(t,"version");e.equal(a[0],0,"unknown RSA private key version");var n=o(t,"modulus"),i=o(t,"public exponent"),c=o(t,"private exponent"),d=o(t,"prime1"),f=o(t,"prime2"),B=o(t,"exponent1"),p=o(t,"exponent2"),S=o(t,"iqmp");return new u({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:i},{name:"d",data:c},{name:"iqmp",data:S},{name:"p",data:d},{name:"q",data:f},{name:"dmodp",data:B},{name:"dmodq",data:p}]})}function s(e){e.readSequence();var t=o(e,"p"),a=o(e,"q"),n=o(e,"g");e.readSequence(r.Ber.BitString),e.readByte();var u=o(e,"y");return new i({type:"dsa",parts:[{name:"p",data:t},{name:"q",data:a},{name:"g",data:n},{name:"y",data:u}]})}function g(e){e.readSequence();var t=o(e,"p"),a=o(e,"q"),i=o(e,"g");e.readSequence(r.Ber.OctetString);var c=o(e,"x"),d=n.calculateDSAPublic(i,t,c);return new u({type:"dsa",parts:[{name:"p",data:t},{name:"q",data:a},{name:"g",data:i},{name:"y",data:d},{name:"x",data:c}]})}function q(i){var u,c,d,f,o;if(i.peek()===r.Ber.OID){var B=i.readOID();for(c=Object.keys(a.curves),d=0;d<c.length;++d)if(f=c[d],(o=a.curves[f]).pkcs8oid===B){u=f;break}}else{i.readSequence();var p=i.readString(r.Ber.Integer,!0);e.strictEqual(p[0],1,"ECDSA key not version 1");var S={};i.readSequence();var s=i.readOID();e.strictEqual(s,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var g=S.p=n.mpNormalize(i.readString(r.Ber.Integer,!0));S.size=8*g.length-n.countZeros(g),i.readSequence(),S.a=n.mpNormalize(i.readString(r.Ber.OctetString,!0)),S.b=n.mpNormalize(i.readString(r.Ber.OctetString,!0)),i.peek()===r.Ber.BitString&&(S.s=i.readString(r.Ber.BitString,!0)),S.G=i.readString(r.Ber.OctetString,!0),e.strictEqual(S.G[0],4,"uncompressed G is required"),S.n=n.mpNormalize(i.readString(r.Ber.Integer,!0)),S.h=n.mpNormalize(i.readString(r.Ber.Integer,!0)),e.strictEqual(S.h[0],1,"a cofactor=1 curve is required"),c=Object.keys(a.curves);var q=Object.keys(S);for(d=0;d<c.length;++d){f=c[d],o=a.curves[f];for(var v=!0,m=0;m<q.length;++m){var w=q[m];if(void 0!==o[w])if("object"==typeof o[w]&&void 0!==o[w].equals){if(!o[w].equals(S[w])){v=!1;break}}else if(t.isBuffer(o[w])){if(o[w].toString("binary")!==S[w].toString("binary")){v=!1;break}}else if(o[w]!==S[w]){v=!1;break}}if(v){u=f;break}}}return u}function v(a){var i=q(a);e.string(i,"a known elliptic curve"),a.readSequence(r.Ber.OctetString),a.readSequence();var c=o(a,"version");e.equal(c[0],1,"unknown version of ECDSA key");var d,f=a.readString(r.Ber.OctetString,!0);(160==a.peek()&&(a.readSequence(160),a._offset+=a.length),161==a.peek()&&(a.readSequence(161),d=a.readString(r.Ber.BitString,!0),d=n.ecNormalize(d)),void 0===d)&&(d=n.publicFromPrivateECDSA(i,f).part.Q.data);var B={type:"ecdsa",parts:[{name:"curve",data:t.from(i)},{name:"Q",data:d},{name:"d",data:f}]};return new u(B)}function m(a){var u=q(a);e.string(u,"a known elliptic curve");var c=a.readString(r.Ber.BitString,!0);c=n.ecNormalize(c);var d={type:"ecdsa",parts:[{name:"curve",data:t.from(u)},{name:"Q",data:c}]};return new i(d)}function w(e){0===e.peek()&&e.readByte();var r=n.readBitString(e),t={type:"ed25519",parts:[{name:"A",data:n.zeroPadToLength(r,32)}]};return new i(t)}function l(e){var r=n.readBitString(e),t={type:"curve25519",parts:[{name:"A",data:n.zeroPadToLength(r,32)}]};return new i(t)}function k(e){0===e.peek()&&e.readByte(),e.readSequence(r.Ber.OctetString);var t,a=e.readString(r.Ber.OctetString,!0);a=n.zeroPadToLength(a,32),e.peek()===r.Ber.BitString?(t=n.readBitString(e),t=n.zeroPadToLength(t,32)):t=n.calculateED25519Public(a);var i={type:"ed25519",parts:[{name:"A",data:n.zeroPadToLength(t,32)},{name:"k",data:n.zeroPadToLength(a,32)}]};return new u(i)}function I(e){0===e.peek()&&e.readByte(),e.readSequence(r.Ber.OctetString);var t=e.readString(r.Ber.OctetString,!0);t=n.zeroPadToLength(t,32);var a=n.calculateX25519Public(t),i={type:"curve25519",parts:[{name:"A",data:n.zeroPadToLength(a,32)},{name:"k",data:n.zeroPadToLength(t,32)}]};return new u(i)}function y(e){var t=new r.BerWriter;return O(t,e),t.buffer}function O(e,a){if(e.startSequence(),u.isPrivateKey(a)){var n=t.from([0]);e.writeBuffer(n,r.Ber.Integer)}switch(e.startSequence(),a.type){case"rsa":e.writeOID("1.2.840.113549.1.1.1"),u.isPrivateKey(a)?b(a,e):h(a,e);break;case"dsa":e.writeOID("1.2.840.10040.4.1"),u.isPrivateKey(a)?z(a,e):P(a,e);break;case"ecdsa":e.writeOID("1.2.840.10045.2.1"),u.isPrivateKey(a)?A(a,e):E(a,e);break;case"ed25519":if(e.writeOID("1.3.101.112"),u.isPrivateKey(a))throw new Error("Ed25519 private keys in pkcs8 format are not supported");N(a,e);break;default:throw new Error("Unsupported key type: "+a.type)}e.endSequence()}function b(e,a){a.writeNull(),a.endSequence(),a.startSequence(r.Ber.OctetString),a.startSequence();var i=t.from([0]);a.writeBuffer(i,r.Ber.Integer),a.writeBuffer(e.part.n.data,r.Ber.Integer),a.writeBuffer(e.part.e.data,r.Ber.Integer),a.writeBuffer(e.part.d.data,r.Ber.Integer),a.writeBuffer(e.part.p.data,r.Ber.Integer),a.writeBuffer(e.part.q.data,r.Ber.Integer),e.part.dmodp&&e.part.dmodq||n.addRSAMissing(e),a.writeBuffer(e.part.dmodp.data,r.Ber.Integer),a.writeBuffer(e.part.dmodq.data,r.Ber.Integer),a.writeBuffer(e.part.iqmp.data,r.Ber.Integer),a.endSequence(),a.endSequence()}function h(e,t){t.writeNull(),t.endSequence(),t.startSequence(r.Ber.BitString),t.writeByte(0),t.startSequence(),t.writeBuffer(e.part.n.data,r.Ber.Integer),t.writeBuffer(e.part.e.data,r.Ber.Integer),t.endSequence(),t.endSequence()}function z(e,t){t.startSequence(),t.writeBuffer(e.part.p.data,r.Ber.Integer),t.writeBuffer(e.part.q.data,r.Ber.Integer),t.writeBuffer(e.part.g.data,r.Ber.Integer),t.endSequence(),t.endSequence(),t.startSequence(r.Ber.OctetString),t.writeBuffer(e.part.x.data,r.Ber.Integer),t.endSequence()}function P(e,t){t.startSequence(),t.writeBuffer(e.part.p.data,r.Ber.Integer),t.writeBuffer(e.part.q.data,r.Ber.Integer),t.writeBuffer(e.part.g.data,r.Ber.Integer),t.endSequence(),t.endSequence(),t.startSequence(r.Ber.BitString),t.writeByte(0),t.writeBuffer(e.part.y.data,r.Ber.Integer),t.endSequence()}function D(e,n){var i=a.curves[e.curve];if(i.pkcs8oid)n.writeOID(i.pkcs8oid);else{n.startSequence();var u=t.from([1]);n.writeBuffer(u,r.Ber.Integer),n.startSequence(),n.writeOID("1.2.840.10045.1.1"),n.writeBuffer(i.p,r.Ber.Integer),n.endSequence(),n.startSequence();var c=i.p;0===c[0]&&(c=c.slice(1)),n.writeBuffer(c,r.Ber.OctetString),n.writeBuffer(i.b,r.Ber.OctetString),n.writeBuffer(i.s,r.Ber.BitString),n.endSequence(),n.writeBuffer(i.G,r.Ber.OctetString),n.writeBuffer(i.n,r.Ber.Integer);var d=i.h;d||(d=t.from([1])),n.writeBuffer(d,r.Ber.Integer),n.endSequence()}}function E(e,t){D(e,t),t.endSequence();var a=n.ecNormalize(e.part.Q.data,!0);t.writeBuffer(a,r.Ber.BitString)}function A(e,a){D(e,a),a.endSequence(),a.startSequence(r.Ber.OctetString),a.startSequence();var i=t.from([1]);a.writeBuffer(i,r.Ber.Integer),a.writeBuffer(e.part.d.data,r.Ber.OctetString),a.startSequence(161);var u=n.ecNormalize(e.part.Q.data,!0);a.writeBuffer(u,r.Ber.BitString),a.endSequence(),a.endSequence(),a.endSequence()}function N(e,r){r.endSequence(),n.writeBitString(r,e.part.A.data)}function x(e,t){t.endSequence();var a=n.mpNormalize(e.part.k.data,!0);t.startSequence(r.Ber.OctetString),t.writeBuffer(a,r.Ber.OctetString),t.endSequence()}
},{"assert-plus":"RnCe","asn1":"ceMZ","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pem":"uOf6"}],"THrb":[function(require,module,exports) {
module.exports={read:p,readPkcs1:w,write:o,writePkcs1:k};var e=require("assert-plus"),r=require("asn1"),t=require("safer-buffer").Buffer,a=require("../algs"),n=require("../utils"),i=require("../key"),u=require("../private-key"),d=require("./pem"),f=require("./pkcs8"),c=f.readECDSACurve;function p(e,r){return d.read(e,r,"pkcs1")}function o(e,r){return d.write(e,r,"pkcs1")}function s(t,a){return e.strictEqual(t.peek(),r.Ber.Integer,a+" is not an Integer"),n.mpNormalize(t.readString(r.Ber.Integer,!0))}function w(e,r,t){switch(e){case"RSA":if("public"===r)return B(t);if("private"===r)return g(t);throw new Error("Unknown key type: "+r);case"DSA":if("public"===r)return q(t);if("private"===r)return m(t);throw new Error("Unknown key type: "+r);case"EC":case"ECDSA":if("private"===r)return I(t);if("public"===r)return S(t);throw new Error("Unknown key type: "+r);case"EDDSA":case"EdDSA":if("private"===r)return v(t);throw new Error(r+" keys not supported with EdDSA");default:throw new Error("Unknown key algo: "+e)}}function B(e){var r=s(e,"modulus"),t=s(e,"exponent");return new i({type:"rsa",parts:[{name:"e",data:t},{name:"n",data:r}]})}function g(r){var t=s(r,"version");e.strictEqual(t[0],0);var a=s(r,"modulus"),n=s(r,"public exponent"),i=s(r,"private exponent"),d=s(r,"prime1"),f=s(r,"prime2"),c=s(r,"exponent1"),p=s(r,"exponent2"),o=s(r,"iqmp");return new u({type:"rsa",parts:[{name:"n",data:a},{name:"e",data:n},{name:"d",data:i},{name:"iqmp",data:o},{name:"p",data:d},{name:"q",data:f},{name:"dmodp",data:c},{name:"dmodq",data:p}]})}function m(r){var t=s(r,"version");e.strictEqual(t.readUInt8(0),0);var a=s(r,"p"),n=s(r,"q"),i=s(r,"g"),d=s(r,"y"),f=s(r,"x");return new u({type:"dsa",parts:[{name:"p",data:a},{name:"q",data:n},{name:"g",data:i},{name:"y",data:d},{name:"x",data:f}]})}function v(t){var a=s(t,"version");e.strictEqual(a.readUInt8(0),1);var i=t.readString(r.Ber.OctetString,!0);t.readSequence(160);var d=t.readOID();e.strictEqual(d,"1.3.101.112","the ed25519 curve identifier"),t.readSequence(161);var f=n.readBitString(t),c={type:"ed25519",parts:[{name:"A",data:n.zeroPadToLength(f,32)},{name:"k",data:i}]};return new u(c)}function q(e){var r=s(e,"y"),t=s(e,"p"),a=s(e,"q"),n=s(e,"g");return new i({type:"dsa",parts:[{name:"y",data:r},{name:"p",data:t},{name:"q",data:a},{name:"g",data:n}]})}function S(u){u.readSequence();var d=u.readOID();e.strictEqual(d,"1.2.840.10045.2.1","must be ecPublicKey");for(var f,c=u.readOID(),p=Object.keys(a.curves),o=0;o<p.length;++o){var s=p[o];if(a.curves[s].pkcs8oid===c){f=s;break}}e.string(f,"a known ECDSA named curve");var w=u.readString(r.Ber.BitString,!0);w=n.ecNormalize(w);var B={type:"ecdsa",parts:[{name:"curve",data:t.from(f)},{name:"Q",data:w}]};return new i(B)}function I(a){var i=s(a,"version");e.strictEqual(i.readUInt8(0),1);var d=a.readString(r.Ber.OctetString,!0);a.readSequence(160);var f=c(a);e.string(f,"a known elliptic curve"),a.readSequence(161);var p=a.readString(r.Ber.BitString,!0);p=n.ecNormalize(p);var o={type:"ecdsa",parts:[{name:"curve",data:t.from(f)},{name:"Q",data:p},{name:"d",data:d}]};return new u(o)}function k(e,r){switch(e.startSequence(),r.type){case"rsa":u.isPrivateKey(r)?l(e,r):y(e,r);break;case"dsa":u.isPrivateKey(r)?E(e,r):D(e,r);break;case"ecdsa":u.isPrivateKey(r)?A(e,r):b(e,r);break;case"ed25519":u.isPrivateKey(r)?h(e,r):O(e,r);break;default:throw new Error("Unknown key algo: "+r.type)}e.endSequence()}function y(e,t){e.writeBuffer(t.part.n.data,r.Ber.Integer),e.writeBuffer(t.part.e.data,r.Ber.Integer)}function l(e,a){var i=t.from([0]);e.writeBuffer(i,r.Ber.Integer),e.writeBuffer(a.part.n.data,r.Ber.Integer),e.writeBuffer(a.part.e.data,r.Ber.Integer),e.writeBuffer(a.part.d.data,r.Ber.Integer),e.writeBuffer(a.part.p.data,r.Ber.Integer),e.writeBuffer(a.part.q.data,r.Ber.Integer),a.part.dmodp&&a.part.dmodq||n.addRSAMissing(a),e.writeBuffer(a.part.dmodp.data,r.Ber.Integer),e.writeBuffer(a.part.dmodq.data,r.Ber.Integer),e.writeBuffer(a.part.iqmp.data,r.Ber.Integer)}function E(e,a){var n=t.from([0]);e.writeBuffer(n,r.Ber.Integer),e.writeBuffer(a.part.p.data,r.Ber.Integer),e.writeBuffer(a.part.q.data,r.Ber.Integer),e.writeBuffer(a.part.g.data,r.Ber.Integer),e.writeBuffer(a.part.y.data,r.Ber.Integer),e.writeBuffer(a.part.x.data,r.Ber.Integer)}function D(e,t){e.writeBuffer(t.part.y.data,r.Ber.Integer),e.writeBuffer(t.part.p.data,r.Ber.Integer),e.writeBuffer(t.part.q.data,r.Ber.Integer),e.writeBuffer(t.part.g.data,r.Ber.Integer)}function b(t,i){t.startSequence(),t.writeOID("1.2.840.10045.2.1");var u=i.part.curve.data.toString(),d=a.curves[u].pkcs8oid;e.string(d,"a known ECDSA named curve"),t.writeOID(d),t.endSequence();var f=n.ecNormalize(i.part.Q.data,!0);t.writeBuffer(f,r.Ber.BitString)}function A(i,u){var d=t.from([1]);i.writeBuffer(d,r.Ber.Integer),i.writeBuffer(u.part.d.data,r.Ber.OctetString),i.startSequence(160);var f=u.part.curve.data.toString(),c=a.curves[f].pkcs8oid;e.string(c,"a known ECDSA named curve"),i.writeOID(c),i.endSequence(),i.startSequence(161);var p=n.ecNormalize(u.part.Q.data,!0);i.writeBuffer(p,r.Ber.BitString),i.endSequence()}function h(e,a){var i=t.from([1]);e.writeBuffer(i,r.Ber.Integer),e.writeBuffer(a.part.k.data,r.Ber.OctetString),e.startSequence(160),e.writeOID("1.3.101.112"),e.endSequence(),e.startSequence(161),n.writeBitString(e,a.part.A.data),e.endSequence()}function O(e,r){throw new Error("Public keys are not supported for EdDSA PKCS#1")}
},{"assert-plus":"RnCe","asn1":"ceMZ","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pem":"uOf6","./pkcs8":"0LzK"}],"v+iW":[function(require,module,exports) {
module.exports={read:f.bind(void 0,!1,void 0),readType:f.bind(void 0,!1),write:p,readPartial:f.bind(void 0,!0),readInternal:f,keyTypeToAlg:d,algToKeyType:o};var e=require("assert-plus"),r=require("safer-buffer").Buffer,t=require("../algs"),a=require("../utils"),n=require("../key"),s=require("../private-key"),i=require("../ssh-buffer");function o(r){if(e.string(r),"ssh-dss"===r)return"dsa";if("ssh-rsa"===r)return"rsa";if("ssh-ed25519"===r)return"ed25519";if("ssh-curve25519"===r)return"curve25519";if(r.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+r)}function d(r){if(e.object(r),"dsa"===r.type)return"ssh-dss";if("rsa"===r.type)return"ssh-rsa";if("ed25519"===r.type)return"ssh-ed25519";if("curve25519"===r.type)return"ssh-curve25519";if("ecdsa"===r.type)return"ecdsa-sha2-"+r.part.curve.data.toString();throw new Error("Unknown key type "+r.type)}function f(d,f,p,u){"string"==typeof p&&(p=r.from(p)),e.buffer(p,"buf");var y={},h=y.parts=[],l=new i({buffer:p}),v=l.readString();e.ok(!l.atEnd(),"key must have at least one part"),y.type=o(v);var c=t.info[y.type].parts.length;for(f&&"private"===f&&(c=t.privInfo[y.type].parts.length);!l.atEnd()&&h.length<c;)h.push(l.readPart());for(;!d&&!l.atEnd();)h.push(l.readPart());e.ok(h.length>=1,"key must have at least one part"),e.ok(d||l.atEnd(),"leftover bytes at end of key");var g=n,m=t.info[y.type];if("private"!==f&&m.parts.length===h.length||(m=t.privInfo[y.type],g=s),e.strictEqual(m.parts.length,h.length),"ecdsa"===y.type){var k=/^ecdsa-sha2-(.+)$/.exec(v);e.ok(null!==k),e.strictEqual(k[1],h[0].data.toString())}for(var b=!0,w=0;w<m.parts.length;++w){var q,E=h[w];if(E.name=m.parts[w],"ed25519"===y.type&&"k"===E.name&&(E.data=E.data.slice(0,32)),"curve"!==E.name&&!1!==m.normalize)(q="ed25519"===y.type?a.zeroPadToLength(E.data,32):a.mpNormalize(E.data)).toString("binary")!==E.data.toString("binary")&&(E.data=q,b=!1)}return b&&(y._rfc4253Cache=l.toBuffer()),d&&"object"==typeof d&&(d.remainder=l.remainder(),d.consumed=l._offset),new g(y)}function p(n,o){e.object(n);var f,p=d(n),u=t.info[n.type];s.isPrivateKey(n)&&(u=t.privInfo[n.type]);var y=u.parts,h=new i({});for(h.writeString(p),f=0;f<y.length;++f){var l=n.part[y[f]].data;!1!==u.normalize&&(l="ed25519"===n.type?a.zeroPadToLength(l,32):a.mpNormalize(l)),"ed25519"===n.type&&"k"===y[f]&&(l=r.concat([l,n.part.A.data])),h.writeBuffer(l)}return h.toBuffer()}
},{"assert-plus":"RnCe","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","../ssh-buffer":"Lmz6"}],"4ZLE":[function(require,module,exports) {
"use strict";var t=require("tweetnacl").lowlevel.crypto_hash,r=0,e=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function n(t,r,e){return(t[0][r[e+3]]+t[1][r[e+2]]^t[2][r[e+1]])+t[3][r[e]]}function i(t,e){var n,i=0;for(n=0;n<4;n++,r++)r>=e&&(r=0),i=i<<8|t[r];return i}e.prototype.encipher=function(t,r){void 0===r&&(r=new Uint8Array(t.buffer),0!==t.byteOffset&&(r=r.subarray(t.byteOffset))),t[0]^=this.P[0];for(var e=1;e<16;e+=2)t[1]^=n(this.S,r,0)^this.P[e],t[0]^=n(this.S,r,4)^this.P[e+1];var i=t[0];t[0]=t[1]^this.P[17],t[1]=i},e.prototype.decipher=function(t){var r=new Uint8Array(t.buffer);0!==t.byteOffset&&(r=r.subarray(t.byteOffset)),t[0]^=this.P[17];for(var e=16;e>0;e-=2)t[1]^=n(this.S,r,0)^this.P[e],t[0]^=n(this.S,r,4)^this.P[e-1];var i=t[0];t[0]=t[1]^this.P[0],t[1]=i},e.prototype.expand0state=function(t,e){var n,a,o=new Uint32Array(2),h=new Uint8Array(o.buffer);for(n=0,r=0;n<18;n++)this.P[n]^=i(t,e);for(r=0,n=0;n<18;n+=2)this.encipher(o,h),this.P[n]=o[0],this.P[n+1]=o[1];for(n=0;n<4;n++)for(a=0;a<256;a+=2)this.encipher(o,h),this.S[n][a]=o[0],this.S[n][a+1]=o[1]},e.prototype.expandstate=function(t,e,n,a){var o,h,f=new Uint32Array(2);for(o=0,r=0;o<18;o++)this.P[o]^=i(n,a);for(o=0,r=0;o<18;o+=2)f[0]^=i(t,e),f[1]^=i(t,e),this.encipher(f),this.P[o]=f[0],this.P[o+1]=f[1];for(o=0;o<4;o++)for(h=0;h<256;h+=2)f[0]^=i(t,e),f[1]^=i(t,e),this.encipher(f),this.S[o][h]=f[0],this.S[o][h+1]=f[1];r=0},e.prototype.enc=function(t,r){for(var e=0;e<r;e++)this.encipher(t.subarray(2*e))},e.prototype.dec=function(t,r){for(var e=0;e<r;e++)this.decipher(t.subarray(2*e))};var a=8,o=32;function h(t,r,n){var o,h=new e,f=new Uint32Array(a),s=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(h.expandstate(r,64,t,64),o=0;o<64;o++)h.expand0state(r,64),h.expand0state(t,64);for(o=0;o<a;o++)f[o]=i(s,s.byteLength);for(o=0;o<64;o++)h.enc(f,f.byteLength/8);for(o=0;o<a;o++)n[4*o+3]=f[o]>>>24,n[4*o+2]=f[o]>>>16,n[4*o+1]=f[o]>>>8,n[4*o+0]=f[o]}function f(r,e,n,i,a,f,s){var y,p,u,c,b,w,A=new Uint8Array(64),U=new Uint8Array(64),v=new Uint8Array(o),P=new Uint8Array(o),S=new Uint8Array(i+4),d=f;if(s<1)return-1;if(0===e||0===i||0===f||f>v.byteLength*v.byteLength||i>1<<20)return-1;for(c=Math.floor((f+v.byteLength-1)/v.byteLength),u=Math.floor((f+c-1)/c),y=0;y<i;y++)S[y]=n[y];for(t(A,r,e),w=1;f>0;w++){for(S[i+0]=w>>>24,S[i+1]=w>>>16,S[i+2]=w>>>8,S[i+3]=w,t(U,S,i+4),h(A,U,P),y=v.byteLength;y--;)v[y]=P[y];for(y=1;y<s;y++)for(t(U,P,P.byteLength),h(A,U,P),p=0;p<v.byteLength;p++)v[p]^=P[p];for(u=Math.min(u,f),y=0;y<u&&!((b=y*c+(w-1))>=d);y++)a[b]=v[y];f-=y}return 0}module.exports={BLOCKS:a,HASHSIZE:o,hash:h,pbkdf:f};
},{"tweetnacl":"eTMP"}],"ZUOk":[function(require,module,exports) {
module.exports={read:l,readSSHPrivate:h,write:y};var e,r=require("assert-plus"),t=require("asn1"),n=require("safer-buffer").Buffer,i=require("../algs"),a=require("../utils"),o=require("crypto"),s=require("../key"),f=require("../private-key"),p=require("./pem"),u=require("./rfc4253"),c=require("../ssh-buffer"),d=require("../errors");function l(e,r){return p.read(e,r)}var w="openssh-key-v1";function h(t,i,s){var f=(i=new c({buffer:i})).readCString();r.strictEqual(f,w,"bad magic string");var p=i.readString(),l=i.readString(),h=i.readBuffer();if(1!==i.readInt())throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var y=i.readBuffer();if("public"===t)return r.ok(i.atEnd(),"excess bytes left after key"),u.read(y);var v=i.readBuffer();r.ok(i.atEnd(),"excess bytes left after key");var k=new c({buffer:h});switch(l){case"none":if("none"!==p)throw new Error('OpenSSH-format key uses KDF "none" but specifies a cipher other than "none"');break;case"bcrypt":var S=k.readBuffer(),b=k.readInt(),g=a.opensshCipherInfo(p);if(void 0===e&&(e=require("bcrypt-pbkdf")),"string"==typeof s.passphrase&&(s.passphrase=n.from(s.passphrase,"utf-8")),!n.isBuffer(s.passphrase))throw new d.KeyEncryptedError(s.filename,"OpenSSH");var m=new Uint8Array(s.passphrase),E=new Uint8Array(S),B=new Uint8Array(g.keySize+g.blockSize);if(0!==e.pbkdf(m,m.length,E,E.length,B,B.length,b))throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var I=(B=n.from(B)).slice(0,g.keySize),q=B.slice(g.keySize,g.keySize+g.blockSize),z=o.createDecipheriv(g.opensslName,I,q);z.setAutoPadding(!1);var P,A=[];for(z.once("error",function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),z.write(v),z.end();null!==(P=z.read());)A.push(P);v=n.concat(A);break;default:throw new Error('OpenSSH-format key uses unknown KDF "'+l+'"')}if((i=new c({buffer:v})).readInt()!==i.readInt())throw new Error("Incorrect passphrase supplied, could not decrypt key");var U={},K=u.readInternal(U,"private",i.remainder());i.skip(U.consumed);var C=i.readString();return K.comment=C,K}function y(t,i){var s;s=f.isPrivateKey(t)?t.toPublic():t;var p,u,d="none",l="none",h=n.alloc(0),y={blockSize:8};if(void 0!==i&&("string"==typeof(p=i.passphrase)&&(p=n.from(p,"utf-8")),void 0!==p&&(r.buffer(p,"options.passphrase"),r.optionalString(i.cipher,"options.cipher"),void 0===(d=i.cipher)&&(d="aes128-ctr"),y=a.opensshCipherInfo(d),l="bcrypt")),f.isPrivateKey(t)){u=new c({});var v=o.randomBytes(4).readUInt32BE(0);u.writeInt(v),u.writeInt(v),u.write(t.toBuffer("rfc4253")),u.writeString(t.comment||"");for(var k=1;u._offset%y.blockSize!=0;)u.writeChar(k++);u=u.toBuffer()}switch(l){case"none":break;case"bcrypt":var S=o.randomBytes(16),b=new c({});b.writeBuffer(S),b.writeInt(16),h=b.toBuffer(),void 0===e&&(e=require("bcrypt-pbkdf"));var g=new Uint8Array(p),m=new Uint8Array(S),E=new Uint8Array(y.keySize+y.blockSize);if(0!==e.pbkdf(g,g.length,m,m.length,E,E.length,16))throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var B=(E=n.from(E)).slice(0,y.keySize),I=E.slice(y.keySize,y.keySize+y.blockSize),q=o.createCipheriv(y.opensslName,B,I);q.setAutoPadding(!1);var z,P=[];for(q.once("error",function(e){throw e}),q.write(u),q.end();null!==(z=q.read());)P.push(z);u=n.concat(P);break;default:throw new Error("Unsupported kdf "+l)}var A,U=new c({});U.writeCString(w),U.writeString(d),U.writeString(l),U.writeBuffer(h),U.writeInt(1),U.writeBuffer(s.toBuffer("rfc4253")),u&&U.writeBuffer(u),U=U.toBuffer(),A=f.isPrivateKey(t)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var K=U.toString("base64"),C=K.length+K.length/70+18+16+2*A.length+10,H=0;H+=(U=n.alloc(C)).write("-----BEGIN "+A+"-----\n",H);for(var O=0;O<K.length;){var N=O+70;N>K.length&&(N=K.length),H+=U.write(K.slice(O,N),H),U[H++]=10,O=N}return H+=U.write("-----END "+A+"-----\n",H),U.slice(0,H)}
},{"assert-plus":"RnCe","asn1":"ceMZ","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pem":"uOf6","./rfc4253":"v+iW","../ssh-buffer":"Lmz6","../errors":"8eeV","bcrypt-pbkdf":"4ZLE"}],"uOf6":[function(require,module,exports) {
module.exports={read:P,write:k};var e=require("assert-plus"),r=require("asn1"),t=require("crypto"),a=require("safer-buffer").Buffer,s=require("../algs"),i=require("../utils"),o=require("../key"),n=require("../private-key"),c=require("./pkcs1"),p=require("./pkcs8"),f=require("./ssh-private"),u=require("./rfc4253"),h=require("../errors"),d="1.2.840.113549.1.5.13",l="1.2.840.113549.1.5.12",E={"1.2.840.113549.3.7":"3des-cbc","2.16.840.1.101.3.4.1.2":"aes128-cbc","2.16.840.1.101.3.4.1.42":"aes256-cbc"},w={};Object.keys(E).forEach(function(e){w[E[e]]=e});var v={"1.2.840.113549.2.7":"sha1","1.2.840.113549.2.9":"sha256","1.2.840.113549.2.11":"sha512"},y={};function P(s,o,n){var w=s;"string"!=typeof s&&(e.buffer(s,"buf"),s=s.toString("ascii"));for(var y,P,k=s.trim().split(/[\r\n]+/g),q=-1;!y&&q<k.length;)y=k[++q].match(/[-]+[ ]*BEGIN ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);e.ok(y,"invalid PEM header");for(var g=k.length;!P&&g>0;)P=k[--g].match(/[-]+[ ]*END ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);e.ok(P,"invalid PEM footer"),e.equal(y[2],P[2]);var S,B=y[2].toLowerCase();y[1]&&(e.equal(y[1],P[1],"PEM header and footer mismatch"),S=y[1].trim()),k=k.slice(q,g+1);for(var I,m,K,b={};y=(k=k.slice(1))[0].match(/^([A-Za-z0-9-]+): (.+)$/);)b[y[1].toLowerCase()]=y[2];if(k=k.slice(0,-1).join(""),s=a.from(k,"base64"),b["proc-type"]){var C=b["proc-type"].split(",");if("4"===C[0]&&"ENCRYPTED"===C[1]){if("string"==typeof o.passphrase&&(o.passphrase=a.from(o.passphrase,"utf-8")),!a.isBuffer(o.passphrase))throw new h.KeyEncryptedError(o.filename,"PEM");C=b["dek-info"].split(","),e.ok(2===C.length),I=C[0].toLowerCase(),K=a.from(C[1],"hex"),m=i.opensslKeyDeriv(I,K,o.passphrase,1).key}}if(S&&"encrypted"===S.toLowerCase()){var D,A=new r.BerReader(s);A.readSequence(),A.readSequence(),D=A.offset+A.length;var L=A.readOID();if(L!==d)throw new Error("Unsupported PEM/PKCS8 encryption scheme: "+L);A.readSequence(),A.readSequence();var O=A.offset+A.length,R=A.readOID();if(R!==l)throw new Error("Unsupported PBES2 KDF: "+R);A.readSequence();var U=A.readString(r.Ber.OctetString,!0),Y=A.readInt(),M="sha1";if(A.offset<O){A.readSequence();var N=A.readOID();if(void 0===(M=v[N]))throw new Error("Unsupported PBKDF2 hash: "+N)}A._offset=O,A.readSequence();var T=A.readOID();if(void 0===(I=E[T]))throw new Error("Unsupported PBES2 cipher: "+T);if(K=A.readString(r.Ber.OctetString,!0),A._offset=D,s=A.readString(r.Ber.OctetString,!0),"string"==typeof o.passphrase&&(o.passphrase=a.from(o.passphrase,"utf-8")),!a.isBuffer(o.passphrase))throw new h.KeyEncryptedError(o.filename,"PEM");var Z=i.opensshCipherInfo(I);I=Z.opensslName,m=i.pbkdf2(M,U,Y,Z.keySize,o.passphrase),S=void 0}if(I&&m&&K){var j,z=t.createDecipheriv(I,m,K),V=[];for(z.once("error",function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),z.write(s),z.end();null!==(j=z.read());)V.push(j);s=a.concat(V)}if(S&&"openssh"===S.toLowerCase())return f.readSSHPrivate(B,s,o);if(S&&"ssh2"===S.toLowerCase())return u.readType(B,s,o);var x=new r.BerReader(s);return x.originalInput=w,x.readSequence(),S?(n&&e.strictEqual(n,"pkcs1"),c.readPkcs1(S,B,x)):(n&&e.strictEqual(n,"pkcs8"),p.readPkcs8(S,B,x))}function k(t,s,i){e.object(t);var f,u={ecdsa:"EC",rsa:"RSA",dsa:"DSA",ed25519:"EdDSA"}[t.type],h=new r.BerWriter;if(n.isPrivateKey(t))i&&"pkcs8"===i?(f="PRIVATE KEY",p.writePkcs8(h,t)):(i&&e.strictEqual(i,"pkcs1"),f=u+" PRIVATE KEY",c.writePkcs1(h,t));else{if(!o.isKey(t))throw new Error("key is not a Key or PrivateKey");i&&"pkcs1"===i?(f=u+" PUBLIC KEY",c.writePkcs1(h,t)):(i&&e.strictEqual(i,"pkcs8"),f="PUBLIC KEY",p.writePkcs8(h,t))}var d=h.buffer.toString("base64"),l=d.length+d.length/64+18+16+2*f.length+10,E=a.alloc(l),w=0;w+=E.write("-----BEGIN "+f+"-----\n",w);for(var v=0;v<d.length;){var y=v+64;y>d.length&&(y=d.length),w+=E.write(d.slice(v,y),w),E[w++]=10,v=y}return w+=E.write("-----END "+f+"-----\n",w),E.slice(0,w)}Object.keys(v).forEach(function(e){y[v[e]]=e});
},{"assert-plus":"RnCe","asn1":"ceMZ","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pkcs1":"THrb","./pkcs8":"0LzK","./ssh-private":"ZUOk","./rfc4253":"v+iW","../errors":"8eeV"}],"EvH8":[function(require,module,exports) {
module.exports={read:o,write:l};var e=require("assert-plus"),r=require("safer-buffer").Buffer,t=require("./rfc4253"),a=require("../utils"),i=require("../key"),c=require("../private-key"),s=require("./ssh-private"),u=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([ \t]+([^ \t][^\n]*[\n]*)?)?$/,n=/^([a-z0-9-]+)[ \t\n]+([a-zA-Z0-9+\/][a-zA-Z0-9+\/ \t\n=]*)([^a-zA-Z0-9+\/ \t\n=].*)?$/;function o(a,i){"string"!=typeof a&&(e.buffer(a,"buf"),a=a.toString("ascii"));var c=a.trim().replace(/[\\\r]/g,""),s=c.match(u);s||(s=c.match(n)),e.ok(s,"key must match regex");var o,l=t.algToKeyType(s[1]),m=r.from(s[2],"base64"),f={};if(s[4])try{o=t.read(m)}catch(b){s=c.match(n),e.ok(s,"key must match regex"),m=r.from(s[2],"base64"),o=t.readInternal(f,"public",m)}else o=t.readInternal(f,"public",m);if(e.strictEqual(l,o.type),s[4]&&s[4].length>0)o.comment=s[4];else if(f.consumed){var p=s[2]+(s[3]?s[3]:""),h=4*Math.ceil(f.consumed/3);for(p=p.slice(0,h-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+p.slice(h-2),f.consumed%3>0&&"="!==p.slice(h-1,h)&&h--;"="===p.slice(h,h+1);)h++;var y=p.slice(h);(y=y.replace(/[\r\n]/g," ").replace(/^\s+/,"")).match(/^[a-zA-Z0-9]/)&&(o.comment=y)}return o}function l(a,c){if(e.object(a),!i.isKey(a))throw new Error("Must be a public key");var s=[],u=t.keyTypeToAlg(a);s.push(u);var n=t.write(a);return s.push(n.toString("base64")),a.comment&&s.push(a.comment),r.from(s.join(" "))}
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./rfc4253":"v+iW","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./ssh-private":"ZUOk"}],"t9Yh":[function(require,module,exports) {
module.exports={read:m,write:A};var r=require("assert-plus"),e=require("safer-buffer").Buffer,a=require("../key"),t=require("../private-key"),n=require("../utils"),i=require("../ssh-buffer"),o=require("../dhe"),p={"rsa-sha1":5,"rsa-sha256":8,"rsa-sha512":10,"ecdsa-p256-sha256":13,"ecdsa-p384-sha384":14},s={};function m(e,a){"string"!=typeof e&&(r.buffer(e,"buf"),e=e.toString("ascii"));var t=e.split("\n");if(t[0].match(/^Private-key-format\: v1/)){var n=t[1].split(" "),i=parseInt(n[1],10),o=n[2];if(!s[i])throw new Error("Unsupported algorithm: "+o);return f(i,t.slice(2))}for(var p=0;t[p].match(/^\;/);)p++;if((t[p].match(/\. IN KEY /)||t[p].match(/\. IN DNSKEY /))&&0===t[p+1].length)return d(t[p]);throw new Error("Cannot parse dnssec key")}function d(r){var t=r.split(" "),i=parseInt(t[5],10);if(!s[i])throw new Error("Unsupported algorithm: "+i);var o=t.slice(6,t.length).join(),p=e.from(o,"base64");if(s[i].match(/^RSA-/)){var m=p.readUInt8(0);if(3!=m&&1!=m)throw new Error("Cannot parse dnssec key: unsupported exponent length");var d=p.slice(1,m+1);d=n.mpNormalize(d);var u=p.slice(1+m);u=n.mpNormalize(u);var l={type:"rsa",parts:[]};return l.parts.push({name:"e",data:d}),l.parts.push({name:"n",data:u}),new a(l)}if("ECDSA-P384-SHA384"===s[i]||"ECDSA-P256-SHA256"===s[i]){var f="nistp384",h=384;s[i].match(/^ECDSA-P256-SHA256/)&&(f="nistp256",h=256);var c={type:"ecdsa",curve:f,size:h,parts:[{name:"curve",data:e.from(f)},{name:"Q",data:n.ecNormalize(p)}]};return new a(c)}throw new Error("Unsupported algorithm: "+s[i])}function u(r){return e.from(r.split(" ")[1],"base64")}function l(r){var e={};r.forEach(function(r){"Modulus:"===r.split(" ")[0]?e.n=u(r):"PublicExponent:"===r.split(" ")[0]?e.e=u(r):"PrivateExponent:"===r.split(" ")[0]?e.d=u(r):"Prime1:"===r.split(" ")[0]?e.p=u(r):"Prime2:"===r.split(" ")[0]?e.q=u(r):"Exponent1:"===r.split(" ")[0]?e.dmodp=u(r):"Exponent2:"===r.split(" ")[0]?e.dmodq=u(r):"Coefficient:"===r.split(" ")[0]&&(e.iqmp=u(r))});var a={type:"rsa",parts:[{name:"e",data:n.mpNormalize(e.e)},{name:"n",data:n.mpNormalize(e.n)},{name:"d",data:n.mpNormalize(e.d)},{name:"p",data:n.mpNormalize(e.p)},{name:"q",data:n.mpNormalize(e.q)},{name:"dmodp",data:n.mpNormalize(e.dmodp)},{name:"dmodq",data:n.mpNormalize(e.dmodq)},{name:"iqmp",data:n.mpNormalize(e.iqmp)}]};return new t(a)}function f(r,a){if(s[r].match(/^RSA-/))return l(a);if("ECDSA-P384-SHA384"===s[r]||"ECDSA-P256-SHA256"===s[r]){var i=e.from(a[0].split(" ")[1],"base64"),o="nistp384",p=384;"ECDSA-P256-SHA256"===s[r]&&(o="nistp256",p=256);var m=n.publicFromPrivateECDSA(o,i).part.Q.data,d={type:"ecdsa",curve:o,size:p,parts:[{name:"curve",data:e.from(o)},{name:"d",data:i},{name:"Q",data:m}]};return new t(d)}throw new Error("Unsupported algorithm: "+s[r])}function h(r){var e=r.getFullYear()+""+(r.getMonth()+1)+r.getUTCDate();return e+=""+r.getUTCHours()+r.getUTCMinutes(),e+=r.getUTCSeconds()}function c(r){if(r&&r.hashAlgo&&"sha1"!==r.hashAlgo){if("sha256"===r.hashAlgo)return"8 (RSASHA256)";if("sha512"===r.hashAlgo)return"10 (RSASHA512)";throw new Error("Unknown or unsupported hash: "+r.hashAlgo)}return"5 (RSASHA1)"}function v(r,a){r.part.dmodp&&r.part.dmodq||n.addRSAMissing(r);var t="";t+="Private-key-format: v1.3\n",t+="Algorithm: "+c(a)+"\n",t+="Modulus: "+n.mpDenormalize(r.part.n.data).toString("base64")+"\n",t+="PublicExponent: "+n.mpDenormalize(r.part.e.data).toString("base64")+"\n",t+="PrivateExponent: "+n.mpDenormalize(r.part.d.data).toString("base64")+"\n",t+="Prime1: "+n.mpDenormalize(r.part.p.data).toString("base64")+"\n",t+="Prime2: "+n.mpDenormalize(r.part.q.data).toString("base64")+"\n",t+="Exponent1: "+n.mpDenormalize(r.part.dmodp.data).toString("base64")+"\n",t+="Exponent2: "+n.mpDenormalize(r.part.dmodq.data).toString("base64")+"\n",t+="Coefficient: "+n.mpDenormalize(r.part.iqmp.data).toString("base64")+"\n";var i=new Date;return t+="Created: "+h(i)+"\n",t+="Publish: "+h(i)+"\n",t+="Activate: "+h(i)+"\n",e.from(t,"ascii")}function S(r,a){var t="";if(t+="Private-key-format: v1.3\n","nistp256"===r.curve)t+="Algorithm: 13 (ECDSAP256SHA256)\n";else{if("nistp384"!==r.curve)throw new Error("Unsupported curve");t+="Algorithm: 14 (ECDSAP384SHA384)\n"}t+="PrivateKey: "+r.part.d.data.toString("base64")+"\n";var n=new Date;return t+="Created: "+h(n)+"\n",t+="Publish: "+h(n)+"\n",t+="Activate: "+h(n)+"\n",e.from(t,"ascii")}function A(r,e){if(t.isPrivateKey(r)){if("rsa"===r.type)return v(r,e);if("ecdsa"===r.type)return S(r,e);throw new Error("Unsupported algorithm: "+r.type)}throw a.isKey(r)?new Error('Format "dnssec" only supports writing private keys'):new Error("key is not a Key or PrivateKey")}Object.keys(p).forEach(function(r){s[p[r]]=r.toUpperCase()});
},{"assert-plus":"RnCe","safer-buffer":"o7gO","../key":"llMH","../private-key":"Tg/q","../utils":"na/q","../ssh-buffer":"Lmz6","../dhe":"ctmP"}],"2s3A":[function(require,module,exports) {
module.exports={read:o,write:s};var e=require("assert-plus"),r=require("safer-buffer").Buffer,i=require("./rfc4253"),n=require("../key"),t=require("../errors");function o(n,t){for(var o,s=n.toString("ascii").split(/[\r\n]+/),a=!1,f=0;f<s.length;)if((o=u(s[f++]))&&"putty-user-key-file-2"===o[0].toLowerCase()){a=!0;break}if(!a)throw new Error("No PuTTY format first line found");var l=o[1];o=u(s[f++]),e.equal(o[0].toLowerCase(),"encryption"),o=u(s[f++]),e.equal(o[0].toLowerCase(),"comment");var c=o[1];o=u(s[f++]),e.equal(o[0].toLowerCase(),"public-lines");var h=parseInt(o[1],10);if(!isFinite(h)||h<0||h>s.length)throw new Error("Invalid public-lines count");var m=r.from(s.slice(f,f+h).join(""),"base64"),p=i.algToKeyType(l),w=i.read(m);if(w.type!==p)throw new Error("Outer key algorithm mismatch");return w.comment=c,w}function u(e){var r=e.indexOf(":");if(-1===r)return null;var i=e.slice(0,r);for(++r;" "===e[r];)++r;return[i,e.slice(r)]}function s(t,o){if(e.object(t),!n.isKey(t))throw new Error("Must be a public key");var u=i.keyTypeToAlg(t),s=i.write(t),f=t.comment||"",l=a(s.toString("base64"),64);return l.unshift("Public-Lines: "+l.length),l.unshift("Comment: "+f),l.unshift("Encryption: none"),l.unshift("PuTTY-User-Key-File-2: "+u),r.from(l.join("\n")+"\n")}function a(e,r){for(var i=[],n=0;n<e.length;)i.push(e.slice(n,n+64)),n+=64;return i}
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./rfc4253":"v+iW","../key":"llMH","../errors":"8eeV"}],"l5vp":[function(require,module,exports) {
module.exports={read:l,write:y};var r=require("assert-plus"),e=require("safer-buffer").Buffer,t=require("../utils"),i=require("../key"),n=require("../private-key"),a=require("./pem"),u=require("./ssh"),f=require("./rfc4253"),o=require("./dnssec"),s=require("./putty"),c="Private-key-format: v1";function l(t,i){if("string"==typeof t){if(t.trim().match(/^[-]+[ ]*BEGIN/))return a.read(t,i);if(t.match(/^\s*ssh-[a-z]/))return u.read(t,i);if(t.match(/^\s*ecdsa-/))return u.read(t,i);if(t.match(/^putty-user-key-file-2:/i))return s.read(t,i);if(m(t))return o.read(t,i);t=e.from(t,"binary")}else{if(r.buffer(t),d(t))return a.read(t,i);if(g(t))return u.read(t,i);if(h(t))return s.read(t,i);if(m(t))return o.read(t,i)}if(t.readUInt32BE(0)<t.length)return f.read(t,i);throw new Error("Failed to auto-detect format of key")}function h(r){for(var e=0;e<r.length&&(32===r[e]||10===r[e]||9===r[e]);)++e;return e+22<=r.length&&"putty-user-key-file-2:"===r.slice(e,e+22).toString("ascii").toLowerCase()}function g(r){for(var e=0;e<r.length&&(32===r[e]||10===r[e]||9===r[e]);)++e;return e+4<=r.length&&"ssh-"===r.slice(e,e+4).toString("ascii")||e+6<=r.length&&"ecdsa-"===r.slice(e,e+6).toString("ascii")}function d(r){for(var e=0;e<r.length&&(32===r[e]||10===r[e]);)++e;if(45!==r[e])return!1;for(;e<r.length&&45===r[e];)++e;for(;e<r.length&&32===r[e];)++e;return!(e+5>r.length||"BEGIN"!==r.slice(e,e+5).toString("ascii"))}function m(r){if(r.length<=c.length)return!1;if(r.slice(0,c.length).toString("ascii")===c)return!0;"string"!=typeof r&&(r=r.toString("ascii"));for(var e=r.split("\n"),t=0;e[t].match(/^\;/);)t++;return!!e[t].toString("ascii").match(/\. IN KEY /)||!!e[t].toString("ascii").match(/\. IN DNSKEY /)}function y(r,e){throw new Error('"auto" format cannot be used for writing')}
},{"assert-plus":"RnCe","safer-buffer":"o7gO","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pem":"uOf6","./ssh":"EvH8","./rfc4253":"v+iW","./dnssec":"t9Yh","./putty":"2s3A"}],"Tg/q":[function(require,module,exports) {
module.exports=b;var e=require("assert-plus"),r=require("safer-buffer").Buffer,t=require("./algs"),i=require("crypto"),o=require("./fingerprint"),n=require("./signature"),a=require("./errors"),s=require("util"),p=require("./utils"),u=require("./dhe"),c=u.generateECDSA,f=u.generateED25519,h=require("./ed-compat"),m=require("tweetnacl"),y=require("./key"),d=a.InvalidAlgorithmError,l=a.KeyParseError,v=a.KeyEncryptedError,g={};function b(r){e.object(r,"options"),y.call(this,r),this._pubCache=void 0}g.auto=require("./formats/auto"),g.pem=require("./formats/pem"),g.pkcs1=require("./formats/pkcs1"),g.pkcs8=require("./formats/pkcs8"),g.rfc4253=require("./formats/rfc4253"),g["ssh-private"]=require("./formats/ssh-private"),g.openssh=g["ssh-private"],g.ssh=g["ssh-private"],g.dnssec=require("./formats/dnssec"),s.inherits(b,y),b.formats=g,b.prototype.toBuffer=function(r,t){return void 0===r&&(r="pkcs1"),e.string(r,"format"),e.object(g[r],"formats[format]"),e.optionalObject(t,"options"),g[r].write(this,t)},b.prototype.hash=function(e,r){return this.toPublic().hash(e,r)},b.prototype.fingerprint=function(e,r){return this.toPublic().fingerprint(e,r)},b.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=t.info[this.type],r=[],i=0;i<e.parts.length;++i){var o=e.parts[i];r.push(this.part[o])}return this._pubCache=new y({type:this.type,source:this,parts:r}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},b.prototype.derive=function(t){var i,o,n;if(e.string(t,"type"),"ed25519"===this.type&&"curve25519"===t)return 0===(i=this.part.k.data)[0]&&(i=i.slice(1)),n=m.box.keyPair.fromSecretKey(new Uint8Array(i)),o=r.from(n.publicKey),new b({type:"curve25519",parts:[{name:"A",data:p.mpNormalize(o)},{name:"k",data:p.mpNormalize(i)}]});if("curve25519"===this.type&&"ed25519"===t)return 0===(i=this.part.k.data)[0]&&(i=i.slice(1)),n=m.sign.keyPair.fromSeed(new Uint8Array(i)),o=r.from(n.publicKey),new b({type:"ed25519",parts:[{name:"A",data:p.mpNormalize(o)},{name:"k",data:p.mpNormalize(i)}]});throw new Error("Key derivation not supported from "+this.type+" to "+t)},b.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},b.prototype.createSign=function(t){if(void 0===t&&(t=this.defaultHashAlgorithm()),e.string(t,"hash algorithm"),"ed25519"===this.type&&void 0!==h)return new h.Signer(this,t);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var o,a,s;try{a=t.toUpperCase(),o=i.createSign(a)}catch(m){s=m}(void 0===o||s instanceof Error&&s.message.match(/Unknown message digest/))&&(a="RSA-",a+=t.toUpperCase(),o=i.createSign(a)),e.ok(o,"failed to create verifier");var p=o.sign.bind(o),u=this.toBuffer("pkcs1"),c=this.type,f=this.curve;return o.sign=function(){var e=p(u);return"string"==typeof e&&(e=r.from(e,"binary")),(e=n.parse(e,c,"asn1")).hashAlgorithm=t,e.curve=f,e},o},b.parse=function(r,t,i){"string"!=typeof r&&e.buffer(r,"data"),void 0===t&&(t="auto"),e.string(t,"format"),"string"==typeof i&&(i={filename:i}),e.optionalObject(i,"options"),void 0===i&&(i={}),e.optionalString(i.filename,"options.filename"),void 0===i.filename&&(i.filename="(unnamed)"),e.object(g[t],"formats[format]");try{var o=g[t].read(r,i);return e.ok(o instanceof b,"key is not a private key"),o.comment||(o.comment=i.filename),o}catch(n){if("KeyEncryptedError"===n.name)throw n;throw new l(i.filename,t,n)}},b.isPrivateKey=function(e,r){return p.isCompatible(e,b,r)},b.generate=function(r,t){switch(void 0===t&&(t={}),e.object(t,"options"),r){case"ecdsa":return void 0===t.curve&&(t.curve="nistp256"),e.string(t.curve,"options.curve"),c(t.curve);case"ed25519":return f();default:throw new Error('Key generation not supported with key type "'+r+'"')}},b.prototype._sshpkApiVersion=[1,6],b._oldVersionDetect=function(r){return e.func(r.toPublic),e.func(r.createSign),r.derive?[1,3]:r.defaultHashAlgorithm?[1,2]:r.formats.auto?[1,1]:[1,0]};
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./algs":"UgGu","./fingerprint":"mzob","./signature":"UAEA","./errors":"8eeV","./utils":"na/q","./dhe":"ctmP","./ed-compat":"6fj+","tweetnacl":"eTMP","./key":"llMH","./formats/auto":"l5vp","./formats/pem":"uOf6","./formats/pkcs1":"THrb","./formats/pkcs8":"0LzK","./formats/rfc4253":"v+iW","./formats/ssh-private":"ZUOk","./formats/dnssec":"t9Yh"}],"M7xi":[function(require,module,exports) {
module.exports=m;var e=require("assert-plus"),t=require("./algs"),n=require("crypto"),o=require("./fingerprint"),r=require("./signature"),i=require("./errors"),s=require("util"),u=require("./utils"),a=require("asn1"),p=require("safer-buffer").Buffer,c=/^([*]|[a-z0-9][a-z0-9\-]{0,62})(?:\.([*]|[a-z0-9][a-z0-9\-]{0,62}))*$/i,h={cn:"2.5.4.3",o:"2.5.4.10",ou:"2.5.4.11",l:"2.5.4.7",s:"2.5.4.8",c:"2.5.4.6",sn:"2.5.4.4",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",street:"2.5.4.9",x500UniqueIdentifier:"2.5.4.45",role:"2.5.4.72",telephoneNumber:"2.5.4.20",description:"2.5.4.13",dc:"0.9.2342.19200300.100.1.25",uid:"0.9.2342.19200300.100.1.1",mail:"0.9.2342.19200300.100.1.3",title:"2.5.4.12",gn:"2.5.4.42",initials:"2.5.4.43",pseudonym:"2.5.4.65",emailAddress:"1.2.840.113549.1.9.1"},l={};function m(t){var n=this;if(e.object(t,"options"),e.arrayOfObject(t.components,"options.components"),this.components=t.components,this.componentLookup={},this.components.forEach(function(e){e.name&&!e.oid&&(e.oid=h[e.name]),e.oid&&!e.name&&(e.name=l[e.oid]),void 0===n.componentLookup[e.name]&&(n.componentLookup[e.name]=[]),n.componentLookup[e.name].push(e)}),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),e.optionalString(t.type,"options.type"),void 0===t.type)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(c)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type="host",this.hostname=this.componentLookup.dc.map(function(e){return e.value}).join(".")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(c)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type="email",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type="user",this.uid=this.componentLookup.cn[0].value):this.type="unknown";else if(this.type=t.type,"host"===this.type)this.hostname=t.hostname;else if("user"===this.type)this.uid=t.uid;else{if("email"!==this.type)throw new Error("Unknown type "+this.type);this.email=t.email}}Object.keys(h).forEach(function(e){l[h[e]]=e}),m.prototype.toString=function(){return this.components.map(function(e){var t=e.name.toUpperCase();t=t.replace(/=/g,"\\=");var n=e.value;return t+"="+(n=n.replace(/,/g,"\\,"))}).join(", ")},m.prototype.get=function(t,n){e.string(t,"name");var o=this.componentLookup[t];if(void 0!==o&&0!==o.length){if(!n&&o.length>1)throw new Error("Multiple values for attribute "+t);return n?o.map(function(e){return e.value}):o[0].value}},m.prototype.toArray=function(e){return this.components.map(function(e){return{name:e.name,value:e.value}})};var f=/[^a-zA-Z0-9 '(),+.\/:=?-]/,g=/[^\x00-\x7f]/;function d(e,t){if("**"===e||"**"===t)return!0;var n=e.split("."),o=t.split(".");if(n.length!==o.length)return!1;for(var r=0;r<n.length;++r)if("*"!==n[r]&&"*"!==o[r]&&n[r]!==o[r])return!1;return!0}m.prototype.toAsn1=function(e,t){e.startSequence(t),this.components.forEach(function(t){if(e.startSequence(a.Ber.Constructor|a.Ber.Set),e.startSequence(),e.writeOID(t.oid),t.asn1type===a.Ber.Utf8String||t.value.match(g)){var n=p.from(t.value,"utf8");e.writeBuffer(n,a.Ber.Utf8String)}else if(t.asn1type===a.Ber.IA5String||t.value.match(f))e.writeString(t.value,a.Ber.IA5String);else{var o=a.Ber.PrintableString;void 0!==t.asn1type&&(o=t.asn1type),e.writeString(t.value,o)}e.endSequence(),e.endSequence()}),e.endSequence()},m.prototype.equals=function(e){if(!m.isIdentity(e,[1,0]))return!1;if(e.components.length!==this.components.length)return!1;for(var t=0;t<this.components.length;++t){if(this.components[t].oid!==e.components[t].oid)return!1;if(!d(this.components[t].value,e.components[t].value))return!1}return!0},m.forHost=function(t){return e.string(t,"hostname"),new m({type:"host",hostname:t,components:[{name:"cn",value:t}]})},m.forUser=function(t){return e.string(t,"uid"),new m({type:"user",uid:t,components:[{name:"uid",value:t}]})},m.forEmail=function(t){return e.string(t,"email"),new m({type:"email",email:t,components:[{name:"mail",value:t}]})},m.parseDN=function(t){e.string(t,"dn");for(var n=[""],o=0,r=t;r.length>0;){var i;if(null!==(i=/^,/.exec(r)))n[++o]="",r=r.slice(i[0].length);else if(null!==(i=/^\\,/.exec(r)))n[o]+=",",r=r.slice(i[0].length);else if(null!==(i=/^\\./.exec(r)))n[o]+=i[0],r=r.slice(i[0].length);else{if(null===(i=/^[^\\,]+/.exec(r)))throw new Error("Failed to parse DN");n[o]+=i[0],r=r.slice(i[0].length)}}return new m({components:n.map(function(e){for(var t=(e=e.trim()).indexOf("=");t>0&&"\\"===e.charAt(t-1);)t=e.indexOf("=",t+1);if(-1===t)throw new Error("Failed to parse DN");return{name:e.slice(0,t).toLowerCase().replace(/\\=/g,"="),value:e.slice(t+1)}})})},m.fromArray=function(t){return e.arrayOfObject(t,"components"),t.forEach(function(t){if(e.object(t,"component"),e.string(t.name,"component.name"),!p.isBuffer(t.value)&&"string"!=typeof t.value)throw new Error("Invalid component value")}),new m({components:t})},m.parseAsn1=function(e,t){var n=[];e.readSequence(t);for(var o=e.offset+e.length;e.offset<o;){e.readSequence(a.Ber.Constructor|a.Ber.Set);var r=e.offset+e.length;e.readSequence();var i,s=e.readOID(),u=e.peek();switch(u){case a.Ber.PrintableString:case a.Ber.IA5String:case a.Ber.OctetString:case a.Ber.T61String:i=e.readString(u);break;case a.Ber.Utf8String:i=(i=e.readString(u,!0)).toString("utf8");break;case a.Ber.CharacterString:case a.Ber.BMPString:i=(i=e.readString(u,!0)).toString("utf16le");break;default:throw new Error("Unknown asn1 type "+u)}n.push({oid:s,asn1type:u,value:i}),e._offset=r}return e._offset=o,new m({components:n})},m.isIdentity=function(e,t){return u.isCompatible(e,m,t)},m.prototype._sshpkApiVersion=[1,0],m._oldVersionDetect=function(e){return[1,0]};
},{"assert-plus":"RnCe","./algs":"UgGu","./fingerprint":"mzob","./signature":"UAEA","./errors":"8eeV","./utils":"na/q","asn1":"ceMZ","safer-buffer":"o7gO"}],"RP1m":[function(require,module,exports) {
module.exports={read:g,verify:h,sign:m,signAsync:B,write:b,fromBuffer:w,toBuffer:E};var e=require("assert-plus"),r=require("../ssh-buffer"),t=require("crypto"),n=require("safer-buffer").Buffer,s=require("../algs"),a=require("../key"),i=require("../private-key"),u=require("../identity"),o=require("./rfc4253"),f=require("../signature"),c=require("../utils"),d=require("../certificate");function h(e,r){return!1}var p={user:1,host:2};Object.keys(p).forEach(function(e){p[p[e]]=e});var v=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/;function g(e,r){n.isBuffer(e)&&(e=e.toString("ascii"));var t=e.trim().split(/[ \t\n]+/g);if(t.length<2||t.length>3)throw new Error("Not a valid SSH certificate line");var s=t[0],a=t[1];return w(a=n.from(a,"base64"),s)}function w(t,n,i){var h=new r({buffer:t}),g=h.readString();if(void 0!==n&&g!==n)throw new Error("SSH certificate algorithm mismatch");void 0===n&&(n=g);var w={signatures:{}};w.signatures.openssh={},w.signatures.openssh.nonce=h.readBuffer();var y={},m=y.parts=[];y.type=S(n);for(var B=s.info[y.type].parts.length;m.length<B;)m.push(h.readPart());e.ok(m.length>=1,"key must have at least one part");var b=s.info[y.type];if("ecdsa"===y.type){var E=v.exec(n);e.ok(null!==E),e.strictEqual(E[1],m[0].data.toString())}for(var I=0;I<b.parts.length;++I)if(m[I].name=b.parts[I],"curve"!==m[I].name&&!1!==b.normalize){var q=m[I];q.data=c.mpNormalize(q.data)}w.subjectKey=new a(y),w.serial=h.readInt64();var j=p[h.readInt()];e.string(j,"valid cert type"),w.signatures.openssh.keyId=h.readString();for(var k=[],U=h.readBuffer(),K=new r({buffer:U});!K.atEnd();)k.push(K.readString());0===k.length&&(k=["*"]),w.subjects=k.map(function(e){if("user"===j)return u.forUser(e);if("host"===j)return u.forHost(e);throw new Error("Unknown identity type "+j)}),w.validFrom=l(h.readInt64()),w.validUntil=l(h.readInt64());for(var x,H=[],M=new r({buffer:h.readBuffer()});!M.atEnd();)(x={critical:!0}).name=M.readString(),x.data=M.readBuffer(),H.push(x);for(M=new r({buffer:h.readBuffer()});!M.atEnd();)(x={critical:!1}).name=M.readString(),x.data=M.readBuffer(),H.push(x);w.signatures.openssh.exts=H,h.readBuffer();var z=h.readBuffer();w.issuerKey=o.read(z),w.issuer=u.forHost("**");var F=h.readBuffer();return w.signatures.openssh.signature=f.parse(F,w.issuerKey.type,"ssh"),void 0!==i&&(i.remainder=h.remainder(),i.consumed=h._offset),new d(w)}function l(e){var r=4294967296*e.readUInt32BE(0);r+=e.readUInt32BE(4);var t=new Date;return t.setTime(1e3*r),t.sourceInt64=e,t}function y(e){if(void 0!==e.sourceInt64)return e.sourceInt64;var r=Math.round(e.getTime()/1e3),t=Math.floor(r/4294967296),s=Math.floor(r%4294967296),a=n.alloc(8);return a.writeUInt32BE(t,0),a.writeUInt32BE(s,4),a}function m(e,r){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var t=E(e,!0)}catch(i){return delete e.signatures.openssh,!1}var n=e.signatures.openssh,s=void 0;"rsa"!==r.type&&"dsa"!==r.type||(s="sha1");var a=r.createSign(s);return a.write(t),n.signature=a.sign(),!0}function B(e,r,t){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var n=E(e,!0)}catch(a){return delete e.signatures.openssh,void t(a)}var s=e.signatures.openssh;r(n,function(e,r){if(e)t(e);else{try{r.toBuffer("ssh")}catch(a){return void t(a)}s.signature=r,t()}})}function b(e,r){void 0===r&&(r={});var t=E(e),n=I(e.subjectKey)+" "+t.toString("base64");return r.comment&&(n=n+" "+r.comment),n}function E(a,i){e.object(a.signatures.openssh,"signature for openssh format");var u=a.signatures.openssh;void 0===u.nonce&&(u.nonce=t.randomBytes(16));var f=new r({});f.writeString(I(a.subjectKey)),f.writeBuffer(u.nonce);var c=a.subjectKey;s.info[c.type].parts.forEach(function(e){f.writePart(c.part[e])}),f.writeInt64(a.serial);var d=a.subjects[0].type;e.notStrictEqual(d,"unknown"),a.subjects.forEach(function(r){e.strictEqual(r.type,d)}),d=p[d],f.writeInt(d),void 0===u.keyId&&(u.keyId=a.subjects[0].type+"_"+(a.subjects[0].uid||a.subjects[0].hostname)),f.writeString(u.keyId);var h=new r({});a.subjects.forEach(function(e){d===p.host?h.writeString(e.hostname):d===p.user&&h.writeString(e.uid)}),f.writeBuffer(h.toBuffer()),f.writeInt64(y(a.validFrom)),f.writeInt64(y(a.validUntil));var v=u.exts;void 0===v&&(v=[]);var g=new r({});return v.forEach(function(e){!0===e.critical&&(g.writeString(e.name),g.writeBuffer(e.data))}),f.writeBuffer(g.toBuffer()),g=new r({}),v.forEach(function(e){!0!==e.critical&&(g.writeString(e.name),g.writeBuffer(e.data))}),f.writeBuffer(g.toBuffer()),f.writeBuffer(n.alloc(0)),h=o.write(a.issuerKey),f.writeBuffer(h),i||f.writeBuffer(u.signature.toBuffer("ssh")),f.toBuffer()}function S(e){if("ssh-rsa-cert-v01@openssh.com"===e)return"rsa";if("ssh-dss-cert-v01@openssh.com"===e)return"dsa";if(e.match(v))return"ecdsa";if("ssh-ed25519-cert-v01@openssh.com"===e)return"ed25519";throw new Error("Unsupported cert type "+e)}function I(e){if("rsa"===e.type)return"ssh-rsa-cert-v01@openssh.com";if("dsa"===e.type)return"ssh-dss-cert-v01@openssh.com";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.curve+"-cert-v01@openssh.com";if("ed25519"===e.type)return"ssh-ed25519-cert-v01@openssh.com";throw new Error("Unsupported key type "+e.type)}
},{"assert-plus":"RnCe","../ssh-buffer":"Lmz6","safer-buffer":"o7gO","../algs":"UgGu","../key":"llMH","../private-key":"Tg/q","../identity":"M7xi","./rfc4253":"v+iW","../signature":"UAEA","../utils":"na/q","../certificate":"Y1sm"}],"9eeX":[function(require,module,exports) {
module.exports={read:q,verify:g,sign:j,signAsync:A,write:E};var e=require("assert-plus"),r=require("asn1"),t=require("safer-buffer").Buffer,a=require("../algs"),s=require("../utils"),n=require("../key"),i=require("../private-key"),u=require("./pem"),o=require("../identity"),c=require("../signature"),f=require("../certificate"),l=require("./pkcs8");function d(t,a){return e.strictEqual(t.peek(),r.Ber.Integer,a+" is not an Integer"),s.mpNormalize(t.readString(r.Ber.Integer,!0))}function g(t,a){var s=t.signatures.x509;e.object(s,"x509 signature");var n=s.algo.split("-");if(n[0]!==a.type)return!1;var i=s.cache;if(void 0===i){var u=new r.BerWriter;F(t,u),i=u.buffer}var o=a.createVerify(n[1]);return o.write(i),o.verify(s.signature)}function p(e){return r.Ber.Context|r.Ber.Constructor|e}function h(e){return r.Ber.Context|e}var v={"rsa-md5":"1.2.840.113549.1.1.4","rsa-sha1":"1.2.840.113549.1.1.5","rsa-sha256":"1.2.840.113549.1.1.11","rsa-sha384":"1.2.840.113549.1.1.12","rsa-sha512":"1.2.840.113549.1.1.13","dsa-sha1":"1.2.840.10040.4.3","dsa-sha256":"2.16.840.1.101.3.4.3.2","ecdsa-sha1":"1.2.840.10045.4.1","ecdsa-sha256":"1.2.840.10045.4.3.2","ecdsa-sha384":"1.2.840.10045.4.3.3","ecdsa-sha512":"1.2.840.10045.4.3.4","ed25519-sha512":"1.3.101.112"};Object.keys(v).forEach(function(e){v[v[e]]=e}),v["1.3.14.3.2.3"]="rsa-md5",v["1.3.14.3.2.29"]="rsa-sha1";var S={issuerKeyId:"2.5.29.35",altName:"2.5.29.17",basicConstraints:"2.5.29.19",keyUsage:"2.5.29.15",extKeyUsage:"2.5.29.37"};function q(a,s){"string"==typeof a&&(a=t.from(a,"binary")),e.buffer(a,"buf");var n=new r.BerReader(a);if(n.readSequence(),Math.abs(n.length-n.remain)>1)throw new Error("DER sequence does not contain whole byte stream");var i=n.offset;n.readSequence();var u=n.offset+n.length,g=u;if(n.peek()===p(0)){n.readSequence(p(0));var h=n.readInt();e.ok(h<=3,"only x.509 versions up to v3 supported")}var S={signatures:{}},q=S.signatures.x509={};q.extras={},S.serial=d(n,"serial"),n.readSequence();var x=n.offset+n.length,B=n.readOID();if(void 0===v[B])throw new Error("unknown signature algorithm "+B);if(n._offset=x,S.issuer=o.parseAsn1(n),n.readSequence(),S.validFrom=m(n),S.validUntil=m(n),S.subjects=[o.parseAsn1(n)],n.readSequence(),x=n.offset+n.length,S.subjectKey=l.readPkcs8(void 0,"public",n),n._offset=x,n.peek()===p(1)&&(n.readSequence(p(1)),q.extras.issuerUniqueID=a.slice(n.offset,n.offset+n.length),n._offset+=n.length),n.peek()===p(2)&&(n.readSequence(p(2)),q.extras.subjectUniqueID=a.slice(n.offset,n.offset+n.length),n._offset+=n.length),n.peek()===p(3)){n.readSequence(p(3));var y=n.offset+n.length;for(n.readSequence();n.offset<y;)I(S,a,n);e.strictEqual(n.offset,y)}e.strictEqual(n.offset,u),n.readSequence(),x=n.offset+n.length;var b=n.readOID(),w=v[b];if(void 0===w)throw new Error("unknown signature algorithm "+b);n._offset=x;var U=n.readString(r.Ber.BitString,!0);0===U[0]&&(U=U.slice(1));var k=w.split("-");return q.signature=c.parse(U,k[0],"asn1"),q.signature.hashAlgorithm=k[1],q.algo=w,q.cache=a.slice(i,g),new f(S)}function m(e){if(e.peek()===r.Ber.UTCTime)return k(e.readString(r.Ber.UTCTime));if(e.peek()===r.Ber.GeneralizedTime)return O(e.readString(r.Ber.GeneralizedTime));throw new Error("Unsupported date format")}function x(e,t){t.getUTCFullYear()>=2050||t.getUTCFullYear()<1950?e.writeString(N(t),r.Ber.GeneralizedTime):e.writeString(T(t),r.Ber.UTCTime)}var B={OtherName:p(0),RFC822Name:h(1),DNSName:h(2),X400Address:p(3),DirectoryName:p(4),EDIPartyName:p(5),URI:h(6),IPAddress:h(7),OID:h(8)},y={serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",joyentDocker:"1.3.6.1.4.1.38678.1.4.1",joyentCmon:"1.3.6.1.4.1.38678.1.4.2"},b={};Object.keys(y).forEach(function(e){b[y[e]]=e});var w=["signature","identity","keyEncryption","encryption","keyAgreement","ca","crl"];function I(e,t,a){a.readSequence();var s,n,i=a.offset+a.length,u=a.readOID(),c=e.signatures.x509;switch(c.extras.exts||(c.extras.exts=[]),a.peek()===r.Ber.Boolean&&(n=a.readBoolean()),u){case S.basicConstraints:a.readSequence(r.Ber.OctetString),a.readSequence();var f=a.offset+a.length,l=!1;a.peek()===r.Ber.Boolean&&(l=a.readBoolean()),void 0===e.purposes&&(e.purposes=[]),!0===l&&e.purposes.push("ca");var d={oid:u,critical:n};a.offset<f&&a.peek()===r.Ber.Integer&&(d.pathLen=a.readInt()),c.extras.exts.push(d);break;case S.extKeyUsage:a.readSequence(r.Ber.OctetString),a.readSequence(),void 0===e.purposes&&(e.purposes=[]);for(var g=a.offset+a.length;a.offset<g;){var p=a.readOID();e.purposes.push(b[p]||p)}-1!==e.purposes.indexOf("serverAuth")&&-1===e.purposes.indexOf("clientAuth")?e.subjects.forEach(function(e){"host"!==e.type&&(e.type="host",e.hostname=e.uid||e.email||e.components[0].value)}):-1!==e.purposes.indexOf("clientAuth")&&-1===e.purposes.indexOf("serverAuth")&&e.subjects.forEach(function(e){"user"!==e.type&&(e.type="user",e.uid=e.hostname||e.email||e.components[0].value)}),c.extras.exts.push({oid:u,critical:n});break;case S.keyUsage:a.readSequence(r.Ber.OctetString);var h=a.readString(r.Ber.BitString,!0);_(h,w).forEach(function(r){void 0===e.purposes&&(e.purposes=[]),-1===e.purposes.indexOf(r)&&e.purposes.push(r)}),c.extras.exts.push({oid:u,critical:n,bits:h});break;case S.altName:a.readSequence(r.Ber.OctetString),a.readSequence();for(var v=a.offset+a.length;a.offset<v;)switch(a.peek()){case B.OtherName:case B.EDIPartyName:a.readSequence(),a._offset+=a.length;break;case B.OID:a.readOID(B.OID);break;case B.RFC822Name:var q=a.readString(B.RFC822Name);s=o.forEmail(q),e.subjects[0].equals(s)||e.subjects.push(s);break;case B.DirectoryName:a.readSequence(B.DirectoryName),s=o.parseAsn1(a),e.subjects[0].equals(s)||e.subjects.push(s);break;case B.DNSName:var m=a.readString(B.DNSName);s=o.forHost(m),e.subjects[0].equals(s)||e.subjects.push(s);break;default:a.readString(a.peek())}c.extras.exts.push({oid:u,critical:n});break;default:c.extras.exts.push({oid:u,critical:n,data:a.readString(r.Ber.OctetString,!0)})}a._offset=i}var U=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function k(r){var t=r.match(U);e.ok(t,"timestamps must be in UTC");var a=new Date,s=a.getUTCFullYear(),n=100*Math.floor(s/100),i=parseInt(t[1],10);return i+=s%100<50&&i>=60?n-1:n,a.setUTCFullYear(i,parseInt(t[2],10)-1,parseInt(t[3],10)),a.setUTCHours(parseInt(t[4],10),parseInt(t[5],10)),t[6]&&t[6].length>0&&a.setUTCSeconds(parseInt(t[6],10)),a}var C=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function O(r){var t=r.match(C);e.ok(t);var a=new Date;return a.setUTCFullYear(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10)),a.setUTCHours(parseInt(t[4],10),parseInt(t[5],10)),t[6]&&t[6].length>0&&a.setUTCSeconds(parseInt(t[6],10)),a}function D(e,r){void 0===r&&(r=2);for(var t=""+e;t.length<r;)t="0"+t;return t}function T(e){var r="";return r+=D(e.getUTCFullYear()%100),r+=D(e.getUTCMonth()+1),r+=D(e.getUTCDate()),r+=D(e.getUTCHours()),r+=D(e.getUTCMinutes()),r+=D(e.getUTCSeconds()),r+="Z"}function N(e){var r="";return r+=D(e.getUTCFullYear(),4),r+=D(e.getUTCMonth()+1),r+=D(e.getUTCDate()),r+=D(e.getUTCHours()),r+=D(e.getUTCMinutes()),r+=D(e.getUTCSeconds()),r+="Z"}function j(e,t){void 0===e.signatures.x509&&(e.signatures.x509={});var a=e.signatures.x509;if(a.algo=t.type+"-"+t.defaultHashAlgorithm(),void 0===v[a.algo])return!1;var s=new r.BerWriter;F(e,s);var n=s.buffer;a.cache=n;var i=t.createSign();return i.write(n),e.signatures.x509.signature=i.sign(),!0}function A(e,t,a){void 0===e.signatures.x509&&(e.signatures.x509={});var s=e.signatures.x509,n=new r.BerWriter;F(e,n);var i=n.buffer;s.cache=i,t(i,function(e,r){e?a(e):(s.algo=r.type+"-"+r.hashAlgorithm,void 0!==v[s.algo]?(s.signature=r,a()):a(new Error('Invalid signing algorithm "'+s.algo+'"')))})}function E(a,s){var n=a.signatures.x509;e.object(n,"x509 signature");var i=new r.BerWriter;i.startSequence(),n.cache?(i._ensure(n.cache.length),n.cache.copy(i._buf,i._offset),i._offset+=n.cache.length):F(a,i),i.startSequence(),i.writeOID(v[n.algo]),n.algo.match(/^rsa-/)&&i.writeNull(),i.endSequence();var u=n.signature.toBuffer("asn1"),o=t.alloc(u.length+1);return o[0]=0,u.copy(o,1),i.writeBuffer(o,r.Ber.BitString),i.endSequence(),i.buffer}function F(t,a){var n=t.signatures.x509;e.object(n,"x509 signature"),a.startSequence(),a.startSequence(p(0)),a.writeInt(2),a.endSequence(),a.writeBuffer(s.mpNormalize(t.serial),r.Ber.Integer),a.startSequence(),a.writeOID(v[n.algo]),n.algo.match(/^rsa-/)&&a.writeNull(),a.endSequence(),t.issuer.toAsn1(a),a.startSequence(),x(a,t.validFrom),x(a,t.validUntil),a.endSequence();var i=t.subjects[0],u=t.subjects.slice(1);if(i.toAsn1(a),l.writePkcs8(a,t.subjectKey),n.extras&&n.extras.issuerUniqueID&&a.writeBuffer(n.extras.issuerUniqueID,p(1)),n.extras&&n.extras.subjectUniqueID&&a.writeBuffer(n.extras.subjectUniqueID,p(2)),u.length>0||"host"===i.type||void 0!==t.purposes&&t.purposes.length>0||n.extras&&n.extras.exts){a.startSequence(p(3)),a.startSequence();var o=[];void 0!==t.purposes&&t.purposes.length>0&&(o.push({oid:S.basicConstraints,critical:!0}),o.push({oid:S.keyUsage,critical:!0}),o.push({oid:S.extKeyUsage,critical:!0})),o.push({oid:S.altName}),n.extras&&n.extras.exts&&(o=n.extras.exts);for(var c=0;c<o.length;++c){if(a.startSequence(),a.writeOID(o[c].oid),void 0!==o[c].critical&&a.writeBoolean(o[c].critical),o[c].oid===S.altName){a.startSequence(r.Ber.OctetString),a.startSequence(),"host"===i.type&&a.writeString(i.hostname,h(2));for(var f=0;f<u.length;++f)"host"===u[f].type?a.writeString(u[f].hostname,B.DNSName):"email"===u[f].type?a.writeString(u[f].email,B.RFC822Name):(a.startSequence(B.DirectoryName),u[f].toAsn1(a),a.endSequence());a.endSequence(),a.endSequence()}else if(o[c].oid===S.basicConstraints){a.startSequence(r.Ber.OctetString),a.startSequence();var d=-1!==t.purposes.indexOf("ca"),g=o[c].pathLen;a.writeBoolean(d),void 0!==g&&a.writeInt(g),a.endSequence(),a.endSequence()}else if(o[c].oid===S.extKeyUsage)a.startSequence(r.Ber.OctetString),a.startSequence(),t.purposes.forEach(function(e){if("ca"!==e&&-1===w.indexOf(e)){var r=e;void 0!==y[e]&&(r=y[e]),a.writeOID(r)}}),a.endSequence(),a.endSequence();else if(o[c].oid===S.keyUsage){if(a.startSequence(r.Ber.OctetString),void 0!==o[c].bits)a.writeBuffer(o[c].bits,r.Ber.BitString);else{var q=M(t.purposes,w);a.writeBuffer(q,r.Ber.BitString)}a.endSequence()}else a.writeBuffer(o[c].data,r.Ber.OctetString);a.endSequence()}a.endSequence(),a.endSequence()}a.endSequence()}function _(e,r){for(var t=8*(e.length-1)-e[0],a={},s=0;s<t;++s){var n=1<<7-s%8,i=0!=(e[1+Math.floor(s/8)]&n),u=r[s];i&&"string"==typeof u&&(a[u]=!0)}return Object.keys(a)}function M(e,r){var a=r.length,s=Math.ceil(a/8),n=8*s-a,i=t.alloc(1+s);i[0]=n;for(var u=0;u<a;++u){var o=1+Math.floor(u/8),c=1<<7-u%8,f=r[u];if(void 0!==f)-1!==e.indexOf(f)&&(i[o]|=c)}return i}
},{"assert-plus":"RnCe","asn1":"ceMZ","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pem":"uOf6","../identity":"M7xi","../signature":"UAEA","../certificate":"Y1sm","./pkcs8":"0LzK"}],"IXN1":[function(require,module,exports) {
var e=require("./x509");module.exports={read:E,verify:e.verify,sign:e.sign,write:c};var r=require("assert-plus"),i=require("asn1"),t=require("safer-buffer").Buffer,a=require("../algs"),n=require("../utils"),u=require("../key"),l=require("../private-key"),s=require("./pem"),f=require("../identity"),o=require("../signature"),g=require("../certificate");function E(i,a){"string"!=typeof i&&(r.buffer(i,"buf"),i=i.toString("ascii"));for(var n,u,l=i.trim().split(/[\r\n]+/g),s=-1;!n&&s<l.length;)n=l[++s].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);r.ok(n,"invalid PEM header");for(var f=l.length;!u&&f>0;)u=l[--f].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);r.ok(u,"invalid PEM footer"),l=l.slice(s,f+1);for(var o={};n=(l=l.slice(1))[0].match(/^([A-Za-z0-9-]+): (.+)$/);)o[n[1].toLowerCase()]=n[2];return l=l.slice(0,-1).join(""),i=t.from(l,"base64"),e.read(i,a)}function c(r,i){var a=e.write(r,i).toString("base64"),n=a.length+a.length/64+18+16+2*"CERTIFICATE".length+10,u=t.alloc(n),l=0;l+=u.write("-----BEGIN CERTIFICATE-----\n",l);for(var s=0;s<a.length;){var f=s+64;f>a.length&&(f=a.length),l+=u.write(a.slice(s,f),l),u[l++]=10,s=f}return l+=u.write("-----END CERTIFICATE-----\n",l),u.slice(0,l)}
},{"./x509":"9eeX","assert-plus":"RnCe","asn1":"ceMZ","safer-buffer":"o7gO","../algs":"UgGu","../utils":"na/q","../key":"llMH","../private-key":"Tg/q","./pem":"uOf6","../identity":"M7xi","../signature":"UAEA","../certificate":"Y1sm"}],"Y1sm":[function(require,module,exports) {
module.exports=m;var e=require("assert-plus"),t=require("safer-buffer").Buffer,i=require("./algs"),r=require("crypto"),s=require("./fingerprint"),o=require("./signature"),n=require("./errors"),a=require("util"),u=require("./utils"),p=require("./key"),l=require("./private-key"),f=require("./identity"),h={};h.openssh=require("./formats/openssh-cert"),h.x509=require("./formats/x509"),h.pem=require("./formats/x509-pem");var c=n.CertificateParseError,d=n.InvalidAlgorithmError;function m(t){e.object(t,"options"),e.arrayOfObject(t.subjects,"options.subjects"),u.assertCompatible(t.subjects[0],f,[1,0],"options.subjects"),u.assertCompatible(t.subjectKey,p,[1,0],"options.subjectKey"),u.assertCompatible(t.issuer,f,[1,0],"options.issuer"),void 0!==t.issuerKey&&u.assertCompatible(t.issuerKey,p,[1,0],"options.issuerKey"),e.object(t.signatures,"options.signatures"),e.buffer(t.serial,"options.serial"),e.date(t.validFrom,"options.validFrom"),e.date(t.validUntil,"optons.validUntil"),e.optionalArrayOfString(t.purposes,"options.purposes"),this._hashCache={},this.subjects=t.subjects,this.issuer=t.issuer,this.subjectKey=t.subjectKey,this.issuerKey=t.issuerKey,this.signatures=t.signatures,this.serial=t.serial,this.validFrom=t.validFrom,this.validUntil=t.validUntil,this.purposes=t.purposes}m.formats=h,m.prototype.toBuffer=function(t,i){return void 0===t&&(t="x509"),e.string(t,"format"),e.object(h[t],"formats[format]"),e.optionalObject(i,"options"),h[t].write(this,i)},m.prototype.toString=function(e,t){return void 0===e&&(e="pem"),this.toBuffer(e,t).toString()},m.prototype.fingerprint=function(t){void 0===t&&(t="sha256"),e.string(t,"algorithm");var i={type:"certificate",hash:this.hash(t),algorithm:t};return new s(i)},m.prototype.hash=function(t){if(e.string(t,"algorithm"),t=t.toLowerCase(),void 0===i.hashAlgs[t])throw new d(t);if(this._hashCache[t])return this._hashCache[t];var s=r.createHash(t).update(this.toBuffer("x509")).digest();return this._hashCache[t]=s,s},m.prototype.isExpired=function(e){return void 0===e&&(e=new Date),!(e.getTime()>=this.validFrom.getTime()&&e.getTime()<this.validUntil.getTime())},m.prototype.isSignedBy=function(e){return u.assertCompatible(e,m,[1,0],"issuer"),!!this.issuer.equals(e.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&-1===this.issuer.purposes.indexOf("ca"))&&this.isSignedByKey(e.subjectKey))},m.prototype.getExtension=function(t){return e.string(t,"keyOrOid"),this.getExtensions().filter(function(e){return"x509"===e.format?e.oid===t:"openssh"===e.format&&e.name===t})[0]},m.prototype.getExtensions=function(){var e=[],t=this.signatures.x509;t&&t.extras&&t.extras.exts&&t.extras.exts.forEach(function(t){t.format="x509",e.push(t)});var i=this.signatures.openssh;return i&&i.exts&&i.exts.forEach(function(t){t.format="openssh",e.push(t)}),e},m.prototype.isSignedByKey=function(e){if(u.assertCompatible(e,p,[1,2],"issuerKey"),void 0!==this.issuerKey)return this.issuerKey.fingerprint("sha512").matches(e);var t=Object.keys(this.signatures)[0],i=h[t].verify(this,e);return i&&(this.issuerKey=e),i},m.prototype.signWith=function(e){u.assertCompatible(e,l,[1,2],"key");for(var t=Object.keys(h),i=!1,r=0;r<t.length;++r){if("pem"!==t[r])!0===h[t[r]].sign(this,e)&&(i=!0)}if(!i)throw new Error("Failed to sign the certificate for any available certificate formats")},m.createSelfSigned=function(i,r,s){var o;o=Array.isArray(i)?i:[i],e.arrayOfObject(o),o.forEach(function(e){u.assertCompatible(e,f,[1,0],"subject")}),u.assertCompatible(r,l,[1,2],"private key"),e.optionalObject(s,"options"),void 0===s&&(s={}),e.optionalObject(s.validFrom,"options.validFrom"),e.optionalObject(s.validUntil,"options.validUntil");var n=s.validFrom,a=s.validUntil;if(void 0===n&&(n=new Date),void 0===a){e.optionalNumber(s.lifetime,"options.lifetime");var p=s.lifetime;void 0===p&&(p=31536e4),(a=new Date).setTime(a.getTime()+1e3*p)}e.optionalBuffer(s.serial,"options.serial");var h=s.serial;void 0===h&&(h=t.from("0000000000000001","hex"));var c=s.purposes;if(void 0===c&&(c=[]),-1===c.indexOf("signature")&&c.push("signature"),-1===c.indexOf("ca")&&c.push("ca"),-1===c.indexOf("crl")&&c.push("crl"),c.length<=3){var d=o.filter(function(e){return"host"===e.type}),v=o.filter(function(e){return"user"===e.type});d.length>0&&-1===c.indexOf("serverAuth")&&c.push("serverAuth"),v.length>0&&-1===c.indexOf("clientAuth")&&c.push("clientAuth"),(v.length>0||d.length>0)&&(-1===c.indexOf("keyAgreement")&&c.push("keyAgreement"),"rsa"===r.type&&-1===c.indexOf("encryption")&&c.push("encryption"))}var y=new m({subjects:o,issuer:o[0],subjectKey:r.toPublic(),issuerKey:r.toPublic(),signatures:{},serial:h,validFrom:n,validUntil:a,purposes:c});return y.signWith(r),y},m.create=function(i,r,s,o,n){var a;a=Array.isArray(i)?i:[i],e.arrayOfObject(a),a.forEach(function(e){u.assertCompatible(e,f,[1,0],"subject")}),u.assertCompatible(r,p,[1,0],"key"),l.isPrivateKey(r)&&(r=r.toPublic()),u.assertCompatible(s,f,[1,0],"issuer"),u.assertCompatible(o,l,[1,2],"issuer key"),e.optionalObject(n,"options"),void 0===n&&(n={}),e.optionalObject(n.validFrom,"options.validFrom"),e.optionalObject(n.validUntil,"options.validUntil");var h=n.validFrom,c=n.validUntil;if(void 0===h&&(h=new Date),void 0===c){e.optionalNumber(n.lifetime,"options.lifetime");var d=n.lifetime;void 0===d&&(d=31536e4),(c=new Date).setTime(c.getTime()+1e3*d)}e.optionalBuffer(n.serial,"options.serial");var v=n.serial;void 0===v&&(v=t.from("0000000000000001","hex"));var y=n.purposes;void 0===y&&(y=[]),-1===y.indexOf("signature")&&y.push("signature"),!0===n.ca&&(-1===y.indexOf("ca")&&y.push("ca"),-1===y.indexOf("crl")&&y.push("crl"));var g=a.filter(function(e){return"host"===e.type}),b=a.filter(function(e){return"user"===e.type});g.length>0&&-1===y.indexOf("serverAuth")&&y.push("serverAuth"),b.length>0&&-1===y.indexOf("clientAuth")&&y.push("clientAuth"),(b.length>0||g.length>0)&&(-1===y.indexOf("keyAgreement")&&y.push("keyAgreement"),"rsa"===r.type&&-1===y.indexOf("encryption")&&y.push("encryption"));var x=new m({subjects:a,issuer:s,subjectKey:r,issuerKey:o.toPublic(),signatures:{},serial:v,validFrom:h,validUntil:c,purposes:y});return x.signWith(o),x},m.parse=function(t,i,r){"string"!=typeof t&&e.buffer(t,"data"),void 0===i&&(i="auto"),e.string(i,"format"),"string"==typeof r&&(r={filename:r}),e.optionalObject(r,"options"),void 0===r&&(r={}),e.optionalString(r.filename,"options.filename"),void 0===r.filename&&(r.filename="(unnamed)"),e.object(h[i],"formats[format]");try{return h[i].read(t,r)}catch(s){throw new c(r.filename,i,s)}},m.isCertificate=function(e,t){return u.isCompatible(e,m,t)},m.prototype._sshpkApiVersion=[1,1],m._oldVersionDetect=function(e){return[1,0]};
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./algs":"UgGu","./fingerprint":"mzob","./signature":"UAEA","./errors":"8eeV","./utils":"na/q","./key":"llMH","./private-key":"Tg/q","./identity":"M7xi","./formats/openssh-cert":"RP1m","./formats/x509":"9eeX","./formats/x509-pem":"IXN1"}],"mzob":[function(require,module,exports) {
module.exports=f;var t=require("assert-plus"),e=require("safer-buffer").Buffer,r=require("./algs"),i=require("crypto"),s=require("./errors"),h=require("./key"),a=require("./private-key"),o=require("./certificate"),n=require("./utils"),p=s.FingerprintFormatError,l=s.InvalidAlgorithmError;function f(e){if(t.object(e,"options"),t.string(e.type,"options.type"),t.buffer(e.hash,"options.hash"),t.string(e.algorithm,"options.algorithm"),this.algorithm=e.algorithm.toLowerCase(),!0!==r.hashAlgs[this.algorithm])throw new l(this.algorithm);this.hash=e.hash,this.type=e.type,this.hashType=e.hashType}f.prototype.toString=function(e){switch(void 0===e&&(e="md5"===this.algorithm||"spki"===this.hashType?"hex":"base64"),t.string(e),e){case"hex":return"spki"===this.hashType?this.hash.toString("hex"):c(this.hash.toString("hex"));case"base64":return"spki"===this.hashType?this.hash.toString("base64"):m(this.algorithm,this.hash.toString("base64"));default:throw new p(void 0,e)}},f.prototype.matches=function(e){t.object(e,"key or certificate"),"key"===this.type&&"ssh"!==this.hashType?(n.assertCompatible(e,h,[1,7],"key with spki"),a.isPrivateKey(e)&&n.assertCompatible(e,a,[1,6],"privatekey with spki support")):"key"===this.type?n.assertCompatible(e,h,[1,0],"key"):n.assertCompatible(e,o,[1,0],"certificate");var r=e.hash(this.algorithm,this.hashType),s=i.createHash(this.algorithm).update(r).digest("base64");return void 0===this.hash2&&(this.hash2=i.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===s};var g=/^[A-Za-z0-9+\/=]+$/,u=/^[a-fA-F0-9]+$/;function c(t){return t.replace(/(.{2})(?=.)/g,"$1:")}function y(t){return t.replace(/=*$/,"")}function m(t,e){return t.toUpperCase()+":"+y(e)}f.parse=function(i,s){var h,a,o;t.string(i,"fingerprint"),Array.isArray(s)&&(o=s,s={}),t.optionalObject(s,"options"),void 0===s&&(s={}),void 0!==s.enAlgs&&(o=s.enAlgs),void 0!==s.algorithms&&(o=s.algorithms),t.optionalArrayOfString(o,"algorithms");var n="ssh";void 0!==s.hashType&&(n=s.hashType),t.string(n,"options.hashType");var c=i.split(":");if(2==c.length){if(h=c[0].toLowerCase(),!g.test(c[1]))throw new p(i);try{a=e.from(c[1],"base64")}catch(y){throw new p(i)}}else if(c.length>2){if(h="md5","md5"===c[0].toLowerCase()&&(c=c.slice(1)),c=(c=c.map(function(t){for(;t.length<2;)t="0"+t;if(t.length>2)throw new p(i);return t})).join(""),!u.test(c)||c.length%2!=0)throw new p(i);try{a=e.from(c,"hex")}catch(y){throw new p(i)}}else{if(u.test(i))a=e.from(i,"hex");else{if(!g.test(i))throw new p(i);a=e.from(i,"base64")}switch(a.length){case 32:h="sha256";break;case 16:h="md5";break;case 20:h="sha1";break;case 64:h="sha512";break;default:throw new p(i)}void 0===s.hashType&&(n="spki")}if(void 0===h)throw new p(i);if(void 0===r.hashAlgs[h])throw new l(h);if(void 0!==o&&-1===(o=o.map(function(t){return t.toLowerCase()})).indexOf(h))throw new l(h);return new f({algorithm:h,hash:a,type:s.type||"key",hashType:n})},f.isFingerprint=function(t,e){return n.isCompatible(t,f,e)},f.prototype._sshpkApiVersion=[1,2],f._oldVersionDetect=function(e){return t.func(e.toString),t.func(e.matches),[1,0]};
},{"assert-plus":"RnCe","safer-buffer":"o7gO","./algs":"UgGu","./errors":"8eeV","./key":"llMH","./private-key":"Tg/q","./certificate":"Y1sm","./utils":"na/q"}],"llMH":[function(require,module,exports) {
module.exports=m;var t,e=require("assert-plus"),r=require("./algs"),i=require("crypto"),s=require("./fingerprint"),o=require("./signature"),a=require("./dhe").DiffieHellman,n=require("./errors"),h=require("./utils"),f=require("./private-key");try{t=require("./ed-compat")}catch(y){}var p=n.InvalidAlgorithmError,c=n.KeyParseError,u={};function m(t){e.object(t,"options"),e.arrayOfObject(t.parts,"options.parts"),e.string(t.type,"options.type"),e.optionalString(t.comment,"options.comment");var i=r.info[t.type];if("object"!=typeof i)throw new p(t.type);for(var s,o={},a=0;a<t.parts.length;++a){var n=t.parts[a];o[n.name]=n}if(this.type=t.type,this.parts=t.parts,this.part=o,this.comment=void 0,this.source=t.source,this._rfc4253Cache=t._rfc4253Cache,this._hashCache={},this.curve=void 0,"ecdsa"===this.type){var f=this.part.curve.data.toString();this.curve=f,s=r.curves[f].size}else if("ed25519"===this.type||"curve25519"===this.type)s=256,this.curve="curve25519";else{var c=this.part[i.sizePart];s=8*(s=c.data.length)-h.countZeros(c.data)}this.size=s}u.auto=require("./formats/auto"),u.pem=require("./formats/pem"),u.pkcs1=require("./formats/pkcs1"),u.pkcs8=require("./formats/pkcs8"),u.rfc4253=require("./formats/rfc4253"),u.ssh=require("./formats/ssh"),u["ssh-private"]=require("./formats/ssh-private"),u.openssh=u["ssh-private"],u.dnssec=require("./formats/dnssec"),u.putty=require("./formats/putty"),u.ppk=u.putty,m.formats=u,m.prototype.toBuffer=function(t,r){return void 0===t&&(t="ssh"),e.string(t,"format"),e.object(u[t],"formats[format]"),e.optionalObject(r,"options"),"rfc4253"===t?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=u.rfc4253.write(this)),this._rfc4253Cache):u[t].write(this,r)},m.prototype.toString=function(t,e){return this.toBuffer(t,e).toString()},m.prototype.hash=function(t,s){if(e.string(t,"algorithm"),e.optionalString(s,"type"),void 0===s&&(s="ssh"),t=t.toLowerCase(),void 0===r.hashAlgs[t])throw new p(t);var o,a=t+"||"+s;if(this._hashCache[a])return this._hashCache[a];if("ssh"===s)o=this.toBuffer("rfc4253");else{if("spki"!==s)throw new Error("Hash type "+s+" not supported");o=u.pkcs8.pkcs8ToBuffer(this)}var n=i.createHash(t).update(o).digest();return this._hashCache[a]=n,n},m.prototype.fingerprint=function(t,r){void 0===t&&(t="sha256"),void 0===r&&(r="ssh"),e.string(t,"algorithm"),e.string(r,"type");var i={type:"key",hash:this.hash(t,r),algorithm:t,hashType:r};return new s(i)},m.prototype.defaultHashAlgorithm=function(){var t="sha1";return"rsa"===this.type&&(t="sha256"),"dsa"===this.type&&this.size>1024&&(t="sha256"),"ed25519"===this.type&&(t="sha512"),"ecdsa"===this.type&&(t=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),t},m.prototype.createVerify=function(r){if(void 0===r&&(r=this.defaultHashAlgorithm()),e.string(r,"hash algorithm"),"ed25519"===this.type&&void 0!==t)return new t.Verifier(this,r);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var s,a,n;try{a=r.toUpperCase(),s=i.createVerify(a)}catch(y){n=y}(void 0===s||n instanceof Error&&n.message.match(/Unknown message digest/))&&(a="RSA-",a+=r.toUpperCase(),s=i.createVerify(a)),e.ok(s,"failed to create verifier");var h=s.verify.bind(s),f=this.toBuffer("pkcs8"),p=this.curve,c=this;return s.verify=function(t,e){if(o.isSignature(t,[2,0]))return t.type===c.type&&((!t.hashAlgorithm||t.hashAlgorithm===r)&&((!t.curve||"ecdsa"!==c.type||t.curve===p)&&h(f,t.toBuffer("asn1"))));if("string"==typeof t||Buffer.isBuffer(t))return h(f,t,e);throw o.isSignature(t,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},s},m.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new a(this)},m.prototype.createDH=m.prototype.createDiffieHellman,m.parse=function(t,r,i){"string"!=typeof t&&e.buffer(t,"data"),void 0===r&&(r="auto"),e.string(r,"format"),"string"==typeof i&&(i={filename:i}),e.optionalObject(i,"options"),void 0===i&&(i={}),e.optionalString(i.filename,"options.filename"),void 0===i.filename&&(i.filename="(unnamed)"),e.object(u[r],"formats[format]");try{var s=u[r].read(t,i);return s instanceof f&&(s=s.toPublic()),s.comment||(s.comment=i.filename),s}catch(y){if("KeyEncryptedError"===y.name)throw y;throw new c(i.filename,r,y)}},m.isKey=function(t,e){return h.isCompatible(t,m,e)},m.prototype._sshpkApiVersion=[1,7],m._oldVersionDetect=function(t){return e.func(t.toBuffer),e.func(t.fingerprint),t.createDH?[1,4]:t.defaultHashAlgorithm?[1,3]:t.formats.auto?[1,2]:t.formats.pkcs1?[1,1]:[1,0]};
},{"assert-plus":"RnCe","./algs":"UgGu","./fingerprint":"mzob","./signature":"UAEA","./dhe":"ctmP","./errors":"8eeV","./utils":"na/q","./private-key":"Tg/q","./ed-compat":"6fj+","./formats/auto":"l5vp","./formats/pem":"uOf6","./formats/pkcs1":"THrb","./formats/pkcs8":"0LzK","./formats/rfc4253":"v+iW","./formats/ssh":"EvH8","./formats/ssh-private":"ZUOk","./formats/dnssec":"t9Yh","./formats/putty":"2s3A"}],"mZ2j":[function(require,module,exports) {
var r=require("./key"),e=require("./fingerprint"),i=require("./signature"),t=require("./private-key"),a=require("./certificate"),n=require("./identity"),o=require("./errors");module.exports={Key:r,parseKey:r.parse,Fingerprint:e,parseFingerprint:e.parse,Signature:i,parseSignature:i.parse,PrivateKey:t,parsePrivateKey:t.parse,generatePrivateKey:t.generate,Certificate:a,parseCertificate:a.parse,createSelfSignedCertificate:a.createSelfSigned,createCertificate:a.create,Identity:n,identityFromDN:n.parseDN,identityForHost:n.forHost,identityForUser:n.forUser,identityForEmail:n.forEmail,identityFromArray:n.fromArray,FingerprintFormatError:o.FingerprintFormatError,InvalidAlgorithmError:o.InvalidAlgorithmError,KeyParseError:o.KeyParseError,SignatureParseError:o.SignatureParseError,KeyEncryptedError:o.KeyEncryptedError,CertificateParseError:o.CertificateParseError};
},{"./key":"llMH","./fingerprint":"mzob","./signature":"UAEA","./private-key":"Tg/q","./certificate":"Y1sm","./identity":"M7xi","./errors":"8eeV"}],"BcBx":[function(require,module,exports) {
var r=require("assert-plus"),e=require("sshpk"),t=require("util"),s={sha1:!0,sha256:!0,sha512:!0},i={rsa:!0,dsa:!0,ecdsa:!0};function a(r,e){Error.captureStackTrace&&Error.captureStackTrace(this,e||a),this.message=r,this.name=e.name}function n(r){a.call(this,r,n)}function o(r){var e=r.toLowerCase().split("-");if(2!==e.length)throw new n(e[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==e[0]&&!i[e[0]])throw new n(e[0].toUpperCase()+" type keys are not supported");if(!s[e[1]])throw new n(e[1].toUpperCase()+" is not a supported hash algorithm");return e}t.inherits(a,Error),t.inherits(n,a),module.exports={HASH_ALGOS:s,PK_ALGOS:i,HttpSignatureError:a,InvalidAlgorithmError:n,validateAlgorithm:o,sshKeyToPEM:function(t){return r.string(t,"ssh_key"),e.parseKey(t,"ssh").toString("pem")},fingerprint:function(t){return r.string(t,"ssh_key"),e.parseKey(t,"ssh").fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(t,s){r.equal("string",typeof t,"typeof pem");var i=e.parseKey(t,"pem");return i.comment=s,i.toString("ssh")}};
},{"assert-plus":"RnCe","sshpk":"mZ2j"}],"T3TD":[function(require,module,exports) {
var e=require("assert-plus"),a=require("util"),r=require("./utils"),t=r.HASH_ALGOS,s=r.PK_ALGOS,i=r.HttpSignatureError,o=r.InvalidAlgorithmError,n=r.validateAlgorithm,h={New:0,Params:1},d={Name:0,Quote:1,Value:2,Comma:3};function m(e){i.call(this,e,m)}function w(e){i.call(this,e,w)}function l(e){i.call(this,e,l)}function c(e){i.call(this,e,c)}function p(e){i.call(this,e,p)}a.inherits(m,i),a.inherits(w,i),a.inherits(l,i),a.inherits(c,i),a.inherits(p,i),module.exports={parseRequest:function(a,r){e.object(a,"request"),e.object(a.headers,"request.headers"),void 0===r&&(r={}),void 0===r.headers&&(r.headers=[a.headers["x-date"]?"x-date":"date"]),e.object(r,"options"),e.arrayOfString(r.headers,"options.headers"),e.optionalFinite(r.clockSkew,"options.clockSkew");var t=r.authorizationHeaderName||"authorization";if(!a.headers[t])throw new c("no "+t+" header present in the request");r.clockSkew=r.clockSkew||300;var s,i=0,g=h.New,u=d.Name,f="",k="",b={scheme:"",params:{},signingString:""},S=a.headers[t];for(i=0;i<S.length;i++){var v=S.charAt(i);switch(Number(g)){case h.New:" "!==v?b.scheme+=v:g=h.Params;break;case h.Params:switch(Number(u)){case d.Name:var q=v.charCodeAt(0);if(q>=65&&q<=90||q>=97&&q<=122)f+=v;else{if("="!==v)throw new w("bad param format");if(0===f.length)throw new w("bad param format");u=d.Quote}break;case d.Quote:if('"'!==v)throw new w("bad param format");k="",u=d.Value;break;case d.Value:'"'===v?(b.params[f]=k,u=d.Comma):k+=v;break;case d.Comma:if(","!==v)throw new w("bad param format");f="",u=d.Name;break;default:throw new Error("Invalid substate")}break;default:throw new Error("Invalid substate")}}if(b.params.headers&&""!==b.params.headers?b.params.headers=b.params.headers.split(" "):a.headers["x-date"]?b.params.headers=["x-date"]:b.params.headers=["date"],!b.scheme||"Signature"!==b.scheme)throw new w('scheme was not "Signature"');if(!b.params.keyId)throw new w("keyId was not specified");if(!b.params.algorithm)throw new w("algorithm was not specified");if(!b.params.signature)throw new w("signature was not specified");b.params.algorithm=b.params.algorithm.toLowerCase();try{n(b.params.algorithm)}catch(I){throw I instanceof o?new l(b.params.algorithm+" is not supported"):I}for(i=0;i<b.params.headers.length;i++){var x=b.params.headers[i].toLowerCase();if(b.params.headers[i]=x,"request-line"===x){if(r.strict)throw new p("request-line is not a valid header with strict parsing enabled.");b.signingString+=a.method+" "+a.url+" HTTP/"+a.httpVersion}else if("(request-target)"===x)b.signingString+="(request-target): "+a.method.toLowerCase()+" "+a.url;else{var N=a.headers[x];if(void 0===N)throw new c(x+" was not in the request");b.signingString+=x+": "+N}i+1<b.params.headers.length&&(b.signingString+="\n")}if(a.headers.date||a.headers["x-date"]){s=a.headers["x-date"]?new Date(a.headers["x-date"]):new Date(a.headers.date);var C=new Date,A=Math.abs(C.getTime()-s.getTime());if(A>1e3*r.clockSkew)throw new m("clock skew of "+A/1e3+"s was greater than "+r.clockSkew+"s")}if(r.headers.forEach(function(e){if(b.params.headers.indexOf(e.toLowerCase())<0)throw new c(e+" was not a signed header")}),r.algorithms&&-1===r.algorithms.indexOf(b.params.algorithm))throw new l(b.params.algorithm+" is not a supported algorithm");return b.algorithm=b.params.algorithm.toUpperCase(),b.keyId=b.params.keyId,b}};
},{"assert-plus":"RnCe","./utils":"BcBx"}],"OU+0":[function(require,module,exports) {
var r=require("assert"),t=require("util");function e(e){var n,o,i,c,u,f,p,l,h,w=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),g=new RegExp(w),d=Array.prototype.slice.call(arguments,1),y="",E=1;for(r.equal("string",typeof e);null!==(h=g.exec(e));)if(y+=h[1],e=e.substring(h[0].length),n=h[2]||"",o=h[3]||0,i=h[4]||"",u=!1,p=!1,f=" ","%"!=(c=h[6])){if(0===d.length)throw new Error("too few args to sprintf");if(l=d.shift(),E++,n.match(/[\' #]/))throw new Error("unsupported flags: "+n);if(i.length>0)throw new Error("non-zero precision not supported");switch(n.match(/-/)&&(u=!0),n.match(/0/)&&(f="0"),n.match(/\+/)&&(p=!0),c){case"s":if(null==l)throw new Error("argument "+E+": attempted to print undefined or null as a string");y+=a(f,o,u,l.toString());break;case"d":l=Math.floor(l);case"f":y+=(p=p&&l>0?"+":"")+a(f,o,u,l.toString());break;case"x":y+=a(f,o,u,l.toString(16));break;case"j":0===o&&(o=10),y+=t.inspect(l,!1,o);break;case"r":y+=s(l);break;default:throw new Error("unsupported conversion: "+c)}}else y+="%";return y+=e}function n(){var r=Array.prototype.slice.call(arguments);r.unshift(process.stdout),o.apply(null,r)}function o(r){var t=Array.prototype.slice.call(arguments,1);return r.write(e.apply(this,t))}function a(r,t,e,n){for(var o=n;o.length<t;)e?o+=r:o=r+o;return o}function s(r){var t;if(!(r instanceof Error))throw new Error(e("invalid type for %%r: %j",r));if(t="EXCEPTION: "+r.constructor.name+": "+r.stack,r.cause&&"function"==typeof r.cause){var n=r.cause();n&&(t+="\nCaused by: "+s(n))}return t}exports.sprintf=e,exports.printf=n,exports.fprintf=o;
},{}],"PmK6":[function(require,module,exports) {
var t=require("assert"),r=require("util");function e(e){var a,o,u,f,c,p,l,g,h,y,d,m=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),w=new RegExp(m),b=Array.prototype.slice.call(arguments,1),v=e,q="",x=1,E=0;for(t.equal("string",typeof v,"first argument must be a format string");null!==(h=w.exec(v));)if(q+=h[1],v=v.substring(h[0].length),d=h[0].substring(h[1].length),y=E+h[1].length+1,E+=h[0].length,a=h[2]||"",o=h[3]||0,u=h[4]||"",c=!1,l=!1,p=" ","%"!=(f=h[6])){if(0===b.length)throw n(e,y,d,"has no matching argument (too few arguments passed)");if(g=b.shift(),x++,a.match(/[\' #]/))throw n(e,y,d,"uses unsupported flags");if(u.length>0)throw n(e,y,d,"uses non-zero precision (not supported)");switch(a.match(/-/)&&(c=!0),a.match(/0/)&&(p="0"),a.match(/\+/)&&(l=!0),f){case"s":if(null==g)throw n(e,y,d,"attempted to print undefined or null as a string (argument "+x+" to sprintf)");q+=s(p,o,c,g.toString());break;case"d":g=Math.floor(g);case"f":q+=(l=l&&g>0?"+":"")+s(p,o,c,g.toString());break;case"x":q+=s(p,o,c,g.toString(16));break;case"j":0===o&&(o=10),q+=r.inspect(g,!1,o);break;case"r":q+=i(g);break;default:throw n(e,y,d,"is not supported")}}else q+="%";return q+=v}function n(r,e,n,a){return t.equal(typeof r,"string"),t.equal(typeof n,"string"),t.equal(typeof e,"number"),t.equal(typeof a,"string"),new Error('format string "'+r+'": conversion specifier "'+n+'" at character '+e+" "+a)}function a(){var t=Array.prototype.slice.call(arguments);t.unshift(process.stdout),o.apply(null,t)}function o(t){var r=Array.prototype.slice.call(arguments,1);return t.write(e.apply(this,r))}function s(t,r,e,n){for(var a=n;a.length<r;)e?a+=t:a=t+a;return a}function i(t){var r;if(!(t instanceof Error))throw new Error(e("invalid type for %%r: %j",t));if(r="EXCEPTION: "+t.constructor.name+": "+t.stack,t.cause&&"function"==typeof t.cause){var n=t.cause();n&&(r+="\nCaused by: "+i(n))}return r}exports.sprintf=e,exports.printf=a,exports.fprintf=o;
},{}],"FX3H":[function(require,module,exports) {
function r(r){return Array.isArray?Array.isArray(r):"[object Array]"===b(r)}function t(r){return"boolean"==typeof r}function n(r){return null===r}function e(r){return null==r}function o(r){return"number"==typeof r}function i(r){return"string"==typeof r}function u(r){return"symbol"==typeof r}function s(r){return void 0===r}function f(r){return"[object RegExp]"===b(r)}function p(r){return"object"==typeof r&&null!==r}function c(r){return"[object Date]"===b(r)}function l(r){return"[object Error]"===b(r)||r instanceof Error}function y(r){return"function"==typeof r}function x(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function b(r){return Object.prototype.toString.call(r)}exports.isArray=r,exports.isBoolean=t,exports.isNull=n,exports.isNullOrUndefined=e,exports.isNumber=o,exports.isString=i,exports.isSymbol=u,exports.isUndefined=s,exports.isRegExp=f,exports.isObject=p,exports.isDate=c,exports.isError=l,exports.isFunction=y,exports.isPrimitive=x,exports.isBuffer=Buffer.isBuffer;
},{}],"lSGF":[function(require,module,exports) {
var r=require("assert-plus"),t=require("util"),e=require("extsprintf"),s=require("core-util-is").isError,o=e.sprintf;function n(t){var e,n,i,a;if(r.object(t,"args"),r.bool(t.strict,"args.strict"),r.array(t.argv,"args.argv"),0===(e=t.argv).length)n={},i=[];else if(s(e[0]))n={cause:e[0]},i=e.slice(1);else if("object"==typeof e[0]){for(a in n={},e[0])n[a]=e[0][a];i=e.slice(1)}else r.string(e[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),n={},i=e;return r.object(n),n.strict||t.strict||(i=i.map(function(r){return null===r?"null":void 0===r?"undefined":r})),{options:n,shortmessage:0===i.length?"":o.apply(null,i)}}function i(){var t,e,o,a,c,u,l;if(t=Array.prototype.slice.call(arguments,0),!(this instanceof i))return e=Object.create(i.prototype),i.apply(e,arguments),e;if((o=n({argv:t,strict:!1})).options.name&&(r.string(o.options.name,'error\'s "name" must be a string'),this.name=o.options.name),this.jse_shortmsg=o.shortmessage,u=o.shortmessage,(a=o.options.cause)&&(r.ok(s(a),"cause is not an Error"),this.jse_cause=a,o.options.skipCauseMessage||(u+=": "+a.message)),this.jse_info={},o.options.info)for(l in o.options.info)this.jse_info[l]=o.options.info[l];return this.message=u,Error.call(this,u),Error.captureStackTrace&&(c=o.options.constructorOpt||this.constructor,Error.captureStackTrace(this,c)),this}function a(){var r,t,e,s;return r=Array.prototype.slice.call(arguments,0),this instanceof a?(s=(e=n({argv:r,strict:!0})).options,i.call(this,s,"%s",e.shortmessage),this):(t=Object.create(a.prototype),a.apply(t,arguments),t)}function c(t){r.array(t,"list of errors"),r.ok(t.length>0,"must be at least one error"),this.ase_errors=t,i.call(this,{cause:t[0]},"first of %d error%s",t.length,1==t.length?"":"s")}function u(){var r,t,e,s;return r=Array.prototype.slice.call(arguments,0),this instanceof u?((s=(e=n({argv:r,strict:!1})).options).skipCauseMessage=!0,i.call(this,s,"%s",e.shortmessage),this):(t=Object.create(u.prototype),u.apply(t,r),t)}module.exports=i,i.VError=i,i.SError=a,i.WError=u,i.MultiError=c,t.inherits(i,Error),i.prototype.name="VError",i.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),r},i.prototype.cause=function(){var r=i.cause(this);return null===r?void 0:r},i.cause=function(t){return r.ok(s(t),"err must be an Error"),s(t.jse_cause)?t.jse_cause:null},i.info=function(t){var e,o,n;if(r.ok(s(t),"err must be an Error"),e=null!==(o=i.cause(t))?i.info(o):{},"object"==typeof t.jse_info&&null!==t.jse_info)for(n in t.jse_info)e[n]=t.jse_info[n];return e},i.findCauseByName=function(t,e){var o;for(r.ok(s(t),"err must be an Error"),r.string(e,"name"),r.ok(e.length>0,"name cannot be empty"),o=t;null!==o;o=i.cause(o))if(r.ok(s(o)),o.name==e)return o;return null},i.hasCauseWithName=function(r,t){return null!==i.findCauseByName(r,t)},i.fullStack=function(t){r.ok(s(t),"err must be an Error");var e=i.cause(t);return e?t.stack+"\ncaused by: "+i.fullStack(e):t.stack},i.errorFromList=function(t){return r.arrayOfObject(t,"errors"),0===t.length?null:(t.forEach(function(t){r.ok(s(t))}),1==t.length?t[0]:new c(t))},i.errorForEach=function(t,e){r.ok(s(t),"err must be an Error"),r.func(e,"func"),t instanceof c?t.errors().forEach(function(r){e(r)}):e(t)},t.inherits(a,i),t.inherits(c,i),c.prototype.name="MultiError",c.prototype.errors=function(){return this.ase_errors.slice(0)},t.inherits(u,i),u.prototype.name="WError",u.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(r+="; caused by "+this.jse_cause.toString()),r},u.prototype.cause=function(r){return s(r)&&(this.jse_cause=r),this.jse_cause};
},{"assert-plus":"RnCe","extsprintf":"PmK6","core-util-is":"FX3H"}],"cDjk":[function(require,module,exports) {
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():e.jsonSchema=t()}(this,function(){var e=n;e.Integer={type:"integer"};var t={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};function n(e,t){return n(e,t,{changing:!1})}e.validate=n,e.checkPropertyChange=function(e,t,r){return n(e,t,{changing:r||"property"})};var n=e._validate=function(e,n,r){r||(r={});var a=r.changing;function i(e){return e.type||t[e.name]==e&&e.name.toLowerCase()}var o=[];function m(e,t,n,s){var c;function f(e){o.push({property:n,message:e})}if(n+=n?"number"==typeof s?"["+s+"]":void 0===s?"":"."+s:s,("object"!=typeof t||t instanceof Array)&&(n||"function"!=typeof t)&&(!t||!i(t)))return"function"==typeof t?e instanceof t||f("is not an instance of the class/constructor "+t.name):t&&f("Invalid schema/property definition "+t),null;function u(e,t){if(e){if(!("string"!=typeof e||"any"==e||("null"==e?null===t:typeof t==e)||t instanceof Array&&"array"==e||t instanceof Date&&"date"==e||"integer"==e&&t%1==0))return[{property:n,message:typeof t+" value found, but a "+e+" is required"}];if(e instanceof Array){for(var r=[],a=0;a<e.length&&(r=u(e[a],t)).length;a++);if(r.length)return r}else if("object"==typeof e){var i=o;o=[],m(t,e,n);var s=o;return o=i,s}}return[]}if(a&&t.readonly&&f("is a readonly field, it can not be changed"),t.extends&&m(e,t.extends,n,s),void 0===e)t.required&&f("is missing and it is required");else if(o=o.concat(u(i(t),e)),t.disallow&&!u(t.disallow,e).length&&f(" disallowed value was matched"),null!==e){if(e instanceof Array){if(t.items){var p=t.items instanceof Array,l=t.items;for(s=0,c=e.length;s<c;s+=1)p&&(l=t.items[s]),r.coerce&&(e[s]=r.coerce(e[s],l)),o.concat(m(e[s],l,n,s))}t.minItems&&e.length<t.minItems&&f("There must be a minimum of "+t.minItems+" in the array"),t.maxItems&&e.length>t.maxItems&&f("There must be a maximum of "+t.maxItems+" in the array")}else(t.properties||t.additionalProperties)&&o.concat(function(e,t,n,i){if("object"==typeof t)for(var s in("object"!=typeof e||e instanceof Array)&&o.push({property:n,message:"an object is required"}),t)if(t.hasOwnProperty(s)){var c=e[s];if(void 0===c&&r.existingOnly)continue;var f=t[s];void 0===c&&f.default&&(c=e[s]=f.default),r.coerce&&s in e&&(c=e[s]=r.coerce(c,f)),m(c,f,n,s)}for(s in e){if(e.hasOwnProperty(s)&&("_"!=s.charAt(0)||"_"!=s.charAt(1))&&t&&!t[s]&&!1===i){if(r.filter){delete e[s];continue}o.push({property:n,message:typeof c+"The property "+s+" is not defined in the schema and the schema does not allow additional properties"})}var u=t&&t[s]&&t[s].requires;!u||u in e||o.push({property:n,message:"the presence of the property "+s+" requires that "+u+" also be present"}),c=e[s],!i||t&&"object"==typeof t&&s in t||(r.coerce&&(c=e[s]=r.coerce(c,i)),m(c,i,n,s)),!a&&c&&c.$schema&&(o=o.concat(m(c,c.$schema,n,s)))}return o}(e,t.properties,n,t.additionalProperties));if(t.pattern&&"string"==typeof e&&!e.match(t.pattern)&&f("does not match the regex pattern "+t.pattern),t.maxLength&&"string"==typeof e&&e.length>t.maxLength&&f("may only be "+t.maxLength+" characters long"),t.minLength&&"string"==typeof e&&e.length<t.minLength&&f("must be at least "+t.minLength+" characters long"),void 0!==typeof t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&f("must have a minimum value of "+t.minimum),void 0!==typeof t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&f("must have a maximum value of "+t.maximum),t.enum){var h,y=t.enum;c=y.length;for(var d=0;d<c;d++)if(y[d]===e){h=1;break}h||f("does not have a value in the enumeration "+y.join(", "))}"number"==typeof t.maxDecimal&&e.toString().match(new RegExp("\\.[0-9]{"+(t.maxDecimal+1)+",}"))&&f("may only have "+t.maxDecimal+" digits of decimal places")}return null}return n&&m(e,n,"",a||""),!a&&e&&e.$schema&&m(e,e.$schema,"",""),{valid:!o.length,errors:o}};return e.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map(function(e){return"for property "+e.property+": "+e.message}).join(", \n"))},e});
},{}],"GgX5":[function(require,module,exports) {
var e=require("assert-plus"),r=require("util"),t=require("extsprintf"),o=require("verror"),n=require("json-schema");function i(e){var r,t,o="__deepCopy";if(e&&e[o])throw new Error("attempted deep copy of cyclic object");if(e&&e.constructor==Object){for(t in r={},e[o]=!0,e)t!=o&&(r[t]=i(e[t]));return delete e[o],r}if(e&&e.constructor==Array){for(r=[],e[o]=!0,t=0;t<e.length;t++)r.push(i(e[t]));return delete e[o],r}return e}function a(e,r){if(typeof e!=typeof r)return!1;if(null===e||null===r||"object"!=typeof e)return e===r;if(e.constructor!=r.constructor)return!1;var t;for(t in e){if(!r.hasOwnProperty(t))return!1;if(!a(e[t],r[t]))return!1}for(t in r)if(!e.hasOwnProperty(t))return!1;return!0}function s(e){var r;for(r in e)return!1;return!0}function u(r,t){return e.equal(typeof t,"string"),Object.prototype.hasOwnProperty.call(r,t)}function l(e,r){for(var t in e)u(e,t)&&r(t,e[t])}function f(r,t){return e.equal(typeof t,"string"),c(r,t)}function c(e,r){if(null!==e&&"object"==typeof e){if(e.hasOwnProperty(r))return e[r];var t=r.indexOf(".");if(-1!=t){var o=r.substr(0,t);if(e.hasOwnProperty(o))return c(e[o],r.substr(t+1))}}}function p(e,r,t){d(e,r,[],t)}function d(r,t,o,n){var i,a;if(0===t)return(i=o.slice(0)).push(r),void n(i);for(a in e.ok(null!==r),e.equal(typeof r,"object"),e.equal(typeof t,"number"),e.ok(t>=0),r)(i=o.slice(0)).push(a),d(r[a],t-1,i,n)}function g(r,t){if(0===t)return[r];e.ok(null!==r),e.equal(typeof r,"object"),e.equal(typeof t,"number"),e.ok(t>=0);var o,n=[];for(o in r)g(r[o],t-1).forEach(function(e){n.push([o].concat(e))});return n}function h(e,r){return e.substr(0,r.length)==r}function b(e,r){return e.substr(e.length-r.length,r.length)==r}function m(r){return"number"==typeof r&&(r=new Date(r)),e.ok(r.constructor===Date),t.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())}exports.deepCopy=i,exports.deepEqual=a,exports.isEmpty=s,exports.hasKey=u,exports.forEachKey=l,exports.pluck=f,exports.flattenObject=g,exports.flattenIter=p,exports.validateJsonObject=Y,exports.validateJsonObjectJS=Y,exports.randElt=L,exports.extraProperties=re,exports.mergeObjects=te,exports.startsWith=h,exports.endsWith=b,exports.parseInteger=G,exports.iso8601=m,exports.rfc1123=x,exports.parseDateTime=v,exports.hrtimediff=X,exports.hrtimeDiff=X,exports.hrtimeAccum=$,exports.hrtimeAdd=ee,exports.hrtimeNanosec=z,exports.hrtimeMicrosec=B,exports.hrtimeMillisec=Q;var y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function x(e){return t.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",w[e.getUTCDay()],e.getUTCDate(),y[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function v(e){var r=+e;return isNaN(r)?new Date(e):new Date(r)}var O=Number.MAX_SAFE_INTEGER||9007199254740991,T=Number.MIN_SAFE_INTEGER||-9007199254740991,C={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},j=48,M=57,k=65,E=66,A=79,I=84,S=88,U=90,q=97,N=98,D=111,P=116,J=120,W=122,Z=48,_=55,F=87;function G(r,t){e.string(r,"str"),e.optionalObject(t,"options");var o,n=!1,i=C;t&&(n=u(t,"base"),i=te(i,t),e.number(i.base,"options.base"),e.ok(i.base>=2,"options.base >= 2"),e.ok(i.base<=36,"options.base <= 36"),e.bool(i.allowSign,"options.allowSign"),e.bool(i.allowPrefix,"options.allowPrefix"),e.bool(i.allowTrailing,"options.allowTrailing"),e.bool(i.allowImprecise,"options.allowImprecise"),e.bool(i.trimWhitespace,"options.trimWhitespace"),e.bool(i.leadingZeroIsOctal,"options.leadingZeroIsOctal"),i.leadingZeroIsOctal&&e.ok(!n,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var a,s=-1,l=i.base,f=1,c=0,p=0,d=r.length;if(i.trimWhitespace)for(;p<d&&K(r.charCodeAt(p));)++p;for(i.allowSign&&("-"===r[p]?(p+=1,f=-1):"+"===r[p]&&(p+=1)),"0"===r[p]&&(i.allowPrefix&&(-1===(s=R(r.charCodeAt(p+1)))||n&&s!==l||(l=s,p+=2)),-1===s&&i.leadingZeroIsOctal&&(l=8)),a=p;p<d&&(-1!==(o=H(r.charCodeAt(p)))&&o<l);++p)c*=l,c+=o;if(a===p)return new Error("invalid number: "+JSON.stringify(r));if(i.trimWhitespace)for(;p<d&&K(r.charCodeAt(p));)++p;if(p<d&&!i.allowTrailing)return new Error("trailing characters after number: "+JSON.stringify(r.slice(p)));if(0===c)return 0;var g=c*f;return!i.allowImprecise&&(c>O||g<T)?new Error("number is outside of the supported range: "+JSON.stringify(r.slice(a,p))):g}function H(e){return e>=j&&e<=M?e-Z:e>=k&&e<=U?e-_:e>=q&&e<=W?e-F:-1}function K(e){return 32===e||e>=9&&e<=13||160===e||5760===e||6158===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e||65279===e}function R(e){return e===N||e===E?2:e===D||e===A?8:e===P||e===I?10:e===J||e===S?16:-1}function Y(e,r){var t=n.validate(r,e);if(0===t.errors.length)return null;var i,a,s=t.errors[0],u=s.property,l=s.message.toLowerCase();-1!=(i=l.indexOf("the property "))&&-1!=(a=l.indexOf(" is not defined in the schema and the schema does not allow additional properties"))&&(i+="the property ".length,u=""===u?l.substr(i,a-i):u+"."+l.substr(i,a-i),l="unsupported property");var f=new o.VError('property "%s": %s',u,l);return f.jsv_details=s,f}function L(r){return e.ok(Array.isArray(r)&&r.length>0,"randElt argument must be a non-empty array"),r[Math.floor(Math.random()*r.length)]}function V(r){e.ok(r[0]>=0&&r[1]>=0,"negative numbers not allowed in hrtimes"),e.ok(r[1]<1e9,"nanoseconds column overflow")}function X(r,t){V(r),V(t),e.ok(r[0]>t[0]||r[0]==t[0]&&r[1]>=t[1],"negative differences not allowed");var o=[r[0]-t[0],0];return r[1]>=t[1]?o[1]=r[1]-t[1]:(o[0]--,o[1]=1e9-(t[1]-r[1])),o}function z(e){return V(e),Math.floor(1e9*e[0]+e[1])}function B(e){return V(e),Math.floor(1e6*e[0]+e[1]/1e3)}function Q(e){return V(e),Math.floor(1e3*e[0]+e[1]/1e6)}function $(e,r){return V(e),V(r),e[1]+=r[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=r[0],e}function ee(e,r){return V(e),$([e[0],e[1]],r)}function re(r,t){e.ok("object"==typeof r&&null!==r,"obj argument must be a non-null object"),e.ok(Array.isArray(t),"allowed argument must be an array of strings");for(var o=0;o<t.length;o++)e.ok("string"==typeof t[o],"allowed argument must be an array of strings");return Object.keys(r).filter(function(e){return-1===t.indexOf(e)})}function te(e,r,t){var o,n;if(o={},t)for(n in t)o[n]=t[n];if(e)for(n in e)o[n]=e[n];if(r)for(n in r)o[n]=r[n];return o}
},{"assert-plus":"RnCe","extsprintf":"OU+0","verror":"lSGF","json-schema":"cDjk"}],"m9zc":[function(require,module,exports) {
var e=require("assert-plus"),t=require("crypto"),r=require("http"),i=require("util"),s=require("sshpk"),o=require("jsprim"),n=require("./utils"),a=require("util").format,h=n.HASH_ALGOS,g=n.PK_ALGOS,p=n.InvalidAlgorithmError,u=n.HttpSignatureError,y=n.validateAlgorithm,d='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';function f(e){u.call(this,e,f)}function l(e){u.call(this,e,l)}function c(r){e.object(r,"options");var i=[];if(void 0!==r.algorithm&&(e.string(r.algorithm,"options.algorithm"),i=y(r.algorithm)),this.rs_alg=i,void 0!==r.sign)e.func(r.sign,"options.sign"),this.rs_signFunc=r.sign;else if("hmac"===i[0]&&void 0!==r.key){if(e.string(r.keyId,"options.keyId"),this.rs_keyId=r.keyId,"string"!=typeof r.key&&!Buffer.isBuffer(r.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=t.createHmac(i[1].toUpperCase(),r.key),this.rs_signer.sign=function(){var e=this.digest("base64");return{hashAlgorithm:i[1],toString:function(){return e}}}}else{if(void 0===r.key)throw new TypeError("options.sign (func) or options.key is required");var o=r.key;if(("string"==typeof o||Buffer.isBuffer(o))&&(o=s.parsePrivateKey(o)),e.ok(s.PrivateKey.isPrivateKey(o,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=o,e.string(r.keyId,"options.keyId"),this.rs_keyId=r.keyId,!g[o.type])throw new p(o.type.toUpperCase()+" type keys are not supported");if(void 0!==i[0]&&o.type!==i[0])throw new p("options.key must be a "+i[0].toUpperCase()+" key, was given a "+o.type.toUpperCase()+" key instead");this.rs_signer=o.createSign(i[1])}this.rs_headers=[],this.rs_lines=[]}i.inherits(f,u),i.inherits(l,u),c.prototype.writeHeader=function(t,r){if(e.string(t,"header"),t=t.toLowerCase(),e.string(r,"value"),this.rs_headers.push(t),this.rs_signFunc)this.rs_lines.push(t+": "+r);else{var i=t+": "+r;this.rs_headers.length>0&&(i="\n"+i),this.rs_signer.update(i)}return r},c.prototype.writeDateHeader=function(){return this.writeHeader("date",o.rfc1123(new Date))},c.prototype.writeTarget=function(t,r){e.string(t,"method"),e.string(r,"path"),t=t.toLowerCase(),this.writeHeader("(request-target)",t+" "+r)},c.prototype.sign=function(t){if(e.func(t,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var r,i;if(this.rs_signFunc){var s=this.rs_lines.join("\n"),o=this;this.rs_signFunc(s,function(s,n){if(s)t(s);else{try{e.object(n,"signature"),e.string(n.keyId,"signature.keyId"),e.string(n.algorithm,"signature.algorithm"),e.string(n.signature,"signature.signature"),r=y(n.algorithm),i=a(d,n.keyId,n.algorithm,o.rs_headers.join(" "),n.signature)}catch(h){return void t(h)}t(null,i)}})}else{try{var n=this.rs_signer.sign()}catch(g){return void t(g)}r=(this.rs_alg[0]||this.rs_key.type)+"-"+n.hashAlgorithm;var h=n.toString();i=a(d,this.rs_keyId,r,this.rs_headers.join(" "),h),t(null,i)}},module.exports={isSigner:function(e){return"object"==typeof e&&e instanceof c},createSigner:function(e){return new c(e)},signRequest:function(r,i){e.object(r,"request"),e.object(i,"options"),e.optionalString(i.algorithm,"options.algorithm"),e.string(i.keyId,"options.keyId"),e.optionalArrayOfString(i.headers,"options.headers"),e.optionalString(i.httpVersion,"options.httpVersion"),r.getHeader("Date")||r.setHeader("Date",o.rfc1123(new Date)),i.headers||(i.headers=["date"]),i.httpVersion||(i.httpVersion="1.1");var n,u=[];i.algorithm&&(i.algorithm=i.algorithm.toLowerCase(),u=y(i.algorithm));var c,k="";for(n=0;n<i.headers.length;n++){if("string"!=typeof i.headers[n])throw new TypeError("options.headers must be an array of Strings");var m=i.headers[n].toLowerCase();if("request-line"===m){if(i.strict)throw new l("request-line is not a valid header with strict parsing enabled.");k+=r.method+" "+r.path+" HTTP/"+i.httpVersion}else if("(request-target)"===m)k+="(request-target): "+r.method.toLowerCase()+" "+r.path;else{var w=r.getHeader(m);if(void 0===w||""===w)throw new f(m+" was not in the request");k+=m+": "+w}n+1<i.headers.length&&(k+="\n")}if(r.hasOwnProperty("_stringToSign")&&(r._stringToSign=k),"hmac"===u[0]){if("string"!=typeof i.key&&!Buffer.isBuffer(i.key))throw new TypeError("options.key must be a string or Buffer");var v=t.createHmac(u[1].toUpperCase(),i.key);v.update(k),c=v.digest("base64")}else{var _=i.key;if(("string"==typeof _||Buffer.isBuffer(_))&&(_=s.parsePrivateKey(i.key)),e.ok(s.PrivateKey.isPrivateKey(_,[1,2]),"options.key must be a sshpk.PrivateKey"),!g[_.type])throw new p(_.type.toUpperCase()+" type keys are not supported");if(void 0!==u[0]&&_.type!==u[0])throw new p("options.key must be a "+u[0].toUpperCase()+" key, was given a "+_.type.toUpperCase()+" key instead");var S=_.createSign(u[1]);S.update(k);var q=S.sign();if(!h[q.hashAlgorithm])throw new p(q.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");i.algorithm=_.type+"-"+q.hashAlgorithm,c=q.toString(),e.notStrictEqual(c,"","empty signature produced")}var b=i.authorizationHeaderName||"Authorization";return r.setHeader(b,a(d,i.keyId,i.algorithm,i.headers.join(" "),c)),!0}};
},{"assert-plus":"RnCe","sshpk":"mZ2j","jsprim":"GgX5","./utils":"BcBx"}],"Z9m0":[function(require,module,exports) {
var r=require("assert-plus"),e=require("crypto"),t=require("sshpk"),a=require("./utils"),i=a.HASH_ALGOS,s=a.PK_ALGOS,u=a.InvalidAlgorithmError,n=a.HttpSignatureError,g=a.validateAlgorithm;module.exports={verifySignature:function(e,a){r.object(e,"parsedSignature"),("string"==typeof a||Buffer.isBuffer(a))&&(a=t.parseKey(a)),r.ok(t.Key.isKey(a,[1,1]),"pubkey must be a sshpk.Key");var i=g(e.algorithm);if("hmac"===i[0]||i[0]!==a.type)return!1;var s=a.createVerify(i[1]);return s.update(e.signingString),s.verify(e.params.signature,"base64")},verifyHMAC:function(t,a){r.object(t,"parsedHMAC"),r.string(a,"secret");var i=g(t.algorithm);if("hmac"!==i[0])return!1;var s=i[1].toUpperCase(),u=e.createHmac(s,a);u.update(t.signingString);var n=e.createHmac(s,a);n.update(u.digest()),n=n.digest();var p=e.createHmac(s,a);return p.update(new Buffer(t.params.signature,"base64")),p=p.digest(),"string"==typeof n?n===p:Buffer.isBuffer(n)&&!n.equals?n.toString("binary")===p.toString("binary"):n.equals(p)}};
},{"assert-plus":"RnCe","sshpk":"mZ2j","./utils":"BcBx"}],"KeiN":[function(require,module,exports) {
var e=require("./parser"),r=require("./signer"),i=require("./verify"),s=require("./utils");module.exports={parse:e.parseRequest,parseRequest:e.parseRequest,sign:r.signRequest,signRequest:r.signRequest,createSigner:r.createSigner,isSigner:r.isSigner,sshKeyToPEM:s.sshKeyToPEM,sshKeyFingerprint:s.fingerprint,pemToRsaSSHKey:s.pemToRsaSSHKey,verify:i.verifySignature,verifySignature:i.verifySignature,verifyHMAC:i.verifyHMAC};
},{"./parser":"T3TD","./signer":"m9zc","./verify":"Z9m0","./utils":"BcBx"}],"Tvlp":[function(require,module,exports) {
module.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0},"application/atsc-held+xml":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma","es"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0},"application/fhir+json":{source:"iana",compressible:!0},"application/fhir+xml":{source:"iana",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0},"application/mmt-usd+xml":{source:"iana",compressible:!0},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",compressible:!0},"application/msc-mixer+xml":{source:"iana",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",compressible:!0},"application/pidf-diff+xml":{source:"iana",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0},"application/route-s-tsid+xml":{source:"iana",compressible:!0},"application/route-usd+xml":{source:"iana",compressible:!0},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0},"application/urc-targetdesc+xml":{source:"iana",compressible:!0},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["keynote"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",compressible:!0},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0},"application/xcap-caps+xml":{source:"iana",compressible:!0},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};
},{}],"/TsS":[function(require,module,exports) {
module.exports=require("./db.json");
},{"./db.json":"Tvlp"}],"aRr3":[function(require,module,exports) {
"use strict";var e=require("mime-db"),t=require("path").extname,r=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;function n(t){if(!t||"string"!=typeof t)return!1;var n=r.exec(t),o=n&&e[n[1].toLowerCase()];return o&&o.charset?o.charset:!(!n||!s.test(n[1]))&&"UTF-8"}function o(e){if(!e||"string"!=typeof e)return!1;var t=-1===e.indexOf("/")?exports.lookup(e):e;if(!t)return!1;if(-1===t.indexOf("charset")){var r=exports.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}function i(e){if(!e||"string"!=typeof e)return!1;var t=r.exec(e),s=t&&exports.extensions[t[1].toLowerCase()];return!(!s||!s.length)&&s[0]}function a(e){if(!e||"string"!=typeof e)return!1;var r=t("x."+e).toLowerCase().substr(1);return r&&exports.types[r]||!1}function c(t,r){var s=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(n){var o=e[n],i=o.extensions;if(i&&i.length){t[n]=i;for(var a=0;a<i.length;a++){var c=i[a];if(r[c]){var p=s.indexOf(e[r[c]].source),u=s.indexOf(o.source);if("application/octet-stream"!==r[c]&&(p>u||p===u&&"application/"===r[c].substr(0,12)))continue}r[c]=n}}})}exports.charset=n,exports.charsets={lookup:n},exports.contentType=o,exports.extension=i,exports.extensions=Object.create(null),exports.lookup=a,exports.types=Object.create(null),c(exports.extensions,exports.types);
},{"mime-db":"/TsS"}],"E3Bq":[function(require,module,exports) {
function t(t){this.dict=t||{}}t.prototype.set=function(t,e,r){if("object"!=typeof t){void 0===r&&(r=!0);var i=this.has(t);return!r&&i?this.dict[i]=this.dict[i]+","+e:this.dict[i||t]=e,i}for(var o in t)this.set(o,t[o],e)},t.prototype.has=function(t){for(var e=Object.keys(this.dict),r=(t=t.toLowerCase(),0);r<e.length;r++)if(e[r].toLowerCase()===t)return e[r];return!1},t.prototype.get=function(t){var e,r;t=t.toLowerCase();var i=this.dict;return Object.keys(i).forEach(function(o){r=o.toLowerCase(),t===r&&(e=i[o])}),e},t.prototype.swap=function(t){var e=this.has(t);if(e!==t){if(!e)throw new Error('There is no header than matches "'+t+'"');this.dict[t]=this.dict[e],delete this.dict[e]}},t.prototype.del=function(t){var e=this.has(t);return delete this.dict[e||t]},module.exports=function(e){return new t(e)},module.exports.httpify=function(e,r){var i=new t(r);return e.setHeader=function(t,e,r){if(void 0!==e)return i.set(t,e,r)},e.hasHeader=function(t){return i.has(t)},e.getHeader=function(t){return i.get(t)},e.removeHeader=function(t){return i.del(t)},e.headers=i.dict,i};
},{}],"lkmw":[function(require,module,exports) {
module.exports=n,n.SSL=c;var e=require("util"),t=require("http").Agent,o=require("net"),s=require("tls"),r=require("https").Agent;function i(e,t){return"string"==typeof e?e+":"+t:e.host+":"+e.port+":"+(e.localAddress?e.localAddress+":":":")}function n(e){var o=this;o.options=e||{},o.requests={},o.sockets={},o.freeSockets={},o.maxSockets=o.options.maxSockets||t.defaultMaxSockets,o.minSockets=o.options.minSockets||n.defaultMinSockets,o.on("free",function(e,t,s){var r=i(t,s);if(o.requests[r]&&o.requests[r].length)o.requests[r].shift().onSocket(e);else if(o.sockets[r].length<o.minSockets){o.freeSockets[r]||(o.freeSockets[r]=[]),o.freeSockets[r].push(e);var n=function(){e.destroy()};e._onIdleError=n,e.on("error",n)}else e.destroy()})}function c(e){n.call(this,e)}function u(e,t,o){return o="object"==typeof e?e:"object"==typeof t?t:"object"==typeof o?o:{},"number"==typeof e&&(o.port=e),"string"==typeof t&&(o.host=t),s.connect(o)}e.inherits(n,t),n.defaultMinSockets=5,n.prototype.createConnection=o.createConnection,n.prototype.addRequestNoreuse=t.prototype.addRequest,n.prototype.addRequest=function(e,t,o){var s=i(t,o);if("string"!=typeof t){var r=t;o=r.port,t=r.host}if(this.freeSockets[s]&&this.freeSockets[s].length>0&&!e.useChunkedEncodingByDefault){var n=this.freeSockets[s].pop();n.removeListener("error",n._onIdleError),delete n._onIdleError,e._reusedSocket=!0,e.onSocket(n)}else this.addRequestNoreuse(e,t,o)},n.prototype.removeSocket=function(e,t,o,s){var r;this.sockets[t]?-1!==(r=this.sockets[t].indexOf(e))&&this.sockets[t].splice(r,1):this.sockets[t]&&0===this.sockets[t].length&&(delete this.sockets[t],delete this.requests[t]);this.freeSockets[t]&&(-1!==(r=this.freeSockets[t].indexOf(e))&&(this.freeSockets[t].splice(r,1),0===this.freeSockets[t].length&&delete this.freeSockets[t]));this.requests[t]&&this.requests[t].length&&this.createSocket(t,o,s).emit("free")},e.inherits(c,n),c.prototype.createConnection=u,c.prototype.addRequestNoreuse=r.prototype.addRequest;
},{}],"+M4p":[function(require,module,exports) {
var e=require("stream").Stream,t=require("util");function i(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}module.exports=i,t.inherits(i,e),i.create=function(e,t){var i=new this;for(var r in t=t||{})i[r]=t[r];i.source=e;var a=e.emit;return e.emit=function(){return i._handleEmit(arguments),a.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(i.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),i.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},i.prototype.resume=function(){this._released||this.release(),this.source.resume()},i.prototype.pause=function(){this.source.pause()},i.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},i.prototype.pipe=function(){var t=e.prototype.pipe.apply(this,arguments);return this.resume(),t},i.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},i.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}};
},{}],"17S0":[function(require,module,exports) {
var t=require("util"),e=require("stream").Stream,i=require("delayed-stream");function r(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}module.exports=r,t.inherits(r,e),r.create=function(t){var e=new this;for(var i in t=t||{})e[i]=t[i];return e},r.isStreamLike=function(t){return"function"!=typeof t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&!Buffer.isBuffer(t)},r.prototype.append=function(t){if(r.isStreamLike(t)){if(!(t instanceof i)){var e=i.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=e}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},r.prototype.pipe=function(t,i){return e.prototype.pipe.call(this,t,i),this.resume(),t},r.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},r.prototype._realGetNext=function(){var t=this._streams.shift();void 0!==t?"function"==typeof t?t(function(t){r.isStreamLike(t)&&(t.on("data",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this)):this._pipeNext(t):this.end()},r.prototype._pipeNext=function(t){if(this._currentStream=t,r.isStreamLike(t))return t.on("end",this._getNext.bind(this)),void t.pipe(this,{end:!1});var e=t;this.write(e),this._getNext()},r.prototype._handleErrors=function(t){var e=this;t.on("error",function(t){e._emitError(t)})},r.prototype.write=function(t){this.emit("data",t)},r.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},r.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},r.prototype.end=function(){this._reset(),this.emit("end")},r.prototype.destroy=function(){this._reset(),this.emit("close")},r.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},r.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}},r.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},r.prototype._emitError=function(t){this._reset(),this.emit("error",t)};
},{"delayed-stream":"+M4p"}],"7OuI":[function(require,module,exports) {
function e(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}module.exports=e;
},{}],"ZJ+Z":[function(require,module,exports) {
var n=require("./defer.js");function r(r){var e=!1;return n(function(){e=!0}),function(u,o){e?r(u,o):n(function(){r(u,o)})}}module.exports=r;
},{"./defer.js":"7OuI"}],"5EkE":[function(require,module,exports) {
function o(o){Object.keys(o.jobs).forEach(s.bind(o)),o.jobs={}}function s(o){"function"==typeof this.jobs[o]&&this.jobs[o]()}module.exports=o;
},{}],"MM0r":[function(require,module,exports) {
var e=require("./async.js"),s=require("./abort.js");function n(e,n,t,i){var o=t.keyedList?t.keyedList[t.index]:t.index;t.jobs[o]=r(n,o,e[o],function(e,n){o in t.jobs&&(delete t.jobs[o],e?s(t):t.results[o]=n,i(e,t.results))})}function r(s,n,r,t){return 2==s.length?s(r,e(t)):s(r,n,e(t))}module.exports=n;
},{"./async.js":"ZJ+Z","./abort.js":"5EkE"}],"FVKW":[function(require,module,exports) {
function e(e,t){var r=!Array.isArray(e),s={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&s.keyedList.sort(r?t:function(r,s){return t(e[r],e[s])}),s}module.exports=e;
},{}],"g6tc":[function(require,module,exports) {
var s=require("./abort.js"),e=require("./async.js");function t(t){Object.keys(this.jobs).length&&(this.index=this.size,s(this),e(t)(null,this.results))}module.exports=t;
},{"./abort.js":"5EkE","./async.js":"ZJ+Z"}],"TbgF":[function(require,module,exports) {
var e=require("./lib/iterate.js"),r=require("./lib/state.js"),t=require("./lib/terminator.js");function i(i,n,s){for(var l=r(i);l.index<(l.keyedList||i).length;)e(i,n,l,function(e,r){e?s(e,r):0!==Object.keys(l.jobs).length||s(null,l.results)}),l.index++;return t.bind(l,s)}module.exports=i;
},{"./lib/iterate.js":"MM0r","./lib/state.js":"FVKW","./lib/terminator.js":"g6tc"}],"s2z1":[function(require,module,exports) {
var e=require("./lib/iterate.js"),n=require("./lib/state.js"),r=require("./lib/terminator.js");function t(t,i,u,s){var o=n(t,u);return e(t,i,o,function n(r,u){r?s(r,u):(o.index++,o.index<(o.keyedList||t).length?e(t,i,o,n):s(null,o.results))}),r.bind(o,s)}function i(e,n){return e<n?-1:e>n?1:0}function u(e,n){return-1*i(e,n)}module.exports=t,module.exports.ascending=i,module.exports.descending=u;
},{"./lib/iterate.js":"MM0r","./lib/state.js":"FVKW","./lib/terminator.js":"g6tc"}],"/Va2":[function(require,module,exports) {
var r=require("./serialOrdered.js");function e(e,u,l){return r(e,u,null,l)}module.exports=e;
},{"./serialOrdered.js":"s2z1"}],"otDE":[function(require,module,exports) {
module.exports={parallel:require("./parallel.js"),serial:require("./serial.js"),serialOrdered:require("./serialOrdered.js")};
},{"./parallel.js":"TbgF","./serial.js":"/Va2","./serialOrdered.js":"s2z1"}],"KxQl":[function(require,module,exports) {
module.exports=function(e,n){return Object.keys(n).forEach(function(o){e[o]=e[o]||n[o]}),e};
},{}],"V3mD":[function(require,module,exports) {
var t=require("combined-stream"),e=require("util"),r=require("path"),n=require("http"),o=require("https"),a=require("url").parse,i=require("fs"),s=require("mime-types"),h=require("asynckit"),p=require("./populate.js");function u(e){if(!(this instanceof u))return new u;for(var r in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],t.call(this),e=e||{})this[r]=e[r]}module.exports=u,e.inherits(u,t),u.LINE_BREAK="\r\n",u.DEFAULT_CONTENT_TYPE="application/octet-stream",u.prototype.append=function(r,n,o){"string"==typeof(o=o||{})&&(o={filename:o});var a=t.prototype.append.bind(this);if("number"==typeof n&&(n=""+n),e.isArray(n))this._error(new Error("Arrays are not supported."));else{var i=this._multiPartHeader(r,n,o),s=this._multiPartFooter();a(i),a(n),a(s),this._trackLength(i,n,o)}},u.prototype._trackLength=function(t,e,r){var n=0;null!=r.knownLength?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:"string"==typeof e&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+u.LINE_BREAK.length,e&&(e.path||e.readable&&e.hasOwnProperty("httpVersion"))&&(r.knownLength||this._valuesToMeasure.push(e))},u.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?null!=t.end&&t.end!=1/0&&null!=t.start?e(null,t.end+1-(t.start?t.start:0)):i.stat(t.path,function(r,n){var o;r?e(r):(o=n.size-(t.start?t.start:0),e(null,o))}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")},u.prototype._multiPartHeader=function(t,e,r){if("string"==typeof r.header)return r.header;var n,o=this._getContentDisposition(e,r),a=this._getContentType(e,r),i="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(o||[]),"Content-Type":[].concat(a||[])};for(var h in"object"==typeof r.header&&p(s,r.header),s)s.hasOwnProperty(h)&&null!=(n=s[h])&&(Array.isArray(n)||(n=[n]),n.length&&(i+=h+": "+n.join("; ")+u.LINE_BREAK));return"--"+this.getBoundary()+u.LINE_BREAK+i+u.LINE_BREAK},u.prototype._getContentDisposition=function(t,e){var n,o;return"string"==typeof e.filepath?n=r.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?n=r.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(n=r.basename(t.client._httpMessage.path)),n&&(o='filename="'+n+'"'),o},u.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=s.lookup(t.name)),!r&&t.path&&(r=s.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),r||!e.filepath&&!e.filename||(r=s.lookup(e.filepath||e.filename)),r||"object"!=typeof t||(r=u.DEFAULT_CONTENT_TYPE),r},u.prototype._multiPartFooter=function(){return function(t){var e=u.LINE_BREAK;0===this._streams.length&&(e+=this._lastBoundary()),t(e)}.bind(this)},u.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+u.LINE_BREAK},u.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r},u.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},u.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(10*Math.random()).toString(16);this._boundary=t},u.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t},u.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t},u.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;this._streams.length&&(e+=this._lastBoundary().length),this._valuesToMeasure.length?h.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){r?t(r):(n.forEach(function(t){e+=t}),t(null,e))}):process.nextTick(t.bind(this,null,e))},u.prototype.submit=function(t,e){var r,i,s={method:"post"};return"string"==typeof t?(t=a(t),i=p({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},s)):(i=p(t,s)).port||(i.port="https:"==i.protocol?443:80),i.headers=this.getHeaders(t.headers),r="https:"==i.protocol?o.request(i):n.request(i),this.getLength(function(t,n){t?this._error(t):(r.setHeader("Content-Length",n),this.pipe(r),e&&(r.on("error",e),r.on("response",e.bind(this,null))))}.bind(this)),r},u.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))},u.prototype.toString=function(){return"[object FormData]"};
},{"combined-stream":"17S0","mime-types":"aRr3","asynckit":"otDE","./populate.js":"KxQl"}],"45Bg":[function(require,module,exports) {
var e=require("stream");function t(t){return t instanceof e.Stream}function r(e){return t(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function o(e){return t(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}function n(e){return r(e)&&o(e)}module.exports=t,module.exports.isReadable=r,module.exports.isWritable=o,module.exports.isDuplex=n;
},{}],"ou1r":[function(require,module,exports) {
module.exports=n,n.strict=a,n.loose=o;var t=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function n(t){return a(t)||o(t)}function a(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function o(n){return r[t.call(n)]}
},{}],"CTN5":[function(require,module,exports) {
"use strict";function t(t){return t.replace(/^\.*/,".").toLowerCase()}function o(o){var r=(o=o.trim().toLowerCase()).split(":",2);return{hostname:t(r[0]),port:r[1],hasPort:o.indexOf(":")>-1}}function r(r,e){var n=r.port||("https:"===r.protocol?"443":"80"),s=t(r.hostname);return e.split(",").map(o).some(function(t){var o=s.indexOf(t.hostname),r=o>-1&&o===s.length-t.hostname.length;return t.hasPort?n===t.port&&r:r})}function e(t){var o=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===o?null:""!==o&&r(t,o)?null:"http:"===t.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===t.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}module.exports=e;
},{}],"OJOT":[function(require,module,exports) {
"use strict";var r=Object.prototype.hasOwnProperty,t=function(){for(var r=[],t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r}(),e=function(r){for(var t;r.length;){var e=r.pop();if(t=e.obj[e.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)void 0!==t[n]&&o.push(t[n]);e.obj[e.prop]=o}}return t},o=function(r,t){for(var e=t&&t.plainObjects?Object.create(null):{},o=0;o<r.length;++o)void 0!==r[o]&&(e[o]=r[o]);return e},n=function t(e,n,c){if(!n)return e;if("object"!=typeof n){if(Array.isArray(e))e.push(n);else{if("object"!=typeof e)return[e,n];(c.plainObjects||c.allowPrototypes||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!=typeof e)return[e].concat(n);var u=e;return Array.isArray(e)&&!Array.isArray(n)&&(u=o(e,c)),Array.isArray(e)&&Array.isArray(n)?(n.forEach(function(o,n){r.call(e,n)?e[n]&&"object"==typeof e[n]?e[n]=t(e[n],o,c):e.push(o):e[n]=o}),e):Object.keys(n).reduce(function(e,o){var u=n[o];return r.call(e,o)?e[o]=t(e[o],u,c):e[o]=u,e},u)},c=function(r,t){return Object.keys(t).reduce(function(r,e){return r[e]=t[e],r},r)},u=function(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(t){return r}},a=function(r){if(0===r.length)return r;for(var e="string"==typeof r?r:String(r),o="",n=0;n<e.length;++n){var c=e.charCodeAt(n);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?o+=e.charAt(n):c<128?o+=t[c]:c<2048?o+=t[192|c>>6]+t[128|63&c]:c<55296||c>=57344?o+=t[224|c>>12]+t[128|c>>6&63]+t[128|63&c]:(n+=1,c=65536+((1023&c)<<10|1023&e.charCodeAt(n)),o+=t[240|c>>18]+t[128|c>>12&63]+t[128|c>>6&63]+t[128|63&c])}return o},p=function(r){for(var t=[{obj:{o:r},prop:"o"}],o=[],n=0;n<t.length;++n)for(var c=t[n],u=c.obj[c.prop],a=Object.keys(u),p=0;p<a.length;++p){var f=a[p],i=u[f];"object"==typeof i&&null!==i&&-1===o.indexOf(i)&&(t.push({obj:u,prop:f}),o.push(i))}return e(t)},f=function(r){return"[object RegExp]"===Object.prototype.toString.call(r)},i=function(r){return null!=r&&!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))};module.exports={arrayToObject:o,assign:c,compact:p,decode:u,encode:a,isBuffer:i,isRegExp:f,merge:n};
},{}],"cEop":[function(require,module,exports) {
"use strict";var t=String.prototype.replace,r=/%20/g;module.exports={default:"RFC3986",formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"};
},{}],"zU7C":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./formats"),t={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},n=Date.prototype.toISOString,o={delimiter:"&",encode:!0,encoder:e.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},i=function r(t,n,i,l,a,c,f,s,u,d,y,p){var v=t;if("function"==typeof f)v=f(n,v);else if(v instanceof Date)v=d(v);else if(null===v){if(l)return c&&!p?c(n,o.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||e.isBuffer(v))return c?[y(p?n:c(n,o.encoder))+"="+y(c(v,o.encoder))]:[y(n)+"="+y(String(v))];var m,b=[];if(void 0===v)return b;if(Array.isArray(f))m=f;else{var g=Object.keys(v);m=s?g.sort(s):g}for(var O=0;O<m.length;++O){var k=m[O];a&&null===v[k]||(b=Array.isArray(v)?b.concat(r(v[k],i(n,k),i,l,a,c,f,s,u,d,y,p)):b.concat(r(v[k],n+(u?"."+k:"["+k+"]"),i,l,a,c,f,s,u,d,y,p)))}return b};module.exports=function(n,l){var a=n,c=l?e.assign({},l):{};if(null!==c.encoder&&void 0!==c.encoder&&"function"!=typeof c.encoder)throw new TypeError("Encoder has to be a function.");var f=void 0===c.delimiter?o.delimiter:c.delimiter,s="boolean"==typeof c.strictNullHandling?c.strictNullHandling:o.strictNullHandling,u="boolean"==typeof c.skipNulls?c.skipNulls:o.skipNulls,d="boolean"==typeof c.encode?c.encode:o.encode,y="function"==typeof c.encoder?c.encoder:o.encoder,p="function"==typeof c.sort?c.sort:null,v=void 0!==c.allowDots&&c.allowDots,m="function"==typeof c.serializeDate?c.serializeDate:o.serializeDate,b="boolean"==typeof c.encodeValuesOnly?c.encodeValuesOnly:o.encodeValuesOnly;if(void 0===c.format)c.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,c.format))throw new TypeError("Unknown format option provided.");var g,O,k=r.formatters[c.format];"function"==typeof c.filter?a=(O=c.filter)("",a):Array.isArray(c.filter)&&(g=O=c.filter);var w,D=[];if("object"!=typeof a||null===a)return"";w=c.arrayFormat in t?c.arrayFormat:"indices"in c?c.indices?"indices":"repeat":"indices";var N=t[w];g||(g=Object.keys(a)),p&&g.sort(p);for(var h=0;h<g.length;++h){var A=g[h];u&&null===a[A]||(D=D.concat(i(a[A],A,N,s,u,d?y:null,O,p,v,m,k,b)))}var j=D.join(f),z=!0===c.addQueryPrefix?"?":"";return j.length>0?z+j:""};
},{"./utils":"OJOT","./formats":"cEop"}],"yrT9":[function(require,module,exports) {
"use strict";var e=require("./utils"),t=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:e.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,i){for(var l={},o=i.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=i.parameterLimit===1/0?void 0:i.parameterLimit,n=o.split(i.delimiter,a),c=0;c<n.length;++c){var p,s,d=n[c],u=d.indexOf("]="),y=-1===u?d.indexOf("="):u+1;-1===y?(p=i.decoder(d,r.decoder),s=i.strictNullHandling?null:""):(p=i.decoder(d.slice(0,y),r.decoder),s=i.decoder(d.slice(y+1),r.decoder)),t.call(l,p)?l[p]=[].concat(l[p]).concat(s):l[p]=s}return l},l=function(e,t,r){for(var i=t,l=e.length-1;l>=0;--l){var o,a=e[l];if("[]"===a)o=(o=[]).concat(i);else{o=r.plainObjects?Object.create(null):{};var n="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(n,10);!isNaN(c)&&a!==n&&String(c)===n&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=i:o[n]=i}i=o}return i},o=function(e,r,i){if(e){var o=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(o),c=n?o.slice(0,n.index):o,p=[];if(c){if(!i.plainObjects&&t.call(Object.prototype,c)&&!i.allowPrototypes)return;p.push(c)}for(var s=0;null!==(n=a.exec(o))&&s<i.depth;){if(s+=1,!i.plainObjects&&t.call(Object.prototype,n[1].slice(1,-1))&&!i.allowPrototypes)return;p.push(n[1])}return n&&p.push("["+o.slice(n.index)+"]"),l(p,r,i)}};module.exports=function(t,l){var a=l?e.assign({},l):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!=typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"==typeof a.delimiter||e.isRegExp(a.delimiter)?a.delimiter:r.delimiter,a.depth="number"==typeof a.depth?a.depth:r.depth,a.arrayLimit="number"==typeof a.arrayLimit?a.arrayLimit:r.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"==typeof a.decoder?a.decoder:r.decoder,a.allowDots="boolean"==typeof a.allowDots?a.allowDots:r.allowDots,a.plainObjects="boolean"==typeof a.plainObjects?a.plainObjects:r.plainObjects,a.allowPrototypes="boolean"==typeof a.allowPrototypes?a.allowPrototypes:r.allowPrototypes,a.parameterLimit="number"==typeof a.parameterLimit?a.parameterLimit:r.parameterLimit,a.strictNullHandling="boolean"==typeof a.strictNullHandling?a.strictNullHandling:r.strictNullHandling,""===t||null==t)return a.plainObjects?Object.create(null):{};for(var n="string"==typeof t?i(t,a):t,c=a.plainObjects?Object.create(null):{},p=Object.keys(n),s=0;s<p.length;++s){var d=p[s],u=o(d,n[d],a);c=e.merge(c,u,a)}return e.compact(c)};
},{"./utils":"OJOT"}],"uoBH":[function(require,module,exports) {
"use strict";var r=require("./stringify"),e=require("./parse"),s=require("./formats");module.exports={formats:s,parse:e,stringify:r};
},{"./stringify":"zU7C","./parse":"yrT9","./formats":"cEop"}],"SGIF":[function(require,module,exports) {
"use strict";var i=require("qs"),t=require("querystring");function s(i){this.request=i,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}s.prototype.init=function(s){this.lib||(this.useQuerystring=s.useQuerystring,this.lib=this.useQuerystring?t:i,this.parseOptions=s.qsParseOptions||{},this.stringifyOptions=s.qsStringifyOptions||{})},s.prototype.stringify=function(i){return this.useQuerystring?this.rfc3986(this.lib.stringify(i,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(i,this.stringifyOptions)},s.prototype.parse=function(i){return this.useQuerystring?this.lib.parse(i,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(i,this.parseOptions)},s.prototype.rfc3986=function(i){return i.replace(/[!'()*]/g,function(i){return"%"+i.charCodeAt(0).toString(16).toUpperCase()})},s.prototype.unescape=t.unescape,exports.Querystring=s;
},{"qs":"uoBH"}],"hYD9":[function(require,module,exports) {
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.URI=e.URI||{})}(this,function(e){"use strict";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var n=r.length-1,o=1;o<n;++o)r[o]=r[o].slice(1,-1);return r[n]=r[n].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function a(e){var n=r("[0-9]","[A-Fa-f]"),o=t(t("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+t("%[89A-Fa-f]"+n+"%"+n+n)+"|"+t("%"+n+n)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",i=r("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",u=r("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=t("[A-Za-z]"+r("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),p=t(t(o+"|"+r(u,a,"[\\:]"))+"*"),h=(t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("0?[1-9][0-9]")+"|0?0?[0-9]")),f=t(h+"\\."+h+"\\."+h+"\\."+h),l=t(n+"{1,4}"),v=t(t(l+"\\:"+l)+"|"+f),d=t(t(l+"\\:")+"{6}"+v),g=t("\\:\\:"+t(l+"\\:")+"{5}"+v),m=t(t(l)+"?\\:\\:"+t(l+"\\:")+"{4}"+v),E=t(t(t(l+"\\:")+"{0,1}"+l)+"?\\:\\:"+t(l+"\\:")+"{3}"+v),C=t(t(t(l+"\\:")+"{0,2}"+l)+"?\\:\\:"+t(l+"\\:")+"{2}"+v),y=t(t(t(l+"\\:")+"{0,3}"+l)+"?\\:\\:"+l+"\\:"+v),S=t(t(t(l+"\\:")+"{0,4}"+l)+"?\\:\\:"+v),A=t(t(t(l+"\\:")+"{0,5}"+l)+"?\\:\\:"+l),D=t(t(t(l+"\\:")+"{0,6}"+l)+"?\\:\\:"),w=t([d,g,m,E,C,y,S,A,D].join("|")),b=t(t(u+"|"+o)+"+"),x=(t(w+"\\%25"+b),t(w+t("\\%25|\\%(?!"+n+"{2})")+b)),O=t("[vV]"+n+"+\\."+r(u,a,"[\\:]")+"+"),I=t("\\["+t(x+"|"+w+"|"+O)+"\\]"),F=t(t(o+"|"+r(u,a))+"*"),N=t(I+"|"+f+"(?!"+F+")|"+F),R=t("[0-9]*"),T=t(t(p+"@")+"?"+N+t("\\:"+R)+"?"),_=t(o+"|"+r(u,a,"[\\:\\@]")),P=t(_+"*"),U=t(_+"+"),j=t(t(o+"|"+r(u,a,"[\\@]"))+"+"),q=t(t("\\/"+P)+"*"),H=t("\\/"+t(U+q)+"?"),z=t(j+q),L=t(U+q),$="(?!"+_+")",V=(t(q+"|"+H+"|"+z+"|"+L+"|"+$),t(t(_+"|"+r("[\\/\\?]",s))+"*")),M=t(t(_+"|[\\/\\?]")+"*"),Z=t(t("\\/\\/"+T+q)+"|"+H+"|"+L+"|"+$),k=t(c+"\\:"+Z+t("\\?"+V)+"?"+t("\\#"+M)+"?"),G=t(t("\\/\\/"+T+q)+"|"+H+"|"+z+"|"+$),Q=t(G+t("\\?"+V)+"?"+t("\\#"+M)+"?");t(k+"|"+Q),t(c+"\\:"+Z+t("\\?"+V)+"?"),t(t("\\/\\/("+t("("+p+")@")+"?("+N+")"+t("\\:("+R+")")+"?)")+"?("+q+"|"+H+"|"+L+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t(t("\\/\\/("+t("("+p+")@")+"?("+N+")"+t("\\:("+R+")")+"?)")+"?("+q+"|"+H+"|"+z+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t(t("\\/\\/("+t("("+p+")@")+"?("+N+")"+t("\\:("+R+")")+"?)")+"?("+q+"|"+H+"|"+L+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t("("+p+")@"),t("\\:("+R+")");return{NOT_SCHEME:new RegExp(r("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(r("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",u,i),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+t(t("\\%25|\\%(?!"+n+"{2})")+"("+b+")")+"?\\]?$")}}var i=a(!1),s=a(!0),u=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(u){o=!0,a=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=2147483647,p=/^xn--/,h=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,d=String.fromCharCode;function g(e){throw new RangeError(l[e])}function m(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]);var o=function(e,r){for(var t=[],n=e.length;n--;)t[n]=r(e[n]);return t}((e=e.replace(f,".")).split("."),r).join(".");return n+o}function E(e){for(var r=[],t=0,n=e.length;t<n;){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<n){var a=e.charCodeAt(t++);56320==(64512&a)?r.push(((1023&o)<<10)+(1023&a)+65536):(r.push(o),t--)}else r.push(o)}return r}var C=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},y=function(e,r,t){var n=0;for(e=t?v(e/700):e>>1,e+=v(e/r);e>455;n+=36)e=v(e/35);return v(n+36*e/(e+38))},S=function(e){var r,t=[],n=e.length,o=0,a=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&g("not-basic"),t.push(e.charCodeAt(u));for(var p=s>0?s+1:0;p<n;){for(var h=o,f=1,l=36;;l+=36){p>=n&&g("invalid-input");var d=(r=e.charCodeAt(p++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:36;(d>=36||d>v((c-o)/f))&&g("overflow"),o+=d*f;var m=l<=i?1:l>=i+26?26:l-i;if(d<m)break;var E=36-m;f>v(c/E)&&g("overflow"),f*=E}var C=t.length+1;i=y(o-h,C,0==h),v(o/C)>c-a&&g("overflow"),a+=v(o/C),o%=C,t.splice(o++,0,a)}return String.fromCodePoint.apply(String,t)},A=function(e){var r=[],t=(e=E(e)).length,n=128,o=0,a=72,i=!0,s=!1,u=void 0;try{for(var p,h=e[Symbol.iterator]();!(i=(p=h.next()).done);i=!0){var f=p.value;f<128&&r.push(d(f))}}catch(L){s=!0,u=L}finally{try{!i&&h.return&&h.return()}finally{if(s)throw u}}var l=r.length,m=l;for(l&&r.push("-");m<t;){var S=c,A=!0,D=!1,w=void 0;try{for(var b,x=e[Symbol.iterator]();!(A=(b=x.next()).done);A=!0){var O=b.value;O>=n&&O<S&&(S=O)}}catch(L){D=!0,w=L}finally{try{!A&&x.return&&x.return()}finally{if(D)throw w}}var I=m+1;S-n>v((c-o)/I)&&g("overflow"),o+=(S-n)*I,n=S;var F=!0,N=!1,R=void 0;try{for(var T,_=e[Symbol.iterator]();!(F=(T=_.next()).done);F=!0){var P=T.value;if(P<n&&++o>c&&g("overflow"),P==n){for(var U=o,j=36;;j+=36){var q=j<=a?1:j>=a+26?26:j-a;if(U<q)break;var H=U-q,z=36-q;r.push(d(C(q+H%z,0))),U=v(H/z)}r.push(d(C(U,0))),a=y(o,I,m==l),o=0,++m}}}catch(L){N=!0,R=L}finally{try{!F&&_.return&&_.return()}finally{if(N)throw R}}++o,++n}return r.join("")},D={version:"2.1.0",ucs2:{decode:E,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:S,encode:A,toASCII:function(e){return m(e,function(e){return h.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return m(e,function(e){return p.test(e)?S(e.slice(4).toLowerCase()):e})}},w={};function b(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function x(e){for(var r="",t=0,n=e.length;t<n;){var o=parseInt(e.substr(t+1,2),16);if(o<128)r+=String.fromCharCode(o),t+=3;else if(o>=194&&o<224){if(n-t>=6){var a=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&o)<<6|63&a)}else r+=e.substr(t,6);t+=6}else if(o>=224){if(n-t>=9){var i=parseInt(e.substr(t+4,2),16),s=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function O(e,r){function t(e){var t=x(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,b).replace(r.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,b).replace(r.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,b).replace(r.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,b).replace(r.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,b).replace(r.PCT_ENCODED,o)),e}function I(e){return e.replace(/^0*(.*)/,"$1")||"0"}function F(e,r){var t=e.match(r.IPV4ADDRESS)||[],n=u(t,2)[1];return n?n.split(".").map(I).join("."):e}function N(e,r){var t=e.match(r.IPV6ADDRESS)||[],n=u(t,3),o=n[1],a=n[2];if(o){for(var i=o.toLowerCase().split("::").reverse(),s=u(i,2),c=s[0],p=s[1],h=p?p.split(":").map(I):[],f=c.split(":").map(I),l=r.IPV4ADDRESS.test(f[f.length-1]),v=l?7:8,d=f.length-v,g=Array(v),m=0;m<v;++m)g[m]=h[m]||f[d+m]||"";l&&(g[v-1]=F(g[v-1],r));var E=g.reduce(function(e,r,t){if(!r||"0"===r){var n=e[e.length-1];n&&n.index+n.length===t?n.length++:e.push({index:t,length:1})}return e},[]).sort(function(e,r){return r.length-e.length})[0],C=void 0;if(E&&E.length>1){var y=g.slice(0,E.index),S=g.slice(E.index+E.length);C=y.join(":")+"::"+S.join(":")}else C=g.join(":");return a&&(C+="%"+a),C}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,T=void 0==="".match(/(){0}/)[1];function _(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},n=!1!==r.iri?s:i;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var o=e.match(R);if(o){T?(t.scheme=o[1],t.userinfo=o[3],t.host=o[4],t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=o[7],t.fragment=o[8],isNaN(t.port)&&(t.port=o[5])):(t.scheme=o[1]||void 0,t.userinfo=-1!==e.indexOf("@")?o[3]:void 0,t.host=-1!==e.indexOf("//")?o[4]:void 0,t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=-1!==e.indexOf("?")?o[7]:void 0,t.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),t.host&&(t.host=N(F(t.host,n),n)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var a=w[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||a&&a.unicodeSupport)O(t,n);else{if(t.host&&(r.domainHost||a&&a.domainHost))try{t.host=D.toASCII(t.host.replace(n.PCT_ENCODED,x).toLowerCase())}catch(u){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+u}O(t,i)}a&&a.parse&&a.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var P=/^\.\.?\//,U=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,q=/^\/?(?:.|\n)*?(?=\/|$)/;function H(e){for(var r=[];e.length;)if(e.match(P))e=e.replace(P,"");else if(e.match(U))e=e.replace(U,"/");else if(e.match(j))e=e.replace(j,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(q);if(!t)throw new Error("Unexpected dot segment condition");var n=t[0];e=e.slice(n.length),r.push(n)}return r.join("")}function z(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?s:i,n=[],o=w[(r.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||o&&o.domainHost)try{e.host=r.iri?D.toUnicode(e.host):D.toASCII(e.host.replace(t.PCT_ENCODED,x).toLowerCase())}catch(c){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+c}O(e,t),"suffix"!==r.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=function(e,r){var t=!1!==r.iri?s:i,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(N(F(String(e.host),t),t).replace(t.IPV6ADDRESS,function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"})),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,r);if(void 0!==a&&("suffix"!==r.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;r.absolutePath||o&&o.absolutePath||(u=H(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function L(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=_(z(e,t),t),r=_(z(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(n.scheme=r.scheme,n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=H(r.path||""),n.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=H(r.path||""),n.query=r.query):(r.path?("/"===r.path.charAt(0)?n.path=H(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:n.path=r.path:n.path="/"+r.path,n.path=H(n.path)),n.query=r.query):(n.path=e.path,void 0!==r.query?n.query=r.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=r.fragment,n}function $(e,r){return e&&e.toString().replace(r&&r.iri?s.PCT_ENCODED:i.PCT_ENCODED,x)}var V={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},M={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},Z={},k="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",Q=t(t("%[EFef][0-9A-Fa-f]%"+G+G+"%"+G+G)+"|"+t("%[89A-Fa-f][0-9A-Fa-f]%"+G+G)+"|"+t("%"+G+G)),Y=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),B=new RegExp(k,"g"),J=new RegExp(Q,"g"),K=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),W=new RegExp(r("[^]",k,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=W;function ee(e){var r=x(e);return r.match(B)?r:e}var re={scheme:"mailto",parse:function(e,r){var t=e,n=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var o=!1,a={},i=t.query.split("&"),s=0,u=i.length;s<u;++s){var c=i[s].split("=");switch(c[0]){case"to":for(var p=c[1].split(","),h=0,f=p.length;h<f;++h)n.push(p[h]);break;case"subject":t.subject=$(c[1],r);break;case"body":t.body=$(c[1],r);break;default:o=!0,a[$(c[0],r)]=$(c[1],r)}}o&&(t.headers=a)}t.query=void 0;for(var l=0,v=n.length;l<v;++l){var d=n[l].split("@");if(d[0]=$(d[0]),r.unicodeSupport)d[1]=$(d[1],r).toLowerCase();else try{d[1]=D.toASCII($(d[1],r).toLowerCase())}catch(g){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}n[l]=d.join("@")}return t},serialize:function(e,r){var t,n=e,a=null!=(t=e.to)?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[];if(a){for(var i=0,s=a.length;i<s;++i){var u=String(a[i]),c=u.lastIndexOf("@"),p=u.slice(0,c).replace(J,ee).replace(J,o).replace(K,b),h=u.slice(c+1);try{h=r.iri?D.toUnicode(h):D.toASCII($(h,r).toLowerCase())}catch(d){n.error=n.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+d}a[i]=p+"@"+h}n.path=a.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var l=[];for(var v in f)f[v]!==Z[v]&&l.push(v.replace(J,ee).replace(J,o).replace(W,b)+"="+f[v].replace(J,ee).replace(J,o).replace(X,b));return l.length&&(n.query=l.join("&")),n}},te=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(te),n=e;if(t){var o=r.scheme||n.scheme||"urn",a=t[1].toLowerCase(),i=t[2],s=o+":"+(r.nid||a),u=w[s];n.nid=a,n.nss=i,n.path=void 0,u&&(n=u.parse(n,r))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",n=e.nid,o=t+":"+(r.nid||n),a=w[o];a&&(e=a.serialize(e,r));var i=e,s=e.nss;return i.path=(n||r.nid)+":"+s,i}},oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ae={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(oe)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};w[V.scheme]=V,w[M.scheme]=M,w[re.scheme]=re,w[ne.scheme]=ne,w[ae.scheme]=ae,e.SCHEMES=w,e.pctEncChar=b,e.pctDecChars=x,e.parse=_,e.removeDotSegments=H,e.serialize=z,e.resolveComponents=L,e.resolve=function(e,r,t){var n=function(e,r){var t=e;if(r)for(var n in r)t[n]=r[n];return t}({scheme:"null"},t);return z(L(_(e,n),_(r,n),n,!0),n)},e.normalize=function(e,r){return"string"==typeof e?e=z(_(e,r),r):"object"===n(e)&&(e=_(z(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=z(_(e,t),t):"object"===n(e)&&(e=z(e,t)),"string"==typeof r?r=z(_(r,t),t):"object"===n(r)&&(r=z(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?s.ESCAPE:i.ESCAPE,b)},e.unescapeComponent=$,Object.defineProperty(e,"__esModule",{value:!0})});
},{}],"I0Dm":[function(require,module,exports) {
"use strict";var r=Array.isArray,t=Object.keys,e=Object.prototype.hasOwnProperty;module.exports=function n(i,f){if(i===f)return!0;if(i&&f&&"object"==typeof i&&"object"==typeof f){var o,u,a,c=r(i),g=r(f);if(c&&g){if((u=i.length)!=f.length)return!1;for(o=u;0!=o--;)if(!n(i[o],f[o]))return!1;return!0}if(c!=g)return!1;var s=i instanceof Date,p=f instanceof Date;if(s!=p)return!1;if(s&&p)return i.getTime()==f.getTime();var l=i instanceof RegExp,y=f instanceof RegExp;if(l!=y)return!1;if(l&&y)return i.toString()==f.toString();var h=t(i);if((u=h.length)!==t(f).length)return!1;for(o=u;0!=o--;)if(!e.call(f,h[o]))return!1;for(o=u;0!=o--;)if(!n(i[a=h[o]],f[a]))return!1;return!0}return i!=i&&f!=f};
},{}],"2KBi":[function(require,module,exports) {
"use strict";module.exports=function(r){for(var t,e=0,o=r.length,c=0;c<o;)e++,(t=r.charCodeAt(c++))>=55296&&t<=56319&&c<o&&56320==(64512&(t=r.charCodeAt(c)))&&c++;return e};
},{}],"Wcim":[function(require,module,exports) {
"use strict";function r(r,e){for(var t in e=e||{},r)e[t]=r[t];return e}function e(r,e,t){var n=t?" !== ":" === ",a=t?" || ":" && ",o=t?"!":"",u=t?"":"!";switch(r){case"null":return e+n+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+a+"typeof "+e+n+'"object"'+a+u+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+n+'"number"'+a+u+"("+e+" % 1)"+a+e+n+e+")";default:return"typeof "+e+n+'"'+r+'"'}}function t(r,t){switch(r.length){case 1:return e(r[0],t,!0);default:var n="",a=o(r);for(var u in a.array&&a.object&&(n=a.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)n+=(n?" && ":"")+e(u,t,!0);return n}}module.exports={copy:r,checkDataType:e,checkDataTypes:t,coerceToTypes:a,toHash:o,getProperty:l,escapeQuotes:i,equal:require("fast-deep-equal"),ucs2length:require("./ucs2length"),varOccurences:s,varReplace:f,cleanUpCode:h,finalCleanUpCode:R,schemaHasRules:C,schemaHasRulesExcept:x,schemaUnknownRules:j,toQuotedString:P,getPathExpr:U,getPath:q,getData:J,unescapeFragment:_,unescapeJsonPointer:O,escapeFragment:k,escapeJsonPointer:H};var n=o(["string","number","integer","boolean","null"]);function a(r,e){if(Array.isArray(e)){for(var t=[],a=0;a<e.length;a++){var o=e[a];n[o]?t[t.length]=o:"array"===r&&"array"===o&&(t[t.length]=o)}if(t.length)return t}else{if(n[e])return[e];if("array"===r&&"array"===e)return["array"]}}function o(r){for(var e={},t=0;t<r.length;t++)e[r[t]]=!0;return e}var u=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function l(r){return"number"==typeof r?"["+r+"]":u.test(r)?"."+r:"['"+i(r)+"']"}function i(r){return r.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function s(r,e){e+="[^0-9]";var t=r.match(new RegExp(e,"g"));return t?t.length:0}function f(r,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),r.replace(new RegExp(e,"g"),t+"$1")}var p=/else\s*{\s*}/g,g=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,v=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function h(r){return r.replace(p,"").replace(g,"").replace(v,"if (!($1))")}var y=/[^v.]errors/g,d=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,w="return errors === 0;",$="validate.errors = null; return true;",b=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,E="return data;",A=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,D=/if \(rootData === undefined\) rootData = data;/;function R(r,e){var t=r.match(y);return t&&2==t.length&&(r=e?r.replace(m,"").replace(b,E):r.replace(d,"").replace(w,$)),(t=r.match(A))&&3===t.length?r.replace(D,""):r}function C(r,e){if("boolean"==typeof r)return!r;for(var t in r)if(e[t])return!0}function x(r,e,t){if("boolean"==typeof r)return!r&&"not"!=t;for(var n in r)if(n!=t&&e[n])return!0}function j(r,e){if("boolean"!=typeof r)for(var t in r)if(!e[t])return t}function P(r){return"'"+i(r)+"'"}function U(r,e,t,n){return T(r,t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")}function q(r,e,t){return T(r,P(t?"/"+H(e):l(e)))}var z=/^\/(?:[^~]|~0|~1)*$/,I=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function J(r,e,t){var n,a,o,u;if(""===r)return"rootData";if("/"==r[0]){if(!z.test(r))throw new Error("Invalid JSON-pointer: "+r);a=r,o="rootData"}else{if(!(u=r.match(I)))throw new Error("Invalid JSON-pointer: "+r);if(n=+u[1],"#"==(a=u[2])){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(o="data"+(e-n||""),!a)return o}for(var c=o,i=a.split("/"),s=0;s<i.length;s++){var f=i[s];f&&(c+=" && "+(o+=l(O(f))))}return c}function T(r,e){return'""'==r?e:(r+" + "+e).replace(/' \+ '/g,"")}function _(r){return O(decodeURIComponent(r))}function k(r){return encodeURIComponent(H(r))}function H(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}function O(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}
},{"fast-deep-equal":"I0Dm","./ucs2length":"2KBi"}],"eHK9":[function(require,module,exports) {
"use strict";var t=require("./util");function e(e){t.copy(e,this)}module.exports=e;
},{"./util":"Wcim"}],"5rza":[function(require,module,exports) {
"use strict";var e=module.exports=function(e,i,t){"function"==typeof i&&(t=i,i={}),r(i,"function"==typeof(t=i.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function r(t,n,o,s,a,m,p,f,u,y){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var c in n(s,a,m,p,f,u,y),s){var d=s[c];if(Array.isArray(d)){if(c in e.arrayKeywords)for(var l=0;l<d.length;l++)r(t,n,o,d[l],a+"/"+c+"/"+l,m,a,c,s,l)}else if(c in e.propsKeywords){if(d&&"object"==typeof d)for(var w in d)r(t,n,o,d[w],a+"/"+c+"/"+i(w),m,a,c,s,w)}else(c in e.keywords||t.allKeys&&!(c in e.skipKeywords))&&r(t,n,o,d,a+"/"+c,m,a,c,s)}o(s,a,m,p,f,u,y)}}function i(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};
},{}],"OECS":[function(require,module,exports) {
"use strict";var e=require("uri-js"),r=require("fast-deep-equal"),t=require("./util"),i=require("./schema_obj"),s=require("json-schema-traverse");function a(e,r,t){var s=this._refs[t];if("string"==typeof s){if(!this._refs[s])return a.call(this,e,r,s);s=this._refs[s]}if((s=s||this._schemas[t])instanceof i)return u(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var o,f,c,h=n.call(this,r,t);return h&&(o=h.schema,r=h.root,c=h.baseId),o instanceof i?f=o.validate||e.call(this,o.schema,r,void 0,c):void 0!==o&&(f=u(o,this._opts.inlineRefs)?o:e.call(this,o,r,void 0,c)),f}function n(r,t){var s=e.parse(t),a=d(s),n=v(this._getId(r.schema));if(0===Object.keys(r.schema).length||a!==n){var f=g(a),h=this._refs[f];if("string"==typeof h)return o.call(this,r,h,s);if(h instanceof i)h.validate||this._compile(h),r=h;else{if(!((h=this._schemas[f])instanceof i))return;if(h.validate||this._compile(h),f==g(t))return{schema:h,root:r,baseId:n};r=h}if(!r.schema)return;n=v(this._getId(r.schema))}return c.call(this,s,n,r.schema,r)}function o(e,r,t){var i=n.call(this,e,r);if(i){var s=i.schema,a=i.baseId;e=i.root;var o=this._getId(s);return o&&(a=_(a,o)),c.call(this,t,a,s,e)}}module.exports=a,a.normalizeId=g,a.fullPath=v,a.url=_,a.ids=y,a.inlineRef=u,a.schema=n;var f=t.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function c(e,r,i,s){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var a=e.fragment.split("/"),o=1;o<a.length;o++){var c=a[o];if(c){if(void 0===(i=i[c=t.unescapeFragment(c)]))break;var h;if(!f[c]&&((h=this._getId(i))&&(r=_(r,h)),i.$ref)){var u=_(r,i.$ref),l=n.call(this,s,u);l&&(i=l.schema,s=l.root,r=l.baseId)}}}return void 0!==i&&i!==s.schema?{schema:i,root:s,baseId:r}:void 0}}var h=t.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function u(e,r){return!1!==r&&(void 0===r||!0===r?l(e):r?m(e)<=r:void 0)}function l(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"==typeof(r=e[t])&&!l(r))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(r=e[i])&&!l(r))return!1}return!0}function m(e){var r,t=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(r=e[i])&&(t+=m(r)),t==1/0)return 1/0}else for(var s in e){if("$ref"==s)return 1/0;if(h[s])t++;else if("object"==typeof(r=e[s])&&(t+=m(r)+1),t==1/0)return 1/0}return t}function v(r,t){return!1!==t&&(r=g(r)),d(e.parse(r))}function d(r){return e.serialize(r).split("#")[0]+"#"}var p=/#\/?$/;function g(e){return e?e.replace(p,""):""}function _(r,t){return t=g(t),e.resolve(r,t)}function y(i){var a=g(this._getId(i)),n={"":a},o={"":v(a,!1)},f={},c=this;return s(i,{allKeys:!0},function(i,s,a,h,u,l,m){if(""!==s){var v=c._getId(i),d=n[h],p=o[h]+"/"+u;if(void 0!==m&&(p+="/"+("number"==typeof m?m:t.escapeFragment(m))),"string"==typeof v){v=d=g(d?e.resolve(d,v):v);var _=c._refs[v];if("string"==typeof _&&(_=c._refs[_]),_&&_.schema){if(!r(i,_.schema))throw new Error('id "'+v+'" resolves to more than one schema')}else if(v!=g(p))if("#"==v[0]){if(f[v]&&!r(i,f[v]))throw new Error('id "'+v+'" resolves to more than one schema');f[v]=i}else c._refs[v]=p}n[s]=d,o[s]=p}}),f}
},{"uri-js":"hYD9","fast-deep-equal":"I0Dm","./util":"Wcim","./schema_obj":"eHK9","json-schema-traverse":"5rza"}],"bD9a":[function(require,module,exports) {
"use strict";var e=require("./resolve");function t(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function i(t,s,r){this.message=r||i.message(t,s),this.missingRef=e.url(t,s),this.missingSchema=e.normalizeId(e.fullPath(this.missingRef))}function s(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}module.exports={Validation:s(t),MissingRef:s(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e};
},{"./resolve":"OECS"}],"qJmY":[function(require,module,exports) {
"use strict";module.exports=function(r,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(e=t.cmp,function(r){return function(t,n){var i={key:t,value:r[t]},u={key:n,value:r[n]};return e(i,u)}}),u=[];return function r(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var e,o;if(Array.isArray(t)){for(o="[",e=0;e<t.length;e++)e&&(o+=","),o+=r(t[e])||"null";return o+"]"}if(null===t)return"null";if(-1!==u.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=u.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(o="",e=0;e<c.length;e++){var l=c[e],y=r(t[l]);y&&(o&&(o+=","),o+=JSON.stringify(l)+":"+y)}return u.splice(f,1),"{"+o+"}"}}(r)};
},{}],"EmPS":[function(require,module,exports) {
"use strict";module.exports=function(e,r,a){var t="",s=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var i=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(i){var n="unknown keyword: "+i;if("log"!==e.opts.strictKeywords)throw new Error(n);e.logger.warn(n)}}if(e.isTop&&(t+=" var validate = ",s&&(e.async=!0,t+="async "),t+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(t+=" /*# sourceURL="+l+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var f=e.level,h=e.dataLevel,c=e.schema["false schema"],u=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",d=!e.opts.allErrors,m="data"+(h||""),v="valid"+f;if(!1===e.schema){e.isTop?d=!0:t+=" var "+v+" = false; ",(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'boolean schema is false' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";var y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?t+=s?" return data; ":" validate.errors = null; return true; ":t+=" var "+v+" = true; ";return e.isTop&&(t+=" }; return validate; "),t}if(e.isTop){var g=e.isTop;f=e.level=0,h=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(w);e.logger.warn(w)}t+=" var vErrors = null; ",t+=" var errors = 0;     ",t+=" if (rootData === undefined) rootData = data; "}else{f=e.level,m="data"+((h=e.dataLevel)||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");t+=" var errs_"+f+" = errors;"}v="valid"+f,d=!e.opts.allErrors;var E="",P="",b=e.schema.type,D=Array.isArray(b);if(b&&e.opts.nullable&&!0===e.schema.nullable&&(D?-1==b.indexOf("null")&&(b=b.concat("null")):"null"!=b&&(b=[b,"null"],D=!0)),D&&1==b.length&&(b=b[0],D=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(t+=" "+e.RULES.all.$comment.code(e,"$comment")),b){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,b);var R=e.RULES.types[b];if(S||D||!0===R||R&&!Y(R)){u=e.schemaPath+".type",p=e.errSchemaPath+"/type",u=e.schemaPath+".type",p=e.errSchemaPath+"/type";var T=D?"checkDataTypes":"checkDataType";if(t+=" if ("+e.util[T](b,m,!0)+") { ",S){var k="dataType"+f,$="coerced"+f;t+=" var "+k+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(t+=" if ("+k+" == 'object' && Array.isArray("+m+")) "+k+" = 'array'; "),t+=" var "+$+" = undefined; ";var L="",U=S;if(U)for(var j,A=-1,I=U.length-1;A<I;)j=U[A+=1],A&&(t+=" if ("+$+" === undefined) { ",L+="}"),"array"==e.opts.coerceTypes&&"array"!=j&&(t+=" if ("+k+" == 'array' && "+m+".length == 1) { "+$+" = "+m+" = "+m+"[0]; "+k+" = typeof "+m+";  } "),"string"==j?t+=" if ("+k+" == 'number' || "+k+" == 'boolean') "+$+" = '' + "+m+"; else if ("+m+" === null) "+$+" = ''; ":"number"==j||"integer"==j?(t+=" if ("+k+" == 'boolean' || "+m+" === null || ("+k+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==j&&(t+=" && !("+m+" % 1)"),t+=")) "+$+" = +"+m+"; "):"boolean"==j?t+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+$+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+$+" = true; ":"null"==j?t+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+$+" = null; ":"array"==e.opts.coerceTypes&&"array"==j&&(t+=" if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+m+" == null) "+$+" = ["+m+"]; ");t+=" "+L+" if ("+$+" === undefined) {   ",(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",t+=D?""+b.join(","):""+b,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=D?""+b.join(","):""+b,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  ";var x=h?"data"+(h-1||""):"parentData";t+=" "+m+" = "+$+"; ",h||(t+="if ("+x+" !== undefined)"),t+=" "+x+"["+(h?e.dataPathArr[h]:"parentDataProperty")+"] = "+$+"; } "}else{(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",t+=D?""+b.join(","):""+b,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=D?""+b.join(","):""+b,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } "}}if(e.schema.$ref&&!o)t+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(t+=" } if (errors === ",t+=g?"0":"errs_"+f,t+=") { ",P+="}");else{var _=e.RULES;if(_)for(var C=-1,V=_.length-1;C<V;)if(Y(R=_[C+=1])){if(R.type&&(t+=" if ("+e.util.checkDataType(R.type,m)+") { "),e.opts.useDefaults)if("object"==R.type&&e.schema.properties){c=e.schema.properties;var O=Object.keys(c);if(O)for(var Q,J=-1,K=O.length-1;J<K;){if(void 0!==(q=c[Q=O[J+=1]]).default){var N=m+e.util.getProperty(Q);if(e.compositeRule){if(e.opts.strictDefaults){w="default is ignored for: "+N;if("log"!==e.opts.strictDefaults)throw new Error(w);e.logger.warn(w)}}else t+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(t+=" || "+N+" === null || "+N+" === '' "),t+=" ) "+N+" = ","shared"==e.opts.useDefaults?t+=" "+e.useDefault(q.default)+" ":t+=" "+JSON.stringify(q.default)+" ",t+="; "}}}else if("array"==R.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){A=-1;for(var q,z=H.length-1;A<z;)if(void 0!==(q=H[A+=1]).default){N=m+"["+A+"]";if(e.compositeRule){if(e.opts.strictDefaults){w="default is ignored for: "+N;if("log"!==e.opts.strictDefaults)throw new Error(w);e.logger.warn(w)}}else t+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(t+=" || "+N+" === null || "+N+" === '' "),t+=" ) "+N+" = ","shared"==e.opts.useDefaults?t+=" "+e.useDefault(q.default)+" ":t+=" "+JSON.stringify(q.default)+" ",t+="; "}}}var B=R.rules;if(B)for(var F,G=-1,M=B.length-1;G<M;)if(Z(F=B[G+=1])){var W=F.code(e,F.keyword,R.type);W&&(t+=" "+W+" ",d&&(E+="}"))}if(d&&(t+=" "+E+" ",E=""),R.type&&(t+=" } ",b&&b===R.type&&!S)){t+=" else { ";var X;u=e.schemaPath+".type",p=e.errSchemaPath+"/type";(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",t+=D?""+b.join(","):""+b,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=D?""+b.join(","):""+b,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "}d&&(t+=" if (errors === ",t+=g?"0":"errs_"+f,t+=") { ",P+="}")}}function Y(e){for(var r=e.rules,a=0;a<r.length;a++)if(Z(r[a]))return!0}function Z(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var a=r.implements,t=0;t<a.length;t++)if(void 0!==e.schema[a[t]])return!0}(r)}return d&&(t+=" "+P+" "),g?(s?(t+=" if (errors === 0) return data;           ",t+=" else throw new ValidationError(vErrors); "):(t+=" validate.errors = vErrors; ",t+=" return errors === 0;       "),t+=" }; return validate;"):t+=" var "+v+" = errors === errs_"+f+";",t=e.util.cleanUpCode(t),g&&(t=e.util.finalCleanUpCode(t,s)),t};
},{}],"l3nZ":[function(require,module,exports) {
"use strict";var e=require("./resolve"),r=require("./util"),t=require("./error_classes"),i=require("fast-json-stable-stringify"),o=require("../dotjs/validate"),a=r.ucs2length,n=require("fast-deep-equal"),s=t.Validation;function l(f,g,y,w){var R=this,V=this._opts,S=[void 0],_={},b=[],E={},q=[],j={},x=[];g=g||{schema:f,refVal:S,refs:_};var $=c.call(this,f,g,w),k=this._compilations[$.index];if($.compiling)return k.callValidate=function e(){var r=k.validate;var t=r.apply(this,arguments);e.errors=r.errors;return t};var C=this._formats,P=this.RULES;try{var I=U(f,g,y,w);k.validate=I;var L=k.callValidate;return L&&(L.schema=I.schema,L.errors=null,L.refs=I.refs,L.refVal=I.refVal,L.root=I.root,L.$async=I.$async,V.sourceCode&&(L.source=I.source)),I}finally{u.call(this,f,g,w)}function U(i,c,u,f){var y=!c||c&&c.schema==i;if(c.schema!=g.schema)return l.call(R,i,c,u,f);var w,E=!0===i.$async,j=o({isTop:!0,schema:i,isRoot:y,baseId:f,root:c,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:t.MissingRef,RULES:P,validate:o,util:r,resolve:e,resolveRef:M,usePattern:T,useDefault:D,useCustomRule:F,opts:V,formats:C,logger:R.logger,self:R});j=p(S,h)+p(b,d)+p(q,v)+p(x,m)+j,V.processCode&&(j=V.processCode(j));try{w=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",j)(R,P,C,g,S,q,x,n,a,s),S[0]=w}catch($){throw R.logger.error("Error compiling schema, function code:",j),$}return w.schema=i,w.errors=null,w.refs=_,w.refVal=S,w.root=y?w:c,E&&(w.$async=!0),!0===V.sourceCode&&(w.source={code:j,patterns:b,defaults:q}),w}function M(r,t,i){t=e.url(r,t);var o,a,n=_[t];if(void 0!==n)return Q(o=S[n],a="refVal["+n+"]");if(!i&&g.refs){var s=g.refs[t];if(void 0!==s)return Q(o=g.refVal[s],a=O(t,o))}a=O(t);var c=e.call(R,U,g,t);if(void 0===c){var u=y&&y[t];u&&(c=e.inlineRef(u,V.inlineRefs)?u:l.call(R,u,g,y,r))}if(void 0!==c)return function(e,r){var t=_[e];S[t]=r}(t,c),Q(c,a);!function(e){delete _[e]}(t)}function O(e,r){var t=S.length;return S[t]=r,_[e]=t,"refVal"+t}function Q(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function T(e){var r=E[e];return void 0===r&&(r=E[e]=b.length,b[r]=e),"pattern"+r}function D(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return r.toQuotedString(e);case"object":if(null===e)return"null";var t=i(e),o=j[t];return void 0===o&&(o=j[t]=q.length,q[o]=e),"default"+o}}function F(e,r,t,i){if(!1!==R._opts.validateSchema){var o=e.definition.dependencies;if(o&&!o.every(function(e){return Object.prototype.hasOwnProperty.call(t,e)}))throw new Error("parent schema must have all required keywords: "+o.join(","));var a=e.definition.validateSchema;if(a)if(!a(r)){var n="keyword schema is invalid: "+R.errorsText(a.errors);if("log"!=R._opts.validateSchema)throw new Error(n);R.logger.error(n)}}var s,l=e.definition.compile,c=e.definition.inline,u=e.definition.macro;if(l)s=l.call(R,r,t,i);else if(u)s=u.call(R,r,t,i),!1!==V.validateSchema&&R.validateSchema(s,!0);else if(c)s=c.call(R,i,e.keyword,r,t);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=x.length;return x[f]=s,{code:"customRule"+f,validate:s}}}function c(e,r,t){var i=f.call(this,e,r,t);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:e,root:r,baseId:t},{index:i,compiling:!1})}function u(e,r,t){var i=f.call(this,e,r,t);i>=0&&this._compilations.splice(i,1)}function f(e,r,t){for(var i=0;i<this._compilations.length;i++){var o=this._compilations[i];if(o.schema==e&&o.root==r&&o.baseId==t)return i}return-1}function d(e,t){return"var pattern"+e+" = new RegExp("+r.toQuotedString(t[e])+");"}function v(e){return"var default"+e+" = defaults["+e+"];"}function h(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function m(e){return"var customRule"+e+" = customRules["+e+"];"}function p(e,r){if(!e.length)return"";for(var t="",i=0;i<e.length;i++)t+=r(i,e);return t}module.exports=l;
},{"./resolve":"OECS","./util":"Wcim","./error_classes":"bD9a","fast-json-stable-stringify":"qJmY","../dotjs/validate":"EmPS","fast-deep-equal":"I0Dm"}],"+20M":[function(require,module,exports) {
"use strict";var t=module.exports=function(){this._cache={}};t.prototype.put=function(t,e){this._cache[t]=e},t.prototype.get=function(t){return this._cache[t]},t.prototype.del=function(t){delete this._cache[t]},t.prototype.clear=function(){this._cache={}};
},{}],"B+SP":[function(require,module,exports) {
"use strict";var d=require("./util"),a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,u=[0,31,28,31,30,31,30,31,31,30,31,30,31],F=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,f=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,D=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,t=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,r=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,i=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,z=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,n=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,$=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function s(a){return a="full"==a?"full":"fast",d.copy(s[a])}function x(d){return d%4==0&&(d%100!=0||d%400==0)}function _(d){var F=d.match(a);if(!F)return!1;var f=+F[1],D=+F[2],t=+F[3];return D>=1&&D<=12&&t>=1&&t<=(2==D&&x(f)?29:u[D])}function o(d,a){var u=d.match(F);if(!u)return!1;var f=u[1],D=u[2],t=u[3],e=u[5];return(f<=23&&D<=59&&t<=59||23==f&&59==D&&60==t)&&(!a||e)}module.exports=s,s.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":e,url:r,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:f,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:c,uuid:i,"json-pointer":z,"json-pointer-uri-fragment":n,"relative-json-pointer":$},s.full={date:_,time:o,"date-time":B,uri:p,"uri-reference":t,"uri-template":e,url:r,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:l,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:c,uuid:i,"json-pointer":z,"json-pointer-uri-fragment":n,"relative-json-pointer":$};var E=/t|\s/i;function B(d){var a=d.split(E);return 2==a.length&&_(a[0])&&o(a[1],!0)}function l(d){return d.length<=255&&f.test(d)}var C=/\/|:/;function p(d){return C.test(d)&&D.test(d)}var v=/[^\\]\\Z/;function c(d){if(v.test(d))return!1;try{return new RegExp(d),!0}catch(a){return!1}}
},{"./util":"Wcim"}],"tlNu":[function(require,module,exports) {
"use strict";module.exports=function(r,e,a){var s,t,o=" ",i=r.level,l=r.dataLevel,c=r.schema[e],n=r.errSchemaPath+"/"+e,h=!r.opts.allErrors,v="data"+(l||""),f="valid"+i;if("#"==c||"#/"==c)r.isRoot?(s=r.async,t="validate"):(s=!0===r.root.schema.$async,t="root.refVal[0]");else{var d=r.resolveRef(r.baseId,c,r.isRoot);if(void 0===d){var p=r.MissingRefError.message(r.baseId,c);if("fail"==r.opts.missingRefs){r.logger.error(p),(g=g||[]).push(o),o="",!1!==r.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(n)+" , params: { ref: '"+r.util.escapeQuotes(c)+"' } ",!1!==r.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(c)+"' "),r.opts.verbose&&(o+=" , schema: "+r.util.toQuotedString(c)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var m=o;o=g.pop(),!r.compositeRule&&h?r.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(o+=" if (false) { ")}else{if("ignore"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,c,p);r.logger.warn(p),h&&(o+=" if (true) { ")}}else if(d.inline){var u=r.util.copy(r);u.level++;var E="valid"+u.level;u.schema=d.schema,u.schemaPath="",u.errSchemaPath=c,o+=" "+r.validate(u).replace(/validate\.schema/g,d.code)+" ",h&&(o+=" if ("+E+") { ")}else s=!0===d.$async||r.async&&!1!==d.$async,t=d.code}if(t){var g;(g=g||[]).push(o),o="",r.opts.passContext?o+=" "+t+".call(this, ":o+=" "+t+"( ",o+=" "+v+", (dataPath || '')",'""'!=r.errorPath&&(o+=" + "+r.errorPath);var y=o+=" , "+(l?"data"+(l-1||""):"parentData")+" , "+(l?r.dataPathArr[l]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),s){if(!r.async)throw new Error("async schema referenced by sync schema");h&&(o+=" var "+f+"; "),o+=" try { await "+y+"; ",h&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",h&&(o+=" "+f+" = false; "),o+=" } ",h&&(o+=" if ("+f+") { ")}else o+=" if (!"+y+") { if (vErrors === null) vErrors = "+t+".errors; else vErrors = vErrors.concat("+t+".errors); errors = vErrors.length; } ",h&&(o+=" else { ")}return o};
},{}],"5saD":[function(require,module,exports) {
"use strict";module.exports=function(e,t,a){var l=" ",r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,i=e.util.copy(e),o="";i.level++;var u="valid"+i.level,m=i.baseId,d=!0,p=r;if(p)for(var v,f=-1,n=p.length-1;f<n;)v=p[f+=1],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all))&&(d=!1,i.schema=v,i.schemaPath=s+"["+f+"]",i.errSchemaPath=c+"/"+f,l+="  "+e.validate(i)+" ",i.baseId=m,h&&(l+=" if ("+u+") { ",o+="}"));return h&&(l+=d?" if (true) { ":" "+o.slice(0,-1)+" "),l=e.util.cleanUpCode(l)};
},{}],"284S":[function(require,module,exports) {
"use strict";module.exports=function(e,r,a){var s=" ",t=e.level,o=e.dataLevel,l=e.schema[r],i=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,v="data"+(o||""),m="valid"+t,u="errs__"+t,n=e.util.copy(e),d="";n.level++;var p="valid"+n.level;if(l.every(function(r){return e.opts.strictKeywords?"object"==typeof r&&Object.keys(r).length>0:e.util.schemaHasRules(r,e.RULES.all)})){var f=n.baseId;s+=" var "+u+" = errors; var "+m+" = false;  ";var E=e.compositeRule;e.compositeRule=n.compositeRule=!0;var y=l;if(y)for(var P,R=-1,g=y.length-1;R<g;)P=y[R+=1],n.schema=P,n.schemaPath=i+"["+R+"]",n.errSchemaPath=c+"/"+R,s+="  "+e.validate(n)+" ",n.baseId=f,s+=" "+m+" = "+m+" || "+p+"; if (!"+m+") { ",d+="}";e.compositeRule=n.compositeRule=E,s+=" "+d+" if (!"+m+") {   var err =   ",!1!==e.createErrors?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(s+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } "),s=e.util.cleanUpCode(s)}else h&&(s+=" if (true) { ");return s};
},{}],"juQ5":[function(require,module,exports) {
"use strict";module.exports=function(t,o,e){var r=" ",s=t.schema[o],n=t.errSchemaPath+"/"+o,c=(t.opts.allErrors,t.util.toQuotedString(s));return!0===t.opts.$comment?r+=" console.log("+c+");":"function"==typeof t.opts.$comment&&(r+=" self._opts.$comment("+c+", "+t.util.toQuotedString(n)+", validate.root.schema);"),r};
},{}],"P0xC":[function(require,module,exports) {
"use strict";module.exports=function(a,e,r){var t=" ",s=a.level,o=a.dataLevel,l=a.schema[e],h=a.schemaPath+a.util.getProperty(e),c=a.errSchemaPath+"/"+e,d=!a.opts.allErrors,m="data"+(o||""),v="valid"+s,u=a.opts.$data&&l&&l.$data;u&&(t+=" var schema"+s+" = "+a.util.getData(l.$data,o,a.dataPathArr)+"; "),u||(t+=" var schema"+s+" = validate.schema"+h+";"),t+="var "+v+" = equal("+m+", schema"+s+"); if (!"+v+") {   ";var i=i||[];i.push(t),t="",!1!==a.createErrors?(t+=" { keyword: 'const' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(c)+" , params: { allowedValue: schema"+s+" } ",!1!==a.opts.messages&&(t+=" , message: 'should be equal to constant' "),a.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";var n=t;return t=i.pop(),!a.compositeRule&&d?a.async?t+=" throw new ValidationError(["+n+"]); ":t+=" validate.errors = ["+n+"]; return false; ":t+=" var err = "+n+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",d&&(t+=" else { "),t};
},{}],"pTBJ":[function(require,module,exports) {
"use strict";module.exports=function(e,r,a){var t=" ",s=e.level,l=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),v=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(l||""),u="valid"+s,d="errs__"+s,p=e.util.copy(e);p.level++;var m="valid"+p.level,n="i"+s,P=p.dataLevel=e.dataLevel+1,f="data"+P,E=e.baseId,g=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all);if(t+="var "+d+" = errors;var "+u+";",g){var R=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=i,p.errSchemaPath=v,t+=" var "+m+" = false; for (var "+n+" = 0; "+n+" < "+h+".length; "+n+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,n,e.opts.jsonPointers,!0);var y=h+"["+n+"]";p.dataPathArr[P]=n;var b=e.validate(p);p.baseId=E,e.util.varOccurences(b,f)<2?t+=" "+e.util.varReplace(b,f,y)+" ":t+=" var "+f+" = "+y+"; "+b+" ",t+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=R,t+="  if (!"+m+") {"}else t+=" if ("+h+".length == 0) {";var S=S||[];S.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should contain a valid item' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var w=t;return t=S.pop(),!e.compositeRule&&c?e.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { ",g&&(t+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(t+=" } "),t=e.util.cleanUpCode(t)};
},{}],"Rq+l":[function(require,module,exports) {
"use strict";module.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,p=e.schema[r],i=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,n="data"+(o||""),h="errs__"+s,c=e.util.copy(e),d="";c.level++;var v="valid"+c.level,P={},m={},y=e.opts.ownProperties;for(j in p){var g=p[j],f=Array.isArray(g)?m:P;f[j]=g}a+="var "+h+" = errors;";var Q=e.errorPath;for(var j in a+="var missing"+s+";",m)if((f=m[j]).length){if(a+=" if ( "+n+e.util.getProperty(j)+" !== undefined ",y&&(a+=" && Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(j)+"') "),u){a+=" && ( ";var w=f;if(w)for(var E=-1,b=w.length-1;E<b;){R=w[E+=1],E&&(a+=" || "),a+=" ( ( "+(I=n+(D=e.util.getProperty(R)))+" === undefined ",y&&(a+=" || ! Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(R)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:D)+") ) "}a+=")) {  ";var O="missing"+s,S="' + "+O+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Q,O,!0):Q+" + "+O);var _=_||[];_.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(j)+"', missingProperty: '"+S+"', depsCount: "+f.length+", deps: '"+e.util.escapeQuotes(1==f.length?f[0]:f.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==f.length?a+="property "+e.util.escapeQuotes(f[0]):a+="properties "+e.util.escapeQuotes(f.join(", ")),a+=" when property "+e.util.escapeQuotes(j)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ";var k=a;a=_.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var C=f;if(C)for(var R,x=-1,A=C.length-1;x<A;){R=C[x+=1];var D=e.util.getProperty(R),I=(S=e.util.escapeQuotes(R),n+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Q,R,e.opts.jsonPointers)),a+=" if ( "+I+" === undefined ",y&&(a+=" || ! Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(R)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(j)+"', missingProperty: '"+S+"', depsCount: "+f.length+", deps: '"+e.util.escapeQuotes(1==f.length?f[0]:f.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==f.length?a+="property "+e.util.escapeQuotes(f[0]):a+="properties "+e.util.escapeQuotes(f.join(", ")),a+=" when property "+e.util.escapeQuotes(j)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(d+="}",a+=" else { ")}e.errorPath=Q;var L=c.baseId;for(var j in P){g=P[j];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all))&&(a+=" "+v+" = true; if ( "+n+e.util.getProperty(j)+" !== undefined ",y&&(a+=" && Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(j)+"') "),a+=") { ",c.schema=g,c.schemaPath=i+e.util.getProperty(j),c.errSchemaPath=l+"/"+e.util.escapeFragment(j),a+="  "+e.validate(c)+" ",c.baseId=L,a+=" }  ",u&&(a+=" if ("+v+") { ",d+="}"))}return u&&(a+="   "+d+" if ("+h+" == errors) {"),a=e.util.cleanUpCode(a)};
},{}],"+l4q":[function(require,module,exports) {
"use strict";module.exports=function(a,e,r){var t=" ",s=a.level,l=a.dataLevel,o=a.schema[e],h=a.schemaPath+a.util.getProperty(e),d=a.errSchemaPath+"/"+e,i=!a.opts.allErrors,u="data"+(l||""),m="valid"+s,v=a.opts.$data&&o&&o.$data;v&&(t+=" var schema"+s+" = "+a.util.getData(o.$data,l,a.dataPathArr)+"; ");var c="i"+s,n="schema"+s;v||(t+=" var "+n+" = validate.schema"+h+";"),t+="var "+m+";",v&&(t+=" if (schema"+s+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+s+")) "+m+" = false; else {"),t+=m+" = false;for (var "+c+"=0; "+c+"<"+n+".length; "+c+"++) if (equal("+u+", "+n+"["+c+"])) { "+m+" = true; break; }",v&&(t+="  }  "),t+=" if (!"+m+") {   ";var p=p||[];p.push(t),t="",!1!==a.createErrors?(t+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { allowedValues: schema"+s+" } ",!1!==a.opts.messages&&(t+=" , message: 'should be equal to one of the allowed values' "),a.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+u+" "),t+=" } "):t+=" {} ";var f=t;return t=p.pop(),!a.compositeRule&&i?a.async?t+=" throw new ValidationError(["+f+"]); ":t+=" validate.errors = ["+f+"]; return false; ":t+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",i&&(t+=" else { "),t};
},{}],"ndVW":[function(require,module,exports) {
"use strict";module.exports=function(a,t,r){var e=" ",o=a.level,s=a.dataLevel,i=a.schema[t],n=a.schemaPath+a.util.getProperty(t),f=a.errSchemaPath+"/"+t,c=!a.opts.allErrors,u="data"+(s||"");if(!1===a.opts.format)return c&&(e+=" if (true) { "),e;var m,h=a.opts.$data&&i&&i.$data;h?(e+=" var schema"+o+" = "+a.util.getData(i.$data,s,a.dataPathArr)+"; ",m="schema"+o):m=i;var l=a.opts.unknownFormats,d=Array.isArray(l);if(h){e+=" var "+(p="format"+o)+" = formats["+m+"]; var "+(v="isObject"+o)+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+(y="formatType"+o)+" = "+v+" && "+p+".type || 'string'; if ("+v+") { ",a.async&&(e+=" var async"+o+" = "+p+".async; "),e+=" "+p+" = "+p+".validate; } if (  ",h&&(e+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),e+=" (","ignore"!=l&&(e+=" ("+m+" && !"+p+" ",d&&(e+=" && self._opts.unknownFormats.indexOf("+m+") == -1 "),e+=") || "),e+=" ("+p+" && "+y+" == '"+r+"' && !(typeof "+p+" == 'function' ? ",a.async?e+=" (async"+o+" ? await "+p+"("+u+") : "+p+"("+u+")) ":e+=" "+p+"("+u+") ",e+=" : "+p+".test("+u+"))))) {"}else{var p;if(!(p=a.formats[i])){if("ignore"==l)return a.logger.warn('unknown format "'+i+'" ignored in schema at path "'+a.errSchemaPath+'"'),c&&(e+=" if (true) { "),e;if(d&&l.indexOf(i)>=0)return c&&(e+=" if (true) { "),e;throw new Error('unknown format "'+i+'" is used in schema at path "'+a.errSchemaPath+'"')}var v,y=(v="object"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||"string";if(v){var g=!0===p.async;p=p.validate}if(y!=r)return c&&(e+=" if (true) { "),e;if(g){if(!a.async)throw new Error("async format in sync schema");e+=" if (!(await "+(w="formats"+a.util.getProperty(i)+".validate")+"("+u+"))) { "}else{e+=" if (! ";var w="formats"+a.util.getProperty(i);v&&(w+=".validate"),e+="function"==typeof p?" "+w+"("+u+") ":" "+w+".test("+u+") ",e+=") { "}}var P=P||[];P.push(e),e="",!1!==a.createErrors?(e+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(f)+" , params: { format:  ",e+=h?""+m:""+a.util.toQuotedString(i),e+="  } ",!1!==a.opts.messages&&(e+=" , message: 'should match format \"",e+=h?"' + "+m+" + '":""+a.util.escapeQuotes(i),e+="\"' "),a.opts.verbose&&(e+=" , schema:  ",e+=h?"validate.schema"+n:""+a.util.toQuotedString(i),e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+u+" "),e+=" } "):e+=" {} ";var E=e;return e=P.pop(),!a.compositeRule&&c?a.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",c&&(e+=" else { "),e};
},{}],"V8Tz":[function(require,module,exports) {
"use strict";module.exports=function(e,r,a){var s=" ",t=e.level,l=e.dataLevel,h=e.schema[r],o=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,i=!e.opts.allErrors,m="data"+(l||""),v="valid"+t,u="errs__"+t,d=e.util.copy(e);d.level++;var n="valid"+d.level,p=e.schema.then,P=e.schema.else,f=void 0!==p&&(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0:e.util.schemaHasRules(p,e.RULES.all)),E=void 0!==P&&(e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0:e.util.schemaHasRules(P,e.RULES.all)),y=d.baseId;if(f||E){var R;d.createErrors=!1,d.schema=h,d.schemaPath=o,d.errSchemaPath=c,s+=" var "+u+" = errors; var "+v+" = true;  ";var S=e.compositeRule;e.compositeRule=d.compositeRule=!0,s+="  "+e.validate(d)+" ",d.baseId=y,d.createErrors=!0,s+="  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=S,f?(s+=" if ("+n+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",s+="  "+e.validate(d)+" ",d.baseId=y,s+=" "+v+" = "+n+"; ",f&&E?s+=" var "+(R="ifClause"+t)+" = 'then'; ":R="'then'",s+=" } ",E&&(s+=" else { ")):s+=" if (!"+n+") { ",E&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",s+="  "+e.validate(d)+" ",d.baseId=y,s+=" "+v+" = "+n+"; ",f&&E?s+=" var "+(R="ifClause"+t)+" = 'else'; ":R="'else'",s+=" } "),s+=" if (!"+v+") {   var err =   ",!1!==e.createErrors?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+R+" } ",!1!==e.opts.messages&&(s+=" , message: 'should match \"' + "+R+" + '\" schema' "),e.opts.verbose&&(s+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&i&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",i&&(s+=" else { "),s=e.util.cleanUpCode(s)}else i&&(s+=" if (true) { ");return s};
},{}],"Zg5v":[function(require,module,exports) {
"use strict";module.exports=function(e,a,r){var t=" ",s=e.level,l=e.dataLevel,h=e.schema[a],o=e.schemaPath+e.util.getProperty(a),i=e.errSchemaPath+"/"+a,c=!e.opts.allErrors,v="data"+(l||""),d="valid"+s,n="errs__"+s,m=e.util.copy(e),u="";m.level++;var P="valid"+m.level,p="i"+s,f=m.dataLevel=e.dataLevel+1,g="data"+f,y=e.baseId;if(t+="var "+n+" = errors;var "+d+";",Array.isArray(h)){var b=e.schema.additionalItems;if(!1===b){t+=" "+d+" = "+v+".length <= "+h.length+"; ";var E=i;i=e.errSchemaPath+"/additionalItems",t+="  if (!"+d+") {   ";var S=S||[];S.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(i)+" , params: { limit: "+h.length+" } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have more than "+h.length+" items' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),t+=" } "):t+=" {} ";var j=t;t=S.pop(),!e.compositeRule&&c?e.async?t+=" throw new ValidationError(["+j+"]); ":t+=" validate.errors = ["+j+"]; return false; ":t+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",i=E,c&&(u+="}",t+=" else { ")}var R=h;if(R)for(var I,O=-1,k=R.length-1;O<k;)if(I=R[O+=1],e.opts.strictKeywords?"object"==typeof I&&Object.keys(I).length>0:e.util.schemaHasRules(I,e.RULES.all)){t+=" "+P+" = true; if ("+v+".length > "+O+") { ";var w=v+"["+O+"]";m.schema=I,m.schemaPath=o+"["+O+"]",m.errSchemaPath=i+"/"+O,m.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0),m.dataPathArr[f]=O;var L=e.validate(m);m.baseId=y,e.util.varOccurences(L,g)<2?t+=" "+e.util.varReplace(L,g,w)+" ":t+=" var "+g+" = "+w+"; "+L+" ",t+=" }  ",c&&(t+=" if ("+P+") { ",u+="}")}if("object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))){m.schema=b,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",t+=" "+P+" = true; if ("+v+".length > "+h.length+") {  for (var "+p+" = "+h.length+"; "+p+" < "+v+".length; "+p+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);w=v+"["+p+"]";m.dataPathArr[f]=p;L=e.validate(m);m.baseId=y,e.util.varOccurences(L,g)<2?t+=" "+e.util.varReplace(L,g,w)+" ":t+=" var "+g+" = "+w+"; "+L+" ",c&&(t+=" if (!"+P+") break; "),t+=" } }  ",c&&(t+=" if ("+P+") { ",u+="}")}}else if(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0:e.util.schemaHasRules(h,e.RULES.all)){m.schema=h,m.schemaPath=o,m.errSchemaPath=i,t+="  for (var "+p+" = 0; "+p+" < "+v+".length; "+p+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);w=v+"["+p+"]";m.dataPathArr[f]=p;L=e.validate(m);m.baseId=y,e.util.varOccurences(L,g)<2?t+=" "+e.util.varReplace(L,g,w)+" ":t+=" var "+g+" = "+w+"; "+L+" ",c&&(t+=" if (!"+P+") break; "),t+=" }"}return c&&(t+=" "+u+" if ("+n+" == errors) {"),t=e.util.cleanUpCode(t)};
},{}],"OW6o":[function(require,module,exports) {
"use strict";module.exports=function(e,a,r){var t,s=" ",o=e.level,i=e.dataLevel,m=e.schema[a],h=e.schemaPath+e.util.getProperty(a),l=e.errSchemaPath+"/"+a,d=!e.opts.allErrors,u="data"+(i||""),c=e.opts.$data&&m&&m.$data;c?(s+=" var schema"+o+" = "+e.util.getData(m.$data,i,e.dataPathArr)+"; ",t="schema"+o):t=m;var n="maximum"==a,v=n?"exclusiveMaximum":"exclusiveMinimum",p=e.schema[v],f=e.opts.$data&&p&&p.$data,P=n?"<":">",b=n?">":"<",x=void 0;if(f){var E=e.util.getData(p.$data,i,e.dataPathArr),y="exclusive"+o,g="exclType"+o,S="exclIsNumber"+o,w="' + "+(k="op"+o)+" + '";s+=" var schemaExcl"+o+" = "+E+"; ",s+=" var "+y+"; var "+g+" = typeof "+(E="schemaExcl"+o)+"; if ("+g+" != 'boolean' && "+g+" != 'undefined' && "+g+" != 'number') { ";var $;x=v;($=$||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(x||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(s+=" , message: '"+v+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var M=s;s=$.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+M+"]); ":s+=" validate.errors = ["+M+"]; return false; ":s+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" "+g+" == 'number' ? ( ("+y+" = "+t+" === undefined || "+E+" "+P+"= "+t+") ? "+u+" "+b+"= "+E+" : "+u+" "+b+" "+t+" ) : ( ("+y+" = "+E+" === true) ? "+u+" "+b+"= "+t+" : "+u+" "+b+" "+t+" ) || "+u+" !== "+u+") { var op"+o+" = "+y+" ? '"+P+"' : '"+P+"='; ",void 0===m&&(x=v,l=e.errSchemaPath+"/"+v,t=E,c=f)}else{w=P;if((S="number"==typeof p)&&c){var k="'"+w+"'";s+=" if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" ( "+t+" === undefined || "+p+" "+P+"= "+t+" ? "+u+" "+b+"= "+p+" : "+u+" "+b+" "+t+" ) || "+u+" !== "+u+") { "}else{S&&void 0===m?(y=!0,x=v,l=e.errSchemaPath+"/"+v,t=p,b+="="):(S&&(t=Math[n?"min":"max"](p,m)),p===(!S||t)?(y=!0,x=v,l=e.errSchemaPath+"/"+v,b+="="):(y=!1,w+="="));k="'"+w+"'";s+=" if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" "+u+" "+b+" "+t+" || "+u+" !== "+u+") { "}}x=x||a,($=$||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(x||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+k+", limit: "+t+", exclusive: "+y+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be "+w+" ",s+=c?"' + "+t:t+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=c?"validate.schema"+h:""+m,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";M=s;return s=$.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+M+"]); ":s+=" validate.errors = ["+M+"]; return false; ":s+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",d&&(s+=" else { "),s};
},{}],"ZPYF":[function(require,module,exports) {
"use strict";module.exports=function(a,e,r){var t,s=" ",o=a.level,h=a.dataLevel,m=a.schema[e],l=a.schemaPath+a.util.getProperty(e),i=a.errSchemaPath+"/"+e,d=!a.opts.allErrors,c="data"+(h||""),u=a.opts.$data&&m&&m.$data;u?(s+=" var schema"+o+" = "+a.util.getData(m.$data,h,a.dataPathArr)+"; ",t="schema"+o):t=m,s+="if ( ",u&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" "+c+".length "+("maxItems"==e?">":"<")+" "+t+") { ";var n=e,v=v||[];v.push(s),s="",!1!==a.createErrors?(s+=" { keyword: '"+(n||"_limitItems")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { limit: "+t+" } ",!1!==a.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxItems"==e?"more":"fewer",s+=" than ",s+=u?"' + "+t+" + '":""+m,s+=" items' "),a.opts.verbose&&(s+=" , schema:  ",s+=u?"validate.schema"+l:""+m,s+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+c+" "),s+=" } "):s+=" {} ";var p=s;return s=v.pop(),!a.compositeRule&&d?a.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",d&&(s+=" else { "),s};
},{}],"rUJc":[function(require,module,exports) {
"use strict";module.exports=function(a,e,r){var t,s=" ",o=a.level,h=a.dataLevel,l=a.schema[e],m=a.schemaPath+a.util.getProperty(e),n=a.errSchemaPath+"/"+e,c=!a.opts.allErrors,d="data"+(h||""),i=a.opts.$data&&l&&l.$data;i?(s+=" var schema"+o+" = "+a.util.getData(l.$data,h,a.dataPathArr)+"; ",t="schema"+o):t=l;var u="maxLength"==e?">":"<";s+="if ( ",i&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),!1===a.opts.unicode?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+u+" "+t+") { ";var p=e,v=v||[];v.push(s),s="",!1!==a.createErrors?(s+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(n)+" , params: { limit: "+t+" } ",!1!==a.opts.messages&&(s+=" , message: 'should NOT be ",s+="maxLength"==e?"longer":"shorter",s+=" than ",s+=i?"' + "+t+" + '":""+l,s+=" characters' "),a.opts.verbose&&(s+=" , schema:  ",s+=i?"validate.schema"+m:""+l,s+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!a.compositeRule&&c?a.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s};
},{}],"f3jx":[function(require,module,exports) {
"use strict";module.exports=function(e,r,a){var t,s=" ",o=e.level,h=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,d=!e.opts.allErrors,p="data"+(h||""),c=e.opts.$data&&i&&i.$data;c?(s+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",t="schema"+o):t=i,s+="if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" Object.keys("+p+").length "+("maxProperties"==r?">":"<")+" "+t+") { ";var u=r,n=n||[];n.push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(u||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxProperties"==r?"more":"fewer",s+=" than ",s+=c?"' + "+t+" + '":""+i,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",s+=c?"validate.schema"+l:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),s+=" } "):s+=" {} ";var v=s;return s=n.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",d&&(s+=" else { "),s};
},{}],"V8wn":[function(require,module,exports) {
"use strict";module.exports=function(a,e,r){var t,s=" ",i=a.level,o=a.dataLevel,l=a.schema[e],d=a.schemaPath+a.util.getProperty(e),h=a.errSchemaPath+"/"+e,n=!a.opts.allErrors,m="data"+(o||""),p=a.opts.$data&&l&&l.$data;p?(s+=" var schema"+i+" = "+a.util.getData(l.$data,o,a.dataPathArr)+"; ",t="schema"+i):t=l,s+="var division"+i+";if (",p&&(s+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),s+=" (division"+i+" = "+m+" / "+t+", ",a.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+a.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",p&&(s+="  )  "),s+=" ) {   ";var u=u||[];u.push(s),s="",!1!==a.createErrors?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(h)+" , params: { multipleOf: "+t+" } ",!1!==a.opts.messages&&(s+=" , message: 'should be multiple of ",s+=p?"' + "+t:t+"'"),a.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+d:""+l,s+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var v=s;return s=u.pop(),!a.compositeRule&&n?a.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",n&&(s+=" else { "),s};
},{}],"y9TO":[function(require,module,exports) {
"use strict";module.exports=function(r,e,a){var s=" ",t=r.level,o=r.dataLevel,l=r.schema[e],h=r.schemaPath+r.util.getProperty(e),c=r.errSchemaPath+"/"+e,i=!r.opts.allErrors,m="data"+(o||""),v="errs__"+t,p=r.util.copy(r);p.level++;var u="valid"+p.level;if(r.opts.strictKeywords?"object"==typeof l&&Object.keys(l).length>0:r.util.schemaHasRules(l,r.RULES.all)){p.schema=l,p.schemaPath=h,p.errSchemaPath=c,s+=" var "+v+" = errors;  ";var d,E=r.compositeRule;r.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.opts.allErrors&&(d=p.opts.allErrors,p.opts.allErrors=!1),s+=" "+r.validate(p)+" ",p.createErrors=!0,d&&(p.opts.allErrors=d),r.compositeRule=p.compositeRule=E,s+=" if ("+u+") {   ";var n=n||[];n.push(s),s="",!1!==r.createErrors?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: {} ",!1!==r.opts.messages&&(s+=" , message: 'should NOT be valid' "),r.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var P=s;s=n.pop(),!r.compositeRule&&i?r.async?s+=" throw new ValidationError(["+P+"]); ":s+=" validate.errors = ["+P+"]; return false; ":s+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",r.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",!1!==r.createErrors?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: {} ",!1!==r.opts.messages&&(s+=" , message: 'should NOT be valid' "),r.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i&&(s+=" if (false) { ");return s};
},{}],"aRVT":[function(require,module,exports) {
"use strict";module.exports=function(e,r,a){var s=" ",t=e.level,l=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,v="data"+(l||""),m="valid"+t,u="errs__"+t,n=e.util.copy(e),p="";n.level++;var d="valid"+n.level,f=n.baseId,E="prevValid"+t,P="passingSchemas"+t;s+="var "+u+" = errors , "+E+" = false , "+m+" = false , "+P+" = null; ";var g=e.compositeRule;e.compositeRule=n.compositeRule=!0;var y=o;if(y)for(var R,S=-1,b=y.length-1;S<b;)R=y[S+=1],(e.opts.strictKeywords?"object"==typeof R&&Object.keys(R).length>0:e.util.schemaHasRules(R,e.RULES.all))?(n.schema=R,n.schemaPath=i+"["+S+"]",n.errSchemaPath=c+"/"+S,s+="  "+e.validate(n)+" ",n.baseId=f):s+=" var "+d+" = true; ",S&&(s+=" if ("+d+" && "+E+") { "+m+" = false; "+P+" = ["+P+", "+S+"]; } else { ",p+="}"),s+=" if ("+d+") { "+m+" = "+E+" = true; "+P+" = "+S+"; }";return e.compositeRule=n.compositeRule=g,s+=p+"if (!"+m+") {   var err =   ",!1!==e.createErrors?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+P+" } ",!1!==e.opts.messages&&(s+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }",e.opts.allErrors&&(s+=" } "),s};
},{}],"IHR8":[function(require,module,exports) {
"use strict";module.exports=function(e,t,a){var r,s=" ",o=e.level,h=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,i=!e.opts.allErrors,n="data"+(h||""),p=e.opts.$data&&l&&l.$data;p?(s+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",r="schema"+o):r=l,s+="if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),s+=" !"+(p?"(new RegExp("+r+"))":e.usePattern(l))+".test("+n+") ) {   ";var c=c||[];c.push(s),s="",!1!==e.createErrors?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { pattern:  ",s+=p?""+r:""+e.util.toQuotedString(l),s+="  } ",!1!==e.opts.messages&&(s+=" , message: 'should match pattern \"",s+=p?"' + "+r+" + '":""+e.util.escapeQuotes(l),s+="\"' "),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+e.util.toQuotedString(l),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),s+=" } "):s+=" {} ";var m=s;return s=c.pop(),!e.compositeRule&&i?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",i&&(s+=" else { "),s};
},{}],"pbiI":[function(require,module,exports) {
"use strict";module.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,p=!e.opts.allErrors,d="data"+(o||""),c="errs__"+s,P=e.util.copy(e),n="";P.level++;var u="valid"+P.level,v="key"+s,f="idx"+s,m=P.dataLevel=e.dataLevel+1,g="data"+m,y="dataProperties"+s,b=Object.keys(i||{}),j=e.schema.patternProperties||{},O=Object.keys(j),S=e.schema.additionalProperties,E=b.length||O.length,R=!1===S,k="object"==typeof S&&Object.keys(S).length,w=e.opts.removeAdditional,Q=R||k||w,_=e.opts.ownProperties,A=e.baseId,D=e.schema.required;if(D&&(!e.opts.$data||!D.$data)&&D.length<e.opts.loopRequired)var q=e.util.toHash(D);if(a+="var "+c+" = errors;var "+u+" = true;",_&&(a+=" var "+y+" = undefined;"),Q){if(a+=_?" "+y+" = "+y+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+y+".length; "+f+"++) { var "+v+" = "+y+"["+f+"]; ":" for (var "+v+" in "+d+") { ",E){if(a+=" var isAdditional"+s+" = !(false ",b.length)if(b.length>8)a+=" || validate.schema"+l+".hasOwnProperty("+v+") ";else{var x=b;if(x)for(var I=-1,L=x.length-1;I<L;)J=x[I+=1],a+=" || "+v+" == "+e.util.toQuotedString(J)+" "}if(O.length){var H=O;if(H)for(var U=-1,F=H.length-1;U<F;)se=H[U+=1],a+=" || "+e.usePattern(se)+".test("+v+") "}a+=" ); if (isAdditional"+s+") { "}if("all"==w)a+=" delete "+d+"["+v+"]; ";else{var K=e.errorPath,V="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),R)if(w)a+=" delete "+d+"["+v+"]; ";else{a+=" "+u+" = false; ";var $=h;h=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { additionalProperty: '"+V+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var C=a;a=re.pop(),!e.compositeRule&&p?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h=$,p&&(a+=" break; ")}else if(k)if("failing"==w){a+=" var "+c+" = errors;  ";var N=e.compositeRule;e.compositeRule=P.compositeRule=!0,P.schema=S,P.schemaPath=e.schemaPath+".additionalProperties",P.errSchemaPath=e.errSchemaPath+"/additionalProperties",P.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var T=d+"["+v+"]";P.dataPathArr[m]=v;var z=e.validate(P);P.baseId=A,e.util.varOccurences(z,g)<2?a+=" "+e.util.varReplace(z,g,T)+" ":a+=" var "+g+" = "+T+"; "+z+" ",a+=" if (!"+u+") { errors = "+c+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+v+"]; }  ",e.compositeRule=P.compositeRule=N}else{P.schema=S,P.schemaPath=e.schemaPath+".additionalProperties",P.errSchemaPath=e.errSchemaPath+"/additionalProperties",P.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);T=d+"["+v+"]";P.dataPathArr[m]=v;z=e.validate(P);P.baseId=A,e.util.varOccurences(z,g)<2?a+=" "+e.util.varReplace(z,g,T)+" ":a+=" var "+g+" = "+T+"; "+z+" ",p&&(a+=" if (!"+u+") break; ")}e.errorPath=K}E&&(a+=" } "),a+=" }  ",p&&(a+=" if ("+u+") { ",n+="}")}var B=e.opts.useDefaults&&!e.compositeRule;if(b.length){var G=b;if(G)for(var J,M=-1,W=G.length-1;M<W;){var X=i[J=G[M+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0:e.util.schemaHasRules(X,e.RULES.all)){var Y=e.util.getProperty(J),Z=(T=d+Y,B&&void 0!==X.default);P.schema=X,P.schemaPath=l+Y,P.errSchemaPath=h+"/"+e.util.escapeFragment(J),P.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),P.dataPathArr[m]=e.util.toQuotedString(J);z=e.validate(P);if(P.baseId=A,e.util.varOccurences(z,g)<2){z=e.util.varReplace(z,g,T);var ee=T}else{ee=g;a+=" var "+g+" = "+T+"; "}if(Z)a+=" "+z+" ";else{if(q&&q[J]){a+=" if ( "+ee+" === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+u+" = false; ";K=e.errorPath,$=h;var re,te=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(K,J,e.opts.jsonPointers)),h=e.errSchemaPath+"/required",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+te+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+te+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";C=a;a=re.pop(),!e.compositeRule&&p?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h=$,e.errorPath=K,a+=" } else { "}else p?(a+=" if ( "+ee+" === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+u+" = true; } else { "):(a+=" if ("+ee+" !== undefined ",_&&(a+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=" ) { ");a+=" "+z+" } "}}p&&(a+=" if ("+u+") { ",n+="}")}}if(O.length){var ae=O;if(ae)for(var se,oe=-1,ie=ae.length-1;oe<ie;){X=j[se=ae[oe+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0:e.util.schemaHasRules(X,e.RULES.all)){P.schema=X,P.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(se),P.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(se),a+=_?" "+y+" = "+y+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+y+".length; "+f+"++) { var "+v+" = "+y+"["+f+"]; ":" for (var "+v+" in "+d+") { ",a+=" if ("+e.usePattern(se)+".test("+v+")) { ",P.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);T=d+"["+v+"]";P.dataPathArr[m]=v;z=e.validate(P);P.baseId=A,e.util.varOccurences(z,g)<2?a+=" "+e.util.varReplace(z,g,T)+" ":a+=" var "+g+" = "+T+"; "+z+" ",p&&(a+=" if (!"+u+") break; "),a+=" } ",p&&(a+=" else "+u+" = true; "),a+=" }  ",p&&(a+=" if ("+u+") { ",n+="}")}}}return p&&(a+=" "+n+" if ("+c+" == errors) {"),a=e.util.cleanUpCode(a)};
},{}],"axvn":[function(require,module,exports) {
"use strict";module.exports=function(r,e,a){var t=" ",s=r.level,o=r.dataLevel,l=r.schema[e],i=r.schemaPath+r.util.getProperty(e),v=r.errSchemaPath+"/"+e,c=!r.opts.allErrors,p="data"+(o||""),m="errs__"+s,d=r.util.copy(r);d.level++;var h="valid"+d.level;if(t+="var "+m+" = errors;",r.opts.strictKeywords?"object"==typeof l&&Object.keys(l).length>0:r.util.schemaHasRules(l,r.RULES.all)){d.schema=l,d.schemaPath=i,d.errSchemaPath=v;var u="key"+s,n="idx"+s,y="i"+s,E="' + "+u+" + '",P="data"+(d.dataLevel=r.dataLevel+1),f="dataProperties"+s,R=r.opts.ownProperties,b=r.baseId;R&&(t+=" var "+f+" = undefined; "),t+=R?" "+f+" = "+f+" || Object.keys("+p+"); for (var "+n+"=0; "+n+"<"+f+".length; "+n+"++) { var "+u+" = "+f+"["+n+"]; ":" for (var "+u+" in "+p+") { ",t+=" var startErrs"+s+" = errors; ";var g=u,k=r.compositeRule;r.compositeRule=d.compositeRule=!0;var w=r.validate(d);d.baseId=b,r.util.varOccurences(w,P)<2?t+=" "+r.util.varReplace(w,P,g)+" ":t+=" var "+P+" = "+g+"; "+w+" ",r.compositeRule=d.compositeRule=k,t+=" if (!"+h+") { for (var "+y+"=startErrs"+s+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+u+"; }   var err =   ",!1!==r.createErrors?(t+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(v)+" , params: { propertyName: '"+E+"' } ",!1!==r.opts.messages&&(t+=" , message: 'property name \\'"+E+"\\' is invalid' "),r.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+p+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?t+=" throw new ValidationError(vErrors); ":t+=" validate.errors = vErrors; return false; "),c&&(t+=" break; "),t+=" } }"}return c&&(t+="  if ("+m+" == errors) {"),t=r.util.cleanUpCode(t)};
},{}],"wxEo":[function(require,module,exports) {
"use strict";module.exports=function(r,e,a){var t=" ",s=r.level,o=r.dataLevel,i=r.schema[e],h=r.schemaPath+r.util.getProperty(e),p=r.errSchemaPath+"/"+e,l=!r.opts.allErrors,d="data"+(o||""),u="valid"+s,P=r.opts.$data&&i&&i.$data;P&&(t+=" var schema"+s+" = "+r.util.getData(i.$data,o,r.dataPathArr)+"; ");var n="schema"+s;if(!P)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var c=[],m=i;if(m)for(var v,y=-1,g=m.length-1;y<g;){v=m[y+=1];var f=r.schema.properties[v];f&&(r.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0:r.util.schemaHasRules(f,r.RULES.all))||(c[c.length]=v)}}else c=i;if(P||c.length){var E=r.errorPath,q=P||c.length>=r.opts.loopRequired,w=r.opts.ownProperties;if(l)if(t+=" var missing"+s+"; ",q){P||(t+=" var "+n+" = validate.schema"+h+"; ");var b="' + "+(_="schema"+s+"["+(D="i"+s)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),t+=" var "+u+" = true; ",P&&(t+=" if (schema"+s+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+s+")) "+u+" = false; else {"),t+=" for (var "+D+" = 0; "+D+" < "+n+".length; "+D+"++) { "+u+" = "+d+"["+n+"["+D+"]] !== undefined ",w&&(t+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+n+"["+D+"]) "),t+="; if (!"+u+") break; } ",P&&(t+="  }  "),t+="  if (!"+u+") {   ",(Q=Q||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var S=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+S+"]); ":t+=" validate.errors = ["+S+"]; return false; ":t+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var j=c;if(j)for(var D=-1,O=j.length-1;D<O;){R=j[D+=1],D&&(t+=" || "),t+=" ( ( "+(L=d+($=r.util.getProperty(R)))+" === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+r.util.escapeQuotes(R)+"') "),t+=") && (missing"+s+" = "+r.util.toQuotedString(r.opts.jsonPointers?R:$)+") ) "}t+=") {  ";var Q;b="' + "+(_="missing"+s)+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(E,_,!0):E+" + "+_),(Q=Q||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";S=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+S+"]); ":t+=" validate.errors = ["+S+"]; return false; ":t+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(q){P||(t+=" var "+n+" = validate.schema"+h+"; ");var _;b="' + "+(_="schema"+s+"["+(D="i"+s)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),P&&(t+=" if ("+n+" && !Array.isArray("+n+")) {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+n+" !== undefined) { "),t+=" for (var "+D+" = 0; "+D+" < "+n+".length; "+D+"++) { if ("+d+"["+n+"["+D+"]] === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+n+"["+D+"]) "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",P&&(t+="  }  ")}else{var k=c;if(k)for(var R,A=-1,x=k.length-1;A<x;){R=k[A+=1];var $=r.util.getProperty(R),L=(b=r.util.escapeQuotes(R),d+$);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(E,R,r.opts.jsonPointers)),t+=" if ( "+L+" === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+r.util.escapeQuotes(R)+"') "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=E}else l&&(t+=" if (true) {");return t};
},{}],"4evj":[function(require,module,exports) {
"use strict";module.exports=function(e,a,r){var t,i=" ",s=e.level,o=e.dataLevel,m=e.schema[a],l=e.schemaPath+e.util.getProperty(a),c=e.errSchemaPath+"/"+a,d=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,n=e.opts.$data&&m&&m.$data;if(n?(i+=" var schema"+s+" = "+e.util.getData(m.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=m,(m||n)&&!1!==e.opts.uniqueItems){n&&(i+=" var "+h+"; if ("+t+" === false || "+t+" === undefined) "+h+" = true; else if (typeof "+t+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+u+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,v=Array.isArray(f);if(!f||"object"==f||"array"==f||v&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var p="checkDataType"+(v?"s":"");i+=" if ("+e.util[p](f,"item",!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",n&&(i+="  }  "),i+=" if (!"+h+") {   ";var y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=n?"validate.schema"+l:""+m,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var j=i;i=y.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+j+"]); ":i+=" validate.errors = ["+j+"]; return false; ":i+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",d&&(i+=" else { ")}else d&&(i+=" if (true) { ");return i};
},{}],"eTjO":[function(require,module,exports) {
"use strict";module.exports={$ref:require("./ref"),allOf:require("./allOf"),anyOf:require("./anyOf"),$comment:require("./comment"),const:require("./const"),contains:require("./contains"),dependencies:require("./dependencies"),enum:require("./enum"),format:require("./format"),if:require("./if"),items:require("./items"),maximum:require("./_limit"),minimum:require("./_limit"),maxItems:require("./_limitItems"),minItems:require("./_limitItems"),maxLength:require("./_limitLength"),minLength:require("./_limitLength"),maxProperties:require("./_limitProperties"),minProperties:require("./_limitProperties"),multipleOf:require("./multipleOf"),not:require("./not"),oneOf:require("./oneOf"),pattern:require("./pattern"),properties:require("./properties"),propertyNames:require("./propertyNames"),required:require("./required"),uniqueItems:require("./uniqueItems"),validate:require("./validate")};
},{"./ref":"tlNu","./allOf":"5saD","./anyOf":"284S","./comment":"juQ5","./const":"P0xC","./contains":"pTBJ","./dependencies":"Rq+l","./enum":"+l4q","./format":"ndVW","./if":"V8Tz","./items":"Zg5v","./_limit":"OW6o","./_limitItems":"ZPYF","./_limitLength":"rUJc","./_limitProperties":"f3jx","./multipleOf":"V8wn","./not":"y9TO","./oneOf":"aRVT","./pattern":"IHR8","./properties":"pbiI","./propertyNames":"axvn","./required":"wxEo","./uniqueItems":"4evj","./validate":"EmPS"}],"b7MK":[function(require,module,exports) {
"use strict";var e=require("../dotjs"),t=require("./util").toHash;module.exports=function(){var n=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"];return n.all=t(r),n.types=t(["number","integer","string","array","object","boolean","null"]),n.forEach(function(t){t.rules=t.rules.map(function(t){var i;if("object"==typeof t){var o=Object.keys(t)[0];i=t[o],t=o,i.forEach(function(e){r.push(e),n.all[e]=!0})}return r.push(t),n.all[t]={keyword:t,code:e[t],implements:i}}),n.all.$comment={keyword:"$comment",code:e.$comment},t.type&&(n.types[t.type]=t)}),n.keywords=t(r.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),n.custom={},n};
},{"../dotjs":"eTjO","./util":"Wcim"}],"f7T8":[function(require,module,exports) {
"use strict";var e=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];module.exports=function(t,i){for(var r=0;r<i.length;r++){t=JSON.parse(JSON.stringify(t));var m,n=i[r].split("/"),a=t;for(m=1;m<n.length;m++)a=a[n[m]];for(m=0;m<e.length;m++){var s=e[m],o=a[s];o&&(a[s]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return t};
},{}],"H1FU":[function(require,module,exports) {
"use strict";var n=require("./error_classes").MissingRef;function e(t,r,o){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(o=r,r=void 0);var a=c(t).then(function(){var e=i._addSchema(t,void 0,r);return e.validate||function e(t){try{return i._compile(t)}catch(a){if(a instanceof n)return function o(e){var o=e.missingSchema;if(h(o))throw new Error("Schema "+o+" is loaded but "+e.missingRef+" cannot be resolved");var a=i._loadingSchemas[o];a||(a=i._loadingSchemas[o]=i._opts.loadSchema(o)).then(s,s);return a.then(function(n){if(!h(o))return c(n).then(function(){h(o)||i.addSchema(n,o,void 0,r)})}).then(function(){return function t(o){try{return i._compile(o)}catch(e){if(e instanceof n)return a(e);throw e}function a(n){var e=n.missingSchema;if(h(e))throw new Error("Schema "+e+" is loaded but "+n.missingRef+" cannot be resolved");var a=i._loadingSchemas[e];return a||(a=i._loadingSchemas[e]=i._opts.loadSchema(e)).then(s,s),a.then(function(n){if(!h(e))return c(n).then(function(){h(e)||i.addSchema(n,e,void 0,r)})}).then(function(){return t(o)});function s(){delete i._loadingSchemas[e]}function h(n){return i._refs[n]||i._schemas[n]}}}(t)});function s(){delete i._loadingSchemas[o]}function h(n){return i._refs[n]||i._schemas[n]}}(a);throw a}function o(n){var o=n.missingSchema;if(h(o))throw new Error("Schema "+o+" is loaded but "+n.missingRef+" cannot be resolved");var a=i._loadingSchemas[o];return a||(a=i._loadingSchemas[o]=i._opts.loadSchema(o)).then(s,s),a.then(function(n){if(!h(o))return c(n).then(function(){h(o)||i.addSchema(n,o,void 0,r)})}).then(function(){return e(t)});function s(){delete i._loadingSchemas[o]}function h(n){return i._refs[n]||i._schemas[n]}}}(e)});return o&&a.then(function(n){o(null,n)},o),a;function c(n){var t=n.$schema;return t&&!i.getSchema(t)?e.call(i,{$ref:t},!0):Promise.resolve()}}module.exports=e;
},{"./error_classes":"bD9a"}],"iJgD":[function(require,module,exports) {
"use strict";module.exports=function(a,r,e){var t,s,o=" ",i=a.level,h=a.dataLevel,d=a.schema[r],l=a.schemaPath+a.util.getProperty(r),v=a.errSchemaPath+"/"+r,c=!a.opts.allErrors,n="data"+(h||""),m="valid"+i,u="errs__"+i,p=a.opts.$data&&d&&d.$data;p?(o+=" var schema"+i+" = "+a.util.getData(d.$data,h,a.dataPathArr)+"; ",s="schema"+i):s=d;var f,P,y,E,w,k="definition"+i,g=this.definition,R="";if(p&&g.$data){w="keywordValidate"+i;var S=g.validateSchema;o+=" var "+k+" = RULES.custom['"+r+"'].definition; var "+w+" = "+k+".validate;"}else{if(!(E=a.useCustomRule(this,d,a.schema,a)))return;s="validate.schema"+l,w=E.code,f=g.compile,P=g.inline,y=g.macro}var b=w+".errors",$="i"+i,A="ruleErr"+i,D=g.async;if(D&&!a.async)throw new Error("async keyword in sync schema");if(P||y||(o+=b+" = null;"),o+="var "+u+" = errors;var "+m+";",p&&g.$data&&(R+="}",o+=" if ("+s+" === undefined) { "+m+" = true; } else { ",S&&(R+="}",o+=" "+m+" = "+k+".validateSchema("+s+"); if ("+m+") { ")),P)g.statements?o+=" "+E.validate+" ":o+=" "+m+" = "+E.validate+"; ";else if(y){var V=a.util.copy(a);R="";V.level++;var x="valid"+V.level;V.schema=E.validate,V.schemaPath="";var C=a.compositeRule;a.compositeRule=V.compositeRule=!0;var L=a.validate(V).replace(/validate\.schema/g,w);a.compositeRule=V.compositeRule=C,o+=" "+L}else{(j=j||[]).push(o),o="",o+="  "+w+".call( ",a.opts.passContext?o+="this":o+="self",f||!1===g.schema?o+=" , "+n+" ":o+=" , "+s+" , "+n+" , validate.schema"+a.schemaPath+" ",o+=" , (dataPath || '')",'""'!=a.errorPath&&(o+=" + "+a.errorPath);var Q=h?"data"+(h-1||""):"parentData",_=h?a.dataPathArr[h]:"parentDataProperty",U=o+=" , "+Q+" , "+_+" , rootData )  ";o=j.pop(),!1===g.errors?(o+=" "+m+" = ",D&&(o+="await "),o+=U+"; "):o+=D?" var "+(b="customErrors"+i)+" = null; try { "+m+" = await "+U+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+b+" = e.errors; else throw e; } ":" "+b+" = null; "+m+" = "+U+"; "}if(g.modifying&&(o+=" if ("+Q+") "+n+" = "+Q+"["+_+"];"),o+=""+R,g.valid)c&&(o+=" if (true) { ");else{var j;o+=" if ( ",void 0===g.valid?(o+=" !",o+=y?""+x:""+m):o+=" "+!g.valid+" ",o+=") { ",t=this.keyword,(j=j||[]).push(o),o="",(j=j||[]).push(o),o="",!1!==a.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { keyword: '"+this.keyword+"' } ",!1!==a.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),a.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ";var q=o;o=j.pop(),!a.compositeRule&&c?a.async?o+=" throw new ValidationError(["+q+"]); ":o+=" validate.errors = ["+q+"]; return false; ":o+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var z=o;o=j.pop(),P?g.errors?"full"!=g.errors&&(o+="  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+A+" = vErrors["+$+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+v+'"; } ',a.opts.verbose&&(o+=" "+A+".schema = "+s+"; "+A+".data = "+n+"; "),o+=" } "):!1===g.errors?o+=" "+z+" ":(o+=" if ("+u+" == errors) { "+z+" } else {  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+A+" = vErrors["+$+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+v+'"; } ',a.opts.verbose&&(o+=" "+A+".schema = "+s+"; "+A+".data = "+n+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==a.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { keyword: '"+this.keyword+"' } ",!1!==a.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),a.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&c&&(a.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===g.errors?o+=" "+z+" ":(o+=" if (Array.isArray("+b+")) { if (vErrors === null) vErrors = "+b+"; else vErrors = vErrors.concat("+b+"); errors = vErrors.length;  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+A+" = vErrors["+$+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+a.errorPath+";  "+A+'.schemaPath = "'+v+'";  ',a.opts.verbose&&(o+=" "+A+".schema = "+s+"; "+A+".data = "+n+"; "),o+=" } } else { "+z+" } "),o+=" } ",c&&(o+=" else { ")}return o};
},{}],"hbeT":[function(require,module,exports) {
module.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};
},{}],"hUCa":[function(require,module,exports) {
"use strict";var e=require("./refs/json-schema-draft-07.json");module.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:e.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:e.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};
},{"./refs/json-schema-draft-07.json":"hbeT"}],"Xah3":[function(require,module,exports) {
"use strict";var e=/^[a-z_$][a-z0-9_$-]*$/i,r=require("./dotjs/custom"),t=require("./definition_schema");function i(t,i){var o=this.RULES;if(o.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!e.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(i){this.validateKeyword(i,!0);var s=i.type;if(Array.isArray(s))for(var a=0;a<s.length;a++)d(t,s[a],i);else d(t,s,i);var n=i.metaSchema;n&&(i.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),i.validateSchema=this.compile(n,!0))}function d(e,t,i){for(var s,a=0;a<o.length;a++){var n=o[a];if(n.type==t){s=n;break}}s||(s={type:t,rules:[]},o.push(s));var d={keyword:e,definition:i,custom:!0,code:r,implements:i.implements};s.rules.push(d),o.custom[e]=d}return o.keywords[t]=o.all[t]=!0,this}function o(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1}function s(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var i=r[t].rules,o=0;o<i.length;o++)if(i[o].keyword==e){i.splice(o,1);break}return this}function a(e,r){a.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(t,!0);if(i(e))return!0;if(a.errors=i.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));return!1}module.exports={add:i,get:o,remove:s,validate:a};
},{"./dotjs/custom":"iJgD","./definition_schema":"hUCa"}],"ZZ4N":[function(require,module,exports) {
module.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};
},{}],"OOK0":[function(require,module,exports) {
"use strict";var e=require("./compile"),t=require("./compile/resolve"),r=require("./cache"),a=require("./compile/schema_obj"),i=require("fast-json-stable-stringify"),s=require("./compile/formats"),o=require("./compile/rules"),h=require("./data"),n=require("./compile/util");module.exports=p,p.prototype.validate=u,p.prototype.compile=v,p.prototype.addSchema=_,p.prototype.addMetaSchema=g,p.prototype.validateSchema=y,p.prototype.getSchema=S,p.prototype.removeSchema=q,p.prototype.addFormat=A,p.prototype.errorsText=x,p.prototype._addSchema=E,p.prototype._compile=I,p.prototype.compileAsync=require("./compile/async");var c=require("./keyword");p.prototype.addKeyword=c.add,p.prototype.getKeyword=c.get,p.prototype.removeKeyword=c.remove,p.prototype.validateKeyword=c.validate;var d=require("./compile/error_classes");p.ValidationError=d.Validation,p.MissingRefError=d.MissingRef,p.$dataMetaSchema=h;var l="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],f=["/properties"];function p(e){if(!(this instanceof p))return new p(e);e=this._opts=n.copy(e)||{},F(this),this._schemas={},this._refs={},this._fragments={},this._formats=s(e.format),this._cache=e.cache||new r,this._loadingSchemas={},this._compilations=[],this.RULES=o(),this._getId=M(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=i),this._metaOpts=T(this),e.formats&&P(this),V(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),D(this)}function u(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var i=r(t);return!0!==r.$async&&(this.errors=r.errors),i}function v(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function _(e,r,a,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,a,i);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return k(this,r=t.normalizeId(r||o)),this._schemas[r]=this._addSchema(e,a,i,!0),this}function g(e,t,r){return this.addSchema(e,t,r,!0),this}function y(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||w(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,e);if(!a&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return a}function w(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(l)?l:void 0,e._opts.defaultMeta}function S(e){var t=$(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return b(this,e)}}function b(r,i){var s=t.schema.call(r,{schema:{}},i);if(s){var o=s.schema,h=s.root,n=s.baseId,c=e.call(r,o,h,void 0,n);return r._fragments[i]=new a({ref:i,fragment:!0,schema:o,root:h,baseId:n,validate:c}),c}}function $(e,r){return r=t.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function q(e){if(e instanceof RegExp)return j(this,this._schemas,e),j(this,this._refs,e),this;switch(typeof e){case"undefined":return j(this,this._schemas),j(this,this._refs),this._cache.clear(),this;case"string":var r=$(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var a=this._opts.serialize,i=a?a(e):e;this._cache.del(i);var s=this._getId(e);s&&(s=t.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function j(e,t,r){for(var a in t){var i=t[a];i.meta||r&&!r.test(a)||(e._cache.del(i.cacheKey),delete t[a])}}function E(e,r,i,s){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,h=o?o(e):e,n=this._cache.get(h);if(n)return n;s=s||!1!==this._opts.addUsedSchema;var c=t.normalizeId(this._getId(e));c&&s&&k(this,c);var d,l=!1!==this._opts.validateSchema&&!r;l&&!(d=c&&c==t.normalizeId(e.$schema))&&this.validateSchema(e,!0);var m=t.ids.call(this,e),f=new a({id:c,schema:e,localRefs:m,cacheKey:h,meta:i});return"#"!=c[0]&&s&&(this._refs[c]=f),this._cache.put(h,f),l&&d&&this.validateSchema(e,!0),f}function I(t,r){if(t.compiling)return t.validate=s,s.schema=t.schema,s.errors=null,s.root=r||s,!0===t.schema.$async&&(s.$async=!0),s;var a,i;t.compiling=!0,t.meta&&(a=this._opts,this._opts=this._metaOpts);try{i=e.call(this,t.schema,r,t.localRefs)}catch(o){throw delete t.validate,o}finally{t.compiling=!1,t.meta&&(this._opts=a)}return t.validate=i,t.refs=i.refs,t.refVal=i.refVal,t.root=i.root,i;function s(){var e=t.validate,r=e.apply(this,arguments);return s.errors=e.errors,r}}function M(e){switch(e.schemaId){case"auto":return K;case"id":return z;default:return R}}function z(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function R(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function K(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,i="",s=0;s<e.length;s++){var o=e[s];o&&(i+=a+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)}function A(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function V(e){var t;if(e._opts.$data&&(t=require("./refs/data.json"),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=require("./refs/json-schema-draft-07.json");e._opts.$data&&(r=h(r,f)),e.addMetaSchema(r,l,!0),e._refs["http://json-schema.org/schema"]=l}}function D(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function P(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function k(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function T(e){for(var t=n.copy(e._opts),r=0;r<m.length;r++)delete t[m[r]];return t}function F(e){var t=e._opts.logger;if(!1===t)e.logger={log:O,warn:O,error:O};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function O(){}
},{"./compile":"l3nZ","./compile/resolve":"OECS","./cache":"+20M","./compile/schema_obj":"eHK9","fast-json-stable-stringify":"qJmY","./compile/formats":"B+SP","./compile/rules":"b7MK","./data":"f7T8","./compile/util":"Wcim","./compile/async":"H1FU","./keyword":"Xah3","./compile/error_classes":"bD9a","./refs/data.json":"ZZ4N","./refs/json-schema-draft-07.json":"hbeT"}],"MK2z":[function(require,module,exports) {
function r(r){this.name="HARError",this.message="validation failed",this.errors=r,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error("validation failed").stack}r.prototype=Error.prototype,module.exports=r;
},{}],"SazP":[function(require,module,exports) {
module.exports={$id:"afterRequest.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}};
},{}],"8jy0":[function(require,module,exports) {
module.exports={$id:"beforeRequest.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}};
},{}],"xQKa":[function(require,module,exports) {
module.exports={$id:"browser.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}};
},{}],"hpm6":[function(require,module,exports) {
module.exports={$id:"cache.json#",$schema:"http://json-schema.org/draft-06/schema#",properties:{beforeRequest:{oneOf:[{type:"null"},{$ref:"beforeRequest.json#"}]},afterRequest:{oneOf:[{type:"null"},{$ref:"afterRequest.json#"}]},comment:{type:"string"}}};
},{}],"S45g":[function(require,module,exports) {
module.exports={$id:"content.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["size","mimeType"],properties:{size:{type:"integer"},compression:{type:"integer"},mimeType:{type:"string"},text:{type:"string"},encoding:{type:"string"},comment:{type:"string"}}};
},{}],"+Fst":[function(require,module,exports) {
module.exports={$id:"cookie.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},path:{type:"string"},domain:{type:"string"},expires:{type:["string","null"],format:"date-time"},httpOnly:{type:"boolean"},secure:{type:"boolean"},comment:{type:"string"}}};
},{}],"gr6Z":[function(require,module,exports) {
module.exports={$id:"creator.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}};
},{}],"qVBZ":[function(require,module,exports) {
module.exports={$id:"entry.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["startedDateTime","time","request","response","cache","timings"],properties:{pageref:{type:"string"},startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},time:{type:"number",min:0},request:{$ref:"request.json#"},response:{$ref:"response.json#"},cache:{$ref:"cache.json#"},timings:{$ref:"timings.json#"},serverIPAddress:{type:"string",oneOf:[{format:"ipv4"},{format:"ipv6"}]},connection:{type:"string"},comment:{type:"string"}}};
},{}],"m+Ko":[function(require,module,exports) {
module.exports={$id:"har.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["log"],properties:{log:{$ref:"log.json#"}}};
},{}],"xGx6":[function(require,module,exports) {
module.exports={$id:"header.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string"}}};
},{}],"RrT+":[function(require,module,exports) {
module.exports={$id:"log.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["version","creator","entries"],properties:{version:{type:"string"},creator:{$ref:"creator.json#"},browser:{$ref:"browser.json#"},pages:{type:"array",items:{$ref:"page.json#"}},entries:{type:"array",items:{$ref:"entry.json#"}},comment:{type:"string"}}};
},{}],"AfxL":[function(require,module,exports) {
module.exports={$id:"page.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["startedDateTime","id","title","pageTimings"],properties:{startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},id:{type:"string",unique:!0},title:{type:"string"},pageTimings:{$ref:"pageTimings.json#"},comment:{type:"string"}}};
},{}],"qjYg":[function(require,module,exports) {
module.exports={$id:"pageTimings.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",properties:{onContentLoad:{type:"number",min:-1},onLoad:{type:"number",min:-1},comment:{type:"string"}}};
},{}],"2JWM":[function(require,module,exports) {
module.exports={$id:"postData.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["mimeType"],properties:{mimeType:{type:"string"},text:{type:"string"},params:{type:"array",required:["name"],properties:{name:{type:"string"},value:{type:"string"},fileName:{type:"string"},contentType:{type:"string"},comment:{type:"string"}}},comment:{type:"string"}}};
},{}],"FlYw":[function(require,module,exports) {
module.exports={$id:"query.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string"}}};
},{}],"vab8":[function(require,module,exports) {
module.exports={$id:"request.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],properties:{method:{type:"string"},url:{type:"string",format:"uri"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},queryString:{type:"array",items:{$ref:"query.json#"}},postData:{$ref:"postData.json#"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}};
},{}],"eKac":[function(require,module,exports) {
module.exports={$id:"response.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],properties:{status:{type:"integer"},statusText:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},content:{$ref:"content.json#"},redirectURL:{type:"string"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}};
},{}],"9yap":[function(require,module,exports) {
module.exports={$id:"timings.json#",$schema:"http://json-schema.org/draft-06/schema#",required:["send","wait","receive"],properties:{dns:{type:"number",min:-1},connect:{type:"number",min:-1},blocked:{type:"number",min:-1},send:{type:"number",min:-1},wait:{type:"number",min:-1},receive:{type:"number",min:-1},ssl:{type:"number",min:-1},comment:{type:"string"}}};
},{}],"ayBd":[function(require,module,exports) {
"use strict";module.exports={afterRequest:require("./afterRequest.json"),beforeRequest:require("./beforeRequest.json"),browser:require("./browser.json"),cache:require("./cache.json"),content:require("./content.json"),cookie:require("./cookie.json"),creator:require("./creator.json"),entry:require("./entry.json"),har:require("./har.json"),header:require("./header.json"),log:require("./log.json"),page:require("./page.json"),pageTimings:require("./pageTimings.json"),postData:require("./postData.json"),query:require("./query.json"),request:require("./request.json"),response:require("./response.json"),timings:require("./timings.json")};
},{"./afterRequest.json":"SazP","./beforeRequest.json":"8jy0","./browser.json":"xQKa","./cache.json":"hpm6","./content.json":"S45g","./cookie.json":"+Fst","./creator.json":"gr6Z","./entry.json":"qVBZ","./har.json":"m+Ko","./header.json":"xGx6","./log.json":"RrT+","./page.json":"AfxL","./pageTimings.json":"qjYg","./postData.json":"2JWM","./query.json":"FlYw","./request.json":"vab8","./response.json":"eKac","./timings.json":"9yap"}],"LBHG":[function(require,module,exports) {
module.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}};
},{}],"6G4W":[function(require,module,exports) {
var r,e=require("ajv"),t=require("./error"),n=require("har-schema");function o(){var r=new e({allErrors:!0});return r.addMetaSchema(require("ajv/lib/refs/json-schema-draft-06.json")),r.addSchema(n),r}function u(e,n){n=n||{};var u=(r=r||o()).getSchema(e+".json");return new Promise(function(r,e){u(n)?r(n):e(new t(u.errors))})}exports.afterRequest=function(r){return u("afterRequest",r)},exports.beforeRequest=function(r){return u("beforeRequest",r)},exports.browser=function(r){return u("browser",r)},exports.cache=function(r){return u("cache",r)},exports.content=function(r){return u("content",r)},exports.cookie=function(r){return u("cookie",r)},exports.creator=function(r){return u("creator",r)},exports.entry=function(r){return u("entry",r)},exports.har=function(r){return u("har",r)},exports.header=function(r){return u("header",r)},exports.log=function(r){return u("log",r)},exports.page=function(r){return u("page",r)},exports.pageTimings=function(r){return u("pageTimings",r)},exports.postData=function(r){return u("postData",r)},exports.query=function(r){return u("query",r)},exports.request=function(r){return u("request",r)},exports.response=function(r){return u("response",r)},exports.timings=function(r){return u("timings",r)};
},{"ajv":"OOK0","./error":"MK2z","har-schema":"ayBd","ajv/lib/refs/json-schema-draft-06.json":"LBHG"}],"5IJw":[function(require,module,exports) {
"use strict";var e=require("fs"),t=require("querystring"),a=require("har-validator"),r=require("extend");function o(e){this.request=e}o.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var a=[e[t.name],t.value];return e[t.name]=a,e},o.prototype.prep=function(e){if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight(function(e,t){return e[t.name]=t.value,e},{})),e.cookies&&e.cookies.length){var a=e.cookies.map(function(e){return e.name+"="+e.value});a.length&&(e.headersObj.cookie=a.join("; "))}function r(t){return t.some(function(t){return 0===e.postData.mimeType.indexOf(t)})}if(r(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))e.postData.mimeType="multipart/form-data";else if(r(["application/x-www-form-urlencoded"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=t.stringify(e.postData.paramsObj)):e.postData.text="";else if(r(["text/json","text/x-json","application/json","application/x-json"])&&(e.postData.mimeType="application/json",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(o){this.request.debug(o),e.postData.mimeType="text/plain"}return e},o.prototype.options=function(t){if(!t.har)return t;var o={};if(r(o,t.har),o.log&&o.log.entries&&(o=o.log.entries[0]),o.url=o.url||t.url||t.uri||t.baseUrl||"/",o.httpVersion=o.httpVersion||"HTTP/1.1",o.queryString=o.queryString||[],o.headers=o.headers||[],o.cookies=o.cookies||[],o.postData=o.postData||{},o.postData.mimeType=o.postData.mimeType||"application/octet-stream",o.bodySize=0,o.headersSize=0,o.postData.size=0,!a.request(o))return t;var i=this.prep(o);function n(e){return 0===i.postData.mimeType.indexOf(e)}return i.url&&(t.url=i.url),i.method&&(t.method=i.method),Object.keys(i.queryObj).length&&(t.qs=i.queryObj),Object.keys(i.headersObj).length&&(t.headers=i.headersObj),n("application/x-www-form-urlencoded")?t.form=i.postData.paramsObj:n("application/json")?i.postData.jsonObj&&(t.body=i.postData.jsonObj,t.json=!0):n("multipart/form-data")?(t.formData={},i.postData.params.forEach(function(a){var r={};a.fileName||a.fileName||a.contentType?(a.fileName&&!a.value?r.value=e.createReadStream(a.fileName):a.value&&(r.value=a.value),a.fileName&&(r.options={filename:a.fileName,contentType:a.contentType?a.contentType:null}),t.formData[a.name]=r):t.formData[a.name]=a.value})):i.postData.text&&(t.body=i.postData.text),t},exports.Har=o;
},{"har-validator":"6G4W","extend":"PUjw"}],"Yxee":[function(require,module,exports) {
var r=require("crypto");module.exports=function(){return r.randomBytes(16)};
},{}],"NxCc":[function(require,module,exports) {
for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function t(o,t){var n=t||0,u=r;return[u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]]].join("")}module.exports=t;
},{}],"A0Zv":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"Yxee","./lib/bytesToUuid":"NxCc"}],"envF":[function(require,module,exports) {
"use strict";var e=require("caseless"),t=require("uuid/v4"),r=require("./helpers"),s=r.md5,i=r.toBase64;function a(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}a.prototype.basic=function(e,t,r){if(("string"!=typeof e||void 0!==t&&"string"!=typeof t)&&this.request.emit("error",new Error("auth() received invalid user or password")),this.user=e,this.pass=t,this.hasAuth=!0,r||void 0===r){var s="Basic "+i(e+":"+(t||""));return this.sentAuth=!0,s}},a.prototype.bearer=function(e,t){if(this.bearerToken=e,this.hasAuth=!0,t||void 0===t){"function"==typeof e&&(e=e());var r="Bearer "+(e||"");return this.sentAuth=!0,r}},a.prototype.digest=function(e,r,i){for(var a={},o=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var n=o.exec(i);if(!n)break;a[n[1]]=n[2]||n[3]}var h=/(^|,)\s*auth\s*($|,)/.test(a.qop)&&"auth",u=h&&"00000001",c=h&&t().replace(/-/g,""),p=function(e,t,r,i,a,o){var n=s(t+":"+r+":"+i);return e&&"md5-sess"===e.toLowerCase()?s(n+":"+a+":"+o):n}(a.algorithm,this.user,a.realm,this.pass,a.nonce,c),d=s(e+":"+r),l=s(h?p+":"+a.nonce+":"+u+":"+c+":"+h+":"+d:p+":"+a.nonce+":"+d),v={username:this.user,realm:a.realm,nonce:a.nonce,uri:r,qop:h,response:l,nc:u,cnonce:c,algorithm:a.algorithm,opaque:a.opaque};for(var f in i=[],v)v[f]&&("qop"===f||"nc"===f||"algorithm"===f?i.push(f+"="+v[f]):i.push(f+'="'+v[f]+'"'));return i="Digest "+i.join(", "),this.sentAuth=!0,i},a.prototype.onRequest=function(e,t,r,s){var i,a=this.request;void 0===s&&void 0===e?this.request.emit("error",new Error("no auth mechanism defined")):i=void 0!==s?this.bearer(s,r):this.basic(e,t,r),i&&a.setHeader("authorization",i)},a.prototype.onResponse=function(t){var r=this.request;if(!this.hasAuth||this.sentAuth)return null;var s=e(t.headers).get("www-authenticate"),i=s&&s.split(" ")[0].toLowerCase();switch(r.debug("reauth",i),i){case"basic":return this.basic(this.user,this.pass,!0);case"bearer":return this.bearer(this.bearerToken,!0);case"digest":return this.digest(r.method,r.path,s)}},exports.Auth=a;
},{"caseless":"E3Bq","uuid/v4":"A0Zv","./helpers":"p14+"}],"4aA4":[function(require,module,exports) {
var r=require("crypto");function e(e,n,t){return r.createHmac(t,e).update(n).digest("base64")}function n(e,n){return r.createSign("RSA-SHA1").update(n).sign(e,"base64")}function t(r){return encodeURIComponent(r).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function a(r){var e,n,t=[];for(e in r)if(n=r[e],Array.isArray(n))for(var a=0;a<n.length;a++)t.push([e,n[a]]);else if("object"==typeof n)for(var o in n)t.push([e+"["+o+"]",n[o]]);else t.push([e,n]);return t}function o(r,e){return r>e?1:r<e?-1:0}function u(r,e,n){var u=a(n).map(function(r){return[t(r[0]),t(r[1]||"")]}).sort(function(r,e){return o(r[0],e[0])||o(r[1],e[1])}).map(function(r){return r.join("=")}).join("&");return[t(r?r.toUpperCase():"GET"),t(e),t(u)].join("&")}function i(r,n,a,o,i){var c=u(r,n,a);return e([o||"",i||""].map(t).join("&"),c,"sha1")}function c(r,n,a,o,i){var c=u(r,n,a);return e([o||"",i||""].map(t).join("&"),c,"sha256")}function s(r,e,t,a,o){return n(a||"",u(r,e,t))}function p(r,e){return[r||"",e||""].map(t).join("&")}function f(r,e,n,t,a,o){var u,f=1;switch(r){case"RSA-SHA1":u=s;break;case"HMAC-SHA1":u=i;break;case"HMAC-SHA256":u=c;break;case"PLAINTEXT":u=p,f=4;break;default:throw new Error("Signature method not supported: "+r)}return u.apply(null,[].slice.call(arguments,f))}exports.hmacsign=i,exports.hmacsign256=c,exports.rsasign=s,exports.plaintext=p,exports.sign=f,exports.rfc3986=t,exports.generateBase=u;
},{}],"6BBq":[function(require,module,exports) {
"use strict";var e=require("url"),t=require("qs"),r=require("caseless"),a=require("uuid/v4"),o=require("oauth-sign"),s=require("crypto"),u=require("safe-buffer").Buffer;function i(e){this.request=e,this.params=null}i.prototype.buildParams=function(e,t,r,s,u,i){var h={};for(var n in e)h["oauth_"+n]=e[n];h.oauth_version||(h.oauth_version="1.0"),h.oauth_timestamp||(h.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),h.oauth_nonce||(h.oauth_nonce=a().replace(/-/g,"")),h.oauth_signature_method||(h.oauth_signature_method="HMAC-SHA1");var d=h.oauth_consumer_secret||h.oauth_private_key;delete h.oauth_consumer_secret,delete h.oauth_private_key;var c=h.oauth_token_secret;delete h.oauth_token_secret;var _=h.oauth_realm;delete h.oauth_realm,delete h.oauth_transport_method;var m=t.protocol+"//"+t.host+t.pathname,p=i.parse([].concat(s,u,i.stringify(h)).join("&"));return h.oauth_signature=o.sign(h.oauth_signature_method,r,m,p,d,c),_&&(h.realm=_),h},i.prototype.buildBodyHash=function(e,t){["HMAC-SHA1","RSA-SHA1"].indexOf(e.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+e.signature_method+" signature_method not supported with body_hash signing."));var r=s.createHash("sha1");r.update(t||"");var a=r.digest("hex");return u.from(a,"hex").toString("base64")},i.prototype.concatParams=function(e,t,r){r=r||"";var a=Object.keys(e).filter(function(e){return"realm"!==e&&"oauth_signature"!==e}).sort();return e.realm&&a.splice(0,0,"realm"),a.push("oauth_signature"),a.map(function(t){return t+"="+r+o.rfc3986(e[t])+r}).join(t)},i.prototype.onRequest=function(a){this.params=a;var o,s,u=this.request.uri||{},i=this.request.method||"",h=r(this.request.headers),n=this.request.body||"",d=this.request.qsLib||t,c=h.get("content-type")||"",_="application/x-www-form-urlencoded",m=a.transport_method||"header";c.slice(0,_.length)===_&&(c=_,o=n),u.query&&(s=u.query),"body"!==m||"POST"===i&&c===_||this.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+_)),o||"boolean"!=typeof a.body_hash||(a.body_hash=this.buildBodyHash(a,this.request.body.toString()));var p=this.buildParams(a,u,i,s,o,d);switch(m){case"header":this.request.setHeader("Authorization","OAuth "+this.concatParams(p,",",'"'));break;case"query":var l=this.request.uri.href+=(s?"&":"?")+this.concatParams(p,"&");this.request.uri=e.parse(l),this.request.path=this.request.uri.path;break;case"body":this.request.body=(o?o+"&":"")+this.concatParams(p,"&");break;default:this.request.emit("error",new Error("oauth: transport_method invalid"))}},exports.OAuth=i;
},{"qs":"uoBH","caseless":"E3Bq","uuid/v4":"A0Zv","oauth-sign":"4aA4","safe-buffer":"udfh"}],"8Dxk":[function(require,module,exports) {
"use strict";var e=require("crypto");function a(a){var t=6*(a+1);return e.randomBytes(Math.ceil(t/8)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"").slice(0,a)}function t(a,t,r){var n=e.createHash(t);return n.update("hawk.1.payload\n"),n.update((r?r.split(";")[0].trim().toLowerCase():"")+"\n"),n.update(a||""),n.update("\n"),n.digest("base64")}exports.calculateMac=function(a,t){var r="hawk.1.header\n"+t.ts+"\n"+t.nonce+"\n"+(t.method||"").toUpperCase()+"\n"+t.resource+"\n"+t.host.toLowerCase()+"\n"+t.port+"\n"+(t.hash||"")+"\n";return t.ext&&(r+=t.ext.replace("\\","\\\\").replace("\n","\\n")),r+="\n",t.app&&(r=r+t.app+"\n"+(t.dlg||"")+"\n"),e.createHmac(a.algorithm,a.key).update(r).digest("base64")},exports.header=function(e,r,n){var o=n.timestamp||Math.floor((Date.now()+(n.localtimeOffsetMsec||0))/1e3),p=n.credentials;if(!(p&&p.id&&p.key&&p.algorithm))return"";if(-1===["sha1","sha256"].indexOf(p.algorithm))return"";var s={ts:o,nonce:n.nonce||a(6),method:r,resource:e.pathname+(e.search||""),host:e.hostname,port:e.port||("http:"===e.protocol?80:443),hash:n.hash,ext:n.ext,app:n.app,dlg:n.dlg};s.hash||!n.payload&&""!==n.payload||(s.hash=t(n.payload,p.algorithm,n.contentType));var c=exports.calculateMac(p,s),h=null!==s.ext&&void 0!==s.ext&&""!==s.ext,l='Hawk id="'+p.id+'", ts="'+s.ts+'", nonce="'+s.nonce+(s.hash?'", hash="'+s.hash:"")+(h?'", ext="'+s.ext.replace(/\\/g,"\\\\").replace(/"/g,'\\"'):"")+'", mac="'+c+'"';return s.app&&(l=l+', app="'+s.app+(s.dlg?'", dlg="'+s.dlg:"")+'"'),l};
},{}],"0ICs":[function(require,module,exports) {
"use strict";var e=require("uuid/v4"),r=require("combined-stream"),t=require("isstream"),n=require("safe-buffer").Buffer;function u(r){this.request=r,this.boundary=e(),this.chunked=!1,this.body=null}u.prototype.isChunked=function(e){var r=this,n=!1,u=e.data||e;return u.forEach||r.request.emit("error",new Error("Argument error, options.multipart.")),void 0!==e.chunked&&(n=e.chunked),"chunked"===r.request.getHeader("transfer-encoding")&&(n=!0),n||u.forEach(function(e){void 0===e.body&&r.request.emit("error",new Error("Body attribute missing in multipart.")),t(e.body)&&(n=!0)}),n},u.prototype.setHeaders=function(e){e&&!this.request.hasHeader("transfer-encoding")&&this.request.setHeader("transfer-encoding","chunked");var r=this.request.getHeader("content-type");r&&-1!==r.indexOf("multipart")?-1!==r.indexOf("boundary")?this.boundary=r.replace(/.*boundary=([^\s;]+).*/,"$1"):this.request.setHeader("content-type",r+"; boundary="+this.boundary):this.request.setHeader("content-type","multipart/related; boundary="+this.boundary)},u.prototype.build=function(e,t){var u=this,i=t?new r:[];function o(e){return"number"==typeof e&&(e=e.toString()),t?i.append(e):i.push(n.from(e))}return u.request.preambleCRLF&&o("\r\n"),e.forEach(function(e){var r="--"+u.boundary+"\r\n";Object.keys(e).forEach(function(t){"body"!==t&&(r+=t+": "+e[t]+"\r\n")}),o(r+="\r\n"),o(e.body),o("\r\n")}),o("--"+u.boundary+"--"),u.request.postambleCRLF&&o("\r\n"),i},u.prototype.onRequest=function(e){var r=this.isChunked(e),t=e.data||e;this.setHeaders(r),this.chunked=r,this.body=this.build(t,r)},exports.Multipart=u;
},{"uuid/v4":"A0Zv","combined-stream":"17S0","isstream":"45Bg","safe-buffer":"udfh"}],"PpcH":[function(require,module,exports) {
"use strict";var e=require("url"),t=/^https?:/;function r(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}r.prototype.onRequest=function(e){void 0!==e.maxRedirects&&(this.maxRedirects=e.maxRedirects),"function"==typeof e.followRedirect&&(this.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(this.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(this.followAllRedirects=e.followAllRedirects),(this.followRedirects||this.followAllRedirects)&&(this.redirects=this.redirects||[]),void 0!==e.removeRefererHeader&&(this.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(this.followOriginalHttpMethod=e.followOriginalHttpMethod)},r.prototype.redirectTo=function(e){var t=this.request,r=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has("location")){var o=e.caseless.get("location");if(t.debug("redirect",o),this.followAllRedirects)r=o;else if(this.followRedirects)switch(t.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:r=o}}else if(401===e.statusCode){var i=t._auth.onResponse(e);i&&(t.setHeader("authorization",i),r=t.uri)}return r},r.prototype.onResponse=function(r){var o=this.request,i=this.redirectTo(r);if(!i||!this.allowRedirect.call(o,r))return!1;if(o.debug("redirect to",i),r.resume&&r.resume(),this.redirectsFollowed>=this.maxRedirects)return o.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+o.uri.href)),!1;this.redirectsFollowed+=1,t.test(i)||(i=e.resolve(o.uri.href,i));var s=o.uri;return o.uri=e.parse(i),o.uri.protocol!==s.protocol&&delete o.agent,this.redirects.push({statusCode:r.statusCode,redirectUri:i}),this.followAllRedirects&&"HEAD"!==o.method&&401!==r.statusCode&&307!==r.statusCode&&(o.method=this.followOriginalHttpMethod?o.method:"GET"),delete o.src,delete o.req,delete o._started,401!==r.statusCode&&307!==r.statusCode&&(delete o.body,delete o._form,o.headers&&(o.removeHeader("host"),o.removeHeader("content-type"),o.removeHeader("content-length"),o.uri.hostname!==o.originalHost.split(":")[0]&&o.removeHeader("authorization"))),this.removeRefererHeader||o.setHeader("referer",s.href),o.emit("redirect"),o.init(),!0},exports.Redirect=r;
},{}],"2tEq":[function(require,module,exports) {
"use strict";var e,t=require("net"),o=require("tls"),r=require("http"),s=require("https"),n=require("events"),c=require("assert"),i=require("util"),u=require("safe-buffer").Buffer;function a(e){var t=new v(e);return t.request=r.request,t}function p(e){var t=new v(e);return t.request=r.request,t.createSocket=l,t.defaultPort=443,t}function h(e){var t=new v(e);return t.request=s.request,t}function f(e){var t=new v(e);return t.request=s.request,t.createSocket=l,t.defaultPort=443,t}function v(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||r.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,o,r){for(var s=0,n=t.requests.length;s<n;++s){var c=t.requests[s];if(c.host===o&&c.port===r)return t.requests.splice(s,1),void c.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function l(e,t){var r=this;v.prototype.createSocket.call(r,e,function(s){var n=o.connect(0,d({},r.options,{servername:e.host,socket:s}));r.sockets[r.sockets.indexOf(s)]=n,t(n)})}function d(e){for(var t=1,o=arguments.length;t<o;++t){var r=arguments[t];if("object"==typeof r)for(var s=Object.keys(r),n=0,c=s.length;n<c;++n){var i=s[n];void 0!==r[i]&&(e[i]=r[i])}}return e}exports.httpOverHttp=a,exports.httpsOverHttp=p,exports.httpOverHttps=h,exports.httpsOverHttps=f,i.inherits(v,n.EventEmitter),v.prototype.addRequest=function(e,t){"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),this.sockets.length>=this.maxSockets?this.requests.push({host:t.host,port:t.port,request:e}):this.createConnection({host:t.host,port:t.port,request:e})},v.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(o){function r(){t.emit("free",o,e.host,e.port)}function s(e){t.removeSocket(o),o.removeListener("free",r),o.removeListener("close",s),o.removeListener("agentRemove",s)}o.on("free",r),o.on("close",s),o.on("agentRemove",s),e.request.onSocket(o)})},v.prototype.createSocket=function(t,o){var r=this,s={};r.sockets.push(s);var n=d({},r.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1});n.proxyAuth&&(n.headers=n.headers||{},n.headers["Proxy-Authorization"]="Basic "+u.from(n.proxyAuth).toString("base64")),e("making CONNECT request");var i=r.request(n);function a(n,u,a){if(i.removeAllListeners(),u.removeAllListeners(),200===n.statusCode)c.equal(a.length,0),e("tunneling connection has established"),r.sockets[r.sockets.indexOf(s)]=u,o(u);else{e("tunneling socket could not be established, statusCode=%d",n.statusCode);var p=new Error("tunneling socket could not be established, statusCode="+n.statusCode);p.code="ECONNRESET",t.request.emit("error",p),r.removeSocket(s)}}i.useChunkedEncodingByDefault=!1,i.once("response",function(e){e.upgrade=!0}),i.once("upgrade",function(e,t,o){process.nextTick(function(){a(e,t,o)})}),i.once("connect",a),i.once("error",function(o){i.removeAllListeners(),e("tunneling socket could not be established, cause=%s\n",o.message,o.stack);var n=new Error("tunneling socket could not be established, cause="+o.message);n.code="ECONNRESET",t.request.emit("error",n),r.removeSocket(s)}),i.end()},v.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var o=this.requests.shift();o&&this.createConnection(o)}},e=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},exports.debug=e;
},{"safe-buffer":"udfh"}],"PPol":[function(require,module,exports) {
"use strict";var e=require("url"),t=require("tunnel-agent"),r=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","user-agent","via"],o=["proxy-authorization"];function n(e){var t=e.port,r=e.protocol,o=e.hostname+":";return o+=t||("https:"===r?"443":"80")}function i(e,t){var r=t.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{});return Object.keys(e).filter(function(e){return r[e.toLowerCase()]}).reduce(function(t,r){return t[r]=e[r],t},{})}function s(e,t){var r=e.proxy;return{proxy:{host:r.hostname,port:+r.port,proxyAuth:r.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol}}function a(e,t){return["https:"===e.protocol?"https":"http","https:"===t.protocol?"Https":"Http"].join("Over")}function c(e){var r=a(e.uri,e.proxy);return t[r]}function u(e){this.request=e,this.proxyHeaderWhiteList=r,this.proxyHeaderExclusiveList=[],void 0!==e.tunnel&&(this.tunnelOverride=e.tunnel)}u.prototype.isEnabled=function(){var e=this.request;return void 0!==this.tunnelOverride?this.tunnelOverride:"https:"===e.uri.protocol},u.prototype.setup=function(t){var r=this.request;if(t=t||{},"string"==typeof r.proxy&&(r.proxy=e.parse(r.proxy)),!r.proxy||!r.tunnel)return!1;t.proxyHeaderWhiteList&&(this.proxyHeaderWhiteList=t.proxyHeaderWhiteList),t.proxyHeaderExclusiveList&&(this.proxyHeaderExclusiveList=t.proxyHeaderExclusiveList);var a=this.proxyHeaderExclusiveList.concat(o),u=this.proxyHeaderWhiteList.concat(a),p=i(r.headers,u);p.host=n(r.uri),a.forEach(r.removeHeader,r);var h=c(r),d=s(r,p);return r.agent=h(d),!0},u.defaultProxyHeaderWhiteList=r,u.defaultProxyHeaderExclusiveList=o,exports.Tunnel=u;
},{"tunnel-agent":"2tEq"}],"Gotj":[function(require,module,exports) {
(function(){var e,n,r,o,t,u;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-t)/1e6},n=process.hrtime,o=(e=function(){var e;return 1e9*(e=n())[0]+e[1]})(),u=1e9*process.uptime(),t=o-u):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);
},{}],"eCIt":[function(require,module,exports) {
"use strict";var e=require("http"),t=require("https"),r=require("url"),i=require("util"),o=require("stream"),s=require("zlib"),n=require("aws-sign2"),a=require("aws4"),h=require("http-signature"),u=require("mime-types"),p=require("caseless"),c=require("forever-agent"),d=require("form-data"),l=require("extend"),m=require("isstream"),f=require("is-typedarray").strict,g=require("./lib/helpers"),y=require("./lib/cookies"),b=require("./lib/getProxyFromURI"),v=require("./lib/querystring").Querystring,_=require("./lib/har").Har,q=require("./lib/auth").Auth,k=require("./lib/oauth").OAuth,w=require("./lib/hawk"),H=require("./lib/multipart").Multipart,S=require("./lib/redirect").Redirect,T=require("./lib/tunnel").Tunnel,x=require("performance-now"),E=require("safe-buffer").Buffer,O=g.safeStringify,j=g.isReadStream,C=g.toBase64,R=g.defer,z=g.copy,U=g.version,A=y.jar(),N={};function P(e,t){var r={};for(var i in t){-1===e.indexOf(i)&&(r[i]=t[i])}return r}function L(e,t){var r={};for(var i in t){var o=!(-1===e.indexOf(i)),s="function"==typeof t[i];o&&s||(r[i]=t[i])}return r}function D(){return{uri:this.uri,method:this.method,headers:this.headers}}function M(){return{statusCode:this.statusCode,body:this.body,headers:this.headers,request:D.call(this.request)}}function I(e){e.har&&(this._har=new _(this),e=this._har.options(e)),o.Stream.call(this);var t=Object.keys(I.prototype),r=P(t,e);l(this,r),e=L(t,e),this.readable=!0,this.writable=!0,e.method&&(this.explicitMethod=!0),this._qs=new v(this),this._auth=new q(this),this._oauth=new k(this),this._multipart=new H(this),this._redirect=new S(this),this._tunnel=new T(this),this.init(e)}function B(){I.debug&&console.error("REQUEST %s",i.format.apply(i,arguments))}i.inherits(I,o.Stream),I.debug=process.env.NODE_DEBUG&&/\brequest\b/.test(process.env.NODE_DEBUG),I.prototype.debug=B,I.prototype.init=function(i){var o=this;for(var s in i||(i={}),o.headers=o.headers?z(o.headers):{},o.headers)void 0===o.headers[s]&&delete o.headers[s];if(p.httpify(o,o.headers),o.method||(o.method=i.method||"GET"),o.localAddress||(o.localAddress=i.localAddress),o._qs.init(i),B(i),o.pool||!1===o.pool||(o.pool=N),o.dests=o.dests||[],o.__isRequestRequest=!0,!o._callback&&o.callback&&(o._callback=o.callback,o.callback=function(){o._callbackCalled||(o._callbackCalled=!0,o._callback.apply(o,arguments))},o.on("error",o.callback.bind()),o.on("complete",o.callback.bind(o,null))),!o.uri&&o.url&&(o.uri=o.url,delete o.url),o.baseUrl){if("string"!=typeof o.baseUrl)return o.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof o.uri)return o.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===o.uri.indexOf("//")||-1!==o.uri.indexOf("://"))return o.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var n=o.baseUrl.lastIndexOf("/")===o.baseUrl.length-1,a=0===o.uri.indexOf("/");n&&a?o.uri=o.baseUrl+o.uri.slice(1):n||a?o.uri=o.baseUrl+o.uri:""===o.uri?o.uri=o.baseUrl:o.uri=o.baseUrl+"/"+o.uri,delete o.baseUrl}if(!o.uri)return o.emit("error",new Error("options.uri is a required argument"));if("string"==typeof o.uri&&(o.uri=r.parse(o.uri)),o.uri.href||(o.uri.href=r.format(o.uri)),"unix:"===o.uri.protocol)return o.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===o.uri.host&&o.enableUnixSocket(),!1===o.strictSSL&&(o.rejectUnauthorized=!1),o.uri.pathname||(o.uri.pathname="/"),!(o.uri.host||o.uri.hostname&&o.uri.port||o.uri.isUnix)){var h='Invalid URI "'+r.format(o.uri)+'"';return 0===Object.keys(i).length&&(h+=". This can be caused by a crappy redirection."),o.abort(),o.emit("error",new Error(h))}if(o.hasOwnProperty("proxy")||(o.proxy=b(o.uri)),o.tunnel=o._tunnel.isEnabled(),o.proxy&&o._tunnel.setup(i),o._redirect.onRequest(i),o.setHost=!1,!o.hasHeader("host")){var d=o.originalHostHeaderName||"host";o.setHeader(d,o.uri.host),o.uri.port&&("80"===o.uri.port&&"http:"===o.uri.protocol||"443"===o.uri.port&&"https:"===o.uri.protocol)&&o.setHeader(d,o.uri.hostname),o.setHost=!0}if(o.jar(o._jar||i.jar),o.uri.port||("http:"===o.uri.protocol?o.uri.port=80:"https:"===o.uri.protocol&&(o.uri.port=443)),o.proxy&&!o.tunnel?(o.port=o.proxy.port,o.host=o.proxy.hostname):(o.port=o.uri.port,o.host=o.uri.hostname),i.form&&o.form(i.form),i.formData){var l=i.formData,g=o.form(),y=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?g.append(e,t.value,t.options):g.append(e,t)};for(var v in l)if(l.hasOwnProperty(v)){var _=l[v];if(_ instanceof Array)for(var q=0;q<_.length;q++)y(v,_[q]);else y(v,_)}}if(i.qs&&o.qs(i.qs),o.uri.path?o.path=o.uri.path:o.path=o.uri.pathname+(o.uri.search||""),0===o.path.length&&(o.path="/"),i.aws&&o.aws(i.aws),i.hawk&&o.hawk(i.hawk),i.httpSignature&&o.httpSignature(i.httpSignature),i.auth&&(Object.prototype.hasOwnProperty.call(i.auth,"username")&&(i.auth.user=i.auth.username),Object.prototype.hasOwnProperty.call(i.auth,"password")&&(i.auth.pass=i.auth.password),o.auth(i.auth.user,i.auth.pass,i.auth.sendImmediately,i.auth.bearer)),o.gzip&&!o.hasHeader("accept-encoding")&&o.setHeader("accept-encoding","gzip, deflate"),o.uri.auth&&!o.hasHeader("authorization")){var k=o.uri.auth.split(":").map(function(e){return o._qs.unescape(e)});o.auth(k[0],k.slice(1).join(":"),!0)}if(!o.tunnel&&o.proxy&&o.proxy.auth&&!o.hasHeader("proxy-authorization")){var w=o.proxy.auth.split(":").map(function(e){return o._qs.unescape(e)}),H="Basic "+C(w.join(":"));o.setHeader("proxy-authorization",H)}function S(){var e;(f(o.body)&&(o.body=E.from(o.body)),o.hasHeader("content-length"))||((e="string"==typeof o.body?E.byteLength(o.body):Array.isArray(o.body)?o.body.reduce(function(e,t){return e+t.length},0):o.body.length)?o.setHeader("content-length",e):o.emit("error",new Error("Argument error, options.body.")))}o.proxy&&!o.tunnel&&(o.path=o.uri.protocol+"//"+o.uri.host+o.path),i.json&&o.json(i.json),i.multipart&&o.multipart(i.multipart),i.time&&(o.timing=!0,o.elapsedTime=o.elapsedTime||0),o.body&&!m(o.body)&&S(),i.oauth?o.oauth(i.oauth):o._oauth.params&&o.hasHeader("authorization")&&o.oauth(o._oauth.params);var T=o.proxy&&!o.tunnel?o.proxy.protocol:o.uri.protocol,x={"http:":e,"https:":t},O=o.httpModules||{};if(o.httpModule=O[T]||x[T],!o.httpModule)return o.emit("error",new Error("Invalid protocol: "+T));if(i.ca&&(o.ca=i.ca),!o.agent)if(i.agentOptions&&(o.agentOptions=i.agentOptions),i.agentClass)o.agentClass=i.agentClass;else if(i.forever){var A=U();0===A.major&&A.minor<=10?o.agentClass="http:"===T?c:c.SSL:(o.agentClass=o.httpModule.Agent,o.agentOptions=o.agentOptions||{},o.agentOptions.keepAlive=!0)}else o.agentClass=o.httpModule.Agent;!1===o.pool?o.agent=!1:o.agent=o.agent||o.getNewAgent(),o.on("pipe",function(e){if(o.ntick&&o._started&&o.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),o.src=e,j(e))o.hasHeader("content-type")||o.setHeader("content-type",u.lookup(e.path));else{if(e.headers)for(var t in e.headers)o.hasHeader(t)||o.setHeader(t,e.headers[t]);o._json&&!o.hasHeader("content-type")&&o.setHeader("content-type","application/json"),e.method&&!o.explicitMethod&&(o.method=e.method)}}),R(function(){if(!o._aborted){var e=function(){if(o._form&&(o._auth.hasAuth?o._auth.hasAuth&&o._auth.sentAuth&&o._form.pipe(o):o._form.pipe(o)),o._multipart&&o._multipart.chunked&&o._multipart.body.pipe(o),o.body)m(o.body)?o.body.pipe(o):(S(),Array.isArray(o.body)?o.body.forEach(function(e){o.write(e)}):o.write(o.body),o.end());else if(o.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),o.requestBodyStream.pipe(o);else if(!o.src){if(o._auth.hasAuth&&!o._auth.sentAuth)return void o.end();"GET"!==o.method&&void 0!==o.method&&o.setHeader("content-length",0),o.end()}};o._form&&!o.hasHeader("content-length")?(o.setHeader(o._form.getHeaders(),!0),o._form.getLength(function(t,r){t||isNaN(r)||o.setHeader("content-length",r),e()})):e(),o.ntick=!0}})},I.prototype.getNewAgent=function(){var e=this.agentClass,t={};if(this.agentOptions)for(var i in this.agentOptions)t[i]=this.agentOptions[i];this.ca&&(t.ca=this.ca),this.ciphers&&(t.ciphers=this.ciphers),this.secureProtocol&&(t.secureProtocol=this.secureProtocol),this.secureOptions&&(t.secureOptions=this.secureOptions),void 0!==this.rejectUnauthorized&&(t.rejectUnauthorized=this.rejectUnauthorized),this.cert&&this.key&&(t.key=this.key,t.cert=this.cert),this.pfx&&(t.pfx=this.pfx),this.passphrase&&(t.passphrase=this.passphrase);var o="";e!==this.httpModule.Agent&&(o+=e.name);var s=this.proxy;return"string"==typeof s&&(s=r.parse(s)),(s&&"https:"===s.protocol||"https:"===this.uri.protocol)&&(t.ca&&(o&&(o+=":"),o+=t.ca),void 0!==t.rejectUnauthorized&&(o&&(o+=":"),o+=t.rejectUnauthorized),t.cert&&(o&&(o+=":"),o+=t.cert.toString("ascii")+t.key.toString("ascii")),t.pfx&&(o&&(o+=":"),o+=t.pfx.toString("ascii")),t.ciphers&&(o&&(o+=":"),o+=t.ciphers),t.secureProtocol&&(o&&(o+=":"),o+=t.secureProtocol),t.secureOptions&&(o&&(o+=":"),o+=t.secureOptions)),this.pool===N&&!o&&0===Object.keys(t).length&&this.httpModule.globalAgent?this.httpModule.globalAgent:(o=this.uri.protocol+o,this.pool[o]||(this.pool[o]=new e(t),this.pool.maxSockets&&(this.pool[o].maxSockets=this.pool.maxSockets)),this.pool[o])},I.prototype.start=function(){var e=this;if(e.timing)var t=(new Date).getTime(),r=x();if(!e._aborted){e._started=!0,e.method=e.method||"GET",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader("content-length")&&e.setHeader("content-length",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var i,o=z(e);delete o.auth,B("make request",e.uri.href),delete o.timeout;try{e.req=e.httpModule.request(o)}catch(s){return void e.emit("error",s)}e.timing&&(e.startTime=t,e.startTimeNow=r,e.timings={}),e.timeout&&!e.timeoutTimer&&(e.timeout<0?i=0:"number"==typeof e.timeout&&isFinite(e.timeout)&&(i=e.timeout)),e.req.on("response",e.onRequestResponse.bind(e)),e.req.on("error",e.onRequestError.bind(e)),e.req.on("drain",function(){e.emit("drain")}),e.req.on("socket",function(t){var r=t._connecting||t.connecting;if(e.timing&&(e.timings.socket=x()-e.startTimeNow,r)){var o=function(){e.timings.lookup=x()-e.startTimeNow},s=function(){e.timings.connect=x()-e.startTimeNow};t.once("lookup",o),t.once("connect",s),e.req.once("error",function(){t.removeListener("lookup",o),t.removeListener("connect",s)})}var n=function(){e.req.setTimeout(i,function(){if(e.req){e.abort();var t=new Error("ESOCKETTIMEDOUT");t.code="ESOCKETTIMEDOUT",t.connect=!1,e.emit("error",t)}})};if(void 0!==i)if(r){var a=function(){t.removeListener("connect",a),clearTimeout(e.timeoutTimer),e.timeoutTimer=null,n()};t.on("connect",a),e.req.on("error",function(e){t.removeListener("connect",a)}),e.timeoutTimer=setTimeout(function(){t.removeListener("connect",a),e.abort();var r=new Error("ETIMEDOUT");r.code="ETIMEDOUT",r.connect=!0,e.emit("error",r)},i)}else n();e.emit("socket",t)}),e.emit("request",e.req)}},I.prototype.onRequestError=function(e){if(!this._aborted){if(this.req&&this.req._reusedSocket&&"ECONNRESET"===e.code&&this.agent.addRequestNoreuse)return this.agent={addRequest:this.agent.addRequestNoreuse.bind(this.agent)},this.start(),void this.req.end();this.timeout&&this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.emit("error",e)}},I.prototype.onRequestResponse=function(e){var r=this;if(r.timing&&(r.timings.response=x()-r.startTimeNow),B("onRequestResponse",r.uri.href,e.statusCode,e.headers),e.on("end",function(){r.timing&&(r.timings.end=x()-r.startTimeNow,e.timingStart=r.startTime,r.timings.socket||(r.timings.socket=0),r.timings.lookup||(r.timings.lookup=r.timings.socket),r.timings.connect||(r.timings.connect=r.timings.lookup),r.timings.response||(r.timings.response=r.timings.connect),B("elapsed time",r.timings.end),r.elapsedTime+=Math.round(r.timings.end),e.elapsedTime=r.elapsedTime,e.timings=r.timings,e.timingPhases={wait:r.timings.socket,dns:r.timings.lookup-r.timings.socket,tcp:r.timings.connect-r.timings.lookup,firstByte:r.timings.response-r.timings.connect,download:r.timings.end-r.timings.response,total:r.timings.end}),B("response end",r.uri.href,e.statusCode,e.headers)}),r._aborted)return B("aborted",r.uri.href),void e.resume();if(r.response=e,e.request=r,e.toJSON=M,r.httpModule!==t||!r.strictSSL||e.hasOwnProperty("socket")&&e.socket.authorized){r.originalHost=r.getHeader("host"),r.originalHostHeaderName||(r.originalHostHeaderName=r.hasHeader("host")),r.setHost&&r.removeHeader("host"),r.timeout&&r.timeoutTimer&&(clearTimeout(r.timeoutTimer),r.timeoutTimer=null);var i=r._jar&&r._jar.setCookie?r._jar:A,o=function(e){try{i.setCookie(e,r.uri.href,{ignoreError:!0})}catch(t){r.emit("error",t)}};if(e.caseless=p(e.headers),e.caseless.has("set-cookie")&&!r._disableCookies){var n=e.caseless.has("set-cookie");Array.isArray(e.headers[n])?e.headers[n].forEach(o):o(e.headers[n])}if(!r._redirect.onResponse(e)){e.on("close",function(){r._ended||r.response.emit("end")}),e.once("end",function(){r._ended=!0});var a,h;if(!r.gzip||(h=e.statusCode,"HEAD"===r.method||h>=100&&h<200||204===h||304===h))a=e;else{var u=e.headers["content-encoding"]||"identity";u=u.trim().toLowerCase();var c={flush:s.Z_SYNC_FLUSH,finishFlush:s.Z_SYNC_FLUSH};"gzip"===u?(a=s.createGunzip(c),e.pipe(a)):"deflate"===u?(a=s.createInflate(c),e.pipe(a)):("identity"!==u&&B("ignoring unrecognized Content-Encoding "+u),a=e)}r.encoding&&(0!==r.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):a.setEncoding(r.encoding)),r._paused&&a.pause(),r.responseContent=a,r.emit("response",e),r.dests.forEach(function(e){r.pipeDest(e)}),a.on("data",function(t){r.timing&&!r.responseStarted&&(r.responseStartTime=(new Date).getTime(),e.responseStartTime=r.responseStartTime),r._destdata=!0,r.emit("data",t)}),a.once("end",function(e){r.emit("end",e)}),a.on("error",function(e){r.emit("error",e)}),a.on("close",function(){r.emit("close")}),r.callback?r.readResponseBody(e):r.on("end",function(){r._aborted?B("aborted",r.uri.href):r.emit("complete",e)}),B("finish init function",r.uri.href)}}else{B("strict ssl error",r.uri.href);var d=e.hasOwnProperty("socket")?e.socket.authorizationError:r.uri.href+" does not support SSL";r.emit("error",new Error("SSL Error: "+d))}},I.prototype.readResponseBody=function(e){var t=this;B("reading response's body");var r=[],i=0,o=[];t.on("data",function(e){E.isBuffer(e)?e.length&&(i+=e.length,r.push(e)):o.push(e)}),t.on("end",function(){if(B("end event",t.uri.href),t._aborted)return B("aborted",t.uri.href),r=[],void(i=0);if(i?(B("has body",t.uri.href,i),e.body=E.concat(r,i),null!==t.encoding&&(e.body=e.body.toString(t.encoding)),r=[],i=0):o.length&&("utf8"===t.encoding&&o[0].length>0&&"\ufeff"===o[0][0]&&(o[0]=o[0].substring(1)),e.body=o.join("")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(s){B("invalid JSON received",t.uri.href)}B("emitting complete",t.uri.href),void 0!==e.body||t._json||(e.body=null===t.encoding?E.alloc(0):""),t.emit("complete",e,e.body)})},I.prototype.abort=function(){this._aborted=!0,this.req?this.req.abort():this.response&&this.response.destroy(),this.emit("abort")},I.prototype.pipeDest=function(e){var t=this.response;if(e.headers&&!e.headersSent){if(t.caseless.has("content-type")){var r=t.caseless.has("content-type");e.setHeader?e.setHeader(r,t.headers[r]):e.headers[r]=t.headers[r]}if(t.caseless.has("content-length")){var i=t.caseless.has("content-length");e.setHeader?e.setHeader(i,t.headers[i]):e.headers[i]=t.headers[i]}}if(e.setHeader&&!e.headersSent){for(var o in t.headers)this.gzip&&"content-encoding"===o||e.setHeader(o,t.headers[o]);e.statusCode=t.statusCode}this.pipefilter&&this.pipefilter(t,e)},I.prototype.qs=function(e,t){var i;for(var o in i=!t&&this.uri.query?this._qs.parse(this.uri.query):{},e)i[o]=e[o];var s=this._qs.stringify(i);return""===s?this:(this.uri=r.parse(this.uri.href.split("?")[0]+"?"+s),this.url=this.uri,this.path=this.uri.path,"unix"===this.uri.host&&this.enableUnixSocket(),this)},I.prototype.form=function(e){var t=this;return e?(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))||t.setHeader("content-type","application/x-www-form-urlencoded"),t.body="string"==typeof e?t._qs.rfc3986(e.toString("utf8")):t._qs.stringify(e).toString("utf8"),t):(t._form=new d,t._form.on("error",function(e){e.message="form-data: "+e.message,t.emit("error",e),t.abort()}),t._form)},I.prototype.multipart=function(e){return this._multipart.onRequest(e),this._multipart.chunked||(this.body=this._multipart.body),this},I.prototype.json=function(e){return this.hasHeader("accept")||this.setHeader("accept","application/json"),"function"==typeof this.jsonReplacer&&(this._jsonReplacer=this.jsonReplacer),this._json=!0,"boolean"==typeof e?void 0!==this.body&&(/^application\/x-www-form-urlencoded\b/.test(this.getHeader("content-type"))?this.body=this._qs.rfc3986(this.body):this.body=O(this.body,this._jsonReplacer),this.hasHeader("content-type")||this.setHeader("content-type","application/json")):(this.body=O(e,this._jsonReplacer),this.hasHeader("content-type")||this.setHeader("content-type","application/json")),"function"==typeof this.jsonReviver&&(this._jsonReviver=this.jsonReviver),this},I.prototype.getHeader=function(e,t){var r,i;return t||(t=this.headers),Object.keys(t).forEach(function(o){o.length===e.length&&(i=new RegExp(e,"i"),o.match(i)&&(r=t[o]))}),r},I.prototype.enableUnixSocket=function(){var e=this.uri.path.split(":"),t=e[0],r=e[1];this.socketPath=t,this.uri.pathname=r,this.uri.path=r,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},I.prototype.auth=function(e,t,r,i){return this._auth.onRequest(e,t,r,i),this},I.prototype.aws=function(e,t){if(!t)return this._aws=e,this;if(4===e.sign_version||"4"===e.sign_version){var r={host:this.uri.host,path:this.uri.path,method:this.method,headers:this.headers,body:this.body};e.service&&(r.service=e.service);var i=a.sign(r,{accessKeyId:e.key,secretAccessKey:e.secret,sessionToken:e.session});this.setHeader("authorization",i.headers.Authorization),this.setHeader("x-amz-date",i.headers["X-Amz-Date"]),i.headers["X-Amz-Security-Token"]&&this.setHeader("x-amz-security-token",i.headers["X-Amz-Security-Token"])}else{var o=new Date;this.setHeader("date",o.toUTCString());var s={key:e.key,secret:e.secret,verb:this.method.toUpperCase(),date:o,contentType:this.getHeader("content-type")||"",md5:this.getHeader("content-md5")||"",amazonHeaders:n.canonicalizeHeaders(this.headers)},h=this.uri.path;e.bucket&&h?s.resource="/"+e.bucket+h:e.bucket&&!h?s.resource="/"+e.bucket:!e.bucket&&h?s.resource=h:e.bucket||h||(s.resource="/"),s.resource=n.canonicalizeResource(s.resource),this.setHeader("authorization",n.authorization(s))}return this},I.prototype.httpSignature=function(e){var t=this;return h.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,r){t.setHeader(e,r)},method:t.method,path:t.path},e),B("httpSignature authorization",t.getHeader("authorization")),t},I.prototype.hawk=function(e){this.setHeader("Authorization",w.header(this.uri,this.method,e))},I.prototype.oauth=function(e){return this._oauth.onRequest(e),this},I.prototype.jar=function(e){var t;if(0===this._redirect.redirectsFollowed&&(this.originalCookieHeader=this.getHeader("cookie")),e){var r=e&&e.getCookieString?e:A,i=this.uri.href;r&&(t=r.getCookieString(i))}else t=!1,this._disableCookies=!0;return t&&t.length&&(this.originalCookieHeader?this.setHeader("cookie",this.originalCookieHeader+"; "+t):this.setHeader("cookie",t)),this._jar=e,this},I.prototype.pipe=function(e,t){if(!this.response)return this.dests.push(e),o.Stream.prototype.pipe.call(this,e,t),e;if(this._destdata)this.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!this._ended)return o.Stream.prototype.pipe.call(this,e,t),this.pipeDest(e),e;this.emit("error",new Error("You cannot pipe after the response has been ended."))}},I.prototype.write=function(){if(!this._aborted)return this._started||this.start(),this.req?this.req.write.apply(this.req,arguments):void 0},I.prototype.end=function(e){this._aborted||(e&&this.write(e),this._started||this.start(),this.req&&this.req.end())},I.prototype.pause=function(){this.responseContent?this.responseContent.pause.apply(this.responseContent,arguments):this._paused=!0},I.prototype.resume=function(){this.responseContent?this.responseContent.resume.apply(this.responseContent,arguments):this._paused=!1},I.prototype.destroy=function(){this._ended?this.response&&this.response.destroy():this.end()},I.defaultProxyHeaderWhiteList=T.defaultProxyHeaderWhiteList.slice(),I.defaultProxyHeaderExclusiveList=T.defaultProxyHeaderExclusiveList.slice(),I.prototype.toJSON=D,module.exports=I;
},{"aws-sign2":"SJT+","aws4":"jRJI","http-signature":"KeiN","mime-types":"aRr3","caseless":"E3Bq","forever-agent":"lkmw","form-data":"V3mD","extend":"PUjw","isstream":"45Bg","is-typedarray":"ou1r","./lib/helpers":"p14+","./lib/cookies":"SbG+","./lib/getProxyFromURI":"CTN5","./lib/querystring":"SGIF","./lib/har":"5IJw","./lib/auth":"envF","./lib/oauth":"6BBq","./lib/hawk":"8Dxk","./lib/multipart":"0ICs","./lib/redirect":"PpcH","./lib/tunnel":"PPol","performance-now":"Gotj","safe-buffer":"udfh"}],"8gUr":[function(require,module,exports) {
"use strict";var e=require("extend"),t=require("./lib/cookies"),r=require("./lib/helpers"),o=r.paramsHaveRequestBody;function n(t,r,o){"function"==typeof r&&(o=r);var n={};return"object"==typeof r?e(n,r,{uri:t}):e(n,"string"==typeof t?{uri:t}:t),n.callback=o||n.callback,n}function u(e,t,r){if(void 0===e)throw new Error("undefined is not a valid uri or options object.");var i=n(e,t,r);if("HEAD"===i.method&&o(i))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new u.Request(i)}function i(e){var t=e.toUpperCase();return function(e,r,o){var i=n(e,r,o);return i.method=t,u(i,i.callback)}}function a(t,r,o,u){return function(i,a,c){var s=n(i,a,c),f={};return e(!0,f,r,s),f.pool=s.pool||r.pool,u&&(f.method=u.toUpperCase()),"function"==typeof o&&(t=o),t(f,f.callback)}}u.get=i("get"),u.head=i("head"),u.options=i("options"),u.post=i("post"),u.put=i("put"),u.patch=i("patch"),u.del=i("delete"),u.delete=i("delete"),u.jar=function(e){return t.jar(e)},u.cookie=function(e){return t.parse(e)},u.defaults=function(e,t){var r=this;"function"==typeof(e=e||{})&&(t=e,e={});var o=a(r,e,t);return["get","head","post","put","patch","del","delete"].forEach(function(n){o[n]=a(r[n],e,t,n)}),o.cookie=a(r.cookie,e,t),o.jar=r.jar,o.defaults=r.defaults,o},u.forever=function(t,r){var o={};return r&&e(o,r),t&&(o.agentOptions=t),o.forever=!0,u.defaults(o)},module.exports=u,u.Request=require("./request"),u.initParams=n,Object.defineProperty(u,"debug",{enumerable:!0,get:function(){return u.Request.debug},set:function(e){u.Request.debug=e}});
},{"extend":"PUjw","./lib/cookies":"SbG+","./lib/helpers":"p14+","./request":"eCIt"}],"yuvw":[function(require,module,exports) {
"use strict";var e=require("through2"),t=require("debug")("retry-request"),r={objectMode:!1,retries:2,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(e){var r,o=[[100,199],[429,429],[500,599]],n=e.statusCode;for(t(`Response status: ${n}`);r=o.shift();)if(n>=r[0]&&n<=r[1])return!0}};function o(o,s,u){var i="function"!=typeof arguments[arguments.length-1];if("function"==typeof s&&(u=s),void 0===(s=s||r).objectMode&&(s.objectMode=r.objectMode),void 0===s.request)try{s.request=require("request")}catch(M){throw new Error("A request library must be provided to retry-request.")}"number"!=typeof s.retries&&(s.retries=r.retries),"number"!=typeof s.currentRetryAttempt&&(s.currentRetryAttempt=r.currentRetryAttempt),"number"!=typeof s.noResponseRetries&&(s.noResponseRetries=r.noResponseRetries),"function"!=typeof s.shouldRetryFn&&(s.shouldRetryFn=r.shouldRetryFn);var c,d,p,y,f=s.currentRetryAttempt,a=0,m=!1,R={abort:function(){y&&y.abort&&y.abort()}};return i&&((c=e({objectMode:s.objectMode})).abort=b),f>0?h(f):l(),i?c:R;function b(){p=null,d&&(d.abort&&d.abort(),d.cancel&&d.cancel(),d.destroy?d.destroy():d.end&&d.end())}function l(){t(`Current retry attempt: ${++f}`),i?(m=!1,p=e({objectMode:s.objectMode}),d=s.request(o),setImmediate(function(){c.emit("request")}),d.on("error",function(e){m||(m=!0,q(e))}).on("response",function(e,t){m||(m=!0,q(null,e,t))}).on("complete",c.emit.bind(c,"complete")),d.pipe(p)):y=s.request(o,q)}function h(e){i&&b();var r=n(e);t(`Next retry delay: ${r}`),setTimeout(l,r)}function q(e,t,r){e?++a<=s.noResponseRetries?h(a):i?(c.emit("error",e),c.end()):u(e,t,r):f<=s.retries&&s.shouldRetryFn(t)?h(f):i?(c.emit("response",t),p.pipe(c),d.on("error",function(e){c.destroy(e)})):u(e,t,r)}}function n(e){return 1e3*Math.pow(2,e)+Math.floor(1e3*Math.random())}module.exports=o,module.exports.getNextRetryDelay=n;
},{"through2":"eMQt","debug":"IhAR","request":"8gUr"}],"LOnp":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"Yxee","./lib/bytesToUuid":"NxCc"}],"9e1H":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"LOnp","./v4":"A0Zv"}],"aIVY":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("https"),r=require("node-fetch"),o=require("stream"),i=require("uuid"),u=require("https-proxy-agent"),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(Error);function a(t){var r=e({method:t.method||"GET"},t.timeout&&{timeout:t.timeout},t.gzip&&{compress:t.gzip});"object"==typeof t.json?(t.headers=t.headers||{},t.headers["Content-Type"]="application/json",r.body=JSON.stringify(t.json)):"string"!=typeof t.body?r.body=JSON.stringify(t.body):r.body=t.body,r.headers=t.headers;var o=t.uri||t.url;!0!==t.useQuerystring&&"object"!=typeof t.qs||(o=o+"?"+require("querystring").stringify(t.qs));var i=process.env.HTTP_PROXY||process.env.http_proxy||process.env.HTTPS_PROXY||process.env.https_proxy;return t.proxy||i?r.agent=new u(i):t.forever&&(r.agent=new n.Agent({keepAlive:!0})),{uri:o,options:r}}function c(t,e){var n={};n.agent=t.agent||!1,n.headers=t.headers||{},n.href=e.url;var r={};return e.headers.forEach(function(t,e){return r[e]=t}),Object.assign(e.body,{statusCode:e.status,statusMessage:e.statusText,request:n,body:e.body,headers:r,toJSON:function(){return{headers:r}}})}function p(t,e){for(var n="--"+t+"--",r=new o.PassThrough,i=0,u=e;i<u.length;i++){var s=u[i],a="--"+t+"\r\nContent-Type: "+s["Content-Type"]+"\r\n\r\n";r.write(a),"string"==typeof s.body?(r.write(s.body),r.write("\r\n")):(s.body.pipe(r,{end:!1}),s.body.on("end",function(){r.write("\r\n"),r.write(n),r.end()}))}return r}function f(t,e){var n=a(t),u=n.uri,s=n.options,f=t.multipart;if(t.multipart&&2===f.length){if(!e)return void console.log("Error, multipart without callback not implemented.");var d=i.v4();return s.headers["Content-Type"]="multipart/related; boundary="+d,s.body=p(d,f),void r.default(u,s).then(function(t){var n=t.headers.get("content-type"),r=c(s,t),o=r.body;"application/json"!==n&&"application/json; charset=utf-8"!==n?t.text().then(function(t){r.body=t,e(null,r,t)},function(t){e(t,r,o)}):t.json().then(function(t){r.body=t,e(null,r,t)},function(t){e(t,r,o)})},function(t){e(t,null,null)})}if(void 0===e){var l=new o.PassThrough;return s.compress=!1,r.default(u,s).then(function(t){t.body.on("error",function(t){console.log("whoa there was an error, passing it on: "+t),l.emit("error",t)});var e=c(s,t);l.emit("response",e)},function(t){console.log("such a nice error:"+t),l.emit("error",t)}),l}r.default(u,s).then(function(t){var n=t.headers.get("content-type"),r=c(s,t),o=r.body;if("application/json"===n||"application/json; charset=utf-8"===n)return 204===r.statusCode?void e(null,r,o):void t.json().then(function(t){r.body=t,e(null,r,t)},function(t){e(t,r,o)});t.text().then(function(n){var r=c(s,t);r.body=n,e(null,r,n)},function(t){e(t,r,o)})},function(t){e(t,null,null)})}exports.RequestError=s,exports.teenyRequest=f,f.defaults=function(t){return function(n,r){var o=e({},t,n);if(void 0===r)return f(o);f(o,r)}};
},{"node-fetch":"PjPn","uuid":"9e1H","https-proxy-agent":"4d+H"}],"ZENO":[function(require,module,exports) {
"use strict";function e(e,n,r,s){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var c,o,t=arguments.length;switch(t){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,n)});case 3:return process.nextTick(function(){e.call(null,n,r)});case 4:return process.nextTick(function(){e.call(null,n,r,s)});default:for(c=new Array(t-1),o=0;o<c.length;)c[o++]=arguments[o];return process.nextTick(function(){e.apply(null,c)})}}"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=process;
},{}],"ZCp3":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"otAT":[function(require,module,exports) {
var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{}],"zhPs":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"otAT"}],"19S+":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"ZENO"}],"rtWY":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args");function t(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){T(t,e)}}module.exports=w;var r,i=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:e.nextTick;w.WritableState=p;var o=require("core-util-is");o.inherits=require("inherits");var s={deprecate:require("util-deprecate")},f=require("./internal/streams/stream"),u=require("safe-buffer").Buffer,a=global.Uint8Array||function(){};function c(e){return u.from(e)}function l(e){return u.isBuffer(e)||e instanceof a}var d,h=require("./internal/streams/destroy");function b(){}function p(e,t){r=r||require("./_stream_duplex"),e=e||{};var i=t instanceof r;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){x(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function w(e){if(r=r||require("./_stream_duplex"),!(d.call(w,this)||this instanceof r))return new w(e);this._writableState=new p(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(t,n){var r=new Error("write after end");t.emit("error",r),e.nextTick(n,r)}function g(t,n,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||n.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),e.nextTick(i,s),o=!1),o}function k(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n)),t}function v(e,t,n,r,i,o){if(!n){var s=k(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else q(e,t,!1,f,r,i,o);return u}function q(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(t,n,r,i,o){--n.pendingcb,r?(e.nextTick(o,i),e.nextTick(C,t,n),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),C(t,n))}function m(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function x(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(m(n),t)_(e,n,r,t,o);else{var s=B(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||M(e,n),r?i(R,e,n,s,o):R(e,n,s,o)}}function R(e,t,n,r){n||S(e,t),t.pendingcb--,r(),C(e,t)}function S(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var f=0,u=!0;r;)o[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;o.allBuffers=u,q(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,l=r.callback;if(q(e,t,!1,t.objectMode?1:a.length,a,c,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function j(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function E(t,n){n.prefinished||n.finalCalled||("function"==typeof t._final?(n.pendingcb++,n.finalCalled=!0,e.nextTick(j,t,n)):(n.prefinished=!0,t.emit("prefinish")))}function C(e,t){var n=B(t);return n&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function P(t,n,r){n.ending=!0,C(t,n),r&&(n.finished?e.nextTick(r):t.once("finish",r)),n.ended=!0,t.writable=!1}function T(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}o.inherits(w,f),p.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(p.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===w&&(e&&e._writableState instanceof p)}})):d=function(e){return e instanceof this},w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},w.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&l(e);return o&&!u.isBuffer(e)&&(e=c(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=b),r.ended?y(this,n):(o||g(this,r,e,n))&&(r.pendingcb++,i=v(this,r,o,e,t,n)),i},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||M(this,e))},w.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||P(this,r,n)},Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),w.prototype.destroy=h.destroy,w.prototype._undestroy=h.undestroy,w.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"ZENO","core-util-is":"FX3H","inherits":"Cpyn","util-deprecate":"yAJ6","./internal/streams/stream":"Y+bo","safe-buffer":"otAT","./internal/streams/destroy":"19S+","./_stream_duplex":"Nn5t"}],"Nn5t":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"ZENO","core-util-is":"FX3H","inherits":"Cpyn","./_stream_readable":"SYhk","./_stream_writable":"rtWY"}],"EAX+":[function(require,module,exports) {
"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"otAT"}],"SYhk":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args");module.exports=y;var t,n=require("isarray");y.ReadableState=v;var r=require("events").EventEmitter,i=function(e,t){return e.listeners(t).length},a=require("./internal/streams/stream"),d=require("safe-buffer").Buffer,o=global.Uint8Array||function(){};function s(e){return d.from(e)}function l(e){return d.isBuffer(e)||e instanceof o}var u=require("core-util-is");u.inherits=require("inherits");var h=require("util"),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,c=require("./internal/streams/BufferList"),g=require("./internal/streams/destroy");u.inherits(y,a);var b=["error","close","destroy","pause","resume"];function m(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function v(e,n){e=e||{};var r=n instanceof(t=t||require("./_stream_duplex"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=require("string_decoder/").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(t=t||require("./_stream_duplex"),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,E(e,o)):(i||(a=M(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=s(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?_(e,o,t,!1):q(e,o)):_(e,o,t,!1))):r||(o.reading=!1));return S(o)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&L(e)),q(e,t)}function M(e,t){var n;return l(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function S(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=d.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=require("string_decoder/").StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var k=8388608;function j(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=j(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,L(e)}}function L(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(p("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?e.nextTick(x,t):x(t))}function x(e){p("emit readable"),e.emit("readable"),U(e)}function q(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(W,t,n))}function W(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function C(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,U(e))}}function D(e){p("readable nexttick read 0"),e.read(0)}function O(t,n){n.resumeScheduled||(n.resumeScheduled=!0,e.nextTick(T,t,n))}function T(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=B(e,t.buffer,t.decoder),n);var n}function B(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?H(e,t):I(e,t),r}function H(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function I(e,t){var n=d.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}function A(t){var n=t._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,e.nextTick(F,n,t))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):L(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&A(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,n){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,p("pipe count=%d opts=%j",a.pipesCount,n);var d=(!n||!1!==n.end)&&t!==process.stdout&&t!==process.stderr?s:v;function o(e,n){p("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",l),t.removeListener("error",c),t.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",v),r.removeListener("data",f),u=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function s(){p("onend"),t.end()}a.endEmitted?e.nextTick(d):r.once("end",d),t.on("unpipe",o);var l=C(r);t.on("drain",l);var u=!1;var h=!1;function f(e){p("ondata"),h=!1,!1!==t.write(e)||h||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==z(a.pipes,t))&&!u&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function c(e){p("onerror",e),v(),t.removeListener("error",c),0===i(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",b),v()}function b(){p("onfinish"),t.removeListener("close",g),v()}function v(){p("unpipe"),r.unpipe(t)}return r.on("data",f),m(t,"error",c),t.once("close",g),t.once("finish",b),t.emit("pipe",r),a.flowing||(p("pipe resume"),r.resume()),t},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=z(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(t,n){var r=a.prototype.on.call(this,t,n);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&L(this):e.nextTick(D,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,O(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<b.length;a++)e.on(b[a],this.emit.bind(this,b[a]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=P;
},{"process-nextick-args":"ZENO","isarray":"ZCp3","./internal/streams/stream":"Y+bo","safe-buffer":"otAT","core-util-is":"FX3H","inherits":"Cpyn","./internal/streams/BufferList":"zhPs","./internal/streams/destroy":"19S+","./_stream_duplex":"Nn5t","string_decoder/":"EAX+"}],"f17R":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=require("core-util-is");function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"Nn5t","core-util-is":"FX3H","inherits":"Cpyn"}],"cQhX":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"f17R","core-util-is":"FX3H","inherits":"Cpyn"}],"JQyM":[function(require,module,exports) {
var e=require("stream");"disable"===process.env.READABLE_STREAM&&e?(module.exports=e,exports=module.exports=e.Readable,exports.Readable=e.Readable,exports.Writable=e.Writable,exports.Duplex=e.Duplex,exports.Transform=e.Transform,exports.PassThrough=e.PassThrough,exports.Stream=e):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));
},{"./lib/_stream_readable.js":"SYhk","./lib/_stream_writable.js":"rtWY","./lib/_stream_duplex.js":"Nn5t","./lib/_stream_transform.js":"f17R","./lib/_stream_passthrough.js":"cQhX"}],"cRbN":[function(require,module,exports) {
function n(e,r){if(e&&r)return n(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){t[n]=e[n]}),t;function t(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var t=e.apply(this,n),o=n[n.length-1];return"function"==typeof t&&t!==o&&Object.keys(o).forEach(function(n){t[n]=o[n]}),t}}module.exports=n;
},{}],"KnG+":[function(require,module,exports) {
var e=require("wrappy");function r(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function n(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return r.onceError=n+" shouldn't be called more than once",r.called=!1,r}module.exports=e(r),module.exports.strict=e(n),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})});
},{"wrappy":"cRbN"}],"1Xq7":[function(require,module,exports) {
var e=require("once"),r=function(){},n=function(e){return e.setHeader&&"function"==typeof e.abort},o=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},t=function(i,l,a){if("function"==typeof l)return t(i,null,l);l||(l={}),a=e(a||r);var c=i._writableState,s=i._readableState,u=l.readable||!1!==l.readable&&i.readable,f=l.writable||!1!==l.writable&&i.writable,d=function(){i.writable||m()},m=function(){f=!1,u||a.call(i)},v=function(){u=!1,f||a.call(i)},b=function(e){a.call(i,e?new Error("exited with error code: "+e):null)},L=function(e){a.call(i,e)},w=function(){return(!u||s&&s.ended)&&(!f||c&&c.ended)?void 0:a.call(i,new Error("premature close"))},q=function(){i.req.on("finish",m)};return n(i)?(i.on("complete",m),i.on("abort",w),i.req?q():i.on("request",q)):f&&!c&&(i.on("end",d),i.on("close",d)),o(i)&&i.on("exit",b),i.on("end",v),i.on("finish",m),!1!==l.error&&i.on("error",L),i.on("close",w),function(){i.removeListener("complete",m),i.removeListener("abort",w),i.removeListener("request",q),i.req&&i.req.removeListener("finish",m),i.removeListener("end",d),i.removeListener("close",d),i.removeListener("finish",m),i.removeListener("exit",b),i.removeListener("end",v),i.removeListener("error",L),i.removeListener("close",w)}};module.exports=t;
},{"once":"KnG+"}],"ThrY":[function(require,module,exports) {
function e(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(r(t)):null}function r(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}module.exports=e;
},{}],"ZUFv":[function(require,module,exports) {
var t=require("readable-stream"),e=require("end-of-stream"),i=require("inherits"),r=require("stream-shift"),n=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),s=function(t,e){t._corked?t.once("uncork",e):e()},o=function(t,e){t._autoDestroy&&t.destroy(e)},a=function(t,e){return function(i){i?o(t,"premature close"===i.message?null:i):e&&!t._ended&&t.end()}},d=function(t,e){return t?t._writableState&&t._writableState.finished?e():t._writableState?t.end(e):(t.end(),void e()):e()},h=function(e){return new t.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},l=function(e,i,r){if(!(this instanceof l))return new l(e,i,r);t.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),i&&this.setReadable(i)};i(l,t.Duplex),l.obj=function(t,e,i){return i||(i={}),i.objectMode=!0,i.highWaterMark=16,new l(t,e,i)},l.prototype.cork=function(){1==++this._corked&&this.emit("cork")},l.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},l.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var i=this,r=e(t,{writable:!0,readable:!1},a(this,this._forwardEnd)),n=function(){var t=i._ondrain;i._ondrain=null,t&&t()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=function(){i._writable.removeListener("drain",n),r()},this.uncork()}else this.end()},l.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var i=this,r=e(t,{writable:!1,readable:!0},a(this)),n=function(){i._forward()},s=function(){i.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:h(t),this._readable2.on("readable",n),this._readable2.on("end",s),this._unread=function(){i._readable2.removeListener("readable",n),i._readable2.removeListener("end",s),r()},this._forward()}},l.prototype._read=function(){this._drained=!0,this._forward()},l.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=r(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},l.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var e=this;process.nextTick(function(){e._destroy(t)})}},l.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},l.prototype._write=function(t,e,i){return this.destroyed?i():this._corked?s(this,this._write.bind(this,t,e,i)):t===n?this._finish(i):this._writable?void(!1===this._writable.write(t)?this._ondrain=i:i()):i()},l.prototype._finish=function(t){var e=this;this.emit("preend"),s(this,function(){d(e._forwardEnd&&e._writable,function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),s(e,t)})})},l.prototype.end=function(e,i,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof i?this.end(e,null,i):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(n),t.Writable.prototype.end.call(this,r))},module.exports=l;
},{"readable-stream":"JQyM","end-of-stream":"1Xq7","inherits":"Cpyn","stream-shift":"ThrY"}],"duVx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/projectify"),t=require("ent"),r=require("extend"),o=require("google-auth-library"),s=require("retry-request"),n=require("stream"),a=require("teeny-request"),i=require("duplexify"),u={timeout:6e4,gzip:!0,forever:!0,pool:{maxSockets:1/0}};class d extends Error{constructor(e){if(super(),"object"!=typeof e)return void(this.message=e||"");const t=e;this.code=t.code,this.errors=t.errors,this.response=t.response;try{this.errors=JSON.parse(this.response.body).error.errors}catch(r){this.errors=t.errors}this.message=d.createMultiErrorMessage(t,this.errors)}static createMultiErrorMessage(e,r){const o=new Set;e.message&&o.add(e.message),r&&r.length?r.forEach(({message:e})=>o.add(e)):e.response&&e.response.body?o.add(t.decode(e.response.body.toString())):e.message||o.add("A failure occurred during this request.");let s=Array.from(o);return s.length>1&&((s=s.map((e,t)=>`    ${t+1}. ${e}`)).unshift("Multiple errors occurred during the request. Please see the `errors` array for complete details.\n"),s.push("\n")),s.join("\n")}}exports.ApiError=d;class c extends Error{constructor(e){super();const t=e;this.errors=t.errors,this.name="PartialFailureError",this.response=t.response,this.message=d.createMultiErrorMessage(t,this.errors)}}exports.PartialFailureError=c;class l{constructor(){this.ApiError=d,this.PartialFailureError=c}noop(){}handleResp(e,t,o,s){s=s||p.noop;const n=r(!0,{err:e||null},t&&p.parseHttpRespMessage(t),o&&p.parseHttpRespBody(o));!n.err&&t&&"object"==typeof n.body&&(n.resp.body=n.body),n.err&&t&&(n.err.response=t),s(n.err,n.body,n.resp)}parseHttpRespMessage(e){const t={resp:e};return(e.statusCode<200||e.statusCode>299)&&(t.err=new d({errors:new Array,code:e.statusCode,message:e.statusMessage,response:e})),t}parseHttpRespBody(e){const t={body:e};if("string"==typeof e)try{t.body=JSON.parse(e)}catch(r){t.err=new d(`Cannot parse response as JSON: ${e}`)}return t.body&&t.body.error&&(t.err=new d(t.body.error)),t}makeWritableStream(e,t,o){o=o||p.noop;const s=new n.PassThrough;e.setWritable(s);const i=t.metadata||{},d=r(!0,{method:"POST",qs:{uploadType:"multipart"},timeout:0,maxRetries:0},t.request,{multipart:[{"Content-Type":"application/json",body:JSON.stringify(i)},{"Content-Type":i.contentType||"application/octet-stream",body:s}]});t.makeAuthenticatedRequest(d,{onAuthenticated(t,r){if(t)return void e.destroy(t);a.teenyRequest.defaults(u)(r,(t,r,s)=>{p.handleResp(t,r,s,(t,s)=>{t?e.destroy(t):(e.emit("response",r),o(s))})})}})}shouldRetryRequest(e){if(e){if(-1!==[429,500,502,503].indexOf(e.code))return!0;if(e.errors)for(const t of e.errors){const e=t.reason;if("rateLimitExceeded"===e)return!0;if("userRateLimitExceeded"===e)return!0}}return!1}makeAuthenticatedRequestFactory(e){const t=r({},e);"{{projectId}}"===t.projectId&&delete t.projectId;const s=t.authClient||new o.GoogleAuth(t);const n=function(t,o){let n;const a=r({},e);let u;o||(n=i(),a.stream=n);const d="object"==typeof o?o:void 0,c="function"==typeof o?o:void 0,l=(r,o)=>{const i=r&&r.message.indexOf("Could not load the default credentials")>-1;if(i&&(o=t),!r||i){let t=s._cachedProjectId;e.projectId&&"{{projectId}}"!==e.projectId&&(t=e.projectId);try{o=p.decorateRequest(o,t),r=null}catch(l){r=r||l}}r?n?n.destroy(r):(d&&d.onAuthenticated?d.onAuthenticated:c)(r):d&&d.onAuthenticated?d.onAuthenticated(null,o):u=p.makeRequest(o,a,c)};return a.customEndpoint?l(null,t):s.authorizeRequest(t).then(e=>{const o=r(!0,{},t,e);l(null,o)},e=>{l(e)}),n||{abort(){setImmediate(()=>{u&&(u.abort(),u=null)})}}};return n.getCredentials=s.getCredentials.bind(s),n.authClient=s,n}makeRequest(e,t,r){const o={request:a.teenyRequest.defaults(u),retries:!1!==t.autoRetry?t.maxRetries||3:0,shouldRetryFn(e){const t=p.parseHttpRespMessage(e).err;return t&&p.shouldRetryRequest(t)}};if("number"==typeof e.maxRetries&&(o.retries=e.maxRetries),!t.stream)return s(e,o,(e,t,o)=>{p.handleResp(e,t,o,r)});const n=t.stream;let i;return"GET"===(e.method||"GET").toUpperCase()?(i=s(e,o),n.setReadable(i)):(i=o.request(e),n.setWritable(i)),i.on("error",n.destroy.bind(n)).on("response",n.emit.bind(n,"response")).on("complete",n.emit.bind(n,"complete")),n.abort=i.abort,n}decorateRequest(t,r){return delete t.autoPaginate,delete t.autoPaginateVal,delete t.objectMode,null!==t.qs&&"object"==typeof t.qs&&(delete t.qs.autoPaginate,delete t.qs.autoPaginateVal,t.qs=e.replaceProjectIdToken(t.qs,r)),Array.isArray(t.multipart)&&(t.multipart=t.multipart.map(t=>e.replaceProjectIdToken(t,r))),null!==t.json&&"object"==typeof t.json&&(delete t.json.autoPaginate,delete t.json.autoPaginateVal,t.json=e.replaceProjectIdToken(t.json,r)),t.uri=e.replaceProjectIdToken(t.uri,r),t}isCustomType(e,t){function r(e){return e.constructor&&e.constructor.name.toLowerCase()}const o=t.split("/"),s=o[0]&&o[0].toLowerCase(),n=o[1]&&o[1].toLowerCase();if(n&&r(e)!==n)return!1;let a=e;for(;;){if(r(a)===s)return!0;if(!(a=a.parent))return!1}}getUserAgentFromPackageJson(e){return e.name.replace("@google-cloud","gcloud-node").replace("/","-")+"/"+e.version}maybeOptionsOrCallback(e,t){return"function"==typeof e?[{},e]:[e,t]}}exports.Util=l;const p=new l;exports.util=p;
},{"@google-cloud/projectify":"wpYs","ent":"b2BI","extend":"PUjw","google-auth-library":"bmqp","retry-request":"yuvw","teeny-request":"aIVY","duplexify":"ZUFv"}],"DDG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@google-cloud/promisify"),e=require("arrify"),s=require("events"),r=require("extend"),i=require("./util");class a extends s.EventEmitter{constructor(t){super(),this.metadata={},this.baseUrl=t.baseUrl,this.parent=t.parent,this.id=t.id,this.createMethod=t.createMethod,this.methods=t.methods||{},this.interceptors=[],this.Promise=this.parent?this.parent.Promise:void 0,t.methods&&Object.getOwnPropertyNames(a.prototype).filter(e=>!/^request/.test(e)&&this[e]===a.prototype[e]&&!t.methods[e]).forEach(t=>{this[t]=void 0})}create(t,e){const s=this,r=[this.id];"function"==typeof t&&(e=t),"object"==typeof t&&r.push(t),r.push(function(...t){const[r,i]=t;r||(s.metadata=i.metadata,t[1]=s),e(...t)}),this.createMethod.apply(null,r)}delete(t,e){const[s,o]=i.util.maybeOptionsOrCallback(t,e),h="object"==typeof this.methods.delete&&this.methods.delete||{},n=r(!0,{method:"DELETE",uri:""},h.reqOpts,{qs:s});a.prototype.request.call(this,n,o)}exists(t,e){const[s,r]=i.util.maybeOptionsOrCallback(t,e);this.get(s,t=>{t?404===t.code?r(null,!1):r(t):r(null,!0)})}get(t,e){const s=this,[r,a]=i.util.maybeOptionsOrCallback(t,e),o=Object.assign({},r),h=o.autoCreate&&"function"==typeof this.create;function n(t,e,r){if(t)return 409===t.code?void s.get(o,a):void a(t,null,r);a(null,e,r)}delete o.autoCreate,this.getMetadata(o,(t,e)=>{if(t){if(404===t.code&&h){const t=[];return Object.keys(o).length>0&&t.push(o),t.push(n),void s.create(...t)}a(t,null,e)}else a(null,s,e)})}getMetadata(t,e){const[s,o]=i.util.maybeOptionsOrCallback(t,e),h="object"==typeof this.methods.getMetadata&&this.methods.getMetadata||{},n=r(!0,{uri:""},h.reqOpts,{qs:s});a.prototype.request.call(this,n,(t,e,s)=>{this.metadata=e,o(t,this.metadata,s)})}setMetadata(t,e,s){const[o,h]=i.util.maybeOptionsOrCallback(e,s),n="object"==typeof this.methods.setMetadata&&this.methods.setMetadata||{},l=r(!0,{},{method:"PATCH",uri:""},n.reqOpts,{json:t,qs:o});a.prototype.request.call(this,l,(t,e,s)=>{this.metadata=e,h(t,this.metadata,s)})}request_(t,s){const i=0===(t=r(!0,{},t)).uri.indexOf("http"),a=[this.baseUrl,this.id||"",t.uri];i&&a.splice(0,a.indexOf(t.uri)),t.uri=a.filter(t=>t.trim()).map(t=>{return t.replace(/^\/*|\/*$/g,"")}).join("/");const o=e(t.interceptors_),h=[].slice.call(this.interceptors);if(t.interceptors_=o.concat(h),t.shouldReturnStream)return this.parent.requestStream(t);this.parent.request(t,s)}request(t,e){this.request_(t,e)}requestStream(t){const e=r(!0,t,{shouldReturnStream:!0});return this.request_(e)}}exports.ServiceObject=a,t.promisifyAll(a);
},{"@google-cloud/promisify":"LG1d","arrify":"Wcc5","extend":"PUjw","./util":"duVx"}],"lbre":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./service-object"),t=require("util");class s extends e.ServiceObject{constructor(e){const t={exists:!0,get:!0,getMetadata:{reqOpts:{name:e.id}}};(e=Object.assign({baseUrl:""},e)).methods=e.methods||t,super(e),this.completeListeners=0,this.hasActiveListeners=!1,this.listenForEvents_()}promise(){return new this.Promise((e,t)=>{this.on("error",t).on("complete",t=>{e([t])})})}listenForEvents_(){this.on("newListener",e=>{"complete"===e&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",e=>{"complete"===e&&0==--this.completeListeners&&(this.hasActiveListeners=!1)})}poll_(e){this.getMetadata((t,s)=>{t||s.error?e(t||s.error):s.done?e(null,s):e(null)})}async startPolling_(){if(this.hasActiveListeners)try{const s=await t.promisify(this.poll_.bind(this))();if(!s)return void setTimeout(this.startPolling_.bind(this),500);this.emit("complete",s)}catch(e){this.emit("error",e)}}}exports.Operation=s;
},{"./service-object":"DDG7"}],"oPo8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("arrify"),t=require("extend"),r=require("./util"),s="{{projectId}}";class i{constructor(i,o={}){this.baseUrl=i.baseUrl,this.apiEndpoint=i.apiEndpoint,this.timeout=o.timeout,this.globalInterceptors=e(o.interceptors_),this.interceptors=[],this.packageJson=i.packageJson,this.projectId=o.projectId||s,this.projectIdRequired=!1!==i.projectIdRequired,this.Promise=o.promise||Promise;const c=t({},i,{projectIdRequired:this.projectIdRequired,projectId:this.projectId,credentials:o.credentials,keyFile:o.keyFilename,email:o.email,token:o.token});this.makeAuthenticatedRequest=r.util.makeAuthenticatedRequestFactory(c),this.authClient=this.makeAuthenticatedRequest.authClient,this.getCredentials=this.makeAuthenticatedRequest.getCredentials,!!process.env.FUNCTION_NAME&&this.interceptors.push({request:e=>(e.forever=!1,e)})}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}async getProjectIdAsync(){const e=await this.authClient.getProjectId();return this.projectId===s&&e&&(this.projectId=e),this.projectId}request_(s,i){const o=0===(s=t(!0,{},s,{timeout:this.timeout})).uri.indexOf("http"),c=[this.baseUrl];this.projectIdRequired&&(c.push("projects"),c.push(this.projectId)),c.push(s.uri),o&&c.splice(0,c.indexOf(s.uri)),s.uri=c.map(e=>{return e.replace(/^\/*|\/*$/g,"")}).join("/").replace(/\/:/g,":");const n=[].slice.call(this.globalInterceptors).concat(this.interceptors).concat(e(s.interceptors_));let u;for(;(u=n.shift())&&u.request;)s=u.request(s);delete s.interceptors_;const a=this.packageJson;if(s.headers=t({},s.headers,{"User-Agent":r.util.getUserAgentFromPackageJson(a),"x-goog-api-client":`gl-node/${process.versions.node} gccl/${a.version}`}),s.shouldReturnStream)return this.makeAuthenticatedRequest(s);this.makeAuthenticatedRequest(s,i)}request(e,t){i.prototype.request_.call(this,e,t)}requestStream(e){const r=t(!0,e,{shouldReturnStream:!0});return i.prototype.request_.call(this,r)}}exports.Service=i;
},{"arrify":"Wcc5","extend":"PUjw","./util":"duVx"}],"s6Ps":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./operation");exports.Operation=e.Operation;var r=require("./service");exports.Service=r.Service;var i=require("./service-object");exports.ServiceObject=i.ServiceObject;var t=require("./util");exports.ApiError=t.ApiError,exports.util=t.util;
},{"./operation":"lbre","./service":"oPo8","./service-object":"DDG7","./util":"duVx"}],"uwp7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("stream");class s extends e.Transform{constructor(e,s){super(Object.assign({objectMode:!0},e.streamOptions)),this._ended=!1,this._maxApiCalls=-1===e.maxApiCalls?1/0:e.maxApiCalls,this._nextQuery=e.query,this._reading=!1,this._requestFn=s,this._requestsMade=0,this._resultsToSend=-1===e.maxResults?1/0:e.maxResults}end(...e){return this._ended=!0,super.end(...e)}_read(){this._reading||(this._reading=!0,this._requestFn(this._nextQuery,(e,s,t)=>{if(e)return void this.destroy(e);this._nextQuery=t,this._resultsToSend!==1/0&&(s=s.splice(0,this._resultsToSend),this._resultsToSend-=s.length);let i=!0;for(const d of s){if(this._ended)break;i=this.push(d)}const r=!this._nextQuery||this._resultsToSend<1,n=++this._requestsMade>=this._maxApiCalls;(r||n)&&this.end(),i&&!this._ended&&setImmediate(()=>this._read()),this._reading=!1}))}}exports.ResourceStream=s;
},{}],"Qr71":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("arrify"),t=require("extend"),r=require("./resource-stream");exports.ResourceStream=r.ResourceStream;class n{extend(t,r){(r=e(r)).forEach(e=>{const r=t.prototype[e];t.prototype[e+"_"]=r,t.prototype[e]=function(...e){const t=s.parseArguments_(e);return s.run_(t,r.bind(this))}})}streamify(e){return function(...t){const r=s.parseArguments_(t),n=this[e+"_"]||this[e];return s.runAsStream_(r,n.bind(this))}}parseArguments_(e){let r,n,s=!0,a=-1,o=-1;const u=e[0],i=e[e.length-1];"function"==typeof u?n=u:r=u,"function"==typeof i&&(n=i),"object"==typeof r&&((r=t(!0,{},r)).maxResults&&"number"==typeof r.maxResults?o=r.maxResults:"number"==typeof r.pageSize&&(o=r.pageSize),r.maxApiCalls&&"number"==typeof r.maxApiCalls&&(a=r.maxApiCalls,delete r.maxApiCalls),-1===o&&!1!==r.autoPaginate||(s=!1));const p={query:r||{},autoPaginate:s,maxApiCalls:a,maxResults:o,callback:n};return p.streamOptions=t(!0,{},p.query),delete p.streamOptions.autoPaginate,delete p.streamOptions.maxResults,delete p.streamOptions.pageSize,p}run_(e,t){const r=e.query,n=e.callback;if(!e.autoPaginate)return t(r,n);const a=new Array,o=new Promise((r,n)=>{s.runAsStream_(e,t).on("error",n).on("data",e=>a.push(e)).on("end",()=>r(a))});if(!n)return o.then(e=>[e]);o.then(e=>n(null,e),e=>n(e))}runAsStream_(e,t){return new r.ResourceStream(e,t)}}exports.Paginator=n;const s=new n;exports.paginator=s;
},{"arrify":"Wcc5","extend":"PUjw","./resource-stream":"uwp7"}],"Izjb":[function(require,module,exports) {
"use strict";const e=(e,...o)=>new Promise(s=>{s(e(...o))});module.exports=e,module.exports.default=e;
},{}],"KF8Q":[function(require,module,exports) {
"use strict";const e=require("p-try"),t=t=>{if(t<1)throw new TypeError("Expected `concurrency` to be a number from 1 and up");const n=[];let r=0;const o=()=>{r--,n.length>0&&n.shift()()},u=(t,n,...u)=>{r++;const s=e(t,...u);n(s),s.then(o,o)},s=(e,...o)=>new Promise(s=>((e,o,...s)=>{r<t?u(e,o,...s):n.push(u.bind(null,e,o,...s))})(e,s,...o));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>n.length}}),s};module.exports=t,module.exports.default=t;
},{"p-try":"Izjb"}],"+z7l":[function(require,module,exports) {
module.exports=function r(o){return o&&"object"==typeof o?t(o)||e(o)?o:Array.isArray(o)?o.map(r):Object.keys(o).reduce(function(t,e){return t[e[0].toLowerCase()+e.slice(1).replace(/([A-Z]+)/g,function(t,e){return"_"+e.toLowerCase()})]=r(o[e]),t},{}):o};var t=function(t){return"[object Date]"===Object.prototype.toString.call(t)},e=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)};
},{}],"ZxVy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/promisify"),t=require("arrify");class s{constructor(){this.owners={},this.readers={},this.writers={},this.owners={},this.readers={},this.writers={},s.roles.forEach(this._assignAccessMethods.bind(this))}_assignAccessMethods(e){const t=s.accessMethods,r=s.entities;this[e.toLowerCase()+"s"]=r.reduce((s,r)=>{const o="-"===r.charAt(r.length-1);return t.forEach(t=>{let n=t+r[0].toUpperCase()+r.substr(1);o&&(n=n.replace("-","")),s[n]=((s,n,i)=>{let c;"function"==typeof n&&(i=n,n={}),o?c=r+s:(c=r,i=s);const u=[n=Object.assign({entity:c,role:e},n)];return"function"==typeof i&&u.push(i),this[t].apply(this,u)})}),s},{})}}s.accessMethods=["add","delete"],s.entities=["allAuthenticatedUsers","allUsers","domain-","group-","project-","user-"],s.roles=["OWNER","READER","WRITER"],exports.AclRoleAccessorMethods=s;class r extends s{constructor(e){super(),this.pathPrefix=e.pathPrefix,this.request_=e.request}add(e,t){const s={};e.generation&&(s.generation=e.generation),e.userProject&&(s.userProject=e.userProject),this.request({method:"POST",uri:"",qs:s,json:{entity:e.entity,role:e.role.toUpperCase()}},(e,s)=>{e?t(e,null,s):t(null,this.makeAclObject_(s),s)})}delete(e,t){const s={};e.generation&&(s.generation=e.generation),e.userProject&&(s.userProject=e.userProject),this.request({method:"DELETE",uri:"/"+encodeURIComponent(e.entity),qs:s},(e,s)=>{t(e,s)})}get(e,s){const r="object"==typeof e?e:null,o="function"==typeof e?e:s;let n="";const i={};r&&(n="/"+encodeURIComponent(r.entity),r.generation&&(i.generation=r.generation),r.userProject&&(i.userProject=r.userProject)),this.request({uri:n,qs:i},(e,s)=>{if(e)return void o(e,null,s);let r;r=s.items?t(s.items).map(this.makeAclObject_):this.makeAclObject_(s),o(null,r,s)})}update(e,t){const s={};e.generation&&(s.generation=e.generation),e.userProject&&(s.userProject=e.userProject),this.request({method:"PUT",uri:"/"+encodeURIComponent(e.entity),qs:s,json:{role:e.role.toUpperCase()}},(e,s)=>{e?t(e,null,s):t(null,this.makeAclObject_(s),s)})}makeAclObject_(e){const t={entity:e.entity,role:e.role};return e.projectTeam&&(t.projectTeam=e.projectTeam),t}request(e,t){e.uri=this.pathPrefix+e.uri,this.request_(e,t)}}exports.Acl=r,e.promisifyAll(r,{exclude:["request"]});
},{"@google-cloud/promisify":"LG1d","arrify":"Wcc5"}],"dCST":[function(require,module,exports) {
"use strict";var e=require("mime-db"),t=/^text\/|\+(?:json|text|xml)$/i,r=/^\s*([^;\s]*)(?:;|\s|$)/;function s(s){if(!s||"string"!=typeof s)return!1;var i=r.exec(s),o=i&&i[1].toLowerCase(),m=e[o];return m&&void 0!==m.compressible?m.compressible:t.test(o)||void 0}module.exports=s;
},{"mime-db":"/TsS"}],"69cC":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"aJzw"}],"dUWt":[function(require,module,exports) {
"use strict";function e(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function t(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}var n;module.exports=q,q.WritableState=S;var r={deprecate:require("util-deprecate")},i=require("./internal/streams/stream"),o=require("buffer").Buffer,s=global.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof s}var c,a=require("./internal/streams/destroy"),l=require("./internal/streams/state"),d=l.getHighWaterMark,h=require("../errors").codes,b=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,R=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING;function E(){}function S(e,r,i){n=n||require("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function q(e){var t=this instanceof(n=n||require("./_stream_duplex"));if(!t&&!c.call(q,this))return new q(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function m(e,t){var n=new R;e.emit("error",n),process.nextTick(t,n)}function v(e,t,n,r){var i;return null===n?i=new _:"string"==typeof n||t.objectMode||(i=new b("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}function x(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n)),t}function M(e,t,n,r,i,o){if(!n){var s=x(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,f,r,i,o);return u}function B(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new w;if(P(n),t)T(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(C,e,n,o,i):C(e,n,o,i)}}function C(e,t,n,r){n||O(e,t),t.pendingcb--,r(),I(e,t)}function O(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(e._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var f=0,u=!0;r;)o[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;o.allBuffers=u,B(e,n,!0,n.length,o,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new t(n),n.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,a=r.encoding,l=r.callback;if(B(e,n,!1,n.objectMode?1:c.length,c,a,l),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function N(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t)))}function I(e,t){var n=D(t);return n&&(N(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function W(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(q,i),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===q&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},q.prototype.pipe=function(){this.emit("error",new y)},q.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&u(e);return s&&!o.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=E),r.ending?m(this,n):(s||v(this,r,e,n))&&(r.pendingcb++,i=M(this,r,s,e,t,n)),i},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},q.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(e,t,n){n(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||W(this,r,n),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),q.prototype.destroy=a.destroy,q.prototype._undestroy=a.undestroy,q.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yAJ6","./internal/streams/stream":"Y+bo","./internal/streams/destroy":"JuBc","./internal/streams/state":"69cC","../errors":"aJzw","inherits":"Cpyn","./_stream_duplex":"sjlt"}],"sjlt":[function(require,module,exports) {
"use strict";var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=o;var t=require("./_stream_readable"),r=require("./_stream_writable");require("inherits")(o,t);for(var a=e(r.prototype),i=0;i<a.length;i++){var n=a[i];o.prototype[n]||(o.prototype[n]=r.prototype[n])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(s,this)}function s(e){e.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"irz1","./_stream_writable":"dUWt","inherits":"Cpyn"}],"AI3v":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"aJzw"}],"XezT":[function(require,module,exports) {
"use strict";var e;function n(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var r=require("./end-of-stream"),t=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),a=Symbol("handlePromise"),s=Symbol("stream");function c(e,n){return{value:e,done:n}}function f(e){var n=e[t];if(null!==n){var r=e[s].read();null!==r&&(e[o]=null,e[t]=null,e[l]=null,n(c(r,!1)))}}function v(e){process.nextTick(f,e)}function d(e,n){return function(r,t){e.then(function(){n[i]?r(c(void 0,!0)):n[a](r,t)},t)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(e={get stream(){return this[s]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[i])return Promise.resolve(c(void 0,!0));if(this[s].destroyed)return new Promise(function(n,r){process.nextTick(function(){e[u]?r(e[u]):n(c(void 0,!0))})});var r,t=this[o];if(t)r=new Promise(d(t,this));else{var l=this[s].read();if(null!==l)return Promise.resolve(c(l,!1));r=new Promise(this[a])}return this[o]=r,r}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(n,r){e[s].destroy(null,function(e){e?r(e):n(c(void 0,!0))})})}),e),b),h=function(e){var f,d=Object.create(m,(n(f={},s,{value:e,writable:!0}),n(f,t,{value:null,writable:!0}),n(f,l,{value:null,writable:!0}),n(f,u,{value:null,writable:!0}),n(f,i,{value:e._readableState.endEmitted,writable:!0}),n(f,a,{value:function(e,n){var r=d[s].read();r?(d[o]=null,d[t]=null,d[l]=null,e(c(r,!1))):(d[t]=e,d[l]=n)},writable:!0}),f));return d[o]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=d[l];return null!==n&&(d[o]=null,d[t]=null,d[l]=null,n(e)),void(d[u]=e)}var r=d[t];null!==r&&(d[o]=null,d[t]=null,d[l]=null,r(c(void 0,!0))),d[i]=!0}),e.on("readable",v.bind(null,d)),d};module.exports=h;
},{"./end-of-stream":"AI3v"}],"irz1":[function(require,module,exports) {
"use strict";var e;module.exports=k,k.ReadableState=E;var t=require("events").EventEmitter,n=function(e,t){return e.listeners(t).length},r=require("./internal/streams/stream"),i=require("buffer").Buffer,a=global.Uint8Array||function(){};function o(e){return i.from(e)}function d(e){return i.isBuffer(e)||e instanceof a}var s,l=require("util");s=l&&l.debuglog?l.debuglog("stream"):function(){};var u,p,h=require("./internal/streams/buffer_list"),f=require("./internal/streams/destroy"),c=require("./internal/streams/state"),g=c.getHighWaterMark,b=require("../errors").codes,m=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=require("../experimentalWarning"),S=w.emitExperimentalWarning;require("inherits")(k,r);var M=["error","close","destroy","pause","resume"];function R(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function E(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",r),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=require("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function k(t){if(e=e||require("./_stream_duplex"),!(this instanceof k))return new k(t);var n=this instanceof e;this._readableState=new E(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function L(e,t,n,r,a){s("readableAddChunk",t);var d,l=e._readableState;if(null===t)l.reading=!1,q(e,l);else if(a||(d=C(l,t)),d)e.emit("error",d);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=o(t)),r)l.endEmitted?e.emit("error",new v):j(e,l,t,!0);else if(l.ended)e.emit("error",new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?j(e,l,t,!1):O(e,l)):j(e,l,t,!1)}else r||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),O(e,t)}function C(e,t){var n;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=""),n=!0),L(this,e,t,!1,n)},k.prototype.unshift=function(e){return L(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return u||(u=require("string_decoder/").StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function D(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function W(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function q(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,B(e))}}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){s("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}function F(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function G(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Y,t,e))}function Y(e,t){s("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):x(this),null;if(0===(e=W(e,t))&&t.ended)return 0===t.length&&G(this),null;var r,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=W(n,t))),null===(r=e>0?V(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:g;function o(t,n){s("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",c),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",d),r.removeListener("end",g),r.removeListener("data",p),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function d(){s("onend"),e.end()}i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",o);var l=U(r);e.on("drain",l);var u=!1;function p(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){s("onerror",t),g(),e.removeListener("error",h),0===n(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",c),g()}function c(){s("onfinish"),e.removeListener("close",f),g()}function g(){s("unpipe"),r.unpipe(e)}return r.on("data",p),R(e,"error",h),e.once("close",f),e.once("finish",c),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},k.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?x(this):i.reading||process.nextTick(N,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(I,this),n},k.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(I,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(s("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(s("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<M.length;a++)e.on(M[a],this.emit.bind(this,M[a]));return this._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),void 0===p&&(p=require("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=V,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"./internal/streams/stream":"Y+bo","./internal/streams/buffer_list":"k/zV","./internal/streams/destroy":"JuBc","./internal/streams/state":"69cC","../errors":"aJzw","../experimentalWarning":"RR96","inherits":"Cpyn","./_stream_duplex":"sjlt","string_decoder/":"lrG1","./internal/streams/async_iterator":"XezT"}],"jZNi":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"aJzw","./_stream_duplex":"sjlt","inherits":"Cpyn"}],"N3po":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"jZNi","inherits":"Cpyn"}],"2/oH":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"aJzw","./end-of-stream":"AI3v"}],"Kg4Z":[function(require,module,exports) {
var e=require("stream");"disable"===process.env.READABLE_STREAM&&e?(module.exports=e.Readable,Object.assign(module.exports,e),module.exports.Stream=e):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js"));
},{"./lib/_stream_readable.js":"irz1","./lib/_stream_writable.js":"dUWt","./lib/_stream_duplex.js":"sjlt","./lib/_stream_transform.js":"jZNi","./lib/_stream_passthrough.js":"N3po","./lib/internal/streams/end-of-stream.js":"AI3v","./lib/internal/streams/pipeline.js":"2/oH"}],"vi/S":[function(require,module,exports) {
var e=Object.prototype.toString,r="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;function f(r){return"ArrayBuffer"===e.call(r).slice(8,-1)}function n(e,f,n){f>>>=0;var o=e.byteLength-f;if(o<0)throw new RangeError("'offset' is out of bounds");if(void 0===n)n=o;else if((n>>>=0)>o)throw new RangeError("'length' is out of bounds");return r?Buffer.from(e.slice(f,f+n)):new Buffer(new Uint8Array(e.slice(f,f+n)))}function o(e,f){if("string"==typeof f&&""!==f||(f="utf8"),!Buffer.isEncoding(f))throw new TypeError('"encoding" must be a valid string encoding');return r?Buffer.from(e,f):new Buffer(e,f)}function t(e,t,u){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return f(e)?n(e,t,u):"string"==typeof e?o(e,t):r?Buffer.from(e):new Buffer(e)}module.exports=t;
},{}],"jCtc":[function(require,module,exports) {
var t,e=void 0,r=1e5,n=function(){var t=Object.prototype.toString,e=Object.prototype.hasOwnProperty;return{Class:function(e){return t.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(t,e){return e in t},HasOwnProperty:function(t,r){return e.call(t,r)},IsCallable:function(t){return"function"==typeof t},ToInt32:function(t){return t>>0},ToUint32:function(t){return t>>>0}}}(),o=Math.LN2,s=Math.abs,i=Math.floor,f=Math.log,h=Math.min,a=Math.pow,u=Math.round;function y(e){if(p&&t){var r,n=p(e);for(r=0;r<n.length;r+=1)t(e,n[r],{value:e[n[r]],writable:!1,enumerable:!1,configurable:!1})}}t=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()?Object.defineProperty:function(t,e,r){if(!t===Object(t))throw new TypeError("Object.defineProperty called on non-object");return n.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(t,e,r.get),n.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(t,e,r.set),n.HasProperty(r,"value")&&(t[e]=r.value),t};var p=Object.getOwnPropertyNames||function(t){if(t!==Object(t))throw new TypeError("Object.getOwnPropertyNames called on non-object");var e,r=[];for(e in t)n.HasOwnProperty(t,e)&&r.push(e);return r};function g(e){if(t){if(e.length>r)throw new RangeError("Array too large for polyfill");var n;for(n=0;n<e.length;n+=1)o(n)}function o(r){t(e,r,{get:function(){return e._getter(r)},set:function(t){e._setter(r,t)},enumerable:!0,configurable:!1})}}function E(t,e){var r=32-e;return t<<r>>r}function b(t,e){var r=32-e;return t<<r>>>r}function l(t){return[255&t]}function c(t){return E(t[0],8)}function _(t){return[255&t]}function T(t){return b(t[0],8)}function w(t){return[(t=u(Number(t)))<0?0:t>255?255:255&t]}function x(t){return[t>>8&255,255&t]}function A(t){return E(t[0]<<8|t[1],16)}function L(t){return[t>>8&255,255&t]}function O(t){return b(t[0]<<8|t[1],16)}function U(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function B(t){return E(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function v(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function P(t){return b(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function R(t,e,r){var n,u,y,p,g,E,b,l=(1<<e-1)-1;function c(t){var e=i(t),r=t-e;return r<.5?e:r>.5?e+1:e%2?e+1:e}for(t!=t?(u=(1<<e)-1,y=a(2,r-1),n=0):t===1/0||t===-1/0?(u=(1<<e)-1,y=0,n=t<0?1:0):0===t?(u=0,y=0,n=1/t==-1/0?1:0):(n=t<0,(t=s(t))>=a(2,1-l)?(u=h(i(f(t)/o),1023),(y=c(t/a(2,u)*a(2,r)))/a(2,r)>=2&&(u+=1,y=1),u>l?(u=(1<<e)-1,y=0):(u+=l,y-=a(2,r))):(u=0,y=c(t/a(2,1-l-r)))),g=[],p=r;p;p-=1)g.push(y%2?1:0),y=i(y/2);for(p=e;p;p-=1)g.push(u%2?1:0),u=i(u/2);for(g.push(n?1:0),g.reverse(),E=g.join(""),b=[];E.length;)b.push(parseInt(E.substring(0,8),2)),E=E.substring(8);return b}function N(t,e,r){var n,o,s,i,f,h,u,y,p=[];for(n=t.length;n;n-=1)for(s=t[n-1],o=8;o;o-=1)p.push(s%2?1:0),s>>=1;return p.reverse(),i=p.join(""),f=(1<<e-1)-1,h=parseInt(i.substring(0,1),2)?-1:1,u=parseInt(i.substring(1,1+e),2),y=parseInt(i.substring(1+e),2),u===(1<<e)-1?0!==y?NaN:h*(1/0):u>0?h*a(2,u-f)*(1+y/a(2,r)):0!==y?h*a(2,-(f-1))*(y/a(2,r)):h<0?-0:0}function I(t){return N(t,11,52)}function M(t){return R(t,11,52)}function S(t){return N(t,8,23)}function d(t){return R(t,8,23)}!function(){var t=function(t){if((t=n.ToInt32(t))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var e;for(this.byteLength=t,this._bytes=[],this._bytes.length=t,e=0;e<this.byteLength;e+=1)this._bytes[e]=0;y(this)};exports.ArrayBuffer=exports.ArrayBuffer||t;var r=function(){};function o(o,s,i){var f;return(f=function(e,r,o){var s,i,h,a;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===f)for(s=arguments[0],this.length=s.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,h=0;h<this.length;h+=1)this._setter(h,s._getter(h));else if("object"!=typeof arguments[0]||(arguments[0]instanceof t||"ArrayBuffer"===n.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof t||"ArrayBuffer"===n.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=e,this.byteOffset=n.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=n.ToUint32(o),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(i=arguments[0],this.length=n.ToUint32(i.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,h=0;h<this.length;h+=1)a=i[h],this._setter(h,Number(a));else{if(this.length=n.ToInt32(arguments[0]),o<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0}this.constructor=f,y(this),g(this)}).prototype=new r,f.prototype.BYTES_PER_ELEMENT=o,f.prototype._pack=s,f.prototype._unpack=i,f.BYTES_PER_ELEMENT=o,f.prototype._getter=function(t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((t=n.ToUint32(t))>=this.length)return e;var r,o,s=[];for(r=0,o=this.byteOffset+t*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,o+=1)s.push(this.buffer._bytes[o]);return this._unpack(s)},f.prototype.get=f.prototype._getter,f.prototype._setter=function(t,r){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((t=n.ToUint32(t))>=this.length)return e;var o,s,i=this._pack(r);for(o=0,s=this.byteOffset+t*this.BYTES_PER_ELEMENT;o<this.BYTES_PER_ELEMENT;o+=1,s+=1)this.buffer._bytes[s]=i[o]},f.prototype.set=function(t,e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,o,s,i,f,h,a,u,y,p;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(s=n.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+s*this.BYTES_PER_ELEMENT,y=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(p=[],f=0,h=r.byteOffset;f<y;f+=1,h+=1)p[f]=r.buffer._bytes[h];for(f=0,a=u;f<y;f+=1,a+=1)this.buffer._bytes[a]=p[f]}else for(f=0,h=r.byteOffset,a=u;f<y;f+=1,h+=1,a+=1)this.buffer._bytes[a]=r.buffer._bytes[h]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(o=arguments[0],i=n.ToUint32(o.length),(s=n.ToUint32(arguments[1]))+i>this.length)throw new RangeError("Offset plus length of array is out of range");for(f=0;f<i;f+=1)h=o[f],this._setter(s+f,Number(h))}},f.prototype.subarray=function(t,e){function r(t,e,r){return t<e?e:t>r?r:t}t=n.ToInt32(t),e=n.ToInt32(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=r(t,0,this.length);var o=(e=r(e,0,this.length))-t;return o<0&&(o=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,o)},f}var s=o(1,l,c),i=o(1,_,T),f=o(1,w,T),h=o(2,x,A),a=o(2,L,O),u=o(4,U,B),p=o(4,v,P),E=o(4,d,S),b=o(8,M,I);exports.Int8Array=exports.Int8Array||s,exports.Uint8Array=exports.Uint8Array||i,exports.Uint8ClampedArray=exports.Uint8ClampedArray||f,exports.Int16Array=exports.Int16Array||h,exports.Uint16Array=exports.Uint16Array||a,exports.Int32Array=exports.Int32Array||u,exports.Uint32Array=exports.Uint32Array||p,exports.Float32Array=exports.Float32Array||E,exports.Float64Array=exports.Float64Array||b}(),function(){function t(t,e){return n.IsCallable(t.get)?t.get(e):t[e]}var e,r=(e=new exports.Uint16Array([4660]),18===t(new exports.Uint8Array(e.buffer),0)),o=function(t,e,r){if(0===arguments.length)t=new exports.ArrayBuffer(0);else if(!(t instanceof exports.ArrayBuffer||"ArrayBuffer"===n.Class(t)))throw new TypeError("TypeError");if(this.buffer=t||new exports.ArrayBuffer(0),this.byteOffset=n.ToUint32(e),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=n.ToUint32(r),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");y(this)};function s(e){return function(o,s){if((o=n.ToUint32(o))+e.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");o+=this.byteOffset;var i,f=new exports.Uint8Array(this.buffer,o,e.BYTES_PER_ELEMENT),h=[];for(i=0;i<e.BYTES_PER_ELEMENT;i+=1)h.push(t(f,i));return Boolean(s)===Boolean(r)&&h.reverse(),t(new e(new exports.Uint8Array(h).buffer),0)}}function i(e){return function(o,s,i){if((o=n.ToUint32(o))+e.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var f,h=new e([s]),a=new exports.Uint8Array(h.buffer),u=[];for(f=0;f<e.BYTES_PER_ELEMENT;f+=1)u.push(t(a,f));Boolean(i)===Boolean(r)&&u.reverse(),new exports.Uint8Array(this.buffer,o,e.BYTES_PER_ELEMENT).set(u)}}o.prototype.getUint8=s(exports.Uint8Array),o.prototype.getInt8=s(exports.Int8Array),o.prototype.getUint16=s(exports.Uint16Array),o.prototype.getInt16=s(exports.Int16Array),o.prototype.getUint32=s(exports.Uint32Array),o.prototype.getInt32=s(exports.Int32Array),o.prototype.getFloat32=s(exports.Float32Array),o.prototype.getFloat64=s(exports.Float64Array),o.prototype.setUint8=i(exports.Uint8Array),o.prototype.setInt8=i(exports.Int8Array),o.prototype.setUint16=i(exports.Uint16Array),o.prototype.setInt16=i(exports.Int16Array),o.prototype.setUint32=i(exports.Uint32Array),o.prototype.setInt32=i(exports.Int32Array),o.prototype.setFloat32=i(exports.Float32Array),o.prototype.setFloat64=i(exports.Float64Array),exports.DataView=exports.DataView||o}();
},{}],"XOdE":[function(require,module,exports) {
var r=require("readable-stream").Writable,t=require("inherits"),n=require("buffer-from");if("undefined"==typeof Uint8Array)var e=require("typedarray").Uint8Array;else e=Uint8Array;function i(t,n){if(!(this instanceof i))return new i(t,n);"function"==typeof t&&(n=t,t={}),t||(t={});var e=t.encoding,o=!1;e?"u8"!==(e=String(e).toLowerCase())&&"uint8"!==e||(e="uint8array"):o=!0,r.call(this,{objectMode:!0}),this.encoding=e,this.shouldInferEncoding=o,n&&this.on("finish",function(){n(this.getBody())}),this.body=[]}module.exports=i,t(i,r),i.prototype._write=function(r,t,n){this.body.push(r),n()},i.prototype.inferEncoding=function(r){var t=void 0===r?this.body[0]:r;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},i.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?y(this.body):"string"===this.encoding?s(this.body):"buffer"===this.encoding?a(this.body):"uint8array"===this.encoding?c(this.body):this.body):[]};var o=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};function f(r){return/Array\]$/.test(Object.prototype.toString.call(r))}function u(r){return"string"==typeof r||f(r)||r&&"function"==typeof r.subarray}function s(r){for(var t=[],e=0;e<r.length;e++){var i=r[e];"string"==typeof i?t.push(i):Buffer.isBuffer(i)?t.push(i):u(i)?t.push(n(i)):t.push(n(String(i)))}return t=Buffer.isBuffer(r[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("")}function a(r){for(var t=[],e=0;e<r.length;e++){var i=r[e];Buffer.isBuffer(i)?t.push(i):u(i)?t.push(n(i)):t.push(n(String(i)))}return Buffer.concat(t)}function y(r){for(var t=[],n=0;n<r.length;n++)t.push.apply(t,r[n]);return t}function c(r){for(var t=0,i=0;i<r.length;i++)"string"==typeof r[i]&&(r[i]=n(r[i])),t+=r[i].length;for(var o=new e(t),f=(i=0,0);i<r.length;i++)for(var u=r[i],s=0;s<u.length;s++)o[f++]=u[s];return o}
},{"readable-stream":"Kg4Z","inherits":"Cpyn","buffer-from":"vi/S","typedarray":"jCtc"}],"pm4e":[function(require,module,exports) {
!function(e){"use strict";var t={},n="en",r={en:{MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["a.m.","p.m."],formatter:{YYYY:function(e){return("000"+e.getFullYear()).slice(-4)},YY:function(e){return("0"+e.getFullYear()).slice(-2)},Y:function(e){return""+e.getFullYear()},MMMM:function(e){return this.MMMM[e.getMonth()]},MMM:function(e){return this.MMM[e.getMonth()]},MM:function(e){return("0"+(e.getMonth()+1)).slice(-2)},M:function(e){return""+(e.getMonth()+1)},DD:function(e){return("0"+e.getDate()).slice(-2)},D:function(e){return""+e.getDate()},HH:function(e){return("0"+e.getHours()).slice(-2)},H:function(e){return""+e.getHours()},A:function(e){return this.A[e.getHours()>11|0]},hh:function(e){return("0"+(e.getHours()%12||12)).slice(-2)},h:function(e){return""+(e.getHours()%12||12)},mm:function(e){return("0"+e.getMinutes()).slice(-2)},m:function(e){return""+e.getMinutes()},ss:function(e){return("0"+e.getSeconds()).slice(-2)},s:function(e){return""+e.getSeconds()},SSS:function(e){return("00"+e.getMilliseconds()).slice(-3)},SS:function(e){return("0"+(e.getMilliseconds()/10|0)).slice(-2)},S:function(e){return""+(e.getMilliseconds()/100|0)},dddd:function(e){return this.dddd[e.getDay()]},ddd:function(e){return this.ddd[e.getDay()]},dd:function(e){return this.dd[e.getDay()]},Z:function(e){var t=e.utc?0:e.getTimezoneOffset()/.6;return(t>0?"-":"+")+("000"+Math.abs(t-t%100*.4)).slice(-4)},post:function(e){return e}},parser:{YYYY:function(e){return this.parser.exec(/^\d{1,4}/,e)},YY:function(e){var t=this.parser.exec(/^\d\d?/,e);return t.value+=t.value<70?2e3:t.value<100?1900:0,t},MMMM:function(e){var t=this.parser.find(this.MMMM,e);return t.value++,t},MMM:function(e){var t=this.parser.find(this.MMM,e);return t.value++,t},MM:function(e){return this.parser.exec(/^\d\d/,e)},M:function(e){return this.parser.exec(/^\d\d?/,e)},DD:function(e){return this.parser.exec(/^\d\d/,e)},D:function(e){return this.parser.exec(/^\d\d?/,e)},HH:function(e){return this.parser.exec(/^\d\d/,e)},H:function(e){return this.parser.exec(/^\d\d?/,e)},A:function(e){return this.parser.find(this.A,e)},hh:function(e){return this.parser.exec(/^\d\d/,e)},h:function(e){return this.parser.exec(/^\d\d?/,e)},mm:function(e){return this.parser.exec(/^\d\d/,e)},m:function(e){return this.parser.exec(/^\d\d?/,e)},ss:function(e){return this.parser.exec(/^\d\d/,e)},s:function(e){return this.parser.exec(/^\d\d?/,e)},SSS:function(e){return this.parser.exec(/^\d{1,3}/,e)},SS:function(e){var t=this.parser.exec(/^\d\d?/,e);return t.value*=10,t},S:function(e){var t=this.parser.exec(/^\d/,e);return t.value*=100,t},h12:function(e,t){return(12===e?0:e)+12*t},exec:function(e,t){var n=(e.exec(t)||[""])[0];return{value:0|n,length:n.length}},find:function(e,t){for(var n,r=-1,u=0,i=0,o=e.length;i<o;i++)n=e[i],!t.indexOf(n)&&n.length>u&&(r=i,u=n.length);return{value:r,length:u}},pre:function(e){return e}}}};t.format=function(e,u,i){var o=t.addMinutes(e,i?e.getTimezoneOffset():0),a=r[n],s=a.formatter;return o.utc=i,u.replace(/(\[[^\[\]]*]|\[.*\][^\[]*\]|YYYY|YY|MMM?M?|DD|HH|hh|mm|ss|SSS?|ddd?d?|.)/g,function(e){var t=s[e];return t?s.post(t.call(a,o,u)):e.replace(/\[(.*)]/,"$1")})},t.preparse=function(e,t){var u,i,o,a=r[n],s=a.parser,c=/YYYY|YY|MMMM?|MM?|DD?|HH?|A|hh?|mm?|ss?|SS?S?|./g,d=0,f={Y:1970,M:1,D:1,H:0,A:0,h:0,m:0,s:0,S:0,_index:0,_length:0,_match:0};for(e=s.pre(e),t=t.replace(/\[[^\[\]]*]|\[.*\][^\[]*\]/g,function(e){return new Array(e.length-1).join(" ")});u=c.exec(t);)if(s[i=u[0]]){if(!(o=s[i].call(a,e.slice(d),t)).length)break;d+=o.length,f[i.charAt(0)]=o.value,f._match++}else{if(i!==e.charAt(d)&&" "!==i)break;d++}return f.H=f.H||s.h12(f.h,f.A),f._index=d,f._length=e.length,f},t.isValid=function(e,n){var r="string"==typeof e?t.preparse(e,n):e,u=[31,28+t.isLeapYear(r.Y)|0,31,30,31,30,31,31,30,31,30,31][r.M-1];return!(r._index<1||r._length<1||r._index-r._length||r._match<1||r.Y<1||r.Y>9999||r.M<1||r.M>12||r.D<1||r.D>u||r.H>23||r.H<0||r.m>59||r.m<0||r.s>59||r.s<0||r.S>999||r.S<0)},t.parse=function(e,n,r){var u=t.preparse(e,n);return t.isValid(u)?(u.M-=u.Y<100?22801:1,r?new Date(Date.UTC(u.Y,u.M,u.D,u.H,u.m,u.s,u.S)):new Date(u.Y,u.M,u.D,u.H,u.m,u.s,u.S)):new Date(NaN)},t.addYears=function(e,n){return t.addMonths(e,12*n)},t.addMonths=function(e,t){var n=new Date(e.getTime());return n.setMonth(n.getMonth()+t),n},t.addDays=function(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n},t.addHours=function(e,n){return t.addMilliseconds(e,36e5*n)},t.addMinutes=function(e,n){return t.addMilliseconds(e,6e4*n)},t.addSeconds=function(e,n){return t.addMilliseconds(e,1e3*n)},t.addMilliseconds=function(e,t){return new Date(e.getTime()+t)},t.subtract=function(e,t){var n=e.getTime()-t.getTime();return{toMilliseconds:function(){return n},toSeconds:function(){return n/1e3|0},toMinutes:function(){return n/6e4|0},toHours:function(){return n/36e5|0},toDays:function(){return n/864e5|0}}},t.isLeapYear=function(e){return!((e%4||!(e%100))&&e%400)},t.isSameDay=function(e,n){return t.format(e,"YYYYMMDD")===t.format(n,"YYYYMMDD")},t.locale=function(t){return t&&(!r[t]&&"function"==typeof require&&e&&require("./locale/"+t),n=t),n},t.getLocales=function(e){return r[e||n]},t.setLocales=function(e,t){var n=function(e,t){var n,r,u=function(){};for(r in u.prototype=t,n=new u,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},u=r[e]||r.en,i=n(t,u);t.formatter&&(i.formatter=n(t.formatter,u.formatter)),t.parser&&(i.parser=n(t.parser,u.parser)),r[e]=i},"object"==typeof module&&"object"==typeof module.exports?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):e.date=t}(this);
},{}],"+hxt":[function(require,module,exports) {
"use strict";var r=new Int32Array([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]);module.exports={calculate:function(e,f){Buffer.isBuffer(e)||(e=new Buffer(e));for(var t=-1^(0|f),u=0;u<e.length;u++)t=r[255&(t^e[u])]^t>>>8;return(-1^t)>>>0}};
},{}],"0M8p":[function(require,module,exports) {
var t=require("readable-stream").Transform,r=require("util").inherits,e=require("xtend");function n(r){t.call(this,r),this._destroyed=!1}function o(t,r,e){e(null,t)}function i(t){return function(r,e,n){return"function"==typeof r&&(n=e,e=r,r={}),"function"!=typeof e&&(e=o),"function"!=typeof n&&(n=null),t(r,e,n)}}r(n,t),n.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var r=this;process.nextTick(function(){t&&r.emit("error",t),r.emit("close")})}},module.exports=i(function(t,r,e){var o=new n(t);return o._transform=r,e&&(o._flush=e),o}),module.exports.ctor=i(function(t,o,i){function s(r){if(!(this instanceof s))return new s(r);this.options=e(t,r),n.call(this,this.options)}return r(s,n),s.prototype._transform=o,i&&(s.prototype._flush=i),s}),module.exports.obj=i(function(t,r,o){var i=new n(e({objectMode:!0,highWaterMark:16},t));return i._transform=r,o&&(i._flush=o),i});
},{"readable-stream":"JQyM","xtend":"lKyF"}],"Fjwm":[function(require,module,exports) {
"use strict";var c;try{c=require("fast-crc32c")}catch(t){c=require("./crc32c.js")}var r=require("crypto"),e=require("through2");module.exports=function(t){var u=!1!==(t=t||{}).crc32c,a=!1!==t.md5,n={};a&&(n.md5=r.createHash("md5"));var i=e(function(r,e,t){u&&(n.crc32c=c.calculate(r,n.crc32c)),a&&n.md5.update(r),t(null,r)},function(c){u&&(n.crc32c=new Buffer([n.crc32c]).toString("base64")),a&&(n.md5=n.md5.digest("base64")),c()});return i.test=function(c,r){return n[c]===r},i};
},{"./crc32c.js":"+hxt","through2":"0M8p"}],"cP0w":[function(require,module,exports) {
"use strict";const e=(e,t)=>{for(const o of Reflect.ownKeys(t))Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o));return e};module.exports=e,module.exports.default=e;
},{}],"uW+2":[function(require,module,exports) {
"use strict";const e=require("mimic-fn"),n=new WeakMap,t=(t,o={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let r,i=!1,u=0;const a=t.displayName||t.name||"<anonymous>",c=function(...e){if(n.set(c,++u),i){if(!0===o.throw)throw new Error(`Function \`${a}\` can only be called once`);return r}return i=!0,r=t.apply(this,e),t=null,r};return e(c,t),n.set(c,u),c};module.exports=t,module.exports.default=t,module.exports.callCount=(e=>{if(!n.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return n.get(e)});
},{"mimic-fn":"cP0w"}],"mbvh":[function(require,module,exports) {
var r=require("once"),e=require("end-of-stream"),n=require("fs"),t=function(){},o=/^v?\.0/.test(process.version),i=function(r){return"function"==typeof r},u=function(r){return!!o&&(!!n&&((r instanceof(n.ReadStream||t)||r instanceof(n.WriteStream||t))&&i(r.close)))},a=function(r){return r.setHeader&&i(r.abort)},c=function(n,o,c,f){f=r(f);var s=!1;n.on("close",function(){s=!0}),e(n,{readable:o,writable:c},function(r){if(r)return f(r);s=!0,f()});var p=!1;return function(r){if(!s&&!p)return p=!0,u(n)?n.close(t):a(n)?n.abort():i(n.destroy)?n.destroy():void f(r||new Error("stream was destroyed"))}},f=function(r){r()},s=function(r,e){return r.pipe(e)},p=function(){var r,e=Array.prototype.slice.call(arguments),n=i(e[e.length-1]||t)&&e.pop()||t;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var o=e.map(function(t,i){var u=i<e.length-1;return c(t,u,i>0,function(e){r||(r=e),e&&o.forEach(f),u||(o.forEach(f),n(r))})});return e.reduce(s)};module.exports=p;
},{"once":"KnG+","end-of-stream":"1Xq7"}],"aB9a":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"aJzw"}],"WdlR":[function(require,module,exports) {
"use strict";function e(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function t(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}var n;module.exports=q,q.WritableState=S;var r={deprecate:require("util-deprecate")},i=require("./internal/streams/stream"),o=require("buffer").Buffer,s=global.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof s}var c,a=require("./internal/streams/destroy"),l=require("./internal/streams/state"),d=l.getHighWaterMark,h=require("../errors").codes,b=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,R=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING;function E(){}function S(e,r,i){n=n||require("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function q(e){var t=this instanceof(n=n||require("./_stream_duplex"));if(!t&&!c.call(q,this))return new q(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function m(e,t){var n=new R;e.emit("error",n),process.nextTick(t,n)}function v(e,t,n,r){var i;return null===n?i=new _:"string"==typeof n||t.objectMode||(i=new b("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}function x(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n)),t}function M(e,t,n,r,i,o){if(!n){var s=x(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,f,r,i,o);return u}function B(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new w;if(P(n),t)T(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(C,e,n,o,i):C(e,n,o,i)}}function C(e,t,n,r){n||O(e,t),t.pendingcb--,r(),I(e,t)}function O(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(e._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var f=0,u=!0;r;)o[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;o.allBuffers=u,B(e,n,!0,n.length,o,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new t(n),n.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,a=r.encoding,l=r.callback;if(B(e,n,!1,n.objectMode?1:c.length,c,a,l),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function N(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t)))}function I(e,t){var n=D(t);return n&&(N(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function W(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(q,i),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===q&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},q.prototype.pipe=function(){this.emit("error",new y)},q.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&u(e);return s&&!o.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=E),r.ending?m(this,n):(s||v(this,r,e,n))&&(r.pendingcb++,i=M(this,r,s,e,t,n)),i},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},q.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(e,t,n){n(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||W(this,r,n),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),q.prototype.destroy=a.destroy,q.prototype._undestroy=a.undestroy,q.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yAJ6","./internal/streams/stream":"Y+bo","./internal/streams/destroy":"JuBc","./internal/streams/state":"aB9a","../errors":"aJzw","inherits":"Cpyn","./_stream_duplex":"eB/G"}],"eB/G":[function(require,module,exports) {
"use strict";var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=o;var t=require("./_stream_readable"),r=require("./_stream_writable");require("inherits")(o,t);for(var a=e(r.prototype),i=0;i<a.length;i++){var n=a[i];o.prototype[n]||(o.prototype[n]=r.prototype[n])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(s,this)}function s(e){e.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"vhjG","./_stream_writable":"WdlR","inherits":"Cpyn"}],"H+8M":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"aJzw"}],"Y5/Y":[function(require,module,exports) {
"use strict";var e;function n(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var r=require("./end-of-stream"),t=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),a=Symbol("handlePromise"),s=Symbol("stream");function c(e,n){return{value:e,done:n}}function f(e){var n=e[t];if(null!==n){var r=e[s].read();null!==r&&(e[o]=null,e[t]=null,e[l]=null,n(c(r,!1)))}}function v(e){process.nextTick(f,e)}function d(e,n){return function(r,t){e.then(function(){n[i]?r(c(void 0,!0)):n[a](r,t)},t)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(e={get stream(){return this[s]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[i])return Promise.resolve(c(void 0,!0));if(this[s].destroyed)return new Promise(function(n,r){process.nextTick(function(){e[u]?r(e[u]):n(c(void 0,!0))})});var r,t=this[o];if(t)r=new Promise(d(t,this));else{var l=this[s].read();if(null!==l)return Promise.resolve(c(l,!1));r=new Promise(this[a])}return this[o]=r,r}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(n,r){e[s].destroy(null,function(e){e?r(e):n(c(void 0,!0))})})}),e),b),h=function(e){var f,d=Object.create(m,(n(f={},s,{value:e,writable:!0}),n(f,t,{value:null,writable:!0}),n(f,l,{value:null,writable:!0}),n(f,u,{value:null,writable:!0}),n(f,i,{value:e._readableState.endEmitted,writable:!0}),n(f,a,{value:function(e,n){var r=d[s].read();r?(d[o]=null,d[t]=null,d[l]=null,e(c(r,!1))):(d[t]=e,d[l]=n)},writable:!0}),f));return d[o]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=d[l];return null!==n&&(d[o]=null,d[t]=null,d[l]=null,n(e)),void(d[u]=e)}var r=d[t];null!==r&&(d[o]=null,d[t]=null,d[l]=null,r(c(void 0,!0))),d[i]=!0}),e.on("readable",v.bind(null,d)),d};module.exports=h;
},{"./end-of-stream":"H+8M"}],"vhjG":[function(require,module,exports) {
"use strict";var e;module.exports=k,k.ReadableState=E;var t=require("events").EventEmitter,n=function(e,t){return e.listeners(t).length},r=require("./internal/streams/stream"),i=require("buffer").Buffer,a=global.Uint8Array||function(){};function o(e){return i.from(e)}function d(e){return i.isBuffer(e)||e instanceof a}var s,l=require("util");s=l&&l.debuglog?l.debuglog("stream"):function(){};var u,p,h=require("./internal/streams/buffer_list"),f=require("./internal/streams/destroy"),c=require("./internal/streams/state"),g=c.getHighWaterMark,b=require("../errors").codes,m=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=require("../experimentalWarning"),S=w.emitExperimentalWarning;require("inherits")(k,r);var M=["error","close","destroy","pause","resume"];function R(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function E(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",r),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=require("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function k(t){if(e=e||require("./_stream_duplex"),!(this instanceof k))return new k(t);var n=this instanceof e;this._readableState=new E(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function L(e,t,n,r,a){s("readableAddChunk",t);var d,l=e._readableState;if(null===t)l.reading=!1,q(e,l);else if(a||(d=C(l,t)),d)e.emit("error",d);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=o(t)),r)l.endEmitted?e.emit("error",new v):j(e,l,t,!0);else if(l.ended)e.emit("error",new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?j(e,l,t,!1):O(e,l)):j(e,l,t,!1)}else r||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),O(e,t)}function C(e,t){var n;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=""),n=!0),L(this,e,t,!1,n)},k.prototype.unshift=function(e){return L(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return u||(u=require("string_decoder/").StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function D(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function W(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function q(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,B(e))}}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){s("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}function F(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function G(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Y,t,e))}function Y(e,t){s("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):x(this),null;if(0===(e=W(e,t))&&t.ended)return 0===t.length&&G(this),null;var r,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=W(n,t))),null===(r=e>0?V(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:g;function o(t,n){s("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",c),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",d),r.removeListener("end",g),r.removeListener("data",p),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function d(){s("onend"),e.end()}i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",o);var l=U(r);e.on("drain",l);var u=!1;function p(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){s("onerror",t),g(),e.removeListener("error",h),0===n(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",c),g()}function c(){s("onfinish"),e.removeListener("close",f),g()}function g(){s("unpipe"),r.unpipe(e)}return r.on("data",p),R(e,"error",h),e.once("close",f),e.once("finish",c),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},k.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?x(this):i.reading||process.nextTick(N,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(I,this),n},k.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(I,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(s("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(s("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<M.length;a++)e.on(M[a],this.emit.bind(this,M[a]));return this._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),void 0===p&&(p=require("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=V,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"./internal/streams/stream":"Y+bo","./internal/streams/buffer_list":"k/zV","./internal/streams/destroy":"JuBc","./internal/streams/state":"aB9a","../errors":"aJzw","../experimentalWarning":"RR96","inherits":"Cpyn","./_stream_duplex":"eB/G","string_decoder/":"lrG1","./internal/streams/async_iterator":"Y5/Y"}],"j/bM":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"aJzw","./_stream_duplex":"eB/G","inherits":"Cpyn"}],"b5j1":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"j/bM","inherits":"Cpyn"}],"Sljf":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"aJzw","./end-of-stream":"H+8M"}],"Prpx":[function(require,module,exports) {
var e=require("stream");"disable"===process.env.READABLE_STREAM&&e?(module.exports=e.Readable,Object.assign(module.exports,e),module.exports.Stream=e):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js"));
},{"./lib/_stream_readable.js":"vhjG","./lib/_stream_writable.js":"WdlR","./lib/_stream_duplex.js":"eB/G","./lib/_stream_transform.js":"j/bM","./lib/_stream_passthrough.js":"b5j1","./lib/internal/streams/end-of-stream.js":"H+8M","./lib/internal/streams/pipeline.js":"Sljf"}],"cOzY":[function(require,module,exports) {
var t=require("readable-stream"),e=require("end-of-stream"),i=require("inherits"),r=require("stream-shift"),n=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),s=function(t,e){t._corked?t.once("uncork",e):e()},o=function(t,e){t._autoDestroy&&t.destroy(e)},a=function(t,e){return function(i){i?o(t,"premature close"===i.message?null:i):e&&!t._ended&&t.end()}},d=function(t,e){return t?t._writableState&&t._writableState.finished?e():t._writableState?t.end(e):(t.end(),void e()):e()},h=function(){},l=function(e){return new t.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},u=function(e,i,r){if(!(this instanceof u))return new u(e,i,r);t.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),i&&this.setReadable(i)};i(u,t.Duplex),u.obj=function(t,e,i){return i||(i={}),i.objectMode=!0,i.highWaterMark=16,new u(t,e,i)},u.prototype.cork=function(){1==++this._corked&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},u.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var i=this,r=e(t,{writable:!0,readable:!1},a(this,this._forwardEnd)),n=function(){var t=i._ondrain;i._ondrain=null,t&&t()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=function(){i._writable.removeListener("drain",n),r()},this.uncork()}else this.end()},u.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var i=this,r=e(t,{writable:!1,readable:!0},a(this)),n=function(){i._forward()},s=function(){i.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:l(t),this._readable2.on("readable",n),this._readable2.on("end",s),this._unread=function(){i._readable2.removeListener("readable",n),i._readable2.removeListener("end",s),r()},this._forward()}},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=r(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},u.prototype.destroy=function(t,e){if(e||(e=h),this.destroyed)return e(null);this.destroyed=!0;var i=this;process.nextTick(function(){i._destroy(t),e(null)})},u.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(t,e,i){if(!this.destroyed)return this._corked?s(this,this._write.bind(this,t,e,i)):t===n?this._finish(i):this._writable?void(!1===this._writable.write(t)?this._ondrain=i:this.destroyed||i()):i()},u.prototype._finish=function(t){var e=this;this.emit("preend"),s(this,function(){d(e._forwardEnd&&e._writable,function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),s(e,t)})})},u.prototype.end=function(e,i,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof i?this.end(e,null,i):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(n),t.Writable.prototype.end.call(this,r))},module.exports=u;
},{"readable-stream":"Prpx","end-of-stream":"1Xq7","inherits":"Cpyn","stream-shift":"ThrY"}],"iaRQ":[function(require,module,exports) {
var e=require("pump"),r=require("inherits"),t=require("duplexify"),o=function(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]},i=function(i){var n=function(){var e=o(arguments);if(!(this instanceof n))return new n(e);t.call(this,null,null,i),e.length&&this.setPipeline(e)};return r(n,t),n.prototype.setPipeline=function(){var r=o(arguments),t=this,i=!1,n=r[0],s=r[r.length-1];s=s.readable?s:null,n=n.writable?n:null;var l=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",l),this.on("prefinish",function(){i||t.cork()}),e(r,function(e){if(t.removeListener("close",l),e)return t.destroy("premature close"===e.message?null:e);i=!0,!1===t._autoDestroy&&(t._autoDestroy=!0),t.uncork()}),this.destroyed)return l();this.setWritable(n),this.setReadable(s)},n};module.exports=i({autoDestroy:!1,destroy:!1}),module.exports.obj=i({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),module.exports.ctor=i;
},{"pump":"mbvh","inherits":"Cpyn","duplexify":"cOzY"}],"Nh0S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=new WeakMap,t=new WeakMap;function n(t){const n=e.get(t);return console.assert(null!=n,"'this' is expected an Event object, but got",t),n}function r(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function o(t,n){e.set(this,{eventTarget:t,event:n,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:n.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(n);for(let e=0;e<r.length;++e){const t=r[e];t in this||Object.defineProperty(this,t,l(t))}}function l(e){return{get(){return n(this).event[e]},set(t){n(this).event[e]=t},configurable:!0,enumerable:!0}}function i(e){return{value(){const t=n(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function s(e,t){const n=Object.keys(t);if(0===n.length)return e;function r(t,n){e.call(this,t,n)}r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let o=0;o<n.length;++o){const s=n[o];if(!(s in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,s).value;Object.defineProperty(r.prototype,s,e?i(s):l(s))}}return r}function u(e){if(null==e||e===Object.prototype)return o;let n=t.get(e);return null==n&&(n=s(u(Object.getPrototypeOf(e)),e),t.set(e,n)),n}function a(e,t){return new(u(Object.getPrototypeOf(t)))(e,t)}function c(e){return n(e).immediateStopped}function p(e,t){n(e).eventPhase=t}function f(e,t){n(e).currentTarget=t}function d(e,t){n(e).passiveListener=t}o.prototype={get type(){return n(this).event.type},get target(){return n(this).eventTarget},get currentTarget(){return n(this).currentTarget},composedPath(){const e=n(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return n(this).eventPhase},stopPropagation(){const e=n(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=n(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(n(this).event.bubbles)},get cancelable(){return Boolean(n(this).event.cancelable)},preventDefault(){r(n(this))},get defaultPrevented(){return n(this).canceled},get composed(){return Boolean(n(this).event.composed)},get timeStamp(){return n(this).timeStamp},get srcElement(){return n(this).eventTarget},get cancelBubble(){return n(this).stopped},set cancelBubble(e){if(!e)return;const t=n(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!n(this).canceled},set returnValue(e){e||r(n(this))},initEvent(){}},Object.defineProperty(o.prototype,"constructor",{value:o,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(o.prototype,window.Event.prototype),t.set(window.Event.prototype,o));const v=new WeakMap,y=1,g=2,b=3;function h(e){return null!==e&&"object"==typeof e}function w(e){const t=v.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function m(e){return{get(){let t=w(this).get(e);for(;null!=t;){if(t.listenerType===b)return t.listener;t=t.next}return null},set(t){"function"==typeof t||h(t)||(t=null);const n=w(this);let r=null,o=n.get(e);for(;null!=o;)o.listenerType===b?null!==r?r.next=o.next:null!==o.next?n.set(e,o.next):n.delete(e):r=o,o=o.next;if(null!==t){const o={listener:t,listenerType:b,passive:!1,once:!1,next:null};null===r?n.set(e,o):r.next=o}},configurable:!0,enumerable:!0}}function x(e,t){Object.defineProperty(e,`on${t}`,m(t))}function T(e){function t(){P.call(this)}t.prototype=Object.create(P.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)x(t.prototype,e[n]);return t}function P(){if(!(this instanceof P)){if(1===arguments.length&&Array.isArray(arguments[0]))return T(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return T(e)}throw new TypeError("Cannot call a class as a function")}v.set(this,new Map)}P.prototype={addEventListener(e,t,n){if(null==t)return;if("function"!=typeof t&&!h(t))throw new TypeError("'listener' should be a function or an object.");const r=w(this),o=h(n),l=(o?Boolean(n.capture):Boolean(n))?1:2,i={listener:t,listenerType:l,passive:o&&Boolean(n.passive),once:o&&Boolean(n.once),next:null};let s=r.get(e);if(void 0===s)return void r.set(e,i);let u=null;for(;null!=s;){if(s.listener===t&&s.listenerType===l)return;u=s,s=s.next}u.next=i},removeEventListener(e,t,n){if(null==t)return;const r=w(this),o=(h(n)?Boolean(n.capture):Boolean(n))?1:2;let l=null,i=r.get(e);for(;null!=i;){if(i.listener===t&&i.listenerType===o)return void(null!==l?l.next=i.next:null!==i.next?r.set(e,i.next):r.delete(e));l=i,i=i.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=w(this),n=e.type;let r=t.get(n);if(null==r)return!0;const o=a(this,e);let l=null;for(;null!=r;){if(r.once?null!==l?l.next=r.next:null!==r.next?t.set(n,r.next):t.delete(n):l=r,d(o,r.passive?r.listener:null),"function"==typeof r.listener)try{r.listener.call(this,o)}catch(i){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(i)}else r.listenerType!==b&&"function"==typeof r.listener.handleEvent&&r.listener.handleEvent(o);if(c(o))break;r=r.next}return d(o,null),p(o,0),f(o,null),!o.defaultPrevented}},Object.defineProperty(P.prototype,"constructor",{value:P,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(P.prototype,window.EventTarget.prototype),exports.defineEventAttribute=x,exports.EventTarget=P,exports.default=P,module.exports=P,module.exports.EventTarget=module.exports.default=P,module.exports.defineEventAttribute=x;
},{}],"gxpy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("event-target-shim");class e extends t.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const t=n.get(this);if("boolean"!=typeof t)throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${null===this?"null":typeof this}`);return t}}function o(){const o=Object.create(e.prototype);return t.EventTarget.call(o),n.set(o,!1),o}function r(t){!1===n.get(t)&&(n.set(t,!0),t.dispatchEvent({type:"abort"}))}t.defineEventAttribute(e.prototype,"abort");const n=new WeakMap;Object.defineProperties(e.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(e.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class l{constructor(){a.set(this,o())}get signal(){return s(this)}abort(){r(s(this))}}const a=new WeakMap;function s(t){const e=a.get(t);if(null==e)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===t?"null":typeof t}`);return e}Object.defineProperties(l.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(l.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),exports.AbortController=l,exports.AbortSignal=e,exports.default=l,module.exports=l,module.exports.AbortController=module.exports.default=l,module.exports.AbortSignal=e;
},{"event-target-shim":"Nh0S"}],"/pfg":[function(require,module,exports) {
var n=require("constants"),c=process.cwd,t=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return t||(t=c.call(process)),t};try{process.cwd()}catch(u){}var r=process.chdir;function e(c){var t,r;function e(n){return n?function(t,o,r){return n.call(c,t,o,function(n){h(n)&&(n=null),r&&r.apply(this,arguments)})}:n}function i(n){return n?function(t,o){try{return n.call(c,t,o)}catch(u){if(!h(u))throw u}}:n}function l(n){return n?function(t,o,r,e){return n.call(c,t,o,r,function(n){h(n)&&(n=null),e&&e.apply(this,arguments)})}:n}function f(n){return n?function(t,o,r){try{return n.call(c,t,o,r)}catch(u){if(!h(u))throw u}}:n}function s(n){return n?function(t,o,r){function e(n,c){c&&(c.uid<0&&(c.uid+=4294967296),c.gid<0&&(c.gid+=4294967296)),r&&r.apply(this,arguments)}return"function"==typeof o&&(r=o,o=null),o?n.call(c,t,o,e):n.call(c,t,e)}:n}function a(n){return n?function(t,o){var r=o?n.call(c,t,o):n.call(c,t);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:n}function h(n){return!n||("ENOSYS"===n.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==n.code&&"EPERM"!==n.code))}n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(c){c.lchmod=function(t,o,r){c.open(t,n.O_WRONLY|n.O_SYMLINK,o,function(n,t){n?r&&r(n):c.fchmod(t,o,function(n){c.close(t,function(c){r&&r(n||c)})})})},c.lchmodSync=function(t,o){var r,e=c.openSync(t,n.O_WRONLY|n.O_SYMLINK,o),i=!0;try{r=c.fchmodSync(e,o),i=!1}finally{if(i)try{c.closeSync(e)}catch(u){}else c.closeSync(e)}return r}}(c),c.lutimes||function(c){n.hasOwnProperty("O_SYMLINK")?(c.lutimes=function(t,o,r,e){c.open(t,n.O_SYMLINK,function(n,t){n?e&&e(n):c.futimes(t,o,r,function(n){c.close(t,function(c){e&&e(n||c)})})})},c.lutimesSync=function(t,o,r){var e,i=c.openSync(t,n.O_SYMLINK),l=!0;try{e=c.futimesSync(i,o,r),l=!1}finally{if(l)try{c.closeSync(i)}catch(u){}else c.closeSync(i)}return e}):(c.lutimes=function(n,c,t,o){o&&process.nextTick(o)},c.lutimesSync=function(){})}(c),c.chown=l(c.chown),c.fchown=l(c.fchown),c.lchown=l(c.lchown),c.chmod=e(c.chmod),c.fchmod=e(c.fchmod),c.lchmod=e(c.lchmod),c.chownSync=f(c.chownSync),c.fchownSync=f(c.fchownSync),c.lchownSync=f(c.lchownSync),c.chmodSync=i(c.chmodSync),c.fchmodSync=i(c.fchmodSync),c.lchmodSync=i(c.lchmodSync),c.stat=s(c.stat),c.fstat=s(c.fstat),c.lstat=s(c.lstat),c.statSync=a(c.statSync),c.fstatSync=a(c.fstatSync),c.lstatSync=a(c.lstatSync),c.lchmod||(c.lchmod=function(n,c,t){t&&process.nextTick(t)},c.lchmodSync=function(){}),c.lchown||(c.lchown=function(n,c,t,o){o&&process.nextTick(o)},c.lchownSync=function(){}),"win32"===o&&(c.rename=(t=c.rename,function(n,o,r){var e=Date.now(),u=0;t(n,o,function i(l){if(l&&("EACCES"===l.code||"EPERM"===l.code)&&Date.now()-e<6e4)return setTimeout(function(){c.stat(o,function(c,e){c&&"ENOENT"===c.code?t(n,o,i):r(l)})},u),void(u<100&&(u+=10));r&&r(l)})})),c.read=function(n){function t(t,o,r,e,u,i){var l;if(i&&"function"==typeof i){var f=0;l=function(s,a,h){if(s&&"EAGAIN"===s.code&&f<10)return f++,n.call(c,t,o,r,e,u,l);i.apply(this,arguments)}}return n.call(c,t,o,r,e,u,l)}return t.__proto__=n,t}(c.read),c.readSync=(r=c.readSync,function(n,t,o,e,i){for(var l=0;;)try{return r.call(c,n,t,o,e,i)}catch(u){if("EAGAIN"===u.code&&l<10){l++;continue}throw u}})}process.chdir=function(n){t=null,r.call(process,n)},module.exports=e;
},{}],"0ngX":[function(require,module,exports) {
var t=require("stream").Stream;function i(i){return{ReadStream:function s(e,r){if(!(this instanceof s))return new s(e,r);t.call(this);var h=this;this.path=e;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;r=r||{};var n=Object.keys(r);for(var a=0,o=n.length;a<o;a++){var f=n[a];this[f]=r[f]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){h._read()});i.open(this.path,this.flags,this.mode,function(t,i){if(t)return h.emit("error",t),void(h.readable=!1);h.fd=i,h.emit("open",i),h._read()})},WriteStream:function s(e,r){if(!(this instanceof s))return new s(e,r);t.call(this);this.path=e;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;r=r||{};var h=Object.keys(r);for(var n=0,a=h.length;n<a;n++){var o=h[n];this[o]=r[o]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=i.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}module.exports=i;
},{}],"mJJO":[function(require,module,exports) {
"use strict";function e(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}module.exports=e;
},{}],"AhDr":[function(require,module,exports) {
var e=require("fs"),t=require("./polyfills.js"),n=require("./legacy-streams.js"),o=require("./clone.js"),r=[],i=require("util");function c(){}var u=c;function p(e){t(e),e.gracefulify=p,e.FileReadStream=d,e.FileWriteStream=E,e.createReadStream=function(e,t){return new d(e,t)},e.createWriteStream=function(e,t){return new E(e,t)};var o=e.readFile;e.readFile=function(e,t,n){"function"==typeof t&&(n=t,t=null);return function e(t,n,r){return o(t,n,function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof r&&r.apply(this,arguments),f()):a([e,[t,n,r]])})}(e,t,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){"function"==typeof n&&(o=n,n=null);return function e(t,n,o,i){return r(t,n,o,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof i&&i.apply(this,arguments),f()):a([e,[t,n,o,i]])})}(e,t,n,o)};var i=e.appendFile;i&&(e.appendFile=function(e,t,n,o){"function"==typeof n&&(o=n,n=null);return function e(t,n,o,r){return i(t,n,o,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof r&&r.apply(this,arguments),f()):a([e,[t,n,o,r]])})}(e,t,n,o)});var c=e.readdir;function u(t){return c.apply(e,t)}if(e.readdir=function(e,t,n){var o=[e];"function"!=typeof t?o.push(t):n=t;return o.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),f()):a([u,[o]])}),u(o)},"v0.8"===process.version.substr(0,4)){var s=n(e);d=s.ReadStream,E=s.WriteStream}var l=e.ReadStream;l&&(d.prototype=Object.create(l.prototype),d.prototype.open=function(){var e=this;h(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var y=e.WriteStream;function d(e,t){return this instanceof d?(l.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function E(e,t){return this instanceof E?(y.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}y&&(E.prototype=Object.create(y.prototype),E.prototype.open=function(){var e=this;h(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),e.ReadStream=d,e.WriteStream=E;var m=e.open;function h(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,r){return m(t,n,o,function(i,c){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof r&&r.apply(this,arguments),f()):a([e,[t,n,o,r]])})}(e,t,n,o)}return e.open=h,e}function a(e){u("ENQUEUE",e[0].name,e[1]),r.push(e)}function f(){var e=r.shift();e&&(u("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}i.debuglog?u=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var e=i.format.apply(i,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){u(r),require("assert").equal(r.length,0)}),module.exports=p(o(e)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!e.__patched&&(module.exports=p(e),e.__patched=!0),module.exports.close=function(t){return function(n,o){return t.call(e,n,function(e){e||f(),"function"==typeof o&&o.apply(this,arguments)})}}(e.close),module.exports.closeSync=function(t){return function(n){var o=t.apply(e,arguments);return f(),o}}(e.closeSync),/\bgraceful-fs\b/.test(e.closeSync.toString())||(e.closeSync=module.exports.closeSync,e.close=module.exports.close);
},{"./polyfills.js":"/pfg","./legacy-streams.js":"0ngX","./clone.js":"mJJO"}],"x1dN":[function(require,module,exports) {
var e;exports=module.exports=f,e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},exports.SEMVER_SPEC_VERSION="2.0.0";var r=256,t=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,o=exports.re=[],s=exports.src=[],i=exports.tokens={},a=0;function E(e){i[e]=a++}E("NUMERICIDENTIFIER"),s[i.NUMERICIDENTIFIER]="0|[1-9]\\d*",E("NUMERICIDENTIFIERLOOSE"),s[i.NUMERICIDENTIFIERLOOSE]="[0-9]+",E("NONNUMERICIDENTIFIER"),s[i.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",E("MAINVERSION"),s[i.MAINVERSION]="("+s[i.NUMERICIDENTIFIER]+")\\.("+s[i.NUMERICIDENTIFIER]+")\\.("+s[i.NUMERICIDENTIFIER]+")",E("MAINVERSIONLOOSE"),s[i.MAINVERSIONLOOSE]="("+s[i.NUMERICIDENTIFIERLOOSE]+")\\.("+s[i.NUMERICIDENTIFIERLOOSE]+")\\.("+s[i.NUMERICIDENTIFIERLOOSE]+")",E("PRERELEASEIDENTIFIER"),s[i.PRERELEASEIDENTIFIER]="(?:"+s[i.NUMERICIDENTIFIER]+"|"+s[i.NONNUMERICIDENTIFIER]+")",E("PRERELEASEIDENTIFIERLOOSE"),s[i.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[i.NUMERICIDENTIFIERLOOSE]+"|"+s[i.NONNUMERICIDENTIFIER]+")",E("PRERELEASE"),s[i.PRERELEASE]="(?:-("+s[i.PRERELEASEIDENTIFIER]+"(?:\\."+s[i.PRERELEASEIDENTIFIER]+")*))",E("PRERELEASELOOSE"),s[i.PRERELEASELOOSE]="(?:-?("+s[i.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[i.PRERELEASEIDENTIFIERLOOSE]+")*))",E("BUILDIDENTIFIER"),s[i.BUILDIDENTIFIER]="[0-9A-Za-z-]+",E("BUILD"),s[i.BUILD]="(?:\\+("+s[i.BUILDIDENTIFIER]+"(?:\\."+s[i.BUILDIDENTIFIER]+")*))",E("FULL"),E("FULLPLAIN"),s[i.FULLPLAIN]="v?"+s[i.MAINVERSION]+s[i.PRERELEASE]+"?"+s[i.BUILD]+"?",s[i.FULL]="^"+s[i.FULLPLAIN]+"$",E("LOOSEPLAIN"),s[i.LOOSEPLAIN]="[v=\\s]*"+s[i.MAINVERSIONLOOSE]+s[i.PRERELEASELOOSE]+"?"+s[i.BUILD]+"?",E("LOOSE"),s[i.LOOSE]="^"+s[i.LOOSEPLAIN]+"$",E("GTLT"),s[i.GTLT]="((?:<|>)?=?)",E("XRANGEIDENTIFIERLOOSE"),s[i.XRANGEIDENTIFIERLOOSE]=s[i.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",E("XRANGEIDENTIFIER"),s[i.XRANGEIDENTIFIER]=s[i.NUMERICIDENTIFIER]+"|x|X|\\*",E("XRANGEPLAIN"),s[i.XRANGEPLAIN]="[v=\\s]*("+s[i.XRANGEIDENTIFIER]+")(?:\\.("+s[i.XRANGEIDENTIFIER]+")(?:\\.("+s[i.XRANGEIDENTIFIER]+")(?:"+s[i.PRERELEASE]+")?"+s[i.BUILD]+"?)?)?",E("XRANGEPLAINLOOSE"),s[i.XRANGEPLAINLOOSE]="[v=\\s]*("+s[i.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[i.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[i.XRANGEIDENTIFIERLOOSE]+")(?:"+s[i.PRERELEASELOOSE]+")?"+s[i.BUILD]+"?)?)?",E("XRANGE"),s[i.XRANGE]="^"+s[i.GTLT]+"\\s*"+s[i.XRANGEPLAIN]+"$",E("XRANGELOOSE"),s[i.XRANGELOOSE]="^"+s[i.GTLT]+"\\s*"+s[i.XRANGEPLAINLOOSE]+"$",E("COERCE"),s[i.COERCE]="(^|[^\\d])(\\d{1,"+n+"})(?:\\.(\\d{1,"+n+"}))?(?:\\.(\\d{1,"+n+"}))?(?:$|[^\\d])",E("COERCERTL"),o[i.COERCERTL]=new RegExp(s[i.COERCE],"g"),E("LONETILDE"),s[i.LONETILDE]="(?:~>?)",E("TILDETRIM"),s[i.TILDETRIM]="(\\s*)"+s[i.LONETILDE]+"\\s+",o[i.TILDETRIM]=new RegExp(s[i.TILDETRIM],"g");var p="$1~";E("TILDE"),s[i.TILDE]="^"+s[i.LONETILDE]+s[i.XRANGEPLAIN]+"$",E("TILDELOOSE"),s[i.TILDELOOSE]="^"+s[i.LONETILDE]+s[i.XRANGEPLAINLOOSE]+"$",E("LONECARET"),s[i.LONECARET]="(?:\\^)",E("CARETTRIM"),s[i.CARETTRIM]="(\\s*)"+s[i.LONECARET]+"\\s+",o[i.CARETTRIM]=new RegExp(s[i.CARETTRIM],"g");var u="$1^";E("CARET"),s[i.CARET]="^"+s[i.LONECARET]+s[i.XRANGEPLAIN]+"$",E("CARETLOOSE"),s[i.CARETLOOSE]="^"+s[i.LONECARET]+s[i.XRANGEPLAINLOOSE]+"$",E("COMPARATORLOOSE"),s[i.COMPARATORLOOSE]="^"+s[i.GTLT]+"\\s*("+s[i.LOOSEPLAIN]+")$|^$",E("COMPARATOR"),s[i.COMPARATOR]="^"+s[i.GTLT]+"\\s*("+s[i.FULLPLAIN]+")$|^$",E("COMPARATORTRIM"),s[i.COMPARATORTRIM]="(\\s*)"+s[i.GTLT]+"\\s*("+s[i.LOOSEPLAIN]+"|"+s[i.XRANGEPLAIN]+")",o[i.COMPARATORTRIM]=new RegExp(s[i.COMPARATORTRIM],"g");var c="$1$2$3";E("HYPHENRANGE"),s[i.HYPHENRANGE]="^\\s*("+s[i.XRANGEPLAIN]+")\\s+-\\s+("+s[i.XRANGEPLAIN]+")\\s*$",E("HYPHENRANGELOOSE"),s[i.HYPHENRANGELOOSE]="^\\s*("+s[i.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[i.XRANGEPLAINLOOSE]+")\\s*$",E("STAR"),s[i.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<a;l++)e(l,s[l]),o[l]||(o[l]=new RegExp(s[l]));function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof f)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[i.LOOSE]:o[i.FULL]).test(e))return null;try{return new f(e,t)}catch(n){return null}}function I(e,r){var t=h(e,r);return t?t.version:null}function R(e,r){var t=h(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null}function f(n,s){if(s&&"object"==typeof s||(s={loose:!!s,includePrerelease:!1}),n instanceof f){if(n.loose===s.loose)return n;n=n.version}else if("string"!=typeof n)throw new TypeError("Invalid Version: "+n);if(n.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof f))return new f(n,s);e("SemVer",n,s),this.options=s,this.loose=!!s.loose;var a=n.trim().match(s.loose?o[i.LOOSE]:o[i.FULL]);if(!a)throw new TypeError("Invalid Version: "+n);if(this.raw=n,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>t||this.major<0)throw new TypeError("Invalid major version");if(this.minor>t||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>t||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var r=+e;if(r>=0&&r<t)return r}return e}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}function O(e,r,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new f(e,t).inc(r,n).version}catch(o){return null}}function N(e,r){if(M(e,r))return null;var t=h(e),n=h(r),o="";if(t.prerelease.length||n.prerelease.length){o="pre";var s="prerelease"}for(var i in t)if(("major"===i||"minor"===i||"patch"===i)&&t[i]!==n[i])return o+i;return s}exports.parse=h,exports.valid=I,exports.clean=R,exports.SemVer=f,f.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},f.prototype.toString=function(){return this.version},f.prototype.compare=function(r){return e("SemVer.compare",this.version,this.options,r),r instanceof f||(r=new f(r,this.options)),this.compareMain(r)||this.comparePre(r)},f.prototype.compareMain=function(e){return e instanceof f||(e=new f(e,this.options)),v(this.major,e.major)||v(this.minor,e.minor)||v(this.patch,e.patch)},f.prototype.comparePre=function(r){if(r instanceof f||(r=new f(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=r.prerelease[t];if(e("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return v(n,o)}while(++t)},f.prototype.compareBuild=function(r){r instanceof f||(r=new f(r,this.options));var t=0;do{var n=this.build[t],o=r.build[t];if(e("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return v(n,o)}while(++t)},f.prototype.inc=function(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r),this.inc("pre",r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},exports.inc=O,exports.diff=N,exports.compareIdentifiers=v;var L=/^[0-9]+$/;function v(e,r){var t=L.test(e),n=L.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1}function m(e,r){return v(r,e)}function T(e,r){return new f(e,r).major}function A(e,r){return new f(e,r).minor}function S(e,r){return new f(e,r).patch}function w(e,r,t){return new f(e,t).compare(new f(r,t))}function g(e,r){return w(e,r,!0)}function P(e,r,t){var n=new f(e,t),o=new f(r,t);return n.compare(o)||n.compareBuild(o)}function C(e,r,t){return w(r,e,t)}function d(e,r){return e.sort(function(e,t){return exports.compareBuild(e,t,r)})}function D(e,r){return e.sort(function(e,t){return exports.compareBuild(t,e,r)})}function x(e,r,t){return w(e,r,t)>0}function y(e,r,t){return w(e,r,t)<0}function M(e,r,t){return 0===w(e,r,t)}function F(e,r,t){return 0!==w(e,r,t)}function G(e,r,t){return w(e,r,t)>=0}function U(e,r,t){return w(e,r,t)<=0}function j(e,r,t,n){switch(r){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e===t;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e!==t;case"":case"=":case"==":return M(e,t,n);case"!=":return F(e,t,n);case">":return x(e,t,n);case">=":return G(e,t,n);case"<":return y(e,t,n);case"<=":return U(e,t,n);default:throw new TypeError("Invalid operator: "+r)}}function X(r,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),r instanceof X){if(r.loose===!!t.loose)return r;r=r.value}if(!(this instanceof X))return new X(r,t);e("comparator",r,t),this.options=t,this.loose=!!t.loose,this.parse(r),this.semver===b?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}exports.rcompareIdentifiers=m,exports.major=T,exports.minor=A,exports.patch=S,exports.compare=w,exports.compareLoose=g,exports.compareBuild=P,exports.rcompare=C,exports.sort=d,exports.rsort=D,exports.gt=x,exports.lt=y,exports.eq=M,exports.neq=F,exports.gte=G,exports.lte=U,exports.cmp=j,exports.Comparator=X;var b={};function $(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof $)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new $(e.raw,r);if(e instanceof X)return new $(e.value,r);if(!(this instanceof $))return new $(e,r);if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function B(e,r){for(var t=!0,n=e.slice(),o=n.pop();t&&n.length;)t=n.every(function(e){return o.intersects(e,r)}),o=n.pop();return t}function V(e,r){return new $(e,r).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function k(r,t){return e("comp",r,t),r=q(r,t),e("caret",r),r=Y(r,t),e("tildes",r),r=Z(r,t),e("xrange",r),r=K(r,t),e("stars",r),r}function H(e){return!e||"x"===e.toLowerCase()||"*"===e}function Y(e,r){return e.trim().split(/\s+/).map(function(e){return _(e,r)}).join(" ")}function _(r,t){var n=t.loose?o[i.TILDELOOSE]:o[i.TILDE];return r.replace(n,function(t,n,o,s,i){var a;return e("tilde",r,t,n,o,s,i),H(n)?a="":H(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":H(s)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(e("replaceTilde pr",i),a=">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0",e("tilde return",a),a})}function q(e,r){return e.trim().split(/\s+/).map(function(e){return z(e,r)}).join(" ")}function z(r,t){e("caret",r,t);var n=t.loose?o[i.CARETLOOSE]:o[i.CARET];return r.replace(n,function(t,n,o,s,i){var a;return e("caret",r,t,n,o,s,i),H(n)?a="":H(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":H(s)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(e("replaceCaret pr",i),a="0"===n?"0"===o?">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+"-"+i+" <"+(+n+1)+".0.0"):(e("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+s+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+" <"+(+n+1)+".0.0"),e("caret return",a),a})}function Z(r,t){return e("replaceXRanges",r,t),r.split(/\s+/).map(function(e){return J(e,t)}).join(" ")}function J(r,t){r=r.trim();var n=t.loose?o[i.XRANGELOOSE]:o[i.XRANGE];return r.replace(n,function(n,o,s,i,a,E){e("xRange",r,n,o,s,i,a,E);var p=H(s),u=p||H(i),c=u||H(a),l=c;return"="===o&&l&&(o=""),E=t.includePrerelease?"-0":"",p?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&l?(u&&(i=0),a=0,">"===o?(o=">=",u?(s=+s+1,i=0,a=0):(i=+i+1,a=0)):"<="===o&&(o="<",u?s=+s+1:i=+i+1),n=o+s+"."+i+"."+a+E):u?n=">="+s+".0.0"+E+" <"+(+s+1)+".0.0"+E:c&&(n=">="+s+"."+i+".0"+E+" <"+s+"."+(+i+1)+".0"+E),e("xRange return",n),n})}function K(r,t){return e("replaceStars",r,t),r.trim().replace(o[i.STAR],"")}function Q(e,r,t,n,o,s,i,a,E,p,u,c,l){return((r=H(t)?"":H(n)?">="+t+".0.0":H(o)?">="+t+"."+n+".0":">="+r)+" "+(a=H(E)?"":H(p)?"<"+(+E+1)+".0.0":H(u)?"<"+E+"."+(+p+1)+".0":c?"<="+E+"."+p+"."+u+"-"+c:"<="+a)).trim()}function W(r,t,n){for(var o=0;o<r.length;o++)if(!r[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<r.length;o++)if(e(r[o].semver),r[o].semver!==b&&r[o].semver.prerelease.length>0){var s=r[o].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function ee(e,r,t){try{r=new $(r,t)}catch(n){return!1}return r.test(e)}function re(e,r,t){var n=null,o=null;try{var s=new $(r,t)}catch(i){return null}return e.forEach(function(e){s.test(e)&&(n&&-1!==o.compare(e)||(o=new f(n=e,t)))}),n}function te(e,r,t){var n=null,o=null;try{var s=new $(r,t)}catch(i){return null}return e.forEach(function(e){s.test(e)&&(n&&1!==o.compare(e)||(o=new f(n=e,t)))}),n}function ne(e,r){e=new $(e,r);var t=new f("0.0.0");if(e.test(t))return t;if(t=new f("0.0.0-0"),e.test(t))return t;t=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach(function(e){var r=new f(e.semver.version);switch(e.operator){case">":0===r.prerelease.length?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":t&&!x(t,r)||(t=r);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}return t&&e.test(t)?t:null}function oe(e,r){try{return new $(e,r).range||"*"}catch(t){return null}}function se(e,r,t){return ae(e,r,"<",t)}function ie(e,r,t){return ae(e,r,">",t)}function ae(e,r,t,n){var o,s,i,a,E;switch(e=new f(e,n),r=new $(r,n),t){case">":o=x,s=U,i=y,a=">",E=">=";break;case"<":o=y,s=G,i=x,a="<",E="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ee(e,r,n))return!1;for(var p=0;p<r.set.length;++p){var u=r.set[p],c=null,l=null;if(u.forEach(function(e){e.semver===b&&(e=new X(">=0.0.0")),c=c||e,l=l||e,o(e.semver,c.semver,n)?c=e:i(e.semver,l.semver,n)&&(l=e)}),c.operator===a||c.operator===E)return!1;if((!l.operator||l.operator===a)&&s(e,l.semver))return!1;if(l.operator===E&&i(e,l.semver))return!1}return!0}function Ee(e,r){var t=h(e,r);return t&&t.prerelease.length?t.prerelease:null}function pe(e,r,t){return e=new $(e,t),r=new $(r,t),e.intersects(r)}function ue(e,r){if(e instanceof f)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var t=null;if((r=r||{}).rtl){for(var n;(n=o[i.COERCERTL].exec(e))&&(!t||t.index+t[0].length!==e.length);)t&&n.index+n[0].length===t.index+t[0].length||(t=n),o[i.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;o[i.COERCERTL].lastIndex=-1}else t=e.match(o[i.COERCE]);return null===t?null:h(t[2]+"."+(t[3]||"0")+"."+(t[4]||"0"),r)}X.prototype.parse=function(e){var r=this.options.loose?o[i.COMPARATORLOOSE]:o[i.COMPARATOR],t=e.match(r);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new f(t[2],this.options.loose):this.semver=b},X.prototype.toString=function(){return this.value},X.prototype.test=function(r){if(e("Comparator.test",r,this.options.loose),this.semver===b||r===b)return!0;if("string"==typeof r)try{r=new f(r,this.options)}catch(t){return!1}return j(r,this.operator,this.semver,this.options)},X.prototype.intersects=function(e,r){if(!(e instanceof X))throw new TypeError("a Comparator is required");var t;if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),""===this.operator)return""===this.value||(t=new $(e.value,r),ee(this.value,t,r));if(""===e.operator)return""===e.value||(t=new $(this.value,r),ee(e.semver,t,r));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=j(this.semver,"<",e.semver,r)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),E=j(this.semver,">",e.semver,r)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||s&&i||a||E},exports.Range=$,$.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},$.prototype.toString=function(){return this.range},$.prototype.parseRange=function(r){var t=this.options.loose;r=r.trim();var n=t?o[i.HYPHENRANGELOOSE]:o[i.HYPHENRANGE];r=r.replace(n,Q),e("hyphen replace",r),r=r.replace(o[i.COMPARATORTRIM],c),e("comparator trim",r,o[i.COMPARATORTRIM]),r=(r=(r=r.replace(o[i.TILDETRIM],p)).replace(o[i.CARETTRIM],u)).split(/\s+/).join(" ");var s=t?o[i.COMPARATORLOOSE]:o[i.COMPARATOR],a=r.split(" ").map(function(e){return k(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter(function(e){return!!e.match(s)})),a=a.map(function(e){return new X(e,this.options)},this)},$.prototype.intersects=function(e,r){if(!(e instanceof $))throw new TypeError("a Range is required");return this.set.some(function(t){return B(t,r)&&e.set.some(function(e){return B(e,r)&&t.every(function(t){return e.every(function(e){return t.intersects(e,r)})})})})},exports.toComparators=V,$.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(t){return!1}for(var r=0;r<this.set.length;r++)if(W(this.set[r],e,this.options))return!0;return!1},exports.satisfies=ee,exports.maxSatisfying=re,exports.minSatisfying=te,exports.minVersion=ne,exports.validRange=oe,exports.ltr=se,exports.gtr=ie,exports.outside=ae,exports.prerelease=Ee,exports.intersects=pe,exports.coerce=ue;
},{}],"XG2C":[function(require,module,exports) {
"use strict";const r=require("fs"),e=require("path"),{promisify:t}=require("util"),s=require("semver"),o={mode:511&~process.umask(),fs:r},i=s.satisfies(process.version,">=10.12.0"),n=r=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(r.replace(e.parse(r).root,""))){const e=new Error(`Path contains invalid characters: ${r}`);throw e.code="EINVAL",e}}},c=r=>{const e=new Error(`operation not permitted, mkdir '${r}'`);return e.code="EPERM",e.errno=-4048,e.path=r,e.syscall="mkdir",e},a=async(s,a)=>{n(s),a={...o,...a};const d=t(a.fs.mkdir),m=t(a.fs.stat);if(i&&a.fs.mkdir===r.mkdir){const r=e.resolve(s);return await d(r,{mode:a.mode,recursive:!0}),r}const f=async r=>{try{return await d(r,a.mode),r}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(e.dirname(r)===r)throw c(r);if(t.message.includes("null bytes"))throw t;return await f(e.dirname(r)),f(r)}if(!(await m(r)).isDirectory())throw t;return r}};return f(e.resolve(s))};module.exports=a,module.exports.sync=((t,s)=>{if(n(t),s={...o,...s},i&&s.fs.mkdirSync===r.mkdirSync){const o=e.resolve(t);return r.mkdirSync(o,{mode:s.mode,recursive:!0}),o}const a=r=>{try{s.fs.mkdirSync(r,s.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(e.dirname(r)===r)throw c(r);if(t.message.includes("null bytes"))throw t;return a(e.dirname(r)),a(r)}try{if(!s.fs.statSync(r).isDirectory())throw new Error("The path is not a directory")}catch(o){throw t}}return r};return a(e.resolve(t))});
},{"semver":"x1dN"}],"D5UJ":[function(require,module,exports) {
"use strict";const o=require("os"),s=require("path"),r=o.homedir(),{env:e}=process;exports.data=e.XDG_DATA_HOME||(r?s.join(r,".local","share"):void 0),exports.config=e.XDG_CONFIG_HOME||(r?s.join(r,".config"):void 0),exports.cache=e.XDG_CACHE_HOME||(r?s.join(r,".cache"):void 0),exports.runtime=e.XDG_RUNTIME_DIR||void 0,exports.dataDirs=(e.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":"),exports.data&&exports.dataDirs.unshift(exports.data),exports.configDirs=(e.XDG_CONFIG_DIRS||"/etc/xdg").split(":"),exports.config&&exports.configDirs.unshift(exports.config);
},{}],"1jJy":[function(require,module,exports) {
!function(){var t;function e(h,r){var s=this instanceof e?this:t;if(s.reset(r),"string"==typeof h&&h.length>0&&s.hash(h),s!==this)return s}e.prototype.hash=function(t){var e,h,r,s,i;switch(i=t.length,this.len+=i,h=this.k1,r=0,this.rem){case 0:h^=i>r?65535&t.charCodeAt(r++):0;case 1:h^=i>r?(65535&t.charCodeAt(r++))<<8:0;case 2:h^=i>r?(65535&t.charCodeAt(r++))<<16:0;case 3:h^=i>r?(255&t.charCodeAt(r))<<24:0,h^=i>r?(65280&t.charCodeAt(r++))>>8:0}if(this.rem=i+this.rem&3,(i-=this.rem)>0){for(e=this.h1;e=5*(e=(e^=h=13715*(h=(h=11601*h+3432906752*(65535&h)&4294967295)<<15|h>>>17)+461832192*(65535&h)&4294967295)<<13|e>>>19)+3864292196&4294967295,!(r>=i);)h=65535&t.charCodeAt(r++)^(65535&t.charCodeAt(r++))<<8^(65535&t.charCodeAt(r++))<<16,h^=(255&(s=t.charCodeAt(r++)))<<24^(65280&s)>>8;switch(h=0,this.rem){case 3:h^=(65535&t.charCodeAt(r+2))<<16;case 2:h^=(65535&t.charCodeAt(r+1))<<8;case 1:h^=65535&t.charCodeAt(r)}this.h1=e}return this.k1=h,this},e.prototype.result=function(){var t,e;return t=this.k1,e=this.h1,t>0&&(e^=t=13715*(t=(t=11601*t+3432906752*(65535&t)&4294967295)<<15|t>>>17)+461832192*(65535&t)&4294967295),e^=this.len,e=51819*(e^=e>>>16)+2246770688*(65535&e)&4294967295,e=44597*(e^=e>>>13)+3266445312*(65535&e)&4294967295,(e^=e>>>16)>>>0},e.prototype.reset=function(t){return this.h1="number"==typeof t?t:0,this.rem=this.k1=this.len=0,this},t=new e,"undefined"!=typeof module?module.exports=e:this.MurmurHash3=e}();
},{}],"nK2L":[function(require,module,exports) {
module.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&module.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&module.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");
},{}],"bEfU":[function(require,module,exports) {
var e,t=require("assert"),r=require("./signals.js"),i=require("events");function s(){c&&(c=!1,r.forEach(function(e){try{process.removeListener(e,o[e])}catch(t){}}),process.emit=p,process.reallyExit=u,e.count-=1)}function n(t,r,i){e.emitted[t]||(e.emitted[t]=!0,e.emit(t,r,i))}"function"!=typeof i&&(i=i.EventEmitter),process.__signal_exit_emitter__?e=process.__signal_exit_emitter__:((e=process.__signal_exit_emitter__=new i).count=0,e.emitted={}),e.infinite||(e.setMaxListeners(1/0),e.infinite=!0),module.exports=function(r,i){t.equal(typeof r,"function","a callback must be provided for exit handler"),!1===c&&l();var n="exit";i&&i.alwaysLast&&(n="afterexit");return e.on(n,r),function(){e.removeListener(n,r),0===e.listeners("exit").length&&0===e.listeners("afterexit").length&&s()}},module.exports.unload=s;var o={};r.forEach(function(t){o[t]=function(){process.listeners(t).length===e.count&&(s(),n("exit",null,t),n("afterexit",null,t),process.kill(process.pid,t))}}),module.exports.signals=function(){return r},module.exports.load=l;var c=!1;function l(){c||(c=!0,e.count+=1,r=r.filter(function(e){try{return process.on(e,o[e]),!0}catch(t){return!1}}),process.emit=x,process.reallyExit=a)}var u=process.reallyExit;function a(e){process.exitCode=e||0,n("exit",process.exitCode,null),n("afterexit",process.exitCode,null),u.call(process,process.exitCode)}var p=process.emit;function x(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=p.apply(this,arguments);return n("exit",process.exitCode,null),n("afterexit",process.exitCode,null),r}return p.apply(this,arguments)}
},{"./signals.js":"nK2L"}],"P9rC":[function(require,module,exports) {
var e=require("is-typedarray").strict;module.exports=function(r){if(e(r)){var t=Buffer.from(r.buffer);return r.byteLength!==r.buffer.byteLength&&(t=t.slice(r.byteOffset,r.byteOffset+r.byteLength)),t}return Buffer.from(r)};
},{"is-typedarray":"ou1r"}],"duyH":[function(require,module,exports) {
"use strict";module.exports=w,module.exports.sync=y,module.exports._getTmpname=d,module.exports._cleanupOnExit=h;const e=require("fs"),t=require("imurmurhash"),n=require("signal-exit"),i=require("path"),c=require("is-typedarray"),r=require("typedarray-to-buffer"),{promisify:o}=require("util"),a={},u=function(){try{return require("worker_threads").threadId}catch(e){return 0}}();let s=0;function d(e){return e+"."+t(__filename).hash(String(process.pid)).hash(String(u)).hash(String(++s)).result()}function h(t){return()=>{try{e.unlinkSync("function"==typeof t?t():t)}catch(n){}}}function l(e){return new Promise(t=>{a[e]||(a[e]=[]),a[e].push(t),1===a[e].length&&t()})}async function f(t,u,s={}){let f,w;"string"==typeof s&&(s={encoding:s});const y=n(h(()=>w)),m=i.resolve(t);try{await l(m);const n=await o(e.realpath)(t).catch(()=>t);if(w=d(n),!s.mode||!s.chown){const t=await o(e.stat)(n).catch(()=>{});t&&(null==s.mode&&(s.mode=t.mode),null==s.chown&&process.getuid&&(s.chown={uid:t.uid,gid:t.gid}))}f=await o(e.open)(w,"w",s.mode),s.tmpfileCreated&&await s.tmpfileCreated(w),c(u)&&(u=r(u)),Buffer.isBuffer(u)?await o(e.write)(f,u,0,u.length,0):null!=u&&await o(e.write)(f,String(u),0,String(s.encoding||"utf8")),!1!==s.fsync&&await o(e.fsync)(f),f=null,s.chown&&await o(e.chown)(w,s.chown.uid,s.chown.gid),s.mode&&await o(e.chmod)(w,s.mode),await o(e.rename)(w,n),y()}finally{f&&await o(e.close)(f).catch(()=>{}),y(),await o(e.unlink)(w).catch(()=>{}),a[m].shift(),a[m].length>0?a[m][0]():delete a[m]}}function w(e,t,n,i){n instanceof Function&&(i=n,n={});const c=f(e,t,n);return i&&c.then(i,i),c}function y(t,i,o){"string"==typeof o?o={encoding:o}:o||(o={});try{t=e.realpathSync(t)}catch(f){}const a=d(t);if(!o.mode||!o.chown)try{const n=e.statSync(t);(o=Object.assign({},o)).mode||(o.mode=n.mode),!o.chown&&process.getuid&&(o.chown={uid:n.uid,gid:n.gid})}catch(f){}let u;const s=h(a),l=n(s);try{u=e.openSync(a,"w",o.mode),o.tmpfileCreated&&o.tmpfileCreated(a),c(i)&&(i=r(i)),Buffer.isBuffer(i)?e.writeSync(u,i,0,i.length,0):null!=i&&e.writeSync(u,String(i),0,String(o.encoding||"utf8")),!1!==o.fsync&&e.fsyncSync(u),e.closeSync(u),o.chown&&e.chownSync(a,o.chown.uid,o.chown.gid),o.mode&&e.chmodSync(a,o.mode),e.renameSync(a,t),l()}catch(w){if(u)try{e.closeSync(u)}catch(f){}throw l(),s(),w}}
},{"imurmurhash":"1jJy","signal-exit":"bEfU","is-typedarray":"ou1r","typedarray-to-buffer":"P9rC"}],"Lg24":[function(require,module,exports) {
"use strict";module.exports=(t=>{const e=typeof t;return null!==t&&("object"===e||"function"===e)});
},{}],"6/50":[function(require,module,exports) {
"use strict";const t=require("is-obj");function e(t){const e=t.split("."),r=[];for(let n=0;n<e.length;n++){let t=e[n];for(;"\\"===t[t.length-1]&&void 0!==e[n+1];)t=t.slice(0,-1)+".",t+=e[++n];r.push(t)}return r}module.exports={get(r,n,o){if(!t(r)||"string"!=typeof n)return void 0===o?r:o;const i=e(n);for(let t=0;t<i.length;t++){if(!Object.prototype.propertyIsEnumerable.call(r,i[t]))return o;if(null==(r=r[i[t]])){if(t!==i.length-1)return o;break}}return r},set(r,n,o){if(!t(r)||"string"!=typeof n)return r;const i=r,l=e(n);for(let e=0;e<l.length;e++){const n=l[e];t(r[n])||(r[n]={}),e===l.length-1&&(r[n]=o),r=r[n]}return i},delete(r,n){if(!t(r)||"string"!=typeof n)return;const o=e(n);for(let e=0;e<o.length;e++){const n=o[e];if(e===o.length-1)return void delete r[n];if(r=r[n],!t(r))return}},has(r,n){if(!t(r)||"string"!=typeof n)return!1;const o=e(n);for(let e=0;e<o.length;e++){if(!t(r))return!1;if(!(o[e]in r))return!1;r=r[o[e]]}return!0}};
},{"is-obj":"Lg24"}],"T213":[function(require,module,exports) {
"use strict";const e=require("crypto");module.exports=(r=>{if(!Number.isFinite(r))throw new TypeError("Expected a finite number");return e.randomBytes(Math.ceil(r/2)).toString("hex").slice(0,r)});
},{}],"cotl":[function(require,module,exports) {
"use strict";const r=require("crypto-random-string");module.exports=(()=>r(32));
},{"crypto-random-string":"T213"}],"whQx":[function(require,module,exports) {
"use strict";const e=require("path"),t=require("os"),s=require("graceful-fs"),r=require("make-dir"),i=require("xdg-basedir"),a=require("write-file-atomic"),n=require("dot-prop"),o=require("unique-string"),l=i.config||e.join(t.tmpdir(),o()),h="You don't have access to this file.",c={mode:448},u={mode:384};class g{constructor(t,s,r={}){const i=r.globalConfigPath?e.join(t,"config.json"):e.join("configstore",`${t}.json`);this.path=r.configPath||e.join(l,i),s&&(this.all={...s,...this.all})}get all(){try{return JSON.parse(s.readFileSync(this.path,"utf8"))}catch(e){if("ENOENT"===e.code)return{};if("EACCES"===e.code&&(e.message=`${e.message}\n${h}\n`),"SyntaxError"===e.name)return a.sync(this.path,"",u),{};throw e}}set all(t){try{r.sync(e.dirname(this.path),c),a.sync(this.path,JSON.stringify(t,void 0,"\t"),u)}catch(s){throw"EACCES"===s.code&&(s.message=`${s.message}\n${h}\n`),s}}get size(){return Object.keys(this.all||{}).length}get(e){return n.get(this.all,e)}set(e,t){const s=this.all;if(1===arguments.length)for(const r of Object.keys(e))n.set(s,r,e[r]);else n.set(s,e,t);this.all=s}has(e){return n.has(this.all,e)}delete(e){const t=this.all;n.delete(t,e),this.all=t}clear(){this.all={}}}module.exports=g;
},{"graceful-fs":"AhDr","make-dir":"XG2C","xdg-basedir":"D5UJ","write-file-atomic":"duyH","dot-prop":"6/50","unique-string":"cotl"}],"UmA+":[function(require,module,exports) {
"use strict";module.exports=function(l,a,o,r){if(!l||!a||!l[a])throw new Error("You must provide an object and a key for an existing method");r||(r=o,o={}),r=r||function(){},o.callthrough=o.callthrough||!1,o.calls=o.calls||0;var t=0===o.calls,c=l[a].bind(l);l[a]=function(){var n,e=[].slice.call(arguments);return o.callthrough&&(n=c.apply(l,e)),n=r.apply(l,e)||n,t||0!=--o.calls||(l[a]=c),n}};
},{}],"yuhg":[function(require,module,exports) {
"use strict";var r=require("stubs");function i(i){var t={callthrough:!0,calls:1};return r(i=i||this,"_read",t,i.emit.bind(i,"reading")),r(i,"_write",t,i.emit.bind(i,"writing")),i}module.exports=i;
},{"stubs":"UmA+"}],"Ijm8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("abort-controller"),e=require("configstore"),s=require("crypto"),i=require("google-auth-library"),r=require("pumpify"),n=require("stream"),a=require("stream-events"),o=410,h=308,u=5;class c extends r{constructor(t){if(super(),this.numBytesWritten=0,this.numRetries=0,a(this),!(t=t||{}).bucket||!t.file)throw new Error("A bucket and file name are required");t.authConfig=t.authConfig||{},t.authConfig.scopes=["https://www.googleapis.com/auth/devstorage.full_control"],this.authClient=t.authClient||new i.GoogleAuth(t.authConfig),this.apiEndpoint=t.apiEndpoint||"storage.googleapis.com",this.bucket=t.bucket;const r=[t.bucket,t.file];if("number"==typeof t.generation&&r.push(`${t.generation}`),this.cacheKey=r.join("/"),this.file=t.file,this.generation=t.generation,this.kmsKeyName=t.kmsKeyName,this.metadata=t.metadata||{},this.offset=t.offset,this.origin=t.origin,this.userProject=t.userProject,t.key){const e=Buffer.from(t.key).toString("base64");this.encryption={key:e,hash:s.createHash("sha256").update(t.key).digest("base64")}}this.predefinedAcl=t.predefinedAcl,t.private&&(this.predefinedAcl="private"),t.public&&(this.predefinedAcl="publicRead");const n=t.configPath;this.configStore=new e("gcs-resumable-upload",{configPath:n}),this.uriProvidedManually=!!t.uri,this.uri=t.uri||this.get("uri"),this.numBytesWritten=0,this.numRetries=0;const o=t.metadata?Number(t.metadata.contentLength):NaN;this.contentLength=isNaN(o)?"*":o,this.once("writing",()=>{this.uri?this.continueUploading():this.createURI(t=>{if(t)return this.destroy(t);this.startUploading()})})}get baseURI(){return`https://${this.apiEndpoint}/upload/storage/v1/b`}createURI(t){if(!t)return this.createURIAsync();this.createURIAsync().then(e=>t(null,e),t)}async createURIAsync(){const t=this.metadata,e={method:"POST",url:[this.baseURI,this.bucket,"o"].join("/"),params:{name:this.file,uploadType:"resumable"},data:t,headers:{}};t.contentLength&&(e.headers["X-Upload-Content-Length"]=t.contentLength.toString()),t.contentType&&(e.headers["X-Upload-Content-Type"]=t.contentType),void 0!==this.generation&&(e.params.ifGenerationMatch=this.generation),this.kmsKeyName&&(e.params.kmsKeyName=this.kmsKeyName),this.predefinedAcl&&(e.params.predefinedAcl=this.predefinedAcl),this.origin&&(e.headers.Origin=this.origin);const s=(await this.makeRequest(e)).headers.location;return this.uri=s,this.set({uri:s}),this.offset=0,s}async continueUploading(){"number"!=typeof this.offset?(await this.getAndSetOffset(),this.startUploading()):this.startUploading()}async startUploading(){const t=this.bufferStream||new n.PassThrough;this.bufferStream=t;const e=this.offsetStream=new n.Transform({transform:this.onChunk.bind(this)}),s=new n.PassThrough,i=new n.PassThrough;s.on("prefinish",()=>{this.cork()}),this.on("response",t=>{t.data.error?this.destroy(t.data.error):t.status<200||t.status>299?this.destroy(new Error("Upload failed")):(this.emit("metadata",t.data),this.deleteConfig(),this.uncork())}),this.setPipeline(t,e,s),this.pipe(i),this.once("restart",()=>{this.unpipe(i)});const r={method:"PUT",url:this.uri,headers:{"Content-Range":"bytes "+this.offset+"-*/"+this.contentLength},body:i};try{await this.makeRequestStream(r)}catch(a){this.destroy(a)}}onChunk(t,e,s){const i=this.offset,r=this.numBytesWritten;if(this.emit("progress",{bytesWritten:this.numBytesWritten,contentLength:this.contentLength}),0===r){let e=this.get("firstChunk");const s=t.slice(0,16).valueOf();if(e){e=Buffer.from(e);const i=Buffer.from(s);if(0!==Buffer.compare(e,i))return this.bufferStream.unshift(t),this.bufferStream.unpipe(this.offsetStream),void this.restart()}else this.set({uri:this.uri,firstChunk:s})}let n=t.length;"string"==typeof t&&(n=Buffer.byteLength(t,e)),r<i&&(t=t.slice(i-r)),this.numBytesWritten+=n,s(void 0,this.numBytesWritten>i?t:void 0)}async getAndSetOffset(){const t={method:"PUT",url:this.uri,headers:{"Content-Length":0,"Content-Range":"bytes */*"}};try{const s=await this.makeRequest(t);if(s.status===h&&s.headers.range){const t=s.headers.range;return void(this.offset=Number(t.split("-")[1])+1)}this.offset=0}catch(e){const t=e.response;if(t&&404===t.status&&!this.uriProvidedManually)return void this.restart();if(t&&t.status===o)return void this.restart();this.destroy(e)}}async makeRequest(t){this.encryption&&(t.headers=t.headers||{},t.headers["x-goog-encryption-algorithm"]="AES256",t.headers["x-goog-encryption-key"]=this.encryption.key.toString(),t.headers["x-goog-encryption-key-sha256"]=this.encryption.hash.toString()),this.userProject&&(t.params=t.params||{},t.params.userProject=this.userProject),t.validateStatus=(()=>!0);const e=await this.authClient.request(t);if(e.data&&e.data.error)throw e.data.error;if((e.status<200||e.status>=300)&&e.status!==h){new Error(`The request failed with a ${e.status}.`).code=e.status}return e}async makeRequestStream(e){const s=new t.default;this.once("error",()=>s.abort()),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.signal=s.signal,e.validateStatus=(()=>!0);const i=await this.authClient.request(e);return this.onResponse(i),i}restart(){this.emit("restart"),this.numBytesWritten=0,this.deleteConfig(),this.createURI(t=>{if(t)return this.destroy(t);this.startUploading()})}get(t){const e=this.configStore.get(this.cacheKey);return e&&e[t]}set(t){this.configStore.set(this.cacheKey,t)}deleteConfig(){this.configStore.delete(this.cacheKey)}onResponse(t){if(404===t.status)return this.numRetries<u?(this.numRetries++,this.startUploading()):this.destroy(new Error("Retry limit exceeded - "+t.data)),!1;if(t.status>499&&t.status<600){if(this.numRetries<u){const t=Math.round(1e3*Math.random()),e=1e3*Math.pow(2,this.numRetries)+t;this.numRetries++,setTimeout(this.continueUploading.bind(this),e)}else this.destroy(new Error("Retry limit exceeded - "+t.data));return!1}return this.emit("response",t),!0}}function d(t){return new c(t)}function f(t,e){const s=new c(t);if(!e)return s.createURI();s.createURI().then(t=>e(null,t),e)}exports.Upload=c,exports.upload=d,exports.createURI=f;
},{"abort-controller":"gxpy","configstore":"whQx","google-auth-library":"bmqp","pumpify":"iaRQ","stream-events":"yuhg"}],"AJMX":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"aJzw"}],"l0hg":[function(require,module,exports) {
"use strict";function e(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function t(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}var n;module.exports=q,q.WritableState=S;var r={deprecate:require("util-deprecate")},i=require("./internal/streams/stream"),o=require("buffer").Buffer,s=global.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof s}var c,a=require("./internal/streams/destroy"),l=require("./internal/streams/state"),d=l.getHighWaterMark,h=require("../errors").codes,b=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,R=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING;function E(){}function S(e,r,i){n=n||require("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function q(e){var t=this instanceof(n=n||require("./_stream_duplex"));if(!t&&!c.call(q,this))return new q(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function m(e,t){var n=new R;e.emit("error",n),process.nextTick(t,n)}function v(e,t,n,r){var i;return null===n?i=new _:"string"==typeof n||t.objectMode||(i=new b("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}function x(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n)),t}function M(e,t,n,r,i,o){if(!n){var s=x(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,f,r,i,o);return u}function B(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new w;if(P(n),t)T(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(C,e,n,o,i):C(e,n,o,i)}}function C(e,t,n,r){n||O(e,t),t.pendingcb--,r(),I(e,t)}function O(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(e._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var f=0,u=!0;r;)o[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;o.allBuffers=u,B(e,n,!0,n.length,o,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new t(n),n.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,a=r.encoding,l=r.callback;if(B(e,n,!1,n.objectMode?1:c.length,c,a,l),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function N(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t)))}function I(e,t){var n=D(t);return n&&(N(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function W(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(q,i),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===q&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},q.prototype.pipe=function(){this.emit("error",new y)},q.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&u(e);return s&&!o.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=E),r.ending?m(this,n):(s||v(this,r,e,n))&&(r.pendingcb++,i=M(this,r,s,e,t,n)),i},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},q.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(e,t,n){n(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||W(this,r,n),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),q.prototype.destroy=a.destroy,q.prototype._undestroy=a.undestroy,q.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yAJ6","./internal/streams/stream":"Y+bo","./internal/streams/destroy":"JuBc","./internal/streams/state":"AJMX","../errors":"aJzw","inherits":"Cpyn","./_stream_duplex":"abUJ"}],"abUJ":[function(require,module,exports) {
"use strict";var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=o;var t=require("./_stream_readable"),r=require("./_stream_writable");require("inherits")(o,t);for(var a=e(r.prototype),i=0;i<a.length;i++){var n=a[i];o.prototype[n]||(o.prototype[n]=r.prototype[n])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(s,this)}function s(e){e.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"ivVu","./_stream_writable":"l0hg","inherits":"Cpyn"}],"d7e2":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"aJzw"}],"pUtJ":[function(require,module,exports) {
"use strict";var e;function n(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var r=require("./end-of-stream"),t=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),a=Symbol("handlePromise"),s=Symbol("stream");function c(e,n){return{value:e,done:n}}function f(e){var n=e[t];if(null!==n){var r=e[s].read();null!==r&&(e[o]=null,e[t]=null,e[l]=null,n(c(r,!1)))}}function v(e){process.nextTick(f,e)}function d(e,n){return function(r,t){e.then(function(){n[i]?r(c(void 0,!0)):n[a](r,t)},t)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(e={get stream(){return this[s]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[i])return Promise.resolve(c(void 0,!0));if(this[s].destroyed)return new Promise(function(n,r){process.nextTick(function(){e[u]?r(e[u]):n(c(void 0,!0))})});var r,t=this[o];if(t)r=new Promise(d(t,this));else{var l=this[s].read();if(null!==l)return Promise.resolve(c(l,!1));r=new Promise(this[a])}return this[o]=r,r}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(n,r){e[s].destroy(null,function(e){e?r(e):n(c(void 0,!0))})})}),e),b),h=function(e){var f,d=Object.create(m,(n(f={},s,{value:e,writable:!0}),n(f,t,{value:null,writable:!0}),n(f,l,{value:null,writable:!0}),n(f,u,{value:null,writable:!0}),n(f,i,{value:e._readableState.endEmitted,writable:!0}),n(f,a,{value:function(e,n){var r=d[s].read();r?(d[o]=null,d[t]=null,d[l]=null,e(c(r,!1))):(d[t]=e,d[l]=n)},writable:!0}),f));return d[o]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=d[l];return null!==n&&(d[o]=null,d[t]=null,d[l]=null,n(e)),void(d[u]=e)}var r=d[t];null!==r&&(d[o]=null,d[t]=null,d[l]=null,r(c(void 0,!0))),d[i]=!0}),e.on("readable",v.bind(null,d)),d};module.exports=h;
},{"./end-of-stream":"d7e2"}],"ivVu":[function(require,module,exports) {
"use strict";var e;module.exports=k,k.ReadableState=E;var t=require("events").EventEmitter,n=function(e,t){return e.listeners(t).length},r=require("./internal/streams/stream"),i=require("buffer").Buffer,a=global.Uint8Array||function(){};function o(e){return i.from(e)}function d(e){return i.isBuffer(e)||e instanceof a}var s,l=require("util");s=l&&l.debuglog?l.debuglog("stream"):function(){};var u,p,h=require("./internal/streams/buffer_list"),f=require("./internal/streams/destroy"),c=require("./internal/streams/state"),g=c.getHighWaterMark,b=require("../errors").codes,m=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=require("../experimentalWarning"),S=w.emitExperimentalWarning;require("inherits")(k,r);var M=["error","close","destroy","pause","resume"];function R(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function E(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",r),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=require("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function k(t){if(e=e||require("./_stream_duplex"),!(this instanceof k))return new k(t);var n=this instanceof e;this._readableState=new E(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function L(e,t,n,r,a){s("readableAddChunk",t);var d,l=e._readableState;if(null===t)l.reading=!1,q(e,l);else if(a||(d=C(l,t)),d)e.emit("error",d);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=o(t)),r)l.endEmitted?e.emit("error",new v):j(e,l,t,!0);else if(l.ended)e.emit("error",new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?j(e,l,t,!1):O(e,l)):j(e,l,t,!1)}else r||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),O(e,t)}function C(e,t){var n;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=""),n=!0),L(this,e,t,!1,n)},k.prototype.unshift=function(e){return L(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return u||(u=require("string_decoder/").StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function D(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function W(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function q(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,B(e))}}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){s("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}function F(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function G(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Y,t,e))}function Y(e,t){s("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):x(this),null;if(0===(e=W(e,t))&&t.ended)return 0===t.length&&G(this),null;var r,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=W(n,t))),null===(r=e>0?V(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:g;function o(t,n){s("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",c),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",d),r.removeListener("end",g),r.removeListener("data",p),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function d(){s("onend"),e.end()}i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",o);var l=U(r);e.on("drain",l);var u=!1;function p(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){s("onerror",t),g(),e.removeListener("error",h),0===n(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",c),g()}function c(){s("onfinish"),e.removeListener("close",f),g()}function g(){s("unpipe"),r.unpipe(e)}return r.on("data",p),R(e,"error",h),e.once("close",f),e.once("finish",c),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},k.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?x(this):i.reading||process.nextTick(N,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(I,this),n},k.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(I,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(s("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(s("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<M.length;a++)e.on(M[a],this.emit.bind(this,M[a]));return this._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),void 0===p&&(p=require("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=V,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"./internal/streams/stream":"Y+bo","./internal/streams/buffer_list":"k/zV","./internal/streams/destroy":"JuBc","./internal/streams/state":"AJMX","../errors":"aJzw","../experimentalWarning":"RR96","inherits":"Cpyn","./_stream_duplex":"abUJ","string_decoder/":"lrG1","./internal/streams/async_iterator":"pUtJ"}],"aWZf":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"aJzw","./_stream_duplex":"abUJ","inherits":"Cpyn"}],"l0tP":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"aWZf","inherits":"Cpyn"}],"pGvy":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"aJzw","./end-of-stream":"d7e2"}],"Tsdf":[function(require,module,exports) {
var e=require("stream");"disable"===process.env.READABLE_STREAM&&e?(module.exports=e.Readable,Object.assign(module.exports,e),module.exports.Stream=e):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js"));
},{"./lib/_stream_readable.js":"ivVu","./lib/_stream_writable.js":"l0hg","./lib/_stream_duplex.js":"abUJ","./lib/_stream_transform.js":"aWZf","./lib/_stream_passthrough.js":"l0tP","./lib/internal/streams/end-of-stream.js":"d7e2","./lib/internal/streams/pipeline.js":"pGvy"}],"W8IO":[function(require,module,exports) {
var t=require("readable-stream").Transform,n=require("util").inherits;function e(n){t.call(this,n),this._destroyed=!1}function o(t,n,e){e(null,t)}function r(t){return function(n,e,r){return"function"==typeof n&&(r=e,e=n,n={}),"function"!=typeof e&&(e=o),"function"!=typeof r&&(r=null),t(n,e,r)}}n(e,t),e.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;process.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},module.exports=r(function(t,n,o){var r=new e(t);return r._transform=n,o&&(r._flush=o),r}),module.exports.ctor=r(function(t,o,r){function i(n){if(!(this instanceof i))return new i(n);this.options=Object.assign({},t,n),e.call(this,this.options)}return n(i,e),i.prototype._transform=o,r&&(i.prototype._flush=r),i}),module.exports.obj=r(function(t,n,o){var r=new e(Object.assign({objectMode:!0,highWaterMark:16},t));return r._transform=n,o&&(r._flush=o),r});
},{"readable-stream":"Tsdf"}],"yIR0":[function(require,module,exports) {
"use strict";function e(e,t){return{options:"object"==typeof e?e:{},callback:"function"==typeof e?e:t}}function t(e){return Object.keys(e).map(t=>[t,e[t]])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalize=e,exports.objectEntries=t;
},{}],"Iov9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/common"),t=require("@google-cloud/promisify"),n=require("compressible"),o=require("concat-stream"),s=require("crypto"),r=require("date-and-time"),i=require("extend"),a=require("fs"),c=require("hash-stream-validation"),d=require("mime"),l=require("onetime"),u=require("os"),h=require("pumpify"),p=require("gcs-resumable-upload"),m=require("stream-events"),g=require("through2"),y=require("xdg-basedir"),f=require("querystring"),b=require("zlib"),v=require("url"),w=require("./bucket"),j=require("./acl"),q=require("duplexify"),A=require("./util"),K=require("gaxios");var k;!function(e){e.read="GET",e.write="PUT",e.delete="DELETE",e.resumable="POST"}(k=exports.ActionToHTTPMethod||(exports.ActionToHTTPMethod={}));class x extends Error{constructor(){super(...arguments),this.name="ResumableUploadError"}}class P extends Error{constructor(){super(...arguments),this.name="SigningError"}}const E="https://storage.googleapis.com",S="https://www.googleapis.com/upload/storage/v1/b",T=/^gs:\/\/([a-z0-9_.-]+)\/(.+)$/;class N extends Error{}const O=604800,C="v2";class D extends e.ServiceObject{constructor(e,t,n={}){t=t.replace(/^\/+/,"");const o={};let s;null!=n.generation&&(s="string"==typeof n.generation?Number(n.generation):n.generation,isNaN(s)||(o.generation=s));const r=n.userProject||e.userProject;"string"==typeof r&&(o.userProject=r);const i={delete:{reqOpts:{qs:o}},exists:{reqOpts:{qs:o}},get:{reqOpts:{qs:o}},getMetadata:{reqOpts:{qs:o}},setMetadata:{reqOpts:{qs:o}}};if(super({parent:e,baseUrl:"/o",id:encodeURIComponent(t),methods:i}),this.bucket=e,this.storage=e.parent,null!=n.generation){let e;e="string"==typeof n.generation?Number(n.generation):n.generation,isNaN(e)||(this.generation=e)}this.kmsKeyName=n.kmsKeyName,this.userProject=r,this.name=t,n.encryptionKey&&this.setEncryptionKey(n.encryptionKey),this.acl=new j.Acl({request:this.request.bind(this),pathPrefix:"/acl"})}copy(t,n,o){const s=new Error("Destination file should have a name.");if(!t)throw s;let r,a,c,d={};if("function"==typeof n?o=n:n&&(d=n),d=i(!0,{},d),o=o||e.util.noop,"string"==typeof t){const e=T.exec(t);null!==e&&3===e.length?(r=this.storage.bucket(e[1]),a=e[2]):(r=this.bucket,a=t)}else if(t instanceof w.Bucket)r=t,a=this.name;else{if(!(t instanceof D))throw s;r=t.bucket,a=t.name,c=t}const l={};void 0!==this.generation&&(l.sourceGeneration=this.generation),void 0!==d.token&&(l.rewriteToken=d.token),void 0!==d.userProject&&(l.userProject=d.userProject,delete d.userProject),c=c||r.file(a);const u={};if(void 0!==this.encryptionKey&&(u["x-goog-copy-source-encryption-algorithm"]="AES256",u["x-goog-copy-source-encryption-key"]=this.encryptionKeyBase64,u["x-goog-copy-source-encryption-key-sha256"]=this.encryptionKeyHash),void 0!==c.encryptionKey?this.setEncryptionKey(c.encryptionKey):void 0!==d.destinationKmsKeyName?(l.destinationKmsKeyName=d.destinationKmsKeyName,delete d.destinationKmsKeyName):void 0!==c.kmsKeyName&&(l.destinationKmsKeyName=c.kmsKeyName),l.destinationKmsKeyName){this.kmsKeyName=l.destinationKmsKeyName;const e=this.interceptors.indexOf(this.encryptionKeyInterceptor);e>-1&&this.interceptors.splice(e,1)}this.request({method:"POST",uri:`/rewriteTo/b/${r.name}/o/${encodeURIComponent(c.name)}`,qs:l,json:d,headers:u},(e,t)=>{if(e)o(e,null,t);else{if(t.rewriteToken){const e={token:t.rewriteToken};return l.userProject&&(e.userProject=l.userProject),l.destinationKmsKeyName&&(e.destinationKmsKeyName=l.destinationKmsKeyName),void this.copy(c,e,o)}o(null,c,t)}})}createReadStream(t={}){const n="number"==typeof t.start||"number"==typeof t.end,s=t.end<0;let r;const i=m(g());let a=!0,d=!1,l=!1;if("string"==typeof t.validation?(t.validation=t.validation.toLowerCase(),a="crc32c"===t.validation,d="md5"===t.validation):!1===t.validation&&(a=!1),n){if("string"==typeof t.validation||!0===t.validation)throw new Error("Cannot use validation with file ranges (start/end).");a=!1,d=!1}return i.on("reading",()=>{const u={alt:"media"};this.generation&&(u.generation=this.generation),t.userProject&&(u.userProject=t.userProject);const p={"Accept-Encoding":"gzip","Cache-Control":"no-store"};if(n){const e="number"==typeof t.start?t.start:"0",n="number"==typeof t.end?t.end:"";p.Range=`bytes=${s?n:`${e}-${n}`}`}const m={forever:!1,uri:"",headers:p,qs:u};this.requestStream(m).on("error",e=>{i.destroy(e)}).on("response",t=>{i.emit("response",t),e.util.handleResp(null,t,null,g)}).resume();const g=(e,t,s)=>{if(e)return void s.pipe(o(t=>{e.message=t.toString(),i.destroy(e)}));s.on("error",f);const l="gzip"===s.toJSON().headers["content-encoding"],u=[];!n&&(a||d)&&(r=c({crc32c:a,md5:d}),u.push(r)),l&&u.push(b.createGunzip()),1===u.length?s=s.pipe(u[0]):u.length>1&&(s=s.pipe(h.obj(u))),s.on("error",f).on("end",f).pipe(i,{end:!1})};let y=!1;const f=e=>{if(e)return y=!0,void i.destroy(e);if(n)return y=!0,void i.end();if(!l)return l=!0,void this.getMetadata({userProject:t.userProject},f);if(y)return;y=!0;const o={crc32c:this.metadata.crc32c,md5:this.metadata.md5Hash};let s=a||d;if(a&&o.crc32c&&(s=!r.test("crc32c",o.crc32c.substr(4))),d&&o.md5&&(s=!r.test("md5",o.md5)),d&&!o.md5){const e=new N(["MD5 verification was specified, but is not available for the","requested object. MD5 is not available for composite objects."].join(" "));e.code="MD5_NOT_AVAILABLE",i.destroy(e)}else if(s){const e=new N(["The downloaded data did not match the data from the server.","To be sure the content is the same, you should download the","file again."].join(" "));e.code="CONTENT_DOWNLOAD_MISMATCH",i.destroy(e)}else i.end()}}),i}createResumableUpload(e,t){const n="object"==typeof e?e:{};t="function"==typeof e?e:t,p.createURI({authClient:this.storage.authClient,bucket:this.bucket.name,configPath:n.configPath,file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:n.metadata,offset:n.offset,origin:n.origin,predefinedAcl:n.predefinedAcl,private:n.private,public:n.public,userProject:n.userProject||this.userProject},t)}createWriteStream(e={}){(e=Object.assign({metadata:{}},e)).contentType&&(e.metadata.contentType=e.contentType,"auto"===e.metadata.contentType&&(e.metadata.contentType=d.getType(this.name)));let t=e.gzip;"auto"===t&&(t=n(e.metadata.contentType)),t&&(e.metadata.contentEncoding="gzip");let o=!0,s=!1;"string"==typeof e.validation?(e.validation=e.validation.toLowerCase(),o="crc32c"===e.validation,s="md5"===e.validation):!1===e.validation&&(o=!1);const r=c({crc32c:o,md5:s}),i=q(),l=m(h([t?b.createGzip():g(),r,i]));return l.on("writing",()=>{if(!1===e.resumable)return void this.startSimpleUpload_(i,e);const t=y.config||u.tmpdir();a.access(t,a.constants.W_OK,n=>{if(n){if(e.resumable){const e=new x(["A resumable upload could not be performed. The directory,",`${t}, is not writable. You may try another upload,`,"this time setting `options.resumable` to `false`."].join(" "));return void l.destroy(e)}this.startSimpleUpload_(i,e)}else this.startResumableUpload_(i,e)})}),i.on("response",l.emit.bind(l,"response")),i.on("prefinish",()=>{l.cork()}),i.on("complete",()=>{const e=this.metadata;let t=o||s;o&&e.crc32c&&(t=!r.test("crc32c",e.crc32c.substr(4))),s&&e.md5Hash&&(t=!r.test("md5",e.md5Hash)),t?this.delete(t=>{let n,o;t?(n="FILE_NO_UPLOAD_DELETE",o=["The uploaded data did not match the data from the server. As a","precaution, we attempted to delete the file, but it was not","successful. To be sure the content is the same, you should try","removing the file manually, then uploading the file again.","\n\nThe delete attempt failed with this message:","\n\n  "+t.message].join(" ")):s&&!e.md5Hash?(n="MD5_NOT_AVAILABLE",o=["MD5 verification was specified, but is not available for the","requested object. MD5 is not available for composite objects."].join(" ")):(n="FILE_NO_UPLOAD",o=["The uploaded data did not match the data from the server. As a","precaution, the file has been deleted. To be sure the content","is the same, you should try uploading the file again."].join(" "));const r=new N(o);r.code=n,r.errors=[t],i.destroy(r)}):l.uncork()}),l}download(e,t){let n;"function"==typeof e?(t=e,n={}):n=e,t=l(t);const s=n.destination;delete n.destination;const r=this.createReadStream(n);s?r.on("error",t).pipe(a.createWriteStream(s)).on("error",t).on("finish",t):r.on("error",t).pipe(o(t.bind(null,null)))}setEncryptionKey(e){return this.encryptionKey=e,this.encryptionKeyBase64=Buffer.from(e).toString("base64"),this.encryptionKeyHash=s.createHash("sha256").update(this.encryptionKeyBase64,"base64").digest("base64"),this.encryptionKeyInterceptor={request:e=>(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryptionKeyBase64,e.headers["x-goog-encryption-key-sha256"]=this.encryptionKeyHash,e)},this.interceptors.push(this.encryptionKeyInterceptor),this}getExpirationDate(e){this.getMetadata((t,n,o)=>{if(t)e(t,null,o);else if(n.retentionExpirationTime)e(null,new Date(n.retentionExpirationTime),o);else{const t=new Error("An expiration time is not available.");e(t,null,o)}})}getSignedPolicy(e,t){const n=A.normalize(e,t);let o=n.options;const s=n.callback,r=new Date(o.expires);if(isNaN(r.getTime()))throw new Error("The expiration date provided was invalid.");if(r.valueOf()<Date.now())throw new Error("An expiration date cannot be in the past.");o=Object.assign({},o);const i=[["eq","$key",this.name],{bucket:this.bucket.name}];if(Array.isArray(o.equals)&&(Array.isArray(o.equals[0])||(o.equals=[o.equals]),o.equals.forEach(e=>{if(!Array.isArray(e)||2!==e.length)throw new Error("Equals condition must be an array of 2 elements.");i.push(["eq",e[0],e[1]])})),Array.isArray(o.startsWith)&&(Array.isArray(o.startsWith[0])||(o.startsWith=[o.startsWith]),o.startsWith.forEach(e=>{if(!Array.isArray(e)||2!==e.length)throw new Error("StartsWith condition must be an array of 2 elements.");i.push(["starts-with",e[0],e[1]])})),o.acl&&i.push({acl:o.acl}),o.successRedirect&&i.push({success_action_redirect:o.successRedirect}),o.successStatus&&i.push({success_action_status:o.successStatus}),o.contentLengthRange){const e=o.contentLengthRange.min,t=o.contentLengthRange.max;if("number"!=typeof e||"number"!=typeof t)throw new Error("ContentLengthRange must have numeric min & max fields.");i.push(["content-length-range",e,t])}const a={expiration:r.toISOString(),conditions:i},c=JSON.stringify(a),d=Buffer.from(c).toString("base64");this.storage.authClient.sign(d).then(e=>{s(null,{string:c,base64:d,signature:e})},e=>{s(new P(e.message))})}getSignedUrl(e,t){const n=new Date(e.expires).valueOf();if(isNaN(n))throw new Error("The expiration date provided was invalid.");if(n<Date.now())throw new Error("An expiration date cannot be in the past.");const o=Math.round(n/1e3),s=k[e.action];if(!s)throw new Error("The action is not provided or invalid.");const r=encodeURIComponent(this.name),i=`/${this.bucket.name}/${r}`,a=e.version||C,c=Object.assign({},e,{method:s,expiration:o,resource:i,name:r});let d;if("v2"===a)d=this.getSignedUrlV2(c);else{if("v4"!==a)throw new Error(`Invalid signed URL version: ${a}. Supported versions are 'v2' and 'v4'.`);d=this.getSignedUrlV4(c)}d.then(e=>{"string"==typeof c.responseType&&(e["response-content-type"]=c.responseType),"string"==typeof c.promptSaveAs&&(e["response-content-disposition"]='attachment; filename="'+c.promptSaveAs+'"'),"string"==typeof c.responseDisposition&&(e["response-content-disposition"]=c.responseDisposition),this.generation&&(e.generation=this.generation);const n=new v.URL(c.cname||E);n.pathname=c.cname?r:`${this.bucket.name}/${r}`,n.search=f.stringify(e),t(null,n.href)},t)}getSignedUrlV2(e){let t="";if("POST"===e.method&&(e.extensionHeaders=Object.assign({},e.extensionHeaders,{"x-goog-resumable":"start"})),e.extensionHeaders)for(const s of Object.keys(e.extensionHeaders))t+=`${s}:${e.extensionHeaders[s]}\n`;const n=[e.method,e.contentMd5||"",e.contentType||"",e.expiration,t+e.resource].join("\n"),o=this.storage.authClient;return o.sign(n).then(t=>o.getCredentials().then(n=>({GoogleAccessId:n.client_email,Expires:e.expiration,Signature:t}))).catch(e=>{const t=new P(e.message);throw t.stack=e.stack,t})}getSignedUrlV4(e){const t=new Date,n=Math.floor(t.valueOf()/1e3),o=e.expiration-n;if(o>O)throw new Error(`Max allowed expiration is seven days (${O} seconds).`);const i=Object.assign({},e.extensionHeaders);i.host="storage.googleapis.com","POST"===e.method&&(i["x-goog-resumable"]="start"),e.contentMd5&&(i["content-md5"]=e.contentMd5),e.contentType&&(i["content-type"]=e.contentType);const a=Object.keys(i).map(e=>e.toLowerCase()).sort().join(";"),c=this.getCanonicalHeaders(i),d=`${r.format(t,"YYYYMMDD",!0)}/auto/storage/goog4_request`;return this.storage.authClient.getCredentials().then(n=>{const i=`${n.client_email}/${d}`,l=r.format(t,"YYYYMMDD[T]HHmmss[Z]",!0),u={"X-Goog-Algorithm":"GOOG4-RSA-SHA256","X-Goog-Credential":i,"X-Goog-Date":l,"X-Goog-Expires":o,"X-Goog-SignedHeaders":a},h=f.stringify(u),p=[e.method,e.resource,h,c,a,"UNSIGNED-PAYLOAD"].join("\n"),m=s.createHash("sha256").update(p).digest("hex"),g=["GOOG4-RSA-SHA256",l,d,m].join("\n");return this.storage.authClient.sign(g).then(e=>{const t=Buffer.from(e,"base64").toString("hex");return Object.assign({},u,{"X-Goog-Signature":t})}).catch(e=>{const t=new P(e.message);throw t.stack=e.stack,t})})}isPublic(e){K.request({method:"HEAD",url:`http://${this.bucket.name}.storage.googleapis.com/${encodeURIComponent(this.name)}`}).then(()=>e(null,!0),t=>{"403"===t.code?e(null,!1):e(t)})}makePrivate(e,t){const n="object"==typeof e?e:{};t="function"==typeof e?e:t;const o={predefinedAcl:n.strict?"private":"projectPrivate"};n.userProject&&(o.userProject=n.userProject),this.setMetadata({acl:null},o,t)}makePublic(t){t=t||e.util.noop,this.acl.add({entity:"allUsers",role:"READER"},(e,n,o)=>{t(e,o)})}move(t,n,o){const s="object"==typeof n?n:{};o=(o="function"==typeof n?n:o)||e.util.noop,this.copy(t,s,(e,t,n)=>{e?o(e,null,n):this.delete(s,(e,n)=>{o(e,t,n)})})}request(e,t){return this.parent.request.call(this,e,t)}rotateEncryptionKey(e,t){t="function"==typeof e?e:t;let n={};"string"==typeof e||e instanceof Buffer?n={encryptionKey:e}:"object"==typeof e&&(n=e);const o=this.bucket.file(this.id,n);this.copy(o,t)}save(e,t,n){n="function"==typeof t?t:n;const o="object"==typeof t?t:{};this.createWriteStream(o).on("error",n).on("finish",n).end(e)}setStorageClass(e,t,n){n="function"==typeof t?t:n;const o=i(!0,{},"object"==typeof t?t:{});o.storageClass=e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(e,t,n)=>t+"_"+n).toUpperCase(),this.copy(this,o,(e,t,o)=>{e?n(e,o):(this.metadata=t.metadata,n(null,o))})}setUserProject(e){this.bucket.setUserProject.call(this,e)}startResumableUpload_(e,t){t=Object.assign({metadata:{}},t);const n=p.upload({authClient:this.storage.authClient,bucket:this.bucket.name,configPath:t.configPath,file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:t.metadata,offset:t.offset,predefinedAcl:t.predefinedAcl,private:t.private,public:t.public,uri:t.uri,userProject:t.userProject||this.userProject});n.on("response",t=>{e.emit("response",t)}).on("metadata",e=>{this.metadata=e}).on("finish",()=>{e.emit("complete")}),e.setWritable(n)}startSimpleUpload_(t,n){n=Object.assign({metadata:{}},n);const o={qs:{name:this.name},uri:`${S}/${this.bucket.name}/o`};void 0!==this.generation&&(o.qs.ifGenerationMatch=this.generation),void 0!==this.kmsKeyName&&(o.qs.kmsKeyName=this.kmsKeyName),(n.userProject||this.userProject)&&(o.qs.userProject=n.userProject||this.userProject),n.predefinedAcl?o.qs.predefinedAcl=n.predefinedAcl:n.private?o.qs.predefinedAcl="private":n.public&&(o.qs.predefinedAcl="publicRead"),e.util.makeWritableStream(t,{makeAuthenticatedRequest:e=>{this.request(e,(e,n,o)=>{e?t.destroy(e):(this.metadata=n,t.emit("response",o),t.emit("complete"))})},metadata:n.metadata,request:o})}getCanonicalHeaders(e){return A.objectEntries(e).map(([e,t])=>[e.toLowerCase(),t]).sort((e,t)=>e[0].localeCompare(t[0])).filter(([e,t])=>void 0!==t).map(([e,t])=>{return`${e}:${`${t}`.trim().replace(/\s{2,}/g," ")}\n`}).join("")}}exports.File=D,t.promisifyAll(D,{exclude:["request","setEncryptionKey","getSignedUrlV2","getSignedUrlV4","getCanonicalHeaders","getDate"]});
},{"@google-cloud/common":"s6Ps","@google-cloud/promisify":"LG1d","compressible":"dCST","concat-stream":"XOdE","date-and-time":"pm4e","extend":"PUjw","hash-stream-validation":"Fjwm","mime":"bwt/","onetime":"uW+2","pumpify":"iaRQ","gcs-resumable-upload":"Ijm8","stream-events":"yuhg","through2":"W8IO","xdg-basedir":"D5UJ","./bucket":"WPuS","./acl":"ZxVy","duplexify":"ZUFv","./util":"yIR0","gaxios":"5k16"}],"c2yJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/promisify"),s=require("arrify"),r=require("./util");class i{constructor(e){this.request_=e.request.bind(e),this.resourceId_="buckets/"+e.getId()}getPolicy(e,s){const{options:i,callback:t}=r.normalize(e,s);this.request_({uri:"/iam",qs:i},t)}setPolicy(e,s,i){if(null===e||"object"!=typeof e)throw new Error("A policy object is required.");const{options:t,callback:o}=r.normalize(s,i);this.request_({method:"PUT",uri:"/iam",json:Object.assign({resourceId:this.resourceId_},e),qs:t},o)}testPermissions(e,i,t){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Permissions are required.");const{options:o,callback:n}=r.normalize(i,t),u=s(e),c=Object.assign({permissions:u},o);this.request_({uri:"/iam/testPermissions",qs:c,useQuerystring:!0},(e,r)=>{if(e)return void n(e,null,r);const i=s(r.permissions),t=u.reduce((e,s)=>(e[s]=i.indexOf(s)>-1,e),{});n(null,t,r)})}}exports.Iam=i,e.promisifyAll(i);
},{"@google-cloud/promisify":"LG1d","arrify":"Wcc5","./util":"yIR0"}],"pO38":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@google-cloud/common"),e=require("@google-cloud/promisify");class o extends t.ServiceObject{constructor(t,e){super({parent:t,baseUrl:"/notificationConfigs",id:e.toString(),createMethod:t.createNotification.bind(t),methods:{create:!0,exists:!0}})}delete(e,o){const i="object"==typeof e?e:{};o="function"==typeof e?e:o,this.request({method:"DELETE",uri:"",qs:i},o||t.util.noop)}get(t,e){const o="object"==typeof t?t:{};e="function"==typeof t?t:e;const i=o.autoCreate;delete o.autoCreate;const s=(t,i,s)=>{if(t)return 409===t.code?void this.get(o,e):void e(t,null,s);e(null,i,s)};this.getMetadata(o,(t,n)=>{if(t){if(404===t.code&&i){const t=[];return Object.keys(o).length>0&&t.push(o),t.push(s),void this.create.apply(this,t)}e(t,null,n)}else e(null,this,n)})}getMetadata(t,e){const o="object"==typeof t?t:{};e="function"==typeof t?t:e,this.request({uri:"",qs:o},(t,o)=>{t?e(t,null,o):(this.metadata=o,e(null,this.metadata,o))})}}exports.Notification=o,e.promisifyAll(o);
},{"@google-cloud/common":"s6Ps","@google-cloud/promisify":"LG1d"}],"WPuS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/common"),t=require("@google-cloud/paginator"),i=require("@google-cloud/promisify"),o=require("arrify"),s=require("extend"),n=require("fs"),r=require("mime-types"),a=require("path"),c=require("p-limit"),l=require("util"),u=require("snakeize"),p=require("./acl"),d=require("./file"),f=require("./iam"),h=require("./notification"),m=5e6;class y extends e.ServiceObject{constructor(e,i,o){o=o||{},i=i.replace(/^gs:\/\//,"").replace(/\/+$/,"");const s={},n=o.userProject;"string"==typeof n&&(s.userProject=n);const r={create:{reqOpts:{qs:s}},delete:{reqOpts:{qs:s}},exists:{reqOpts:{qs:s}},get:{reqOpts:{qs:s}},getMetadata:{reqOpts:{qs:s}},setMetadata:{reqOpts:{qs:s}}};super({parent:e,baseUrl:"/b",id:i,createMethod:e.createBucket.bind(e),methods:r}),this.name=i,this.storage=e,this.userProject=o.userProject,this.acl=new p.Acl({request:this.request.bind(this),pathPrefix:"/acl"}),this.acl.default=new p.Acl({request:this.request.bind(this),pathPrefix:"/defaultObjectAcl"}),this.iam=new f.Iam(this),this.getFilesStream=t.paginator.streamify("getFiles")}addLifecycleRule(t,i,s){let n;"function"==typeof i?s=i:i&&(n=i),n=n||{},s=s||e.util.noop;const r=o(t).map(e=>{if("object"==typeof e.action)return e;const t={condition:{}};t.action={type:e.action},"delete"===e.action&&(t.action.type="Delete"),e.storageClass&&(t.action.storageClass=e.storageClass);for(const i in e.condition)e.condition[i]instanceof Date?t.condition[i]=e.condition[i].toISOString().replace(/T.+$/,""):t.condition[i]=e.condition[i];return t});!1!==n.append?this.getMetadata((e,t)=>{if(e)return void s(e);const i=o(t.lifecycle&&t.lifecycle.rule);this.setMetadata({lifecycle:{rule:i.concat(r)}},s)}):this.setMetadata({lifecycle:{rule:r}},s)}combine(t,i,o,s){if(!Array.isArray(t)||t.length<2)throw new Error("You must provide at least two source files.");if(!i)throw new Error("A destination file must be specified.");let n={};"function"==typeof o?s=o:o&&(n=o);const a=e=>e instanceof d.File?e:this.file(e);t=t.map(a);const c=a(i);if(s=s||e.util.noop,!c.metadata.contentType){const e=r.contentType(c.name);e&&(c.metadata.contentType=e)}c.request({method:"POST",uri:"/compose",json:{destination:{contentType:c.metadata.contentType},sourceObjects:t.map(e=>{const t={name:e.name};return e.metadata&&e.metadata.generation&&(t.generation=e.metadata.generation),t})},qs:n},(e,t)=>{e?s(e,null,t):s(null,c,t)})}createChannel(e,t,i,o){if("string"!=typeof e)throw new Error("An ID is required to create a channel.");if("string"!=typeof t.address)throw new Error("An address is required to create a channel.");let s={};"function"==typeof i?o=i:i&&(s=i),this.request({method:"POST",uri:"/o/watch",json:Object.assign({id:e,type:"web_hook"},t),qs:s},(t,i)=>{if(t)return void o(t,null,i);const s=i.resourceId,n=this.storage.channel(e,s);n.metadata=i,o(null,n,i)})}createNotification(t,i,o){let s={};if("function"==typeof i?o=i:i&&(s=i),null!==t&&"object"==typeof t&&e.util.isCustomType(t,"pubsub/topic")&&(t=t.name),"string"!=typeof t)throw new Error("A valid topic name is required.");const n=Object.assign({topic:t},s);0!==n.topic.indexOf("projects")&&(n.topic="projects/{{projectId}}/topics/"+n.topic),n.topic="//pubsub.googleapis.com/"+n.topic,n.payloadFormat||(n.payloadFormat="JSON_API_V1");const r={};n.userProject&&(r.userProject=n.userProject,delete n.userProject),this.request({method:"POST",uri:"/notificationConfigs",json:u(n),qs:r},(e,t)=>{if(e)return void o(e,null,t);const i=this.notification(t.id);i.metadata=t,o(null,i,t)})}deleteFiles(e,t){let i={};"function"==typeof e?t=e:e&&(i=e);const o=[];this.getFiles(i).then(([e])=>{const t=c.default(10),s=e.map(e=>t(()=>(e=>e.delete(i).catch(e=>{if(!i.force)throw e;o.push(e)}))(e)));return Promise.all(s)}).then(()=>t(o.length>0?o:null),t)}deleteLabels(e,t){let i=new Array;"function"==typeof e?t=e:e&&(i=o(e));const s=e=>{const i=e.reduce((e,t)=>(e[t]=null,e),{});this.setLabels(i,t)};0===i.length?this.getLabels((e,i)=>{e?t(e):s(Object.keys(i))}):s(i)}disableRequesterPays(t){this.setMetadata({billing:{requesterPays:!1}},t||e.util.noop)}enableRequesterPays(t){this.setMetadata({billing:{requesterPays:!0}},t||e.util.noop)}file(e,t){if(!e)throw Error("A file name must be specified.");return new d.File(this,e,t)}getFiles(e,t){let i="object"==typeof e?e:{};t||(t=e),(i=Object.assign({},i)).directory&&(i.prefix=`${i.directory}/`.replace(/\/*$/,"/"),delete i.directory),this.request({uri:"/o",qs:i},(e,s)=>{if(e)return void t(e,null,null,s);const n=o(s.items).map(e=>{const t={};i.versions&&(t.generation=e.generation),e.kmsKeyName&&(t.kmsKeyName=e.kmsKeyName);const o=this.file(e.name,t);return o.metadata=e,o});let r=null;s.nextPageToken&&(r=Object.assign({},i,{pageToken:s.nextPageToken})),t(null,n,r,s)})}getLabels(e,t){let i={};"function"==typeof e?t=e:e&&(i=e),this.getMetadata(i,(e,i)=>{e?t(e,null):t(null,i.labels||{})})}getNotifications(e,t){let i={};"function"==typeof e?t=e:e&&(i=e),this.request({uri:"/notificationConfigs",qs:i},(e,i)=>{if(e)return void t(e,null,i);const s=o(i.items).map(e=>{const t=this.notification(e.id);return t.metadata=e,t});t(null,s,i)})}lock(e,t){const i=typeof e;if("number"!==i&&"string"!==i)throw new Error("A metageneration must be provided.");this.request({method:"POST",uri:"/lockRetentionPolicy",qs:{ifMetagenerationMatch:e}},t)}makePrivate(e,t){const i="object"==typeof e?e:{};t="function"==typeof e?e:t,i.private=!0;const o={predefinedAcl:"projectPrivate"};i.userProject&&(o.userProject=i.userProject),this.setMetadata({acl:null},o).then(()=>i.includeFiles?l.promisify(this.makeAllFilesPublicPrivate_).call(this,i):[]).then(e=>t(null,e),t)}makePublic(e,t){t="function"==typeof e?e:t;const i=s(!0,{public:!0},"object"==typeof e?e:{});this.acl.add({entity:"allUsers",role:"READER"}).then(()=>this.acl.default.add({entity:"allUsers",role:"READER"})).then(()=>i.includeFiles?l.promisify(this.makeAllFilesPublicPrivate_).call(this,i):[]).then(e=>t(null,e),t)}notification(e){if(!e)throw new Error("You must supply a notification ID.");return new h.Notification(this,e)}removeRetentionPeriod(e){this.setMetadata({retentionPolicy:null},e)}request(e,t){return!this.userProject||e.qs&&e.qs.userProject||(e.qs=s(e.qs,{userProject:this.userProject})),super.request(e,t)}setLabels(t,i,o){const s="object"==typeof i?i:{};o=(o="function"==typeof i?i:o)||e.util.noop,this.setMetadata({labels:t},s,o)}setRetentionPeriod(e,t){this.setMetadata({retentionPolicy:{retentionPeriod:e}},t)}setStorageClass(e,t,i){const o="object"==typeof t?t:{};i="function"==typeof t?t:i,e=e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(e,t,i)=>t+"_"+i).toUpperCase(),this.setMetadata({storageClass:e},o,i)}setUserProject(e){this.userProject=e;["create","delete","exists","get","getMetadata","setMetadata"].forEach(t=>{const i=this.methods[t];"object"==typeof i&&("object"==typeof i.reqOpts?s(i.reqOpts.qs,{userProject:e}):i.reqOpts={qs:{userProject:e}})})}upload(e,t,i){if(global.GCLOUD_SANDBOX_ENV)return;let o,s="object"==typeof t?t:{};if(i="function"==typeof t?t:i,(s=Object.assign({metadata:{}},s)).destination instanceof d.File)o=s.destination;else if(null!=s.destination&&"string"==typeof s.destination)o=this.file(s.destination,{encryptionKey:s.encryptionKey,kmsKeyName:s.kmsKeyName});else{const t=a.basename(e);o=this.file(t,{encryptionKey:s.encryptionKey,kmsKeyName:s.kmsKeyName})}const c=r.contentType(a.basename(e));function l(){n.createReadStream(e).on("error",i).pipe(o.createWriteStream(s)).on("error",i).on("finish",()=>{i(null,o,o.metadata)})}c&&!s.metadata.contentType&&(s.metadata.contentType=c),null!=s.resumable&&"boolean"==typeof s.resumable?l():n.stat(e,(e,t)=>{e?i(e):(s.resumable=t.size>m,l())})}makeAllFilesPublicPrivate_(e,t){const i=[],o=[],s="object"==typeof e?e:{};t="function"==typeof e?e:t;this.getFiles(s).then(([e])=>{const t=c.default(10),n=e.map(e=>t(()=>(async e=>{try{await(s.public?e.makePublic():e.makePrivate(s)),o.push(e)}catch(t){if(!s.force)throw t;i.push(t)}})(e)));return Promise.all(n)}).then(()=>t(i.length>0?i:null,o),e=>t(e,o))}getId(){return this.id}}exports.Bucket=y,t.paginator.extend(y,"getFiles"),i.promisifyAll(y,{exclude:["request","file","notification"]});
},{"@google-cloud/common":"s6Ps","@google-cloud/paginator":"Qr71","@google-cloud/promisify":"LG1d","arrify":"Wcc5","extend":"PUjw","mime-types":"aRr3","p-limit":"KF8Q","snakeize":"+z7l","./acl":"ZxVy","./file":"Iov9","./iam":"c2yJ","./notification":"pO38"}],"9kul":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/common"),o=require("@google-cloud/promisify");class t extends e.ServiceObject{constructor(e,o,t){super({parent:e,baseUrl:"/channels",id:"",methods:{}});const s=this.metadata;s.id=o,s.resourceId=t}stop(o){o=o||e.util.noop,this.request({method:"POST",uri:"/stop",json:this.metadata},(e,t)=>{o(e,t)})}}exports.Channel=t,o.promisifyAll(t);
},{"@google-cloud/common":"s6Ps","@google-cloud/promisify":"LG1d"}],"3616":[function(require,module,exports) {
module.exports={name:"@google-cloud/storage",description:"Cloud Storage Client Library for Node.js",version:"3.1.0",license:"Apache-2.0",author:"Google Inc.",engines:{node:">=8.10.0"},repository:"googleapis/nodejs-storage",main:"./build/src/index.js",types:"./build/src/index.d.ts",files:["build/src","!build/src/**/*.map","AUTHORS","CONTRIBUTORS","COPYING"],keywords:["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","google storage","storage"],scripts:{predocs:"npm run compile",docs:"jsdoc -c .jsdoc.js","system-test":"mocha build/system-test --timeout 600000","conformance-test":"mocha build/conformance-test","preconformance-test":"npm run compile","presystem-test":"npm run compile",test:"nyc mocha build/test",pretest:"npm run compile",lint:"eslint samples/ && gts check","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../","all-test":"npm test && npm run system-test && npm run samples-test",check:"gts check",clean:"gts clean",compile:"tsc -p .",fix:"gts fix && eslint --fix '**/*.js'",prepare:"npm run compile","docs-test":"linkinator docs","predocs-test":"npm run docs",benchwrapper:"node bin/benchwrapper.js"},dependencies:{"@google-cloud/common":"^2.1.0","@google-cloud/paginator":"^2.0.0","@google-cloud/promisify":"^1.0.0",arrify:"^2.0.0",compressible:"^2.0.12","concat-stream":"^2.0.0","date-and-time":"^0.8.0",duplexify:"^3.5.0",extend:"^3.0.2",gaxios:"^2.0.1","gcs-resumable-upload":"^2.0.0","hash-stream-validation":"^0.2.1",mime:"^2.2.0","mime-types":"^2.0.8",onetime:"^5.1.0","p-limit":"^2.2.0",pumpify:"^2.0.0",snakeize:"^0.1.0","stream-events":"^1.0.1",through2:"^3.0.0","xdg-basedir":"^4.0.0"},devDependencies:{"@google-cloud/pubsub":"^0.30.0","@grpc/proto-loader":"^0.5.1","@types/compressible":"^2.0.0","@types/concat-stream":"^1.6.0","@types/configstore":"^4.0.0","@types/date-and-time":"^0.6.0","@types/extend":"^3.0.0","@types/mime":"^2.0.0","@types/mime-types":"^2.1.0","@types/mocha":"^5.2.3","@types/nock":"^10.0.0","@types/node":"^11.13.4","@types/node-fetch":"^2.1.3","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/sinon":"^7.0.10","@types/through2":"^2.0.33","@types/tmp":"0.1.0","@types/uuid":"^3.4.4","@types/xdg-basedir":"^2.0.0",codecov:"^3.0.0",eslint:"^6.0.0","eslint-config-prettier":"^6.0.0","eslint-plugin-node":"^9.0.0","eslint-plugin-prettier":"^3.0.0",grpc:"^1.22.2",gts:"^1.0.0","intelli-espower-loader":"^1.0.1",jsdoc:"^3.6.2","jsdoc-fresh":"^1.0.1",linkinator:"^1.5.0",mocha:"^6.0.0",nock:"^10.0.1","node-fetch":"^2.2.0","normalize-newline":"^3.0.0",nyc:"^14.0.0","power-assert":"^1.4.4",prettier:"^1.7.0",proxyquire:"^2.0.0",sinon:"^7.3.0","source-map-support":"^0.5.6",tmp:"^0.1.0",typescript:"~3.5.0",uuid:"^3.1.0",yargs:"^13.3.0"}};
},{}],"02A8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@google-cloud/common"),t=require("@google-cloud/paginator"),r=require("@google-cloud/promisify"),o=require("arrify"),s=require("./bucket"),n=require("./channel"),i=require("./file"),c=require("./util");class a extends e.Service{constructor(e={}){e.apiEndpoint=e.apiEndpoint||"www.googleapis.com";const r=process.env.STORAGE_EMULATOR_HOST||`https://${e.apiEndpoint}/storage/v1`;super({apiEndpoint:e.apiEndpoint,baseUrl:r,projectIdRequired:!1,scopes:["https://www.googleapis.com/auth/iam","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/devstorage.full_control"],packageJson:require("../../package.json")},e),this.acl=a.acl,this.getBucketsStream=t.paginator.streamify("getBuckets")}bucket(e,t){if(!e)throw new Error("A bucket name is needed to use Cloud Storage.");return new s.Bucket(this,e,t)}channel(e,t){return new n.Channel(this,e,t)}createBucket(e,t,r){if(!e)throw new Error("A name is required to create a bucket.");let o;r?o=t:(r=t,o={});const s=Object.assign({},o,{name:e}),n={coldline:"COLDLINE",dra:"DURABLE_REDUCED_AVAILABILITY",multiRegional:"MULTI_REGIONAL",nearline:"NEARLINE",regional:"REGIONAL"};Object.keys(n).forEach(e=>{s[e]&&(s.storageClass=n[e],delete s[e])}),s.requesterPays&&(s.billing={requesterPays:s.requesterPays},delete s.requesterPays);const i={project:this.projectId};s.userProject&&(i.userProject=s.userProject,delete s.userProject),this.request({method:"POST",uri:"/b",qs:i,json:s},(t,o)=>{if(t)return void r(t,null,o);const s=this.bucket(e);s.metadata=o,r(null,s,o)})}getBuckets(e,t){const{options:r,callback:s}=c.normalize(e,t);r.project=r.project||this.projectId,this.request({uri:"/b",qs:r},(e,t)=>{if(e)return void s(e,null,null,t);const n=o(t.items).map(e=>{const t=this.bucket(e.id);return t.metadata=e,t}),i=t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null;s(null,n,i,t)})}getServiceAccount(e,t){const{options:r,callback:o}=c.normalize(e,t);this.request({uri:`/projects/${this.projectId}/serviceAccount`,qs:r},(e,t)=>{if(e)return void o(e,null,t);const r={};for(const o in t)if(t.hasOwnProperty(o)){r[o.replace(/_(\w)/g,(e,t)=>t.toUpperCase())]=t[o]}o(null,r,t)})}}a.Bucket=s.Bucket,a.Channel=n.Channel,a.File=i.File,a.acl={OWNER_ROLE:"OWNER",READER_ROLE:"READER",WRITER_ROLE:"WRITER"},exports.Storage=a,t.paginator.extend(a,"getBuckets"),r.promisifyAll(a,{exclude:["bucket","channel"]});
},{"@google-cloud/common":"s6Ps","@google-cloud/paginator":"Qr71","@google-cloud/promisify":"LG1d","arrify":"Wcc5","./bucket":"WPuS","./channel":"9kul","./file":"Iov9","./util":"yIR0","../../package.json":"3616"}],"yovV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./bucket");exports.Bucket=e.Bucket;var r=require("./channel");exports.Channel=r.Channel;var t=require("./file");exports.File=t.File;var i=require("./iam");exports.Iam=i.Iam;var a=require("./notification");exports.Notification=a.Notification;var o=require("./storage");exports.Storage=o.Storage;
},{"./bucket":"WPuS","./channel":"9kul","./file":"Iov9","./iam":"c2yJ","./notification":"pO38","./storage":"02A8"}],"8EKC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("../auth/credential"),i=require("../utils/validator"),r=function(){function e(){}return e.prototype.delete=function(){return Promise.resolve()},e}(),a=function(){function a(a){if(this.INTERNAL=new r,!(i.isNonNullObject(a)&&"options"in a))throw new e.FirebaseError({code:"storage/invalid-argument",message:"First argument passed to admin.storage() must be a valid Firebase app instance."});var o;try{o=require("@google-cloud/storage").Storage}catch(l){throw new e.FirebaseError({code:"storage/missing-dependencies",message:'Failed to import the Cloud Storage client library for Node.js. Make sure to install the "@google-cloud/storage" npm package. Original error: '+l})}var n=t.tryGetCertificate(a.options.credential);if(null!=n)this.storageClient=new o({projectId:n.projectId,credentials:{private_key:n.privateKey,client_email:n.clientEmail}});else{if(!(a.options.credential instanceof t.ApplicationDefaultCredential))throw new e.FirebaseError({code:"storage/invalid-credential",message:"Failed to initialize Google Cloud Storage client with the available credential. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Storage API."});this.storageClient=new o}this.appInternal=a}return a.prototype.bucket=function(t){var r=void 0!==t?t:this.appInternal.options.storageBucket;if(i.isNonEmptyString(r))return this.storageClient.bucket(r);throw new e.FirebaseError({code:"storage/invalid-argument",message:"Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method."})},Object.defineProperty(a.prototype,"app",{get:function(){return this.appInternal},enumerable:!0,configurable:!0}),a}();exports.Storage=a;
},{"../utils/error":"5IpL","../auth/credential":"ktw5","../utils/validator":"lesR","@google-cloud/storage":"yovV"}],"Dm29":[function(require,module,exports) {
module.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};
},{}],"drT2":[function(require,module,exports) {
var e=require("buffer").Buffer,t=e.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(e){if(e&&!t(e))throw new Error("Unknown encoding: "+e)}var r=exports.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),h(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=c;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new e(6),this.charReceived=0,this.charLength=0};function i(e){return e.toString(this.encoding)}function c(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}r.prototype.write=function(e){for(var t="";this.charLength;){var h=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,h),this.charReceived+=h,this.charReceived<this.charLength)return"";if(e=e.slice(h,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived);var i;r=(t+=e.toString(this.encoding,0,r)).length-1;if((i=t.charCodeAt(r))>=55296&&i<=56319){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,r)}return t},r.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var h=e[e.length-t];if(1==t&&h>>5==6){this.charLength=2;break}if(t<=2&&h>>4==14){this.charLength=3;break}if(t<=3&&h>>3==30){this.charLength=4;break}}this.charReceived=t},r.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var h=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,h).toString(i)}return t};
},{}],"YNrJ":[function(require,module,exports) {
module.exports=d;var e=require("isarray"),t=require("buffer").Buffer;d.ReadableState=o;var n=require("events").EventEmitter;n.listenerCount||(n.listenerCount=function(e,t){return e.listeners(t).length});var r,i=require("stream"),a=require("core-util-is");function o(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(r||(r=require("string_decoder/").StringDecoder),this.decoder=new r(e.encoding),this.encoding=e.encoding)}function d(e){if(!(this instanceof d))return new d(e);this._readableState=new o(e,this),this.readable=!0,i.call(this)}function s(e,t,n,r,i){var a=f(t,n);if(a)e.emit("error",a);else if(null==n)t.reading=!1,t.ended||c(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&g(e),m(e,t);else i||(t.reading=!1);return l(t)}function l(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}a.inherits=require("inherits"),a.inherits(d,i),d.prototype.push=function(e,n){var r=this._readableState;return"string"!=typeof e||r.objectMode||(n=n||r.defaultEncoding)!==r.encoding&&(e=new t(e,n),n=""),s(this,r,e,n,!1)},d.prototype.unshift=function(e){return s(this,this._readableState,e,"",!0)},d.prototype.setEncoding=function(e){r||(r=require("string_decoder/").StringDecoder),this._readableState.decoder=new r(e),this._readableState.encoding=e};var u=8388608;function h(e){if(e>=u)e=u;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function p(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function f(e,n){var r=null;return t.isBuffer(n)||"string"==typeof n||null==n||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function c(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?g(e):R(e)}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick(function(){b(e)}):b(e))}function b(e){e.emit("readable")}function m(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){v(e,t)}))}function v(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function w(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&_(e)}}function _(e){var t,r=e._readableState;function i(e,n,i){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?i(r.pipes):k(r.pipes,i),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(n.listenerCount(e,"data")>0&&M(e));r.ranOut=!0}function y(){this._readableState.ranOut&&(this._readableState.ranOut=!1,_(this))}function M(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var n=t||!1,r=!1;e.readable=!0,e.pipe=i.prototype.pipe,e.on=e.addListener=i.prototype.on,e.on("readable",function(){var t;for(r=!0;!n&&null!==(t=e.read());)e.emit("data",t);null===t&&(r=!1,e._readableState.needReadable=!0)}),e.pause=function(){n=!0,this.emit("pause")},e.resume=function(){n=!1,r?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function S(e,n){var r,i=n.buffer,a=n.length,o=!!n.decoder,d=!!n.objectMode;if(0===i.length)return null;if(0===a)r=null;else if(d)r=i.shift();else if(!e||e>=a)r=o?i.join(""):t.concat(i,a),i.length=0;else{if(e<i[0].length)r=(h=i[0]).slice(0,e),i[0]=h.slice(e);else if(e===i[0].length)r=i.shift();else{r=o?"":new t(e);for(var s=0,l=0,u=i.length;l<u&&s<e;l++){var h=i[0],p=Math.min(e-s,h.length);o?r+=h.slice(0,p):h.copy(r,s,0,p),p<h.length?i[0]=h.slice(p):i.shift(),s+=p}}}return r}function R(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function k(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function E(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}d.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return g(this),null;if(0===(e=p(e,t))&&t.ended)return n=null,t.length>0&&t.decoder&&(n=S(e,t),t.length-=n.length),0===t.length&&R(this),n;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=p(r,t)),null===(n=e>0?S(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&R(this),n},d.prototype._read=function(e){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(t,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1;var o=(!r||!1!==r.end)&&t!==process.stdout&&t!==process.stderr?s:u;function d(e){e===i&&u()}function s(){t.end()}a.endEmitted?process.nextTick(o):i.once("end",o),t.on("unpipe",d);var l=w(i);function u(){t.removeListener("close",p),t.removeListener("finish",f),t.removeListener("drain",l),t.removeListener("error",h),t.removeListener("unpipe",d),i.removeListener("end",s),i.removeListener("end",u),t._writableState&&!t._writableState.needDrain||l()}function h(e){c(),t.removeListener("error",h),0===n.listenerCount(t,"error")&&t.emit("error",e)}function p(){t.removeListener("finish",f),c()}function f(){t.removeListener("close",p),c()}function c(){i.unpipe(t)}return t.on("drain",l),t._events&&t._events.error?e(t._events.error)?t._events.error.unshift(h):t._events.error=[h,t._events.error]:t.on("error",h),t.once("close",p),t.once("finish",f),t.emit("pipe",i),a.flowing||(this.on("readable",y),a.flowing=!0,process.nextTick(function(){_(i)})),t},d.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",y),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",y),t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=E(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},d.prototype.on=function(e,t){var n=i.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||M(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&g(this,r):this.read(0))}return n},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){M(this),this.read(0),this.emit("resume")},d.prototype.pause=function(){M(this,!0),this.emit("pause")},d.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){(t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))}),e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return k(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){n&&(n=!1,e.resume())},r},d._fromList=S;
},{"isarray":"Dm29","core-util-is":"FX3H","inherits":"Cpyn","string_decoder/":"drT2"}],"vDbk":[function(require,module,exports) {
module.exports=n;var e=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t},t=require("core-util-is");t.inherits=require("inherits");var i=require("./_stream_readable"),r=require("./_stream_writable");function n(e){if(!(this instanceof n))return new n(e);i.call(this,e),r.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function l(e,t){for(var i=0,r=e.length;i<r;i++)t(e[i],i)}t.inherits(n,i),l(e(r.prototype),function(e){n.prototype[e]||(n.prototype[e]=r.prototype[e])});
},{"core-util-is":"FX3H","inherits":"Cpyn","./_stream_readable":"YNrJ","./_stream_writable":"7X68"}],"7X68":[function(require,module,exports) {
module.exports=f;var e=require("buffer").Buffer;f.WritableState=r;var t=require("core-util-is");t.inherits=require("inherits");var n=require("stream");function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function r(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(e){var t=require("./_stream_duplex");if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new r(e,this),this.writable=!0,n.call(this)}function o(e,t,n){var i=new Error("write after end");e.emit("error",i),process.nextTick(function(){n(i)})}function s(t,n,i,r){var f=!0;if(!e.isBuffer(i)&&"string"!=typeof i&&null!=i&&!n.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),process.nextTick(function(){r(o)}),f=!1}return f}function u(t,n,i){return t.objectMode||!1===t.decodeStrings||"string"!=typeof n||(n=new e(n,i)),n}function c(t,n,r,f,o){r=u(n,r,f),e.isBuffer(r)&&(f="buffer");var s=n.objectMode?1:r.length;n.length+=s;var c=n.length<n.highWaterMark;return c||(n.needDrain=!0),n.writing?n.buffer.push(new i(r,f,o)):h(t,n,s,r,f,o),c}function h(e,t,n,i,r,f){t.writelen=n,t.writecb=f,t.writing=!0,t.sync=!0,e._write(i,r,t.onwrite),t.sync=!1}function a(e,t,n,i,r){n?process.nextTick(function(){r(i)}):r(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function l(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(l(n),t)a(e,n,i,t,r);else{var f=p(e,n);f||n.bufferProcessing||!n.buffer.length||w(e,n),i?process.nextTick(function(){g(e,n,f,r)}):g(e,n,f,r)}}function g(e,t,n,i){n||b(e,t),i(),n&&v(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var i=t.buffer[n],r=i.chunk,f=i.encoding,o=i.callback;if(h(e,t,t.objectMode?1:r.length,r,f,o),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function p(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function v(e,t){var n=p(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function k(e,t,n){t.ending=!0,v(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0}t.inherits(f,n),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(t,n,i){var r=this._writableState,f=!1;return"function"==typeof n&&(i=n,n=null),e.isBuffer(t)?n="buffer":n||(n=r.defaultEncoding),"function"!=typeof i&&(i=function(){}),r.ended?o(this,r,i):s(this,r,t,i)&&(f=c(this,r,t,n,i)),f},f.prototype._write=function(e,t,n){n(new Error("not implemented"))},f.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.ending||i.finished||k(this,i,n)};
},{"core-util-is":"FX3H","inherits":"Cpyn","./_stream_duplex":"vDbk"}],"mTAi":[function(require,module,exports) {
module.exports=i;var r=require("./_stream_duplex"),t=require("core-util-is");function e(r,t){this.afterTransform=function(r,e){return n(t,r,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(r,t,e){var n=r._transformState;n.transforming=!1;var i=n.writecb;if(!i)return r.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=e&&r.push(e),i&&i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);r.call(this,t);this._transformState=new e(t,this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(r){a(n,r)}):a(n)})}function a(r,t){if(t)return r.emit("error",t);var e=r._writableState,n=(r._readableState,r._transformState);if(e.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return r.push(null)}t.inherits=require("inherits"),t.inherits(i,r),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},i.prototype._transform=function(r,t,e){throw new Error("not implemented")},i.prototype._write=function(r,t,e){var n=this._transformState;if(n.writecb=e,n.writechunk=r,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};
},{"./_stream_duplex":"vDbk","core-util-is":"FX3H","inherits":"Cpyn"}],"TVsC":[function(require,module,exports) {
module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"mTAi","core-util-is":"FX3H","inherits":"Cpyn"}],"t5S2":[function(require,module,exports) {
var e=require("stream");exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),process.browser||"disable"!==process.env.READABLE_STREAM||(module.exports=require("stream"));
},{"./lib/_stream_readable.js":"YNrJ","./lib/_stream_writable.js":"7X68","./lib/_stream_duplex.js":"vDbk","./lib/_stream_transform.js":"mTAi","./lib/_stream_passthrough.js":"TVsC"}],"AF2J":[function(require,module,exports) {
var t=require("readable-stream"),s=function(s){s=s||{},Array.isArray(s)&&(s={streams:s}),s.objectMode=!0,t.Duplex.call(this,s);var r=this;if(this._streams=(s.streams||[]).slice(),0===this._streams.length&&this._streams.push(new t.PassThrough({objectMode:!0})),this._bubbleErrors=void 0===s.bubbleErrors||!!s.bubbleErrors,this._bubbleErrors)for(var e=0;e<this._streams.length;++e)this._streams[e].on("error",function(t){return r.emit("error",t)});for(e=0;e<this._streams.length-1;++e)this._streams[e].pipe(this._streams[e+1]);this._first=this._streams[0],this._last=this._streams[this._streams.length-1],this._last.on("data",function(t){r.push(t)||r._last.pause()}),this._last.on("end",function(){r.push(null)}),this._first.on("finish",function(){r.end()}),this.on("finish",function(){r._first.end()})};s.prototype=Object.create(t.Duplex.prototype,{constructor:{value:s}}),s.prototype._write=function(t,s,r){this._first.write(t,r)},s.prototype._read=function(t){this._last.resume()};var r=module.exports=function(t,r){if(Array.isArray(t)){var e=r;r=t,t=e}return(t=t||{}).streams=t.streams||r,new s(t)};r.BunWrapper=s;
},{"readable-stream":"t5S2"}],"smnh":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"aJzw"}],"K9U9":[function(require,module,exports) {
"use strict";function e(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function t(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}var n;module.exports=q,q.WritableState=S;var r={deprecate:require("util-deprecate")},i=require("./internal/streams/stream"),o=require("buffer").Buffer,s=global.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof s}var c,a=require("./internal/streams/destroy"),l=require("./internal/streams/state"),d=l.getHighWaterMark,h=require("../errors").codes,b=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,R=h.ERR_STREAM_WRITE_AFTER_END,k=h.ERR_UNKNOWN_ENCODING;function E(){}function S(e,r,i){n=n||require("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function q(e){var t=this instanceof(n=n||require("./_stream_duplex"));if(!t&&!c.call(q,this))return new q(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function m(e,t){var n=new R;e.emit("error",n),process.nextTick(t,n)}function v(e,t,n,r){var i;return null===n?i=new _:"string"==typeof n||t.objectMode||(i=new b("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}function x(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n)),t}function M(e,t,n,r,i,o){if(!n){var s=x(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,f,r,i,o);return u}function B(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new w;if(P(n),t)T(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(C,e,n,o,i):C(e,n,o,i)}}function C(e,t,n,r){n||O(e,t),t.pendingcb--,r(),I(e,t)}function O(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function A(e,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(e._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var f=0,u=!0;r;)o[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;o.allBuffers=u,B(e,n,!0,n.length,o,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new t(n),n.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,a=r.encoding,l=r.callback;if(B(e,n,!1,n.objectMode?1:c.length,c,a,l),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function N(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t)))}function I(e,t){var n=D(t);return n&&(N(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function W(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(q,i),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===q&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},q.prototype.pipe=function(){this.emit("error",new y)},q.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&u(e);return s&&!o.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=E),r.ending?m(this,n):(s||v(this,r,e,n))&&(r.pendingcb++,i=M(this,r,s,e,t,n)),i},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},q.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(e,t,n){n(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||W(this,r,n),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),q.prototype.destroy=a.destroy,q.prototype._undestroy=a.undestroy,q.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yAJ6","./internal/streams/stream":"Y+bo","./internal/streams/destroy":"JuBc","./internal/streams/state":"smnh","../errors":"aJzw","inherits":"Cpyn","./_stream_duplex":"kHU4"}],"kHU4":[function(require,module,exports) {
"use strict";var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=o;var t=require("./_stream_readable"),r=require("./_stream_writable");require("inherits")(o,t);for(var a=e(r.prototype),i=0;i<a.length;i++){var n=a[i];o.prototype[n]||(o.prototype[n]=r.prototype[n])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(s,this)}function s(e){e.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"Eo8t","./_stream_writable":"K9U9","inherits":"Cpyn"}],"eJF1":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"aJzw"}],"BwtJ":[function(require,module,exports) {
"use strict";var e;function n(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var r=require("./end-of-stream"),t=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),a=Symbol("handlePromise"),s=Symbol("stream");function c(e,n){return{value:e,done:n}}function f(e){var n=e[t];if(null!==n){var r=e[s].read();null!==r&&(e[o]=null,e[t]=null,e[l]=null,n(c(r,!1)))}}function v(e){process.nextTick(f,e)}function d(e,n){return function(r,t){e.then(function(){n[i]?r(c(void 0,!0)):n[a](r,t)},t)}}var b=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(e={get stream(){return this[s]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[i])return Promise.resolve(c(void 0,!0));if(this[s].destroyed)return new Promise(function(n,r){process.nextTick(function(){e[u]?r(e[u]):n(c(void 0,!0))})});var r,t=this[o];if(t)r=new Promise(d(t,this));else{var l=this[s].read();if(null!==l)return Promise.resolve(c(l,!1));r=new Promise(this[a])}return this[o]=r,r}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(n,r){e[s].destroy(null,function(e){e?r(e):n(c(void 0,!0))})})}),e),b),h=function(e){var f,d=Object.create(m,(n(f={},s,{value:e,writable:!0}),n(f,t,{value:null,writable:!0}),n(f,l,{value:null,writable:!0}),n(f,u,{value:null,writable:!0}),n(f,i,{value:e._readableState.endEmitted,writable:!0}),n(f,a,{value:function(e,n){var r=d[s].read();r?(d[o]=null,d[t]=null,d[l]=null,e(c(r,!1))):(d[t]=e,d[l]=n)},writable:!0}),f));return d[o]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=d[l];return null!==n&&(d[o]=null,d[t]=null,d[l]=null,n(e)),void(d[u]=e)}var r=d[t];null!==r&&(d[o]=null,d[t]=null,d[l]=null,r(c(void 0,!0))),d[i]=!0}),e.on("readable",v.bind(null,d)),d};module.exports=h;
},{"./end-of-stream":"eJF1"}],"Eo8t":[function(require,module,exports) {
"use strict";var e;module.exports=k,k.ReadableState=E;var t=require("events").EventEmitter,n=function(e,t){return e.listeners(t).length},r=require("./internal/streams/stream"),i=require("buffer").Buffer,a=global.Uint8Array||function(){};function o(e){return i.from(e)}function d(e){return i.isBuffer(e)||e instanceof a}var s,l=require("util");s=l&&l.debuglog?l.debuglog("stream"):function(){};var u,p,h=require("./internal/streams/buffer_list"),f=require("./internal/streams/destroy"),c=require("./internal/streams/state"),g=c.getHighWaterMark,b=require("../errors").codes,m=b.ERR_INVALID_ARG_TYPE,y=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=require("../experimentalWarning"),S=w.emitExperimentalWarning;require("inherits")(k,r);var M=["error","close","destroy","pause","resume"];function R(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function E(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",r),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=require("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function k(t){if(e=e||require("./_stream_duplex"),!(this instanceof k))return new k(t);var n=this instanceof e;this._readableState=new E(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function L(e,t,n,r,a){s("readableAddChunk",t);var d,l=e._readableState;if(null===t)l.reading=!1,q(e,l);else if(a||(d=C(l,t)),d)e.emit("error",d);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=o(t)),r)l.endEmitted?e.emit("error",new v):j(e,l,t,!0);else if(l.ended)e.emit("error",new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?j(e,l,t,!1):O(e,l)):j(e,l,t,!1)}else r||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),O(e,t)}function C(e,t){var n;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=""),n=!0),L(this,e,t,!1,n)},k.prototype.unshift=function(e){return L(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return u||(u=require("string_decoder/").StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function D(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function W(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function q(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,B(e))}}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){s("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}function F(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function G(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Y,t,e))}function Y(e,t){s("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?G(this):x(this),null;if(0===(e=W(e,t))&&t.ended)return 0===t.length&&G(this),null;var r,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=W(n,t))),null===(r=e>0?V(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&G(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?d:g;function o(t,n){s("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",c),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",d),r.removeListener("end",g),r.removeListener("data",p),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function d(){s("onend"),e.end()}i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",o);var l=U(r);e.on("drain",l);var u=!1;function p(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){s("onerror",t),g(),e.removeListener("error",h),0===n(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",c),g()}function c(){s("onfinish"),e.removeListener("close",f),g()}function g(){s("unpipe"),r.unpipe(e)}return r.on("data",p),R(e,"error",h),e.once("close",f),e.once("finish",c),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},k.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?x(this):i.reading||process.nextTick(N,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(I,this),n},k.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(I,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(s("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(s("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<M.length;a++)e.on(M[a],this.emit.bind(this,M[a]));return this._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),void 0===p&&(p=require("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=V,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});
},{"./internal/streams/stream":"Y+bo","./internal/streams/buffer_list":"k/zV","./internal/streams/destroy":"JuBc","./internal/streams/state":"smnh","../errors":"aJzw","../experimentalWarning":"RR96","inherits":"Cpyn","./_stream_duplex":"kHU4","string_decoder/":"lrG1","./internal/streams/async_iterator":"BwtJ"}],"ulPk":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"aJzw","./_stream_duplex":"kHU4","inherits":"Cpyn"}],"rTvq":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"ulPk","inherits":"Cpyn"}],"q8h0":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"aJzw","./end-of-stream":"eJF1"}],"IBr4":[function(require,module,exports) {
var e=require("stream");"disable"===process.env.READABLE_STREAM&&e?(module.exports=e.Readable,Object.assign(module.exports,e),module.exports.Stream=e):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=e||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js"));
},{"./lib/_stream_readable.js":"Eo8t","./lib/_stream_writable.js":"K9U9","./lib/_stream_duplex.js":"kHU4","./lib/_stream_transform.js":"ulPk","./lib/_stream_passthrough.js":"rTvq","./lib/internal/streams/end-of-stream.js":"eJF1","./lib/internal/streams/pipeline.js":"q8h0"}],"rg5e":[function(require,module,exports) {
var t=require("readable-stream").Transform,n=require("util").inherits;function e(n){t.call(this,n),this._destroyed=!1}function o(t,n,e){e(null,t)}function r(t){return function(n,e,r){return"function"==typeof n&&(r=e,e=n,n={}),"function"!=typeof e&&(e=o),"function"!=typeof r&&(r=null),t(n,e,r)}}n(e,t),e.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;process.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},module.exports=r(function(t,n,o){var r=new e(t);return r._transform=n,o&&(r._flush=o),r}),module.exports.ctor=r(function(t,o,r){function i(n){if(!(this instanceof i))return new i(n);this.options=Object.assign({},t,n),e.call(this,this.options)}return n(i,e),i.prototype._transform=o,r&&(i.prototype._flush=r),i}),module.exports.obj=r(function(t,n,o){var r=new e(Object.assign({objectMode:!0,highWaterMark:16},t));return r._transform=n,o&&(r._flush=o),r});
},{"readable-stream":"IBr4"}],"NOIQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class t{constructor(){this.resolve=(()=>{}),this.reject=(()=>{}),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}function e(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let r=0;r<20;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function r(){return e().substr(0,5)}function o(t){return"[object Object]"===Object.prototype.toString.call(t)}function s(t){return 0===Object.keys(t).length}function n(t){return"function"==typeof t}exports.Deferred=t,exports.autoId=e,exports.requestTag=r,exports.isObject=o,exports.isEmpty=s,exports.isFunction=n;
},{}],"4Xv5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("url"),t=require("./util");function r(e,r,o){const n=o?` (found in field ${o})`:"";if(!t.isObject(r))return`${f(e,"Firestore document")} Input is not a plain JavaScript object${n}.`;{const t=r.constructor.name;switch(t){case"DocumentReference":case"FieldPath":case"FieldValue":case"GeoPoint":case"Timestamp":return`${f(e,"Firestore document")} Detected an object of type "${t}" that doesn't match the `+`expected instance${n}. Please ensure that the `+"Firestore types you are using are from the same NPM package.)";case"Object":return`${f(e,"Firestore document")} Invalid use of type "${typeof r}" as a Firestore argument${n}.`;default:return`${f(e,"Firestore document")} Couldn't serialize object of type "${t}"${n}. Firestore doesn't support JavaScript `+'objects with custom prototypes (i.e. objects that were created via the "new" operator).'}}}function o(e,r,o){if(!l(r,o)&&!t.isFunction(r))throw new Error(f(e,"function"))}function n(e,r,o){if(!l(r,o)&&!t.isObject(r))throw new Error(f(e,"object"))}function i(e,t,r){if(!l(t,r)&&"string"!=typeof t)throw new Error(f(e,"string"))}function a(t,r,o){if(!l(r,o)){i(t,r);const o=`http://${r}/`;let a;try{a=new e.URL(o)}catch(n){throw new Error(f(t,"host"))}if(""!==a.search||"/"!==a.pathname||""!==a.username)throw new Error(f(t,"host"))}}function s(e,t,r){if(!l(t,r)&&"boolean"!=typeof t)throw new Error(f(e,"boolean"))}function u(e,t,r){const o=void 0!==r&&void 0!==r.minValue?r.minValue:-1/0,n=void 0!==r&&void 0!==r.maxValue?r.maxValue:1/0;if(!l(t,r)){if("number"!=typeof t||isNaN(t))throw new Error(f(e,"number"));if(t<o||t>n)throw new Error(`${d(e)} must be within [${o}, ${n}] inclusive, but was: ${t}`)}}function c(e,t,r){const o=void 0!==r&&void 0!==r.minValue?r.minValue:-1/0,n=void 0!==r&&void 0!==r.maxValue?r.maxValue:1/0;if(!l(t,r)){if("number"!=typeof t||isNaN(t)||t%1!=0)throw new Error(f(e,"integer"));if(t<o||t>n)throw new Error(`${d(e)} must be within [${o}, ${n}] inclusive, but was: ${t}`)}}function f(e,t){return`${d(e)} is not a valid ${t}.`}function l(e,t){return void 0===e&&void 0!==t&&!0===t.optional}function p(e,t){return`${e} ${t}`+(1===e?"":"s")}function d(e){return"string"==typeof e?`Value for argument "${e}"`:`Element at index ${e}`}function m(e,t,r){if(t.length<r)throw new Error(`Function "${e}()" requires at least `+`${p(r,"argument")}.`)}function h(e,t,r){if(t.length>r)throw new Error(`Function "${e}()" accepts at most `+`${p(r,"argument")}.`)}function w(e,t,r,o){if(!l(t,o)){const o=[];for(const e of r){if(e===t)return;o.push(e)}throw new Error(`${d(e)} is invalid. Acceptable values are: ${o.join(", ")}`)}}exports.customObjectMessage=r,exports.validateFunction=o,exports.validateObject=n,exports.validateString=i,exports.validateHost=a,exports.validateBoolean=s,exports.validateNumber=u,exports.validateInteger=c,exports.invalidArgumentMessage=f,exports.validateOptional=l,exports.validateMinNumberOfArguments=m,exports.validateMaxNumberOfArguments=h,exports.validateEnumValue=w;
},{"./util":"NOIQ"}],"IZfu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./validate");function a(a,u){let t;if("string"==typeof a){const e=new Date(a),r=Math.floor(e.getTime()/1e3);let s=0;if(a.length>20){const e=a.substring(20,a.length-1),u=9-e.length;s=Number(e)*Math.pow(10,u)}if(isNaN(r)||isNaN(s))throw u=u||"timestampValue",new Error(`Specify a valid ISO 8601 timestamp for "${u}".`);t={seconds:r||void 0,nanos:s||void 0}}else void 0!==a&&(e.validateObject("timestampValue",a),t={seconds:a.seconds||void 0,nanos:a.nanos||void 0});return t}function u(e){return"string"==typeof e?Buffer.from(e,"base64"):e}function t(e){if(e.valueType)return e.valueType;const a=[];if(void 0!==e.stringValue&&a.push("stringValue"),void 0!==e.booleanValue&&a.push("booleanValue"),void 0!==e.integerValue&&a.push("integerValue"),void 0!==e.doubleValue&&a.push("doubleValue"),void 0!==e.timestampValue&&a.push("timestampValue"),void 0!==e.referenceValue&&a.push("referenceValue"),void 0!==e.arrayValue&&a.push("arrayValue"),void 0!==e.nullValue&&a.push("nullValue"),void 0!==e.mapValue&&a.push("mapValue"),void 0!==e.geoPointValue&&a.push("geoPointValue"),void 0!==e.bytesValue&&a.push("bytesValue"),1!==a.length)throw new Error(`Unable to infer type value fom '${JSON.stringify(e)}'.`);return a[0]}function r(e){switch(t(e)){case"timestampValue":return{timestampValue:a(e.timestampValue)};case"bytesValue":return{bytesValue:u(e.bytesValue)};case"integerValue":return{integerValue:Number(e.integerValue)};case"doubleValue":return{doubleValue:Number(e.doubleValue)};case"arrayValue":{const a=[];if(Array.isArray(e.arrayValue.values))for(const u of e.arrayValue.values)a.push(r(u));return{arrayValue:{values:a}}}case"mapValue":{const a={};for(const u in e.mapValue.fields)e.mapValue.fields.hasOwnProperty(u)&&(a[u]=r(e.mapValue.fields[u]));return{mapValue:{fields:a}}}default:return e}}function s(e){const a={};for(const u in e)e.hasOwnProperty(u)&&(a[u]=r(e[u]));return a}exports.timestampFromJson=a,exports.detectValueType=t,exports.valueFromJson=r,exports.fieldsFromJson=s;
},{"./validate":"4Xv5"}],"WBVD":[function(require,module,exports) {
function e(e){var t=[];for(var o in e)t.push(o);return t}exports=module.exports="function"==typeof Object.keys?Object.keys:e,exports.shim=e;
},{}],"lp2L":[function(require,module,exports) {
var t="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function e(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}exports=module.exports=t?e:o,exports.supported=e,exports.unsupported=o;
},{}],"Nbrj":[function(require,module,exports) {
var t=Array.prototype.slice,e=require("./lib/keys.js"),r=require("./lib/is_arguments.js"),n=module.exports=function(t,e,r){return r||(r={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:i(t,e,r))};function o(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function i(i,u,l){var c,p;if(o(i)||o(u))return!1;if(i.prototype!==u.prototype)return!1;if(r(i))return!!r(u)&&(i=t.call(i),u=t.call(u),n(i,u,l));if(f(i)){if(!f(u))return!1;if(i.length!==u.length)return!1;for(c=0;c<i.length;c++)if(i[c]!==u[c])return!1;return!0}try{var y=e(i),s=e(u)}catch(a){return!1}if(y.length!=s.length)return!1;for(y.sort(),s.sort(),c=y.length-1;c>=0;c--)if(y[c]!=s[c])return!1;for(c=y.length-1;c>=0;c--)if(p=y[c],!n(i[p],u[p],l))return!1;return typeof i==typeof u}
},{"./lib/keys.js":"WBVD","./lib/is_arguments.js":"lp2L"}],"dU+D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./validate");class e{constructor(e,i){t.validateNumber("latitude",e,{minValue:-90,maxValue:90}),t.validateNumber("longitude",i,{minValue:-180,maxValue:180}),this._latitude=e,this._longitude=i}get latitude(){return this._latitude}get longitude(){return this._longitude}isEqual(t){return this===t||t instanceof e&&this.latitude===t.latitude&&this.longitude===t.longitude}toProto(){return{geoPointValue:{latitude:this.latitude,longitude:this.longitude}}}static fromProto(t){return new e(t.latitude||0,t.longitude||0)}}exports.GeoPoint=e;
},{"./validate":"4Xv5"}],"Ti1F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./util"),e=require("./validate");exports.DEFAULT_DATABASE_ID="(default)";const s=/^projects\/([^\/]*)\/databases\/([^\/]*)(?:\/documents\/)?([\s\S]*)$/,r=/^[_a-zA-Z][_a-zA-Z0-9]*$/,n=/^[^*~\/[\]]+$/;class i{constructor(t){this.segments=t}get size(){return this.segments.length}append(t){return t instanceof i?this.construct(this.segments.concat(t.segments)):this.construct(this.segments.concat(this.split(t)))}parent(){return 0===this.segments.length?null:this.construct(this.segments.slice(0,this.segments.length-1))}isPrefixOf(t){if(t.segments.length<this.segments.length)return!1;for(let e=0;e<this.segments.length;e++)if(this.segments[e]!==t.segments[e])return!1;return!0}compareTo(t){const e=Math.min(this.segments.length,t.segments.length);for(let s=0;s<e;s++){if(this.segments[s]<t.segments[s])return-1;if(this.segments[s]>t.segments[s])return 1}return this.segments.length<t.segments.length?-1:this.segments.length>t.segments.length?1:0}toArray(){return this.segments.slice()}isEqual(t){return this===t||t instanceof this.constructor&&0===this.compareTo(t)}}class a extends i{constructor(...t){super(t)}get isDocument(){return this.segments.length>0&&this.segments.length%2==0}get isCollection(){return this.segments.length%2==1}get id(){return this.segments.length>0?this.segments[this.segments.length-1]:null}get relativeName(){return this.segments.join("/")}construct(t){return new a(...t)}split(t){return t.split("/").filter(t=>t.length>0)}toQualifiedResourcePath(t){return new o(t,exports.DEFAULT_DATABASE_ID,...this.segments)}}a.EMPTY=new a,exports.ResourcePath=a;class o extends a{constructor(t,e,...s){super(...s),this.projectId=t,this.databaseId=e}get relativeName(){return this.segments.join("/")}static fromSlashSeparatedString(t){const e=s.exec(t);if(e){const t=e[1],s=e[2],r=e[3];return new o(t,s).append(r)}throw new Error(`Resource name '${t}' is not valid.`)}append(t){return super.append(t)}parent(){return super.parent()}get formattedName(){return["projects",this.projectId,"databases",this.databaseId,"documents",...this.segments].join("/")}construct(t){return new o(this.projectId,this.databaseId,...t)}toQualifiedResourcePath(t){return this}compareTo(t){if(t instanceof o){if(this.projectId<t.projectId)return-1;if(this.projectId>t.projectId)return 1;if(this.databaseId<t.databaseId)return-1;if(this.databaseId>t.databaseId)return 1}return super.compareTo(t)}toProto(){return{referenceValue:this.formattedName}}}function h(t,s){if("string"!=typeof s||""===s)throw new Error(`${e.invalidArgumentMessage(t,"resource path")} Path must be a non-empty string.`);if(s.indexOf("//")>=0)throw new Error(`${e.invalidArgumentMessage(t,"resource path")} Paths must not contain //.`)}exports.QualifiedResourcePath=o,exports.validateResourcePath=h;class u extends i{constructor(...t){if(Array.isArray(t[0]))throw new Error("The FieldPath constructor no longer supports an array as its first argument. Please unpack your array and call FieldPath() with individual arguments.");e.validateMinNumberOfArguments("FieldPath",t,1);for(let s=0;s<t.length;++s)if(e.validateString(s,t[s]),0===t[s].length)throw new Error(`Element at index ${s} should not be an empty string.`);super(t)}static documentId(){return u._DOCUMENT_ID}static fromArgument(t){return t instanceof u?t:new u(...t.split("."))}get formattedName(){return this.segments.map(t=>r.test(t)?t:"`"+t.replace("\\","\\\\").replace("`","\\`")+"`").join(".")}toString(){return this.formattedName}split(t){return t.split(".")}construct(t){return new u(...t)}isEqual(t){return super.isEqual(t)}}function c(s,r){if(!(r instanceof u)){if(void 0===r)throw new Error(e.invalidArgumentMessage(s,"field path")+" The path cannot be omitted.");if(t.isObject(r)&&"FieldPath"===r.constructor.name)throw new Error(e.customObjectMessage(s,r));if("string"!=typeof r)throw new Error(`${e.invalidArgumentMessage(s,"field path")} Paths can only be specified as strings or via a FieldPath object.`);if(r.indexOf("..")>=0)throw new Error(`${e.invalidArgumentMessage(s,"field path")} Paths must not contain ".." in them.`);if(r.startsWith(".")||r.endsWith("."))throw new Error(`${e.invalidArgumentMessage(s,"field path")} Paths must not start or end with ".".`);if(!n.test(r))throw new Error(`${e.invalidArgumentMessage(s,"field path")} Paths can't be empty and must not contain\n    "*~/[]".`)}}u._DOCUMENT_ID=new u("__name__"),exports.FieldPath=u,exports.validateFieldPath=c;
},{"./util":"NOIQ","./validate":"4Xv5"}],"Aybr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const s=require("./validate"),e=1e6;class n{static now(){return n.fromMillis(Date.now())}static fromDate(s){return n.fromMillis(s.getTime())}static fromMillis(s){const t=Math.floor(s/1e3);return new n(t,(s-1e3*t)*e)}static fromProto(s){return new n(Number(s.seconds||0),Number(s.nanos||0))}constructor(e,n){s.validateInteger("seconds",e),s.validateInteger("nanoseconds",n,{minValue:0,maxValue:999999999}),this._seconds=e,this._nanoseconds=n}get seconds(){return this._seconds}get nanoseconds(){return this._nanoseconds}toDate(){return new Date(1e3*this._seconds+Math.round(this._nanoseconds/e))}toMillis(){return 1e3*this._seconds+Math.floor(this._nanoseconds/e)}isEqual(s){return this===s||s instanceof n&&this._seconds===s.seconds&&this._nanoseconds===s.nanoseconds}toProto(){const s={};return this.seconds&&(s.seconds=this.seconds),this.nanoseconds&&(s.nanos=this.nanoseconds),{timestampValue:s}}}exports.Timestamp=n;
},{"./validate":"4Xv5"}],"uv8E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./convert"),t=require("./field-value"),r=require("./field-value"),n=require("./geo-point"),a=require("./index"),s=require("./path"),o=require("./timestamp"),i=require("./util"),l=require("./validate"),u=20;class f{constructor(e){this.createReference=(t=>e.doc(t)),void 0===e._settings.timestampsInSnapshots?this.timestampsInSnapshots=!0:this.timestampsInSnapshots=e._settings.timestampsInSnapshots}encodeFields(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=this.encodeValue(e[r]);n&&(t[r]=n)}return t}encodeValue(e){if(e instanceof t.FieldTransform)return null;if("string"==typeof e)return{stringValue:e};if("boolean"==typeof e)return{booleanValue:e};if("number"==typeof e)return Number.isSafeInteger(e)?{integerValue:e}:{doubleValue:e};if(e instanceof Date){const t=o.Timestamp.fromDate(e);return{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}if(null===e)return{nullValue:"NULL_VALUE"};if(e instanceof Buffer||e instanceof Uint8Array)return{bytesValue:e};if(i.isObject(e)){const t=e.toProto;if("function"==typeof t)return t.bind(e)()}if(e instanceof Array){const t={arrayValue:{}};if(e.length>0){t.arrayValue.values=[];for(let r=0;r<e.length;++r){const n=this.encodeValue(e[r]);n&&t.arrayValue.values.push(n)}}return t}if("object"==typeof e&&c(e)){const t={mapValue:{}};return!i.isEmpty(e)&&(t.mapValue.fields=this.encodeFields(e),i.isEmpty(t.mapValue.fields))?null:t}throw new Error(`Cannot encode value: ${e}`)}decodeValue(t){switch(e.detectValueType(t)){case"stringValue":return t.stringValue;case"booleanValue":return t.booleanValue;case"integerValue":return Number(t.integerValue);case"doubleValue":return Number(t.doubleValue);case"timestampValue":{const e=o.Timestamp.fromProto(t.timestampValue);return this.timestampsInSnapshots?e:e.toDate()}case"referenceValue":{const e=s.QualifiedResourcePath.fromSlashSeparatedString(t.referenceValue);return this.createReference(e.relativeName)}case"arrayValue":{const e=[];if(Array.isArray(t.arrayValue.values))for(const r of t.arrayValue.values)e.push(this.decodeValue(r));return e}case"nullValue":return null;case"mapValue":{const e={},r=t.mapValue.fields;for(const t in r)r.hasOwnProperty(t)&&(e[t]=this.decodeValue(r[t]));return e}case"geoPointValue":return n.GeoPoint.fromProto(t.geoPointValue);case"bytesValue":return t.bytesValue;default:throw new Error("Cannot decode type from Firestore Value: "+JSON.stringify(t))}}}function c(e){return i.isObject(e)&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function d(e,i,f,m,p,h,V){if(p&&p.size>u)throw new Error(`${l.invalidArgumentMessage(e,f)} Input object is deeper than ${u} levels or contains a cycle.`);m=m||{},h=h||0,V=V||!1;const y=p?` (found in field ${p})`:"";if(Array.isArray(i))for(let t=0;t<i.length;++t)d(e,i[t],f,m,p?p.append(String(t)):new s.FieldPath(String(t)),h+1,!0);else if(c(i))for(const t in i)i.hasOwnProperty(t)&&d(e,i[t],f,m,p?p.append(new s.FieldPath(t)):new s.FieldPath(t),h+1,V);else{if(void 0===i)throw new Error(`${l.invalidArgumentMessage(e,f)} Cannot use "undefined" as a Firestore value${y}.`);if(i instanceof r.DeleteTransform){if(V)throw new Error(`${l.invalidArgumentMessage(e,f)} ${i.methodName}() cannot be used inside of an array${y}.`);if("root"===m.allowDeletes&&0!==h||"none"===m.allowDeletes)throw new Error(`${l.invalidArgumentMessage(e,f)} ${i.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${y}.`)}else if(i instanceof t.FieldTransform){if(V)throw new Error(`${l.invalidArgumentMessage(e,f)} ${i.methodName}() cannot be used inside of an array${y}.`);if(!m.allowTransforms)throw new Error(`${l.invalidArgumentMessage(e,f)} ${i.methodName}() can only be used in set(), create() or update()${y}.`)}else{if(i instanceof s.FieldPath)throw new Error(`${l.invalidArgumentMessage(e,f)} Cannot use object of type "FieldPath" as a Firestore value${y}.`);if(i instanceof a.DocumentReference);else if(i instanceof n.GeoPoint);else if(i instanceof o.Timestamp||i instanceof Date);else if(i instanceof Buffer||i instanceof Uint8Array);else if(null===i);else if("object"==typeof i)throw new Error(l.customObjectMessage(e,i,p))}}}exports.Serializer=f,exports.isPlainObject=c,exports.validateUserInput=d;
},{"./convert":"IZfu","./field-value":"LYdN","./geo-point":"dU+D","./index":"qAM9","./path":"Ti1F","./timestamp":"Aybr","./util":"NOIQ","./validate":"4Xv5"}],"LYdN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("deep-equal"),t=require("./serializer"),r=require("./validate");class n{constructor(){}static delete(){return s.DELETE_SENTINEL}static serverTimestamp(){return l.SERVER_TIMESTAMP_SENTINEL}static increment(e){return r.validateMinNumberOfArguments("FieldValue.increment",arguments,1),new u(e)}static arrayUnion(...e){return r.validateMinNumberOfArguments("FieldValue.arrayUnion",arguments,1),new i(e)}static arrayRemove(...e){return r.validateMinNumberOfArguments("FieldValue.arrayRemove",arguments,1),new o(e)}isEqual(e){return this===e}}exports.FieldValue=n;class a extends n{}exports.FieldTransform=a;class s extends a{constructor(){super()}get includeInDocumentMask(){return!0}get includeInDocumentTransform(){return!1}get methodName(){return"FieldValue.delete"}validate(){}toProto(e,t){throw new Error("FieldValue.delete() should not be included in a FieldTransform")}}s.DELETE_SENTINEL=new s,exports.DeleteTransform=s;class l extends a{constructor(){super()}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.serverTimestamp"}validate(){}toProto(e,t){return{fieldPath:t.formattedName,setToServerValue:"REQUEST_TIME"}}}l.SERVER_TIMESTAMP_SENTINEL=new l;class u extends a{constructor(e){super(),this.operand=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.increment"}validate(){r.validateNumber("FieldValue.increment()",this.operand)}toProto(e,t){const r=e.encodeValue(this.operand);return{fieldPath:t.formattedName,increment:r}}isEqual(e){return this===e||e instanceof u&&this.operand===e.operand}}class i extends a{constructor(e){super(),this.elements=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayUnion"}validate(){for(let e=0;e<this.elements.length;++e)d(e,this.elements[e])}toProto(e,t){const r=e.encodeValue(this.elements).arrayValue;return{fieldPath:t.formattedName,appendMissingElements:r}}isEqual(t){return this===t||t instanceof i&&e(this.elements,t.elements,{strict:!0})}}class o extends a{constructor(e){super(),this.elements=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayRemove"}validate(){for(let e=0;e<this.elements.length;++e)d(e,this.elements[e])}toProto(e,t){const r=e.encodeValue(this.elements).arrayValue;return{fieldPath:t.formattedName,removeAllFromArray:r}}isEqual(t){return this===t||t instanceof o&&e(this.elements,t.elements,{strict:!0})}}function d(e,r){t.validateUserInput(e,r,"array element",{allowDeletes:"none",allowTransforms:!1},void 0,0,!0)}
},{"deep-equal":"Nbrj","./serializer":"uv8E","./validate":"4Xv5"}],"hqpX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("deep-equal"),t=require("assert"),r=require("./field-value"),s=require("./path"),i=require("./serializer"),o=require("./util");class n{build(){return t(void 0!==this.fieldsProto==(void 0!==this.createTime),"Create time should be set iff document exists."),t(void 0!==this.fieldsProto==(void 0!==this.updateTime),"Update time should be set iff document exists."),this.fieldsProto?new d(this.ref,this.fieldsProto,this.readTime,this.createTime,this.updateTime):new a(this.ref,void 0,this.readTime)}}exports.DocumentSnapshotBuilder=n;class a{constructor(e,t,r,s,i){this._ref=e,this._fieldsProto=t,this._serializer=e.firestore._serializer,this._readTime=r,this._createTime=s,this._updateTime=i}static fromObject(e,t){const r=e.firestore._serializer;return new a(e,r.encodeFields(t))}static fromUpdateMap(e,s){const i=e.firestore._serializer;function n(e,s,a,d){const u=a[d],f=d===a.length-1;if(void 0===e[u]){if(f){if(s instanceof r.FieldTransform)return o.isEmpty(e)?null:e;const t=i.encodeValue(s);return t&&(e[u]=t),e}{const t={mapValue:{fields:{}}},r=n(t.mapValue.fields,s,a,d+1);return r?(t.mapValue.fields=r,e[u]=t,e):o.isEmpty(e)?null:e}}return t(!f,"Can't merge current value into a nested object"),e[u].mapValue.fields=n(e[u].mapValue.fields,s,a,d+1),e}const d={};for(const[t,r]of s){n(d,r,t.toArray(),0)}return new a(e,d)}get exists(){return void 0!==this._fieldsProto}get ref(){return this._ref}get id(){return this._ref.id}get createTime(){return this._createTime}get updateTime(){return this._updateTime}get readTime(){if(void 0===this._readTime)throw new Error("Called 'readTime' on a local document");return this._readTime}data(){const e=this._fieldsProto;if(void 0===e)return;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=this._serializer.decodeValue(e[r]));return t}get(e){s.validateFieldPath("field",e);const t=this.protoField(e);if(void 0!==t)return this._serializer.decodeValue(t)}protoField(e){let t=this._fieldsProto;if(void 0===t)return;const r=s.FieldPath.fromArgument(e).toArray();for(;r.length>1;){if(!(t=t[r.shift()])||!t.mapValue)return;t=t.mapValue.fields}return t[r[0]]}get isEmpty(){return void 0===this._fieldsProto||o.isEmpty(this._fieldsProto)}toProto(){return{update:{name:this._ref.formattedName,fields:this._fieldsProto}}}isEqual(t){return this===t||t instanceof a&&this._ref.isEqual(t._ref)&&e(this._fieldsProto,t._fieldsProto,{strict:!0})}}exports.DocumentSnapshot=a;class d extends a{constructor(e,t,r,s,i){super(e,t,r,s,i)}get createTime(){return super.createTime}get updateTime(){return super.updateTime}data(){const e=super.data();if(!e)throw new Error("The data in a QueryDocumentSnapshot should always exist.");return e}}exports.QueryDocumentSnapshot=d;class u{constructor(e){this._sortedPaths=e,this._sortedPaths.sort((e,t)=>e.compareTo(t))}static fromUpdateMap(e){const t=[];return e.forEach((e,i)=>{e instanceof r.FieldTransform&&!e.includeInDocumentMask||t.push(s.FieldPath.fromArgument(i))}),new u(t)}static fromFieldMask(e){const t=[];for(const r of e)t.push(s.FieldPath.fromArgument(r));return new u(t)}static fromObject(e){const t=[];return function e(o,n){let a=!0;for(const d in o)if(o.hasOwnProperty(d)){a=!1;const u=new s.FieldPath(d),f=n?n.append(u):u,l=o[d];l instanceof r.FieldTransform?l.includeInDocumentMask&&t.push(f):i.isPlainObject(l)?e(l,f):t.push(f)}n&&a&&t.push(n)}(e),new u(t)}get isEmpty(){return 0===this._sortedPaths.length}static removeFromSortedArray(e,t){for(let r=0;r<e.length;){let s=!1;for(const i of t)if(e[r].isEqual(i)){e.splice(r,1),s=!0;break}s||++r}}removeFields(e){u.removeFromSortedArray(this._sortedPaths,e)}contains(e){for(const t of this._sortedPaths){const r=t.compareTo(e);if(0===r)return!0;if(r>0)return!1}return!1}applyTo(e){const t=(e=>{const t=this._sortedPaths.slice(0),r=(e,i)=>{let n=null;return Object.keys(e).forEach(a=>{const d=i?i.append(a):new s.FieldPath(a);if(this.contains(d))u.removeFromSortedArray(t,[d]),(n=n||{})[a]=e[a];else if(o.isObject(e[a])){const t=r(e[a],d);t&&((n=n||{})[a]=t)}}),n};return{filteredData:r(e)||{},remainingPaths:t}})(e);if(0!==t.remainingPaths.length)throw new Error(`Input data is missing for field "${t.remainingPaths[0]}".`);return t.filteredData}toProto(){if(this.isEmpty)return{};const e=[];for(const t of this._sortedPaths)e.push(t.formattedName);return{fieldPaths:e}}}exports.DocumentMask=u;class f{constructor(e,t){this.ref=e,this.transforms=t}static fromObject(e,t){const r=new Map;for(const i in t)t.hasOwnProperty(i)&&r.set(new s.FieldPath(i),t[i]);return f.fromUpdateMap(e,r)}static fromUpdateMap(e,t){const o=new Map;return t.forEach((e,t)=>{!function e(t,n,a){if(t instanceof r.FieldTransform&&t.includeInDocumentTransform){if(!a)throw new Error(`${t.methodName}() is not supported inside of array values.`);o.set(n,t)}else if(Array.isArray(t))for(let r=0;r<t.length;++r)e(t[r],n.append(String(r)),!1);else if(i.isPlainObject(t))for(const r in t)t.hasOwnProperty(r)&&e(t[r],n.append(new s.FieldPath(r)),a)}(e,s.FieldPath.fromArgument(t),!0)}),new f(e,o)}get isEmpty(){return 0===this.transforms.size}get fields(){return Array.from(this.transforms.keys())}validate(){this.transforms.forEach(e=>e.validate())}toProto(e){if(this.isEmpty)return null;const t=[];for(const[r,s]of this.transforms)t.push(s.toProto(e,r));return{transform:{document:this.ref.formattedName,fieldTransforms:t}}}}exports.DocumentTransform=f;class l{constructor(e){void 0!==e&&(this._exists=e.exists,this._lastUpdateTime=e.lastUpdateTime)}toProto(){if(this.isEmpty)return null;const e={};if(void 0!==this._lastUpdateTime){const t=this._lastUpdateTime.toProto();e.updateTime=t.timestampValue}else e.exists=this._exists;return e}get isEmpty(){return void 0===this._exists&&!this._lastUpdateTime}}exports.Precondition=l;
},{"deep-equal":"Nbrj","./field-value":"LYdN","./path":"Ti1F","./serializer":"uv8E","./util":"NOIQ"}],"fhaM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("util"),t=require("./validate");let o,r=e=>{};function i(t,i,n,...s){i=i||"#####";const u=e.format(n,...s),c=(new Date).toISOString();r(`Firestore (${o}) ${c} ${i} [${t}]: `+u)}function n(e){t.validateFunction("logger",e),r=e}function s(e){o=e}exports.logger=i,exports.setLogFunction=n,exports.setLibVersion=s;
},{"./validate":"4Xv5"}],"QArp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("assert");class t{constructor(e,t){this.concurrentOperationLimit=e,this.clientFactory=t,this.activeClients=new Map}acquire(){let t=null,i=0;return this.activeClients.forEach((e,s)=>{!t&&e<this.concurrentOperationLimit&&(t=s,i=e)}),t||(t=this.clientFactory(),e(!this.activeClients.has(t),"The provided client factory returned an existing instance")),this.activeClients.set(t,i+1),t}release(t){let i=this.activeClients.get(t)||0;e(i>0,"No active request"),i-=1,this.activeClients.set(t,i),0===i&&this.garbageCollect()}get size(){return this.activeClients.size}get opCount(){let e=0;return this.activeClients.forEach(t=>e+=t),e}run(e){const t=this.acquire();return e(t).catch(e=>(this.release(t),Promise.reject(e))).then(e=>(this.release(t),e))}garbageCollect(){let e=0;this.activeClients.forEach((t,i)=>{0===t&&++e>1&&this.activeClients.delete(i)})}}exports.ClientPool=t;
},{}],"rLzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e,t,n,s){this._type=e,this._document=t,this._oldIndex=n,this._newIndex=s}get type(){return this._type}get doc(){return this._document}get oldIndex(){return this._oldIndex}get newIndex(){return this._newIndex}isEqual(t){return this===t||t instanceof e&&this._type===t._type&&this._oldIndex===t._oldIndex&&this._newIndex===t._newIndex&&this._document.isEqual(t._document)}}exports.DocumentChange=e;
},{}],"Za0p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./convert"),r=require("./path");var t;function n(r){const n=e.detectValueType(r);switch(n){case"nullValue":return t.NULL;case"integerValue":case"doubleValue":return t.NUMBER;case"stringValue":return t.STRING;case"booleanValue":return t.BOOLEAN;case"arrayValue":return t.ARRAY;case"timestampValue":return t.TIMESTAMP;case"geoPointValue":return t.GEO_POINT;case"bytesValue":return t.BLOB;case"referenceValue":return t.REF;case"mapValue":return t.OBJECT;default:throw new Error("Unexpected value type: "+n)}}function u(e,r){return e<r?-1:e>r?1:0}function a(e,r){return e<r?-1:e>r?1:e===r?0:isNaN(e)?isNaN(r)?0:-1:1}function o(e,r){let t,n;return a(t=void 0!==e.integerValue?Number(e.integerValue):Number(e.doubleValue),n=void 0!==r.integerValue?Number(r.integerValue):Number(r.doubleValue))}function l(e,r){const t=u(e.seconds||0,r.seconds||0);return 0!==t?t:u(e.nanos||0,r.nanos||0)}function s(e,r){if(!(e instanceof Buffer&&r instanceof Buffer))throw new Error("Blobs can only be compared if they are Buffers.");return Buffer.compare(e,r)}function c(e,t){const n=r.QualifiedResourcePath.fromSlashSeparatedString(e.referenceValue),u=r.QualifiedResourcePath.fromSlashSeparatedString(t.referenceValue);return n.compareTo(u)}function i(e,r){return u(e.latitude||0,r.latitude||0)||u(e.longitude||0,r.longitude||0)}function f(e,r){for(let t=0;t<e.length&&t<r.length;t++){const n=E(e[t],r[t]);if(0!==n)return n}return u(e.length,r.length)}function V(e,r){const t=Object.keys(e),n=Object.keys(r);t.sort(),n.sort();for(let a=0;a<t.length&&a<n.length;a++){const o=u(t[a],n[a]);if(0!==o)return o;const l=t[a],s=E(e[l],r[l]);if(0!==s)return s}return u(t.length,n.length)}function E(e,r){const a=n(e),E=u(a,n(r));if(0!==E)return E;switch(a){case t.NULL:return 0;case t.BOOLEAN:return u(e.booleanValue,r.booleanValue);case t.STRING:return u(e.stringValue,r.stringValue);case t.NUMBER:return o(e,r);case t.TIMESTAMP:return l(e.timestampValue,r.timestampValue);case t.BLOB:return s(e.bytesValue,r.bytesValue);case t.REF:return c(e,r);case t.GEO_POINT:return i(e.geoPointValue,r.geoPointValue);case t.ARRAY:return f(e.arrayValue.values||[],r.arrayValue.values||[]);case t.OBJECT:return V(e.mapValue.fields||{},r.mapValue.fields||{});default:throw new Error(`Encountered unknown type order: ${a}`)}}!function(e){e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.NUMBER=2]="NUMBER",e[e.TIMESTAMP=3]="TIMESTAMP",e[e.STRING=4]="STRING",e[e.BLOB=5]="BLOB",e[e.REF=6]="REF",e[e.GEO_POINT=7]="GEO_POINT",e[e.ARRAY=8]="ARRAY",e[e.OBJECT=9]="OBJECT"}(t||(t={})),exports.primitiveComparator=u,exports.compare=E;
},{"./convert":"IZfu","./path":"Ti1F"}],"kHbb":[function(require,module,exports) {
"use strict";module.exports=p;var t=0,e=1;function r(t,e,r,o,i,n){this._color=t,this.key=e,this.value=r,this.left=o,this.right=i,this._count=n}function o(t){return new r(t._color,t.key,t.value,t.left,t.right,t._count)}function i(t,e){return new r(t,e.key,e.value,e.left,e.right,e._count)}function n(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function l(t,e){this._compare=t,this.root=e}var h=l.prototype;function f(t,e){var r;if(e.left&&(r=f(t,e.left)))return r;return(r=t(e.key,e.value))||(e.right?f(t,e.right):void 0)}function c(t,e,r,o){if(e(t,o.key)<=0){var i;if(o.left)if(i=c(t,e,r,o.left))return i;if(i=r(o.key,o.value))return i}if(o.right)return c(t,e,r,o.right)}function u(t,e,r,o,i){var n,l=r(t,i.key),h=r(e,i.key);if(l<=0){if(i.left&&(n=u(t,e,r,o,i.left)))return n;if(h>0&&(n=o(i.key,i.value)))return n}if(h>0&&i.right)return u(t,e,r,o,i.right)}function g(t,e){this.tree=t,this._stack=e}Object.defineProperty(h,"keys",{get:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t}}),Object.defineProperty(h,"values",{get:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t}}),Object.defineProperty(h,"length",{get:function(){return this.root?this.root._count:0}}),h.insert=function(o,h){for(var f=this._compare,c=this.root,u=[],g=[];c;){var _=f(o,c.key);u.push(c),g.push(_),c=_<=0?c.left:c.right}u.push(new r(t,o,h,null,null,1));for(var a=u.length-2;a>=0;--a){c=u[a];g[a]<=0?u[a]=new r(c._color,c.key,c.value,u[a+1],c.right,c._count+1):u[a]=new r(c._color,c.key,c.value,c.left,u[a+1],c._count+1)}for(a=u.length-1;a>1;--a){var s=u[a-1];c=u[a];if(s._color===e||c._color===e)break;var v=u[a-2];if(v.left===s)if(s.left===c){if(!(p=v.right)||p._color!==t){if(v._color=t,v.left=s.right,s._color=e,s.right=v,u[a-2]=s,u[a-1]=c,n(v),n(s),a>=3)(k=u[a-3]).left===v?k.left=s:k.right=s;break}s._color=e,v.right=i(e,p),v._color=t,a-=1}else{if(!(p=v.right)||p._color!==t){if(s.right=c.left,v._color=t,v.left=c.right,c._color=e,c.left=s,c.right=v,u[a-2]=c,u[a-1]=s,n(v),n(s),n(c),a>=3)(k=u[a-3]).left===v?k.left=c:k.right=c;break}s._color=e,v.right=i(e,p),v._color=t,a-=1}else if(s.right===c){if(!(p=v.left)||p._color!==t){if(v._color=t,v.right=s.left,s._color=e,s.left=v,u[a-2]=s,u[a-1]=c,n(v),n(s),a>=3)(k=u[a-3]).right===v?k.right=s:k.left=s;break}s._color=e,v.left=i(e,p),v._color=t,a-=1}else{var p;if(!(p=v.left)||p._color!==t){var k;if(s.left=c.right,v._color=t,v.right=c.left,c._color=e,c.right=s,c.left=v,u[a-2]=c,u[a-1]=s,n(v),n(s),n(c),a>=3)(k=u[a-3]).right===v?k.right=c:k.left=c;break}s._color=e,v.left=i(e,p),v._color=t,a-=1}}return u[0]._color=e,new l(f,u[0])},h.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return f(t,this.root);case 2:return c(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return u(e,r,this._compare,t,this.root)}},Object.defineProperty(h,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new g(this,t)}}),Object.defineProperty(h,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new g(this,t)}}),h.at=function(t){if(t<0)return new g(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new g(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new g(this,[])},h.ge=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n<=0&&(i=o.length),r=n<=0?r.left:r.right}return o.length=i,new g(this,o)},h.gt=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n<0&&(i=o.length),r=n<0?r.left:r.right}return o.length=i,new g(this,o)},h.lt=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n>0&&(i=o.length),r=n<=0?r.left:r.right}return o.length=i,new g(this,o)},h.le=function(t){for(var e=this._compare,r=this.root,o=[],i=0;r;){var n=e(t,r.key);o.push(r),n>=0&&(i=o.length),r=n<0?r.left:r.right}return o.length=i,new g(this,o)},h.find=function(t){for(var e=this._compare,r=this.root,o=[];r;){var i=e(t,r.key);if(o.push(r),0===i)return new g(this,o);r=i<=0?r.left:r.right}return new g(this,[])},h.remove=function(t){var e=this.find(t);return e?e.remove():this},h.get=function(t){for(var e=this._compare,r=this.root;r;){var o=e(t,r.key);if(0===o)return r.value;r=o<=0?r.left:r.right}};var _=g.prototype;function a(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function s(r){for(var l,h,f,c,u=r.length-1;u>=0;--u){if(l=r[u],0===u)return void(l._color=e);if((h=r[u-1]).left===l){if((f=h.right).right&&f.right._color===t){if(c=(f=h.right=o(f)).right=o(f.right),h.right=f.left,f.left=h,f.right=c,f._color=h._color,l._color=e,h._color=e,c._color=e,n(h),n(f),u>1)(g=r[u-2]).left===h?g.left=f:g.right=f;return void(r[u-1]=f)}if(f.left&&f.left._color===t){if(c=(f=h.right=o(f)).left=o(f.left),h.right=c.left,f.left=c.right,c.left=h,c.right=f,c._color=h._color,h._color=e,f._color=e,l._color=e,n(h),n(f),n(c),u>1)(g=r[u-2]).left===h?g.left=c:g.right=c;return void(r[u-1]=c)}if(f._color===e){if(h._color===t)return h._color=e,void(h.right=i(t,f));h.right=i(t,f);continue}f=o(f),h.right=f.left,f.left=h,f._color=h._color,h._color=t,n(h),n(f),u>1&&((g=r[u-2]).left===h?g.left=f:g.right=f),r[u-1]=f,r[u]=h,u+1<r.length?r[u+1]=l:r.push(l),u+=2}else{if((f=h.left).left&&f.left._color===t){if(c=(f=h.left=o(f)).left=o(f.left),h.left=f.right,f.right=h,f.left=c,f._color=h._color,l._color=e,h._color=e,c._color=e,n(h),n(f),u>1)(g=r[u-2]).right===h?g.right=f:g.left=f;return void(r[u-1]=f)}if(f.right&&f.right._color===t){if(c=(f=h.left=o(f)).right=o(f.right),h.left=c.right,f.right=c.left,c.right=h,c.left=f,c._color=h._color,h._color=e,f._color=e,l._color=e,n(h),n(f),n(c),u>1)(g=r[u-2]).right===h?g.right=c:g.left=c;return void(r[u-1]=c)}if(f._color===e){if(h._color===t)return h._color=e,void(h.left=i(t,f));h.left=i(t,f);continue}var g;f=o(f),h.left=f.right,f.right=h,f._color=h._color,h._color=t,n(h),n(f),u>1&&((g=r[u-2]).right===h?g.right=f:g.left=f),r[u-1]=f,r[u]=h,u+1<r.length?r[u+1]=l:r.push(l),u+=2}}}function v(t,e){return t<e?-1:t>e?1:0}function p(t){return new l(t||v,null)}Object.defineProperty(_,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(_,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),_.clone=function(){return new g(this.tree,this._stack.slice())},_.remove=function(){var o=this._stack;if(0===o.length)return this.tree;var i=new Array(o.length),n=o[o.length-1];i[i.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var h=o.length-2;h>=0;--h){(n=o[h]).left===o[h+1]?i[h]=new r(n._color,n.key,n.value,i[h+1],n.right,n._count):i[h]=new r(n._color,n.key,n.value,n.left,i[h+1],n._count)}if((n=i[i.length-1]).left&&n.right){var f=i.length;for(n=n.left;n.right;)i.push(n),n=n.right;var c=i[f-1];i.push(new r(n._color,c.key,c.value,n.left,n.right,n._count)),i[f-1].key=n.key,i[f-1].value=n.value;for(h=i.length-2;h>=f;--h)n=i[h],i[h]=new r(n._color,n.key,n.value,n.left,i[h+1],n._count);i[f-1].left=i[f]}if((n=i[i.length-1])._color===t){var u=i[i.length-2];u.left===n?u.left=null:u.right===n&&(u.right=null),i.pop();for(h=0;h<i.length;++h)i[h]._count--;return new l(this.tree._compare,i[0])}if(n.left||n.right){n.left?a(n,n.left):n.right&&a(n,n.right),n._color=e;for(h=0;h<i.length-1;++h)i[h]._count--;return new l(this.tree._compare,i[0])}if(1===i.length)return new l(this.tree._compare,null);for(h=0;h<i.length;++h)i[h]._count--;var g=i[i.length-2];return s(i),g.left===n?g.left=null:g.right=null,new l(this.tree._compare,i[0])},Object.defineProperty(_,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(_,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(_,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var o=e.length-2;o>=0;--o)e[o+1]===e[o].right&&(++t,e[o].left&&(t+=e[o].left._count));return t},enumerable:!0}),_.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(_,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),_.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var o=new Array(e.length),i=e[e.length-1];o[o.length-1]=new r(i._color,i.key,t,i.left,i.right,i._count);for(var n=e.length-2;n>=0;--n)(i=e[n]).left===e[n+1]?o[n]=new r(i._color,i.key,i.value,o[n+1],i.right,i._count):o[n]=new r(i._color,i.key,i.value,i.left,o[n+1],i._count);return new l(this.tree._compare,o[0])},_.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(_,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}});
},{}],"XMVz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./logger"),e=1e3,r=6e4,s=1.5,i=1;exports.MAX_RETRY_ATTEMPTS=10;let a=setTimeout;function o(t){a=t}exports.setTimeoutHandler=o;class n{constructor(t={}){this._retryCount=0,this.currentBaseMs=0,this.awaitingBackoffCompletion=!1,this.initialDelayMs=void 0!==t.initialDelayMs?t.initialDelayMs:e,this.backoffFactor=void 0!==t.backoffFactor?t.backoffFactor:s,this.maxDelayMs=void 0!==t.maxDelayMs?t.maxDelayMs:r,this.jitterFactor=void 0!==t.jitterFactor?t.jitterFactor:i}reset(){this._retryCount=0,this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndWait(){if(this.awaitingBackoffCompletion)return Promise.reject(new Error("A backoff operation is already in progress."));if(this.retryCount>exports.MAX_RETRY_ATTEMPTS)return Promise.reject(new Error("Exceeded maximum number of retries allowed."));const e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&t.logger("ExponentialBackoff.backoffAndWait",null,`Backing off for ${e} ms `+`(base delay: ${this.currentBaseMs} ms)`),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs=Math.max(this.currentBaseMs,this.initialDelayMs),this.currentBaseMs=Math.min(this.currentBaseMs,this.maxDelayMs),this._retryCount+=1,new Promise(t=>{this.awaitingBackoffCompletion=!0,a(()=>{this.awaitingBackoffCompletion=!1,t()},e)})}get retryCount(){return this._retryCount}jitterDelayMs(){return(Math.random()-.5)*this.jitterFactor*this.currentBaseMs}}exports.ExponentialBackoff=n;
},{"./logger":"fhaM"}],"/sDJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e extends Error{}exports.GrpcError=e;
},{}],"Ca3O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("assert"),t=require("functional-red-black-tree"),r=require("./backoff"),s=require("./document"),a=require("./document-change"),o=require("./logger"),i=require("./path"),n=require("./timestamp"),h=require("./types"),c=require("./util"),d=1,u={},m={added:"added",modified:"modified",removed:"removed"},g={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,DO_NOT_USE:-1},l=(t,r)=>(e(t===r,"Document watches only support one document."),0),p=()=>{};class T{constructor(e){this.isActive=!0,this.currentStream=null,this.resumeToken=void 0,this.docMap=new Map,this.changeMap=new Map,this.current=!1,this.hasPushed=!1,this.firestore=e,this.backoff=new r.ExponentialBackoff,this.requestTag=c.requestTag(),this.onNext=p,this.onError=p}onSnapshot(r,s){return e(this.onNext===p,"onNext should not already be defined."),e(this.onError===p,"onError should not already be defined."),e(void 0===this.docTree,"docTree should not already be defined."),this.onNext=r,this.onError=s,this.docTree=t(this.getComparator()),this.initStream(),()=>{o.logger("Watch.onSnapshot",this.requestTag,"Ending stream"),this.isActive=!1,this.onNext=(()=>{}),this.onError=(()=>{}),this.currentStream&&this.currentStream.end()}}currentSize(){const e=this.extractCurrentChanges(n.Timestamp.now());return this.docMap.size+e.adds.length-e.deletes.length}extractCurrentChanges(e){const t=[],r=[],s=[];return this.changeMap.forEach((a,o)=>{a===u?this.docMap.has(o)&&t.push(o):this.docMap.has(o)?(a.readTime=e,s.push(a.build())):(a.readTime=e,r.push(a.build()))}),{deletes:t,adds:r,updates:s}}resetDocs(){o.logger("Watch.resetDocs",this.requestTag,"Resetting documents"),this.changeMap.clear(),this.resumeToken=void 0,this.docTree.forEach(e=>{this.changeMap.set(e.ref.path,u)}),this.current=!1}closeStream(e){this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.isActive&&(this.isActive=!1,o.logger("Watch.closeStream",this.requestTag,"Invoking onError: ",e),this.onError(e))}maybeReopenStream(e){this.isActive&&!this.isPermanentError(e)?(o.logger("Watch.maybeReopenStream",this.requestTag,"Stream ended, re-opening after retryable error: ",e),this.changeMap.clear(),this.isResourceExhaustedError(e)&&this.backoff.resetToMax(),this.initStream()):this.closeStream(e)}resetStream(){o.logger("Watch.resetStream",this.requestTag,"Restarting stream"),this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.initStream()}initStream(){this.backoff.backoffAndWait().then(async()=>{if(!this.isActive)return void o.logger("Watch.initStream",this.requestTag,"Not initializing inactive stream");await this.firestore.initializeIfNeeded();const e={};return e.database=this.firestore.formattedName,e.addTarget=this.getTarget(this.resumeToken),this.firestore.readWriteStream("listen",e,this.requestTag,!0).then(e=>{if(!this.isActive)return o.logger("Watch.initStream",this.requestTag,"Closing inactive stream"),void e.end();o.logger("Watch.initStream",this.requestTag,"Opened new stream"),this.currentStream=e,this.currentStream.on("data",e=>{this.onData(e)}).on("error",t=>{this.currentStream===e&&(this.currentStream=null,this.maybeReopenStream(t))}).on("end",()=>{if(this.currentStream===e){this.currentStream=null;const e=new h.GrpcError("Stream ended unexpectedly");e.code=g.UNKNOWN,this.maybeReopenStream(e)}}),this.currentStream.resume()})}).catch(e=>{this.closeStream(e)})}onData(e){if(e.targetChange){o.logger("Watch.onData",this.requestTag,"Processing target change");const t=e.targetChange,r=!t.targetIds||0===t.targetIds.length;if("NO_CHANGE"===t.targetChangeType)r&&t.readTime&&this.current&&this.pushSnapshot(n.Timestamp.fromProto(t.readTime),t.resumeToken);else if("ADD"===t.targetChangeType)d!==t.targetIds[0]&&this.closeStream(Error("Unexpected target ID sent by server"));else if("REMOVE"===t.targetChangeType){let e=13,r="internal error";t.cause&&(e=t.cause.code,r=t.cause.message),this.closeStream(new Error("Error "+e+": "+r))}else"RESET"===t.targetChangeType?this.resetDocs():"CURRENT"===t.targetChangeType?this.current=!0:this.closeStream(new Error("Unknown target change type: "+JSON.stringify(t)));t.resumeToken&&this.affectsTarget(t.targetIds,d)&&this.backoff.reset()}else if(e.documentChange){o.logger("Watch.onData",this.requestTag,"Processing change event");const t=e.documentChange.targetIds||[],r=e.documentChange.removedTargetIds||[];let a=!1,h=!1;for(let e=0;e<t.length;e++)t[e]===d&&(a=!0);for(let e=0;e<r.length;e++)r[e]===d&&(h=!0);const c=e.documentChange.document,m=c.name,g=i.QualifiedResourcePath.fromSlashSeparatedString(m).relativeName;if(a){o.logger("Watch.onData",this.requestTag,"Received document change");const e=new s.DocumentSnapshotBuilder;e.ref=this.firestore.doc(g),e.fieldsProto=c.fields||{},e.createTime=n.Timestamp.fromProto(c.createTime),e.updateTime=n.Timestamp.fromProto(c.updateTime),this.changeMap.set(g,e)}else h&&(o.logger("Watch.onData",this.requestTag,"Received document remove"),this.changeMap.set(g,u))}else if(e.documentDelete||e.documentRemove){o.logger("Watch.onData",this.requestTag,"Processing remove event");const t=(e.documentDelete||e.documentRemove).document,r=i.QualifiedResourcePath.fromSlashSeparatedString(t).relativeName;this.changeMap.set(r,u)}else e.filter?(o.logger("Watch.onData",this.requestTag,"Processing filter update"),e.filter.count!==this.currentSize()&&(this.resetDocs(),this.resetStream())):this.closeStream(new Error("Unknown listen response type: "+JSON.stringify(e)))}affectsTarget(e,t){if(void 0===e||0===e.length)return!0;for(const r of e)if(r===t)return!0;return!1}pushSnapshot(e,t){const r=this.computeSnapshot(e);if(!this.hasPushed||r.length>0){o.logger("Watch.pushSnapshot",this.requestTag,"Sending snapshot with %d changes and %d documents",String(r.length),this.docTree.length);const t=this.docTree;this.onNext(e,t.length,()=>t.keys,()=>r),this.hasPushed=!0}this.changeMap.clear(),this.resumeToken=t}deleteDoc(t){e(this.docMap.has(t),"Document to delete does not exist");const r=this.docMap.get(t),s=this.docTree.find(r),o=s.index;return this.docTree=s.remove(),this.docMap.delete(t),new a.DocumentChange(m.removed,r,o,-1)}addDoc(t){const r=t.ref.path;e(!this.docMap.has(r),"Document to add already exists"),this.docTree=this.docTree.insert(t,null);const s=this.docTree.find(t).index;return this.docMap.set(r,t),new a.DocumentChange(m.added,t,-1,s)}modifyDoc(t){const r=t.ref.path;if(e(this.docMap.has(r),"Document to modify does not exist"),!this.docMap.get(r).updateTime.isEqual(t.updateTime)){const e=this.deleteDoc(r),s=this.addDoc(t);return new a.DocumentChange(m.modified,t,e.oldIndex,s.newIndex)}return null}computeSnapshot(t){const r=this.extractCurrentChanges(t),s=[];return r.deletes.sort((e,t)=>this.getComparator()(this.docMap.get(e),this.docMap.get(t))),r.deletes.forEach(e=>{const t=this.deleteDoc(e);s.push(t)}),r.adds.sort(this.getComparator()),r.adds.forEach(e=>{const t=this.addDoc(e);s.push(t)}),r.updates.sort(this.getComparator()),r.updates.forEach(e=>{const t=this.modifyDoc(e);t&&s.push(t)}),e(this.docTree.length===this.docMap.size,"The update document tree and document map should have the same number of entries."),s}isPermanentError(e){if(void 0===e.code)return o.logger("Watch.isPermanentError",this.requestTag,"Unable to determine error code: ",e),!1;switch(e.code){case g.ABORTED:case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;default:return!0}}isResourceExhaustedError(e){return e.code===g.RESOURCE_EXHAUSTED}}class f extends T{constructor(e,t){super(e),this.ref=t}getComparator(){return l}getTarget(e){return{documents:{documents:[this.ref.formattedName]},targetId:d,resumeToken:e}}}exports.DocumentWatch=f;class E extends T{constructor(e,t){super(e),this.query=t,this.comparator=t.comparator()}getComparator(){return this.query.comparator()}getTarget(e){return{query:this.query.toProto(),targetId:d,resumeToken:e}}}exports.QueryWatch=E;
},{"functional-red-black-tree":"kHbb","./backoff":"XMVz","./document":"hqpX","./document-change":"rLzN","./logger":"fhaM","./path":"Ti1F","./timestamp":"Aybr","./types":"/sDJ","./util":"NOIQ"}],"06XJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("assert"),t=require("./document"),r=require("./logger"),i=require("./path"),o=require("./reference"),n=require("./serializer"),s=require("./timestamp"),a=require("./util"),l=require("./validate"),m=11e4;class c{constructor(e){this._writeTime=e}get writeTime(){return this._writeTime}isEqual(e){return this===e||e instanceof c&&this._writeTime.isEqual(e._writeTime)}}exports.WriteResult=c;class u{constructor(e){this._ops=[],this._committed=!1,this._firestore=e,this._serializer=new n.Serializer(e)}get isEmpty(){return 0===this._ops.length}verifyNotCommitted(){if(this._committed)throw new Error("Cannot modify a WriteBatch that has been committed.")}create(e,r){o.validateDocumentReference("documentRef",e),g("data",r,!1),this.verifyNotCommitted();const i=t.DocumentTransform.fromObject(e,r);i.validate();const n=new t.Precondition({exists:!1});return this._ops.push(()=>{const o=t.DocumentSnapshot.fromObject(e,r);return{write:!o.isEmpty||i.isEmpty?o.toProto():null,transform:i.toProto(this._serializer),precondition:n.toProto()}}),this}delete(e,r){o.validateDocumentReference("documentRef",e),p("precondition",r,{optional:!0}),this.verifyNotCommitted();const i=new t.Precondition(r);return this._ops.push(()=>({write:{delete:e.formattedName},precondition:i.toProto()})),this}set(e,r,i){h("options",i,{optional:!0});const n=i&&!0===i.merge,s=i&&i.mergeFields;let a;o.validateDocumentReference("documentRef",e),g("data",r,!(!s&&!n)),this.verifyNotCommitted(),s&&(a=t.DocumentMask.fromFieldMask(i.mergeFields),r=a.applyTo(r));const l=t.DocumentTransform.fromObject(e,r);l.validate();return this._ops.push(()=>{const i=t.DocumentSnapshot.fromObject(e,r);s?a.removeFields(l.fields):a=t.DocumentMask.fromObject(r);const o=!i.isEmpty||!a.isEmpty;let m;return s||n?(o||l.isEmpty)&&((m=i.toProto()).updateMask=a.toProto()):m=i.toProto(),{write:m,transform:l.toProto(this._serializer)}}),this}update(e,n,...s){l.validateMinNumberOfArguments("WriteBatch.update",arguments,2),o.validateDocumentReference("documentRef",e),this.verifyNotCommitted();const a=new Map;let m=new t.Precondition({exists:!0});const c="Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition.";if("string"==typeof n||n instanceof i.FieldPath)try{for(let e=1;e<arguments.length;e+=2)if(e===arguments.length-1)f(e,arguments[e]),m=new t.Precondition(arguments[e]);else{i.validateFieldPath(e,arguments[e]),l.validateMinNumberOfArguments("update",arguments,e+1);const t=i.FieldPath.fromArgument(arguments[e]);w(e,arguments[e+1],t),a.set(t,arguments[e+1])}}catch(p){throw r.logger("WriteBatch.update",null,"Varargs validation failed:",p),new Error(`${c} ${p.message}`)}else try{_("dataOrField",n),l.validateMaxNumberOfArguments("update",arguments,3);const e=n;Object.keys(e).forEach(t=>{i.validateFieldPath(t,t),a.set(i.FieldPath.fromArgument(t),e[t])}),s.length>0&&(f("preconditionOrValues",s[0]),m=new t.Precondition(s[0]))}catch(p){throw r.logger("WriteBatch.update",null,"Non-varargs validation failed:",p),new Error(`${c} ${p.message}`)}v("dataOrField",a);const u=t.DocumentTransform.fromUpdateMap(e,a);u.validate();const d=t.DocumentMask.fromUpdateMap(a);return this._ops.push(()=>{const r=t.DocumentSnapshot.fromUpdateMap(e,a);let i=null;return r.isEmpty&&d.isEmpty||((i=r.toProto()).updateMask=d.toProto()),{write:i,transform:u.toProto(this._serializer),precondition:m.toProto()}}),this}commit(){return this.commit_()}async commit_(t){this._committed=!0,await this._firestore.initializeIfNeeded();const i=t&&t.transactionId,o=t&&t.requestTag||a.requestTag(),n={database:this._firestore.formattedName};if(!i&&this._shouldCreateTransaction())return r.logger("WriteBatch.commit",o,"Using transaction for commit"),this._firestore.request("beginTransaction",n,o,!0).then(e=>this.commit_({transactionId:e.transaction}));const l=this._ops.map(e=>e());n.writes=[];for(const r of l)e(r.write||r.transform,"Either a write or transform must be set"),r.precondition&&((r.write||r.transform).currentDocument=r.precondition),r.write&&n.writes.push(r.write),r.transform&&n.writes.push(r.transform);return r.logger("WriteBatch.commit",o,"Sending %d writes",n.writes.length),i&&(n.transaction=i),this._firestore.request("commit",n,o,!1).then(t=>{const r=[];if(n.writes.length>0){e(Array.isArray(t.writeResults)&&n.writes.length===t.writeResults.length,`Expected one write result per operation, but got ${t.writeResults.length} results for ${n.writes.length} operations.`);const i=s.Timestamp.fromProto(t.commitTime);let o=0;for(let e=0;e<l.length;++e){const n=l[e];n.write&&n.transform&&++o;const a=t.writeResults[e+o];r.push(new c(a.updateTime?s.Timestamp.fromProto(a.updateTime):i))}}return r})}_shouldCreateTransaction(){if(!this._firestore._preferTransactions)return!1;if(this._firestore._lastSuccessfulRequest){return(new Date).getTime()-this._firestore._lastSuccessfulRequest>m}return!0}}function d(e,t,r){if("object"!=typeof t||null===t)throw new Error("Input is not an object.");const i=t;let o=0;if(void 0!==i.exists){if(++o,!r)throw new Error(`${l.invalidArgumentMessage(e,"precondition")} "exists" is not an allowed precondition.`);if("boolean"!=typeof i.exists)throw new Error(`${l.invalidArgumentMessage(e,"precondition")} "exists" is not a boolean.'`)}if(void 0!==i.lastUpdateTime&&(++o,!(i.lastUpdateTime instanceof s.Timestamp)))throw new Error(`${l.invalidArgumentMessage(e,"precondition")} "lastUpdateTime" is not a Firestore Timestamp.`);if(o>1)throw new Error(`${l.invalidArgumentMessage(e,"precondition")} Input specifies more than one precondition.`)}function f(e,t,r){l.validateOptional(t,r)||d(e,t,!1)}function p(e,t,r){l.validateOptional(t,r)||d(e,t,!0)}function h(e,t,r){if(!l.validateOptional(t,r)){if(!a.isObject(t))throw new Error(`${l.invalidArgumentMessage(e,"set() options argument")} Input is not an object.`);const r=t;if("merge"in r&&"boolean"!=typeof r.merge)throw new Error(`${l.invalidArgumentMessage(e,"set() options argument")} "merge" is not a boolean.`);if("mergeFields"in r){if(!Array.isArray(r.mergeFields))throw new Error(`${l.invalidArgumentMessage(e,"set() options argument")} "mergeFields" is not an array.`);for(let t=0;t<r.mergeFields.length;++t)try{i.validateFieldPath(t,r.mergeFields[t])}catch(o){throw new Error(`${l.invalidArgumentMessage(e,"set() options argument")} "mergeFields" is not valid: ${o.message}`)}}if("merge"in r&&"mergeFields"in r)throw new Error(`${l.invalidArgumentMessage(e,"set() options argument")} You cannot specify both "merge" and "mergeFields".`)}}function g(e,t,r){if(!n.isPlainObject(t))throw new Error(l.customObjectMessage(e,t));for(const o in t)t.hasOwnProperty(o)&&n.validateUserInput(e,t[o],"Firestore document",{allowDeletes:r?"all":"none",allowTransforms:!0},new i.FieldPath(o))}function w(e,t,r){n.validateUserInput(e,t,"Firestore value",{allowDeletes:"root",allowTransforms:!0},r)}function v(e,t){const r=[];t.forEach((e,t)=>{r.push(t)}),r.sort((e,t)=>e.compareTo(t));for(let i=1;i<r.length;++i)if(r[i-1].isPrefixOf(r[i]))throw new Error(`${l.invalidArgumentMessage(e,"update map")} Field "${r[i-1]}" was specified multiple times.`)}function _(e,t){if(!n.isPlainObject(t))throw new Error(l.customObjectMessage(e,t));let r=!0;for(const o in t)t.hasOwnProperty(o)&&(r=!1,w(e,t[o],new i.FieldPath(o)));if(r)throw new Error("At least one field must be updated.")}exports.WriteBatch=u,exports.validateSetOptions=h,exports.validateDocumentData=g,exports.validateFieldValue=w;
},{"./document":"hqpX","./logger":"fhaM","./path":"Ti1F","./reference":"S993","./serializer":"uv8E","./timestamp":"Aybr","./util":"NOIQ","./validate":"4Xv5"}],"S993":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("deep-equal"),t=require("bun"),r=require("through2"),i=require("./document"),s=require("./document-change"),o=require("./logger"),n=require("./order"),a=require("./path"),h=require("./serializer"),l=require("./timestamp"),u=require("./util"),d=require("./validate"),c=require("./watch"),f=require("./write-batch"),p={asc:"ASCENDING",desc:"DESCENDING"},m={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL","==":"EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","array-contains":"ARRAY_CONTAINS"};class _{constructor(e,t){this._firestore=e,this._path=t}get formattedName(){const e=this.firestore.projectId;return this._path.toQualifiedResourcePath(e).formattedName}get firestore(){return this._firestore}get path(){return this._path.relativeName}get id(){return this._path.id}get parent(){return new E(this._firestore,this._path.parent())}get(){return this._firestore.getAll(this).then(([e])=>e)}collection(e){a.validateResourcePath("collectionPath",e);const t=this._path.append(e);if(!t.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${e}". Your path does not contain an odd number of components.`);return new E(this._firestore,t)}listCollections(){return this.firestore.initializeIfNeeded().then(()=>{const e={parent:this.formattedName};return this._firestore.request("listCollectionIds",e,u.requestTag(),!0).then(e=>{const t=[];e.sort();for(const r of e)t.push(this.collection(r));return t})})}create(e){return new f.WriteBatch(this._firestore).create(this,e).commit().then(([e])=>e)}delete(e){return new f.WriteBatch(this._firestore).delete(this,e).commit().then(([e])=>e)}set(e,t){return new f.WriteBatch(this._firestore).set(this,e,t).commit().then(([e])=>e)}update(e,...t){d.validateMinNumberOfArguments("DocumentReference.update",arguments,1);const r=new f.WriteBatch(this._firestore);return r.update.apply(r,[this,e,...t]).commit().then(([e])=>e)}onSnapshot(e,t){return d.validateFunction("onNext",e),d.validateFunction("onError",t,{optional:!0}),new c.DocumentWatch(this.firestore,this).onSnapshot((t,r,s)=>{for(const i of s())if(i.ref.path===this.path)return void e(i);const o=new i.DocumentSnapshotBuilder;o.ref=new _(this._firestore,this._path),o.readTime=t,e(o.build())},t||console.error)}isEqual(e){return this===e||e instanceof _&&this._firestore===e._firestore&&this._path.isEqual(e._path)}toProto(){return{referenceValue:this.formattedName}}}exports.DocumentReference=_;class y{constructor(e,t="ASCENDING"){this.field=e,this.direction=t}toProto(){return{field:{fieldPath:this.field.formattedName},direction:this.direction}}}class g{constructor(e,t,r,i){this.serializer=e,this.field=t,this.op=r,this.value=i}isInequalityFilter(){switch(this.op){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":return!0;default:return!1}}toProto(){return"number"==typeof this.value&&isNaN(this.value)?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:"IS_NAN"}}:null===this.value?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:"IS_NULL"}}:{fieldFilter:{field:{fieldPath:this.field.formattedName},op:this.op,value:this.serializer.encodeValue(this.value)}}}}class q{constructor(e,t,r,i,s){this._query=e,this._readTime=t,this._size=r,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=i,this._changes=s}get query(){return this._query}get docs(){return this._materializedDocs?this._materializedDocs:(this._materializedDocs=this._docs(),this._docs=null,this._materializedDocs)}get empty(){return 0===this._size}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges?this._materializedChanges:(this._materializedChanges=this._changes(),this._changes=null,this._materializedChanges)}forEach(e,t){d.validateFunction("callback",e);for(const r of this.docs)e.call(t,r)}isEqual(e){return this===e||e instanceof q&&(this._size===e._size&&(!!this._query.isEqual(e._query)&&(this._materializedDocs&&!this._materializedChanges?D(this.docs,e.docs)&&D(this.docChanges(),e.docChanges()):D(this.docChanges(),e.docChanges())&&D(this.docs,e.docs))))}}function O(){throw new Error('QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}exports.QuerySnapshot=q;const w=["length","forEach","map",..."undefined"!=typeof Symbol?[Symbol.iterator]:[]];w.forEach(e=>{Object.defineProperty(q.prototype.docChanges,e,{get:()=>O()})});class A{constructor(e,t,r,i,s,o,n,a,h,l){this.parentPath=e,this.collectionId=t,this.allDescendants=r,this.fieldFilters=i,this.fieldOrders=s,this.startAt=o,this.endAt=n,this.limit=a,this.offset=h,this.projection=l}static forCollectionGroupQuery(e){return new A(a.ResourcePath.EMPTY,e,!0,[],[])}static forCollectionQuery(e){return new A(e.parent(),e.id,!1,[],[])}with(e){return new A(b(e.parentPath,this.parentPath),b(e.collectionId,this.collectionId),b(e.allDescendants,this.allDescendants),b(e.fieldFilters,this.fieldFilters),b(e.fieldOrders,this.fieldOrders),b(e.startAt,this.startAt),b(e.endAt,this.endAt),b(e.limit,this.limit),b(e.offset,this.offset),b(e.projection,this.projection))}isEqual(t){return this===t||t instanceof A&&this.parentPath.isEqual(t.parentPath)&&this.collectionId===t.collectionId&&this.allDescendants===t.allDescendants&&this.limit===t.limit&&this.offset===t.offset&&e(this.fieldFilters,t.fieldFilters,{strict:!0})&&e(this.fieldOrders,t.fieldOrders,{strict:!0})&&e(this.startAt,t.startAt,{strict:!0})&&e(this.endAt,t.endAt,{strict:!0})&&e(this.projection,t.projection,{strict:!0})}}exports.QueryOptions=A;class P{constructor(e,t){this._firestore=e,this._queryOptions=t,this._serializer=new h.Serializer(e)}static _isDocumentSnapshot(e){return 1===e.length&&e[0]instanceof i.DocumentSnapshot}static _extractFieldValues(e,t){const r=[];for(const i of t)if(a.FieldPath.documentId().isEqual(i.field))r.push(e.ref);else{const t=e.get(i.field);if(void 0===t)throw new Error(`Field "${i.field}" is missing in the provided DocumentSnapshot. `+"Please provide a document that contains values for all specified orderBy() and where() constraints.");r.push(t)}return r}get firestore(){return this._firestore}where(e,t,r){if(a.validateFieldPath("fieldPath",e),t=N("opStr",t,r),F("value",r),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify a where() filter after calling startAt(), startAfter(), endBefore() or endAt().");const i=a.FieldPath.fromArgument(e);a.FieldPath.documentId().isEqual(i)&&(r=this.validateReference(r));const s=new g(this._serializer,i,m[t],r),o=this._queryOptions.with({fieldFilters:this._queryOptions.fieldFilters.concat(s)});return new P(this._firestore,o)}select(...e){const t=[];if(0===e.length)t.push({fieldPath:a.FieldPath.documentId().formattedName});else for(let i=0;i<e.length;++i)a.validateFieldPath(i,e[i]),t.push({fieldPath:a.FieldPath.fromArgument(e[i]).formattedName});const r=this._queryOptions.with({projection:{fields:t}});return new P(this._firestore,r)}orderBy(e,t){if(a.validateFieldPath("fieldPath",e),t=v("directionStr",t),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify an orderBy() constraint after calling startAt(), startAfter(), endBefore() or endAt().");const r=new y(a.FieldPath.fromArgument(e),p[t||"asc"]),i=this._queryOptions.with({fieldOrders:this._queryOptions.fieldOrders.concat(r)});return new P(this._firestore,i)}limit(e){d.validateInteger("limit",e);const t=this._queryOptions.with({limit:e});return new P(this._firestore,t)}offset(e){d.validateInteger("offset",e);const t=this._queryOptions.with({offset:e});return new P(this._firestore,t)}isEqual(e){return this===e||e instanceof P&&this._queryOptions.isEqual(e._queryOptions)}createImplicitOrderBy(e){if(!P._isDocumentSnapshot(e))return this._queryOptions.fieldOrders;const t=this._queryOptions.fieldOrders.slice();let r=!1;if(0===t.length){for(const i of this._queryOptions.fieldFilters)if(i.isInequalityFilter()){t.push(new y(i.field));break}}else for(const i of t)a.FieldPath.documentId().isEqual(i.field)&&(r=!0);if(!r){const e=0===t.length?p.ASC:t[t.length-1].direction;t.push(new y(a.FieldPath.documentId(),e))}return t}createCursor(e,t,r){let i;if((i=P._isDocumentSnapshot(t)?P._extractFieldValues(t[0],e):t).length>e.length)throw new Error("Too many cursor values specified. The specified values must match the orderBy() constraints of the query.");const s={values:[]};r&&(s.before=!0);for(let o=0;o<i.length;++o){let t=i[o];a.FieldPath.documentId().isEqual(e[o].field)&&(t=this.validateReference(t)),F(o,t),s.values.push(t)}return s}validateReference(e){const t=this._queryOptions.allDescendants?this._queryOptions.parentPath:this._queryOptions.parentPath.append(this._queryOptions.collectionId);let r;if("string"==typeof e){const i=t.append(e);if(this._queryOptions.allDescendants){if(!i.isDocument)throw new Error("When querying a collection group and ordering by FieldPath.documentId(), the corresponding value must result in "+`a valid document path, but '${e}' is not because it `+"contains an odd number of segments.")}else if(-1!==e.indexOf("/"))throw new Error("When querying a collection and ordering by FieldPath.documentId(), "+`the corresponding value must be a plain document ID, but '${e}' `+"contains a slash.");r=new _(this._firestore,t.append(e))}else{if(!(e instanceof _))throw new Error("The corresponding value for FieldPath.documentId() must be a string or a DocumentReference.");if(r=e,!t.isPrefixOf(r._path))throw new Error(`"${r.path}" is not part of the query result set and `+"cannot be used as a query boundary.")}if(!this._queryOptions.allDescendants&&0!==r._path.parent().compareTo(t))throw new Error("Only a direct child can be used as a query boundary. "+`Found: "${r.path}".`);return r}startAt(...e){d.validateMinNumberOfArguments("Query.startAt",arguments,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!0),i=this._queryOptions.with({fieldOrders:t,startAt:r});return new P(this._firestore,i)}startAfter(...e){d.validateMinNumberOfArguments("Query.startAfter",arguments,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!1),i=this._queryOptions.with({fieldOrders:t,startAt:r});return new P(this._firestore,i)}endBefore(...e){d.validateMinNumberOfArguments("Query.endBefore",arguments,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!0),i=this._queryOptions.with({fieldOrders:t,endAt:r});return new P(this._firestore,i)}endAt(...e){d.validateMinNumberOfArguments("Query.endAt",arguments,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!1),i=this._queryOptions.with({fieldOrders:t,endAt:r});return new P(this._firestore,i)}get(){return this._get()}_get(e){const t=this,r=[];return new Promise((i,o)=>{let n;t._stream(e).on("error",e=>{o(e)}).on("data",e=>{if(n=e.readTime,e.document){const t=e.document;r.push(t)}}).on("end",()=>{i(new q(this,n,r.length,()=>r,()=>{const e=[];for(let t=0;t<r.length;++t)e.push(new s.DocumentChange("added",r[t],-1,t));return e}))})})}stream(){const e=this._stream(),i=r.obj(function(e,t,r){e.document&&this.push(e.document),r()});return t([e,i])}_toCursor(e){if(e){const t=e.values.map(e=>this._serializer.encodeValue(e));return{before:e.before,values:t}}}toProto(e){const t=this.firestore.projectId,r={parent:this._queryOptions.parentPath.toQualifiedResourcePath(t).formattedName,structuredQuery:{from:[{collectionId:this._queryOptions.collectionId}]}};this._queryOptions.allDescendants&&(r.structuredQuery.from[0].allDescendants=!0);const i=r.structuredQuery;if(1===this._queryOptions.fieldFilters.length)i.where=this._queryOptions.fieldFilters[0].toProto();else if(this._queryOptions.fieldFilters.length>1){const e=[];for(const t of this._queryOptions.fieldFilters)e.push(t.toProto());i.where={compositeFilter:{op:"AND",filters:e}}}if(this._queryOptions.fieldOrders.length){const e=[];for(const t of this._queryOptions.fieldOrders)e.push(t.toProto());i.orderBy=e}return this._queryOptions.limit&&(i.limit={value:this._queryOptions.limit}),i.offset=this._queryOptions.offset,i.startAt=this._toCursor(this._queryOptions.startAt),i.endAt=this._toCursor(this._queryOptions.endAt),i.select=this._queryOptions.projection,r.transaction=e,r}_stream(e){const t=u.requestTag(),i=this,s=r.obj(function(e,t,r){const s=l.Timestamp.fromProto(e.readTime);if(e.document){const t=i.firestore.snapshot_(e.document,e.readTime);this.push({document:t,readTime:s})}else this.push({readTime:s});r()});return this.firestore.initializeIfNeeded().then(()=>{const r=this.toProto(e);this._firestore.readStream("runQuery",r,t,!0).then(e=>{e.on("error",e=>{o.logger("Query._stream",t,"Query failed with stream error:",e),s.destroy(e)}),e.resume(),e.pipe(s)}).catch(e=>{s.destroy(e)})}),s}onSnapshot(e,t){return d.validateFunction("onNext",e),d.validateFunction("onError",t,{optional:!0}),new c.QueryWatch(this.firestore,this).onSnapshot((t,r,i,s)=>{e(new q(this,t,r,i,s))},t||console.error)}comparator(){return(e,t)=>{const r=0===this._queryOptions.fieldOrders.length?"ASCENDING":this._queryOptions.fieldOrders[this._queryOptions.fieldOrders.length-1].direction,i=this._queryOptions.fieldOrders.concat(new y(a.FieldPath.documentId(),r));for(const s of i){let r;if(a.FieldPath.documentId().isEqual(s.field))r=e.ref._path.compareTo(t.ref._path);else{const i=e.protoField(s.field),o=t.protoField(s.field);if(void 0===i||void 0===o)throw new Error("Trying to compare documents on fields that don't exist. Please include the fields you are ordering on in your select() call.");r=n.compare(i,o)}if(0!==r){return("ASCENDING"===s.direction?1:-1)*r}}return 0}}}exports.Query=P;class E extends P{constructor(e,t){super(e,A.forCollectionQuery(t))}get resourcePath(){return this._queryOptions.parentPath.append(this._queryOptions.collectionId)}get id(){return this._queryOptions.collectionId}get parent(){return new _(this.firestore,this._queryOptions.parentPath)}get path(){return this.resourcePath.relativeName}listDocuments(){return this.firestore.initializeIfNeeded().then(()=>{const e={parent:this._queryOptions.parentPath.toQualifiedResourcePath(this.firestore.projectId).formattedName,collectionId:this.id,showMissing:!0,mask:{fieldPaths:[]}};return this.firestore.request("listDocuments",e,u.requestTag(),!0).then(e=>e.map(e=>{const t=a.QualifiedResourcePath.fromSlashSeparatedString(e.name);return this.doc(t.id)}))})}doc(e){0===arguments.length?e=u.autoId():a.validateResourcePath("documentPath",e);const t=this.resourcePath.append(e);if(!t.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${e}". Your path does not contain an even number of components.`);return new _(this.firestore,t)}add(e){f.validateDocumentData("data",e,!1);const t=this.doc();return t.create(e).then(()=>t)}isEqual(e){return this===e||e instanceof E&&super.isEqual(e)}}function v(e,t){return t="string"==typeof t?t.toLowerCase():t,d.validateEnumValue(e,t,Object.keys(p),{optional:!0}),t}function N(e,t,r){if(t="="===t?"==":t,d.validateEnumValue(e,t,Object.keys(m)),"number"==typeof r&&isNaN(r)&&"=="!==t)throw new Error("Invalid query. You can only perform equals comparisons on NaN.");if(null===r&&"=="!==t)throw new Error("Invalid query. You can only perform equals comparisons on Null.");return t}function I(e,t){if(!(t instanceof _))throw new Error(d.invalidArgumentMessage(e,"DocumentReference"))}function F(e,t){h.validateUserInput(e,t,"query constraint",{allowDeletes:"none",allowTransforms:!1})}function D(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!e[r].isEqual(t[r]))return!1;return!0}function b(...e){return e.find(e=>void 0!==e)}exports.CollectionReference=E,exports.validateQueryOrder=v,exports.validateQueryOperator=N,exports.validateDocumentReference=I;
},{"deep-equal":"Nbrj","bun":"AF2J","through2":"rg5e","./document":"hqpX","./document-change":"rLzN","./logger":"fhaM","./order":"Za0p","./path":"Ti1F","./serializer":"uv8E","./timestamp":"Aybr","./util":"NOIQ","./validate":"4Xv5","./watch":"Ca3O","./write-batch":"06XJ"}],"6XDr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./path"),t=require("./reference"),r=require("./serializer"),i=require("./util"),a=require("./validate"),s="Firestore transactions require all reads to be executed before all writes.",n=!0;class o{constructor(e,t){this._firestore=e,this._previousTransaction=t,this._writeBatch=e.batch(),this._requestTag=t?t.requestTag:i.requestTag()}get(e){if(!this._writeBatch.isEmpty)throw new Error(s);if(e instanceof t.DocumentReference)return this._firestore.getAll_([e],null,this._requestTag,this._transactionId).then(e=>Promise.resolve(e[0]));if(e instanceof t.Query)return e._get(this._transactionId);throw new Error('Value for argument "refOrQuery" must be a DocumentReference or a Query.')}getAll(...e){if(!this._writeBatch.isEmpty)throw new Error(s);a.validateMinNumberOfArguments("Transaction.getAll",arguments,1);const{documents:t,fieldMask:r}=l(e);return this._firestore.getAll_(t,r,this._requestTag,this._transactionId)}create(e,t){return this._writeBatch.create(e,t),this}set(e,t,r){return this._writeBatch.set(e,t,r),this}update(e,t,...r){return a.validateMinNumberOfArguments("Transaction.update",arguments,2),this._writeBatch.update.apply(this._writeBatch,[e,t,...r]),this}delete(e,t){return this._writeBatch.delete(e,t),this}begin(){const e={database:this._firestore.formattedName};return this._previousTransaction&&(e.options={readWrite:{retryTransaction:this._previousTransaction._transactionId}}),this._firestore.request("beginTransaction",e,this._requestTag,n).then(e=>{this._transactionId=e.transaction})}commit(){return this._writeBatch.commit_({transactionId:this._transactionId,requestTag:this._requestTag}).then(()=>{})}rollback(){const e={database:this._firestore.formattedName,transaction:this._transactionId};return this._firestore.request("rollback",e,this._requestTag,!1)}get requestTag(){return this._requestTag}}function l(i){let a,s=void 0;if(Array.isArray(i[0]))throw new Error("getAll() no longer accepts an array as its first argument. Please unpack your array and call getAll() with individual arguments.");i.length>0&&r.isPlainObject(i[i.length-1])?(s=i.pop(),a=i):a=i;for(let e=0;e<a.length;++e)t.validateDocumentReference(e,a[e]);return u("options",s,{optional:!0}),{fieldMask:s&&s.fieldMask?s.fieldMask.map(t=>e.FieldPath.fromArgument(t)):null,documents:a}}function u(t,r,s){if(!a.validateOptional(r,s)){if(!i.isObject(r))throw new Error(`${a.invalidArgumentMessage(t,"read option")} Input is not an object.'`);const s=r;if(void 0!==s.fieldMask){if(!Array.isArray(s.fieldMask))throw new Error(`${a.invalidArgumentMessage(t,"read option")} "fieldMask" is not an array.`);for(let r=0;r<s.fieldMask.length;++r)try{e.validateFieldPath(r,s.fieldMask[r])}catch(n){throw new Error(`${a.invalidArgumentMessage(t,"read option")} "fieldMask" is not valid: ${n.message}`)}}}}exports.Transaction=o,exports.parseGetAllArguments=l;
},{"./path":"Ti1F","./reference":"S993","./serializer":"uv8E","./util":"NOIQ","./validate":"4Xv5"}],"bDRq":[function(require,module,exports) {
module.exports={name:"@google-cloud/firestore",description:"Firestore Client Library for Node.js",version:"2.2.6",license:"Apache-2.0",author:"Google Inc.",engines:{node:"^8.13.0 || >=10.10.0"},repository:"googleapis/nodejs-firestore",main:"./build/src/index.js",types:"./types/firestore.d.ts",files:["build/protos","build/src","!build/src/**/*.map","types"],keywords:["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","firestore"],scripts:{codecov:"nyc report --reporter=json && codecov -f .coverage/*.json",predocs:"npm run compile",docs:"jsdoc -c .jsdoc.js","system-test":"mocha build/system-test --timeout 600000","presystem-test":"npm run compile","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../",conformance:"mocha build/conformance",preconformance:"npm run compile","test-only":"nyc mocha build/test","pretest-only":"npm run compile",test:"npm run test-only && npm run conformance",lint:"gts check",clean:"gts clean",compile:"tsc -p . && cp -r dev/protos build && cp -r dev/test/fake-certificate.json build/test/fake-certificate.json && cp dev/src/v1beta1/*.json build/src/v1beta1/ && cp dev/src/v1/*.json build/src/v1/ && cp dev/conformance/test-definition.proto build/conformance && cp dev/conformance/test-suite.binproto build/conformance",fix:"gts fix",prepare:"npm run compile","docs-test":"linkinator docs","predocs-test":"npm run docs"},dependencies:{bun:"^0.0.12","deep-equal":"^1.0.1","functional-red-black-tree":"^1.0.1","google-gax":"^1.1.2",through2:"^3.0.0"},devDependencies:{"@types/assert":"^1.4.0","@types/chai":"^4.1.7","@types/chai-as-promised":"^7.1.0","@types/duplexify":"^3.5.0","@types/extend":"^3.0.0","@types/mocha":"^5.2.3","@types/node":"^10.3.5","@types/through2":"^2.0.34",chai:"^4.1.2","chai-as-promised":"^7.1.1",codecov:"^3.0.2",duplexify:"^4.0.0",extend:"^3.0.1",gts:"^1.0.0","hard-rejection":"^2.0.0","intelli-espower-loader":"^1.0.1",jsdoc:"^3.6.2","jsdoc-fresh":"^1.0.1",linkinator:"^1.5.0",mocha:"^6.0.0",nyc:"^14.0.0","power-assert":"^1.6.1",protobufjs:"^6.8.6",proxyquire:"^2.0.1","source-map-support":"^0.5.6","ts-node":"^8.0.0",typescript:"~3.5.0"}};
},{}],"+AHx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=/^[0-9a-z_.-]+$/,e=/^[ -~]*$/;function r(e){return t.test(e)}function n(t){return e.test(t)}function a(t){return t.endsWith("-bin")}function s(t){return t.toLowerCase()}function i(t,e){if(!r(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(null!=e)if(a(t)){if(!(e instanceof Buffer))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(e instanceof Buffer)throw new Error("keys that don't end with '-bin' must have String values");if(!n(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}class o{constructor(t){this.options=t,this.internalRepr=new Map}set(t,e){i(t=s(t),e),this.internalRepr.set(t,[e])}add(t,e){i(t=s(t),e);const r=this.internalRepr.get(t);void 0===r?this.internalRepr.set(t,[e]):r.push(e)}remove(t){i(t=s(t)),this.internalRepr.delete(t)}get(t){return i(t=s(t)),this.internalRepr.get(t)||[]}getMap(){const t={};return this.internalRepr.forEach((e,r)=>{if(e.length>0){const n=e[0];t[r]=n instanceof Buffer?n.slice():n}}),t}clone(){const t=new o,e=t.internalRepr;return this.internalRepr.forEach((t,r)=>{const n=t.map(t=>t instanceof Buffer?Buffer.from(t):t);e.set(r,n)}),t}merge(t){t.internalRepr.forEach((t,e)=>{const r=(this.internalRepr.get(e)||[]).concat(t);this.internalRepr.set(e,r)})}setOptions(t){this.options=t}toHttp2Headers(){const t={};return this.internalRepr.forEach((e,r)=>{t[r]=e.map(t=>t instanceof Buffer?t.toString("base64"):t)}),t}_getCoreRepresentation(){return this.internalRepr}static fromHttp2Headers(t){const e=new o;return Object.keys(t).forEach(r=>{if(":"===r.charAt(0))return;const n=t[r];try{a(r)?Array.isArray(n)?n.forEach(t=>{e.add(r,Buffer.from(t,"base64"))}):void 0!==n&&n.split(",").forEach(t=>{e.add(r,Buffer.from(t.trim(),"base64"))}):Array.isArray(n)?n.forEach(t=>{e.add(r,t)}):void 0!==n&&n.split(",").forEach(t=>e.add(r,t.trim()))}catch(s){s.message=`Failed to add metadata entry ${r}: ${n}. ${s.message}`,process.emitWarning(s)}}),e}}exports.Metadata=o;
},{}],"Uxpq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./metadata");class t{static createFromMetadataGenerator(e){return new r(e)}static createEmpty(){return new s}}exports.CallCredentials=t;class a extends t{constructor(e){super(),this.creds=e}async generateMetadata(t){const a=new e.Metadata,r=await Promise.all(this.creds.map(e=>e.generateMetadata(t)));for(const e of r)a.merge(e);return a}compose(e){return new a(this.creds.concat([e]))}}class r extends t{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,a)=>{this.metadataGenerator(e,(e,r)=>{void 0!==r?t(r):a(e)})})}compose(e){return new a([this,e])}}class s extends t{generateMetadata(t){return Promise.resolve(new e.Metadata)}compose(e){return e}}
},{"./metadata":"+AHx"}],"zt4n":[function(require,module,exports) {
var e=require("assert"),r=require("stream").Transform;exports.Serializer=a,exports.Deserializer=o;var t=Boolean(process.env.HTTP2_LOG_DATA),n=16384,i=4;function a(e){this._log=e.child({component:"serializer"}),r.call(this,{objectMode:!0})}function o(e,t){this._role=t,this._log=e.child({component:"deserializer"}),r.call(this,{objectMode:!0}),this._next(E)}a.prototype=Object.create(r.prototype,{constructor:{value:a}}),a.prototype._transform=function(r,i,o){this._log.trace({frame:r},"Outgoing frame"),e(r.type in a,"Unknown frame type: "+r.type);var E=[];a[r.type](r,E);var f=a.commonHeader(r,E);e(f<=n,"Frame too large!");for(var s=0;s<E.length;s++)t&&this._log.trace({data:E[s]},"Outgoing data"),this.push(E[s]);o()},o.prototype=Object.create(r.prototype,{constructor:{value:o}}),o.prototype._next=function(e){this._cursor=0,this._buffer=new Buffer(e),this._waitingForHeader=!this._waitingForHeader,this._waitingForHeader&&(this._frame={})},o.prototype._transform=function(e,r,i){var a=0;for(t&&this._log.trace({data:e},"Incoming data");a<e.length;){var f=Math.min(e.length-a,this._buffer.length-this._cursor);if(e.copy(this._buffer,this._cursor,a,a+f),this._cursor+=f,a+=f,this._cursor===this._buffer.length&&this._waitingForHeader){var s=o.commonHeader(this._buffer,this._frame);if(!(s<=n))return void this.emit("error","FRAME_SIZE_ERROR");this._next(s)}if(this._cursor===this._buffer.length&&!this._waitingForHeader){if(this._frame.type){var R=o[this._frame.type](this._buffer,this._frame,this._role);R?(this._log.error("Incoming frame parsing error: "+R),this.emit("error",R)):(this._log.trace({frame:this._frame},"Incoming frame"),this.push(this._frame))}else this._log.error("Unknown type incoming frame");this._next(E)}}i()};var E=9,f=[],s={},R=["type","flags","stream"],u={};a.commonHeader=function(r,t){for(var n=new Buffer(E),i=0,a=0;a<t.length;a++)i+=t[a].length;n.writeUInt8(0,0),n.writeUInt16BE(i,1);var o=f.indexOf(r.type);n.writeUInt8(o,3);var R=0;for(var u in r.flags){var _=s[r.type].indexOf(u);e(-1!==_,"Unknown flag for frame type "+r.type+": "+u),r.flags[u]&&(R|=1<<_)}return n.writeUInt8(R,4),e(0<=r.stream&&r.stream<2147483647,r.stream),n.writeUInt32BE(r.stream||0,5),t.unshift(n),i},o.commonHeader=function(e,r){if(e.length<9)return"FRAME_SIZE_ERROR";var t=e.readUInt8(0),n=e.readUInt16BE(1);if(n+=t<<16,r.type=f[e.readUInt8(3)],!r.type)return n;r.flags={};for(var i=e.readUInt8(4),a=s[r.type],o=0;o<a.length;o++)r.flags[a[o]]=Boolean(i&1<<o);return r.stream=2147483647&e.readUInt32BE(5),n},f[0]="DATA",s.DATA=["END_STREAM","RESERVED2","RESERVED4","PADDED"],u.DATA=["data"],a.DATA=function(e,r){r.push(e.data)},o.DATA=function(e,r){var t=0,n=0;if(r.flags.PADDED){if(e.length<1)return"FRAME_SIZE_ERROR";n=255&e.readUInt8(t),t=1}if(n){if(n>=e.length-1)return"FRAME_SIZE_ERROR";r.data=e.slice(t,-1*n)}else r.data=e.slice(t)},f[1]="HEADERS",s.HEADERS=["END_STREAM","RESERVED2","END_HEADERS","PADDED","RESERVED5","PRIORITY"],u.HEADERS=["priorityDependency","priorityWeight","exclusiveDependency","headers","data"],a.HEADERS=function(r,t){if(r.flags.PRIORITY){var n=new Buffer(5);e(0<=r.priorityDependency&&r.priorityDependency<=2147483647,r.priorityDependency),n.writeUInt32BE(r.priorityDependency,0),r.exclusiveDependency&&(n[0]|=128),e(0<=r.priorityWeight&&r.priorityWeight<=255,r.priorityWeight),n.writeUInt8(r.priorityWeight,4),t.push(n)}t.push(r.data)},o.HEADERS=function(e,r){var t=0;if(r.flags.PADDED&&(t+=1),r.flags.PRIORITY&&(t+=5),e.length<t)return"FRAME_SIZE_ERROR";var n=0,i=0;if(r.flags.PADDED&&(i=255&e.readUInt8(n),n=1),r.flags.PRIORITY){var a=new Buffer(4);e.copy(a,0,n,n+4),n+=4,r.exclusiveDependency=!!(128&a[0]),a[0]&=127,r.priorityDependency=a.readUInt32BE(0),r.priorityWeight=e.readUInt8(n),n+=1}if(i){if(e.length-n<i)return"FRAME_SIZE_ERROR";r.data=e.slice(n,-1*i)}else r.data=e.slice(n)},f[2]="PRIORITY",s.PRIORITY=[],u.PRIORITY=["priorityDependency","priorityWeight","exclusiveDependency"],a.PRIORITY=function(r,t){var n=new Buffer(5);e(0<=r.priorityDependency&&r.priorityDependency<=2147483647,r.priorityDependency),n.writeUInt32BE(r.priorityDependency,0),r.exclusiveDependency&&(n[0]|=128),e(0<=r.priorityWeight&&r.priorityWeight<=255,r.priorityWeight),n.writeUInt8(r.priorityWeight,4),t.push(n)},o.PRIORITY=function(e,r){if(e.length<5)return"FRAME_SIZE_ERROR";var t=new Buffer(4);e.copy(t,0,0,4),r.exclusiveDependency=!!(128&t[0]),t[0]&=127,r.priorityDependency=t.readUInt32BE(0),r.priorityWeight=e.readUInt8(4)},f[3]="RST_STREAM",s.RST_STREAM=[],u.RST_STREAM=["error"],a.RST_STREAM=function(r,t){var n=new Buffer(4),i=O.indexOf(r.error);e(0<=i&&i<=4294967295,i),n.writeUInt32BE(i,0),t.push(n)},o.RST_STREAM=function(e,r){if(e.length<4)return"FRAME_SIZE_ERROR";r.error=O[e.readUInt32BE(0)],r.error||(r.error="INTERNAL_ERROR")},f[4]="SETTINGS",s.SETTINGS=["ACK"],u.SETTINGS=["settings"],a.SETTINGS=function(r,t){var n=[],i=Object.keys(r.settings);_.forEach(function(e,t){if(e.name in r.settings){i.splice(i.indexOf(e.name),1);var a=r.settings[e.name];n.push({id:t,value:e.flag?Boolean(a):a})}}),e(0===i.length,"Unknown settings: "+i.join(", "));for(var a=new Buffer(6*n.length),o=0;o<n.length;o++)a.writeUInt16BE(65535&n[o].id,6*o),a.writeUInt32BE(n[o].value,6*o+2);t.push(a)},o.SETTINGS=function(e,r,t){if(r.settings={},r.flags.ACK&&0!=e.length)return"FRAME_SIZE_ERROR";if(e.length%6!=0)return"PROTOCOL_ERROR";for(var n=0;n<e.length/6;n++){var i=65535&e.readUInt16BE(6*n),a=_[i];if(a){if("CLIENT"==t&&"SETTINGS_ENABLE_PUSH"==a.name)return"SETTINGS frame on client got SETTINGS_ENABLE_PUSH";var o=e.readUInt32BE(6*n+2);r.settings[a.name]=a.flag?Boolean(1&o):o}}};var _=[];function h(e){return"!#$&'*+-.^_`|~1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".indexOf(e)>-1}function l(e){for(var r="",t=0;t<e.length;t++)h(e[t])?r+=e[t]:(r+="%",r+=new Buffer(e[t]).toString("hex"));return r}function g(e){for(var r=0,t=e.length;r<t&&'"'===e[r];)r++;for(;t>r&&'"'===e[t-1];)t--;return r>=t?"":e.substring(r,t)}function I(e){for(var r=-1,t=!1,n=0;n<e.length;n++)if('"'!==e[n]){if(!t&&"="===e[n]){r=n;break}}else t=!t;return-1===r?{name:e,value:null}:{name:g(e.substring(0,r).trim()),value:g(e.substring(r+1).trim())}}function c(e){return p(e,";",I)}function p(e,r,t){for(var n=0,i=!1,a=[],o=0;o<e.length;o++){if('"'!==e[o]){if(!i)if(e[o]===r)(E=e.substring(n,o).trim()).length>0&&(E=t(E),a.push(E)),n=o+1}else i=!i}var E;return(E=e.substring(n).trim()).length>0&&(E=t(E),a.push(E)),a}function d(e,r,t){for(var n=0,i=e.length,a=[],o=e.length-1;o>=0;o--)if(e[o]===r){var E=e.substring(o+1,i);if(i=o,a.unshift(E),++n===t)break}return 0!==i&&a.unshift(e.substring(0,i)),a}function S(e){return"0123456789ABCDEFabcdef".indexOf(e)>-1}function A(e){for(var r=0,t="";r<e.length;){if("%"==e[r]&&S(e[r+1])&&S(e[r+2])){var n="";++r<e.length&&(n+=e[r],++r),r<e.length&&(n+=e[r]),n.length>0?t+=new Buffer(n,"hex").toString():t+="%"}else t+=e[r];++r}return t}_[1]={name:"SETTINGS_HEADER_TABLE_SIZE",flag:!1},_[2]={name:"SETTINGS_ENABLE_PUSH",flag:!0},_[3]={name:"SETTINGS_MAX_CONCURRENT_STREAMS",flag:!1},_[4]={name:"SETTINGS_INITIAL_WINDOW_SIZE",flag:!1},_[5]={name:"SETTINGS_MAX_FRAME_SIZE",flag:!1},f[5]="PUSH_PROMISE",s.PUSH_PROMISE=["RESERVED1","RESERVED2","END_PUSH_PROMISE","PADDED"],u.PUSH_PROMISE=["promised_stream","headers","data"],a.PUSH_PROMISE=function(r,t){var n=new Buffer(4),i=r.promised_stream;e(0<=i&&i<=2147483647,i),n.writeUInt32BE(i,0),t.push(n),t.push(r.data)},o.PUSH_PROMISE=function(e,r){if(e.length<4)return"FRAME_SIZE_ERROR";var t=0,n=0;if(r.flags.PADDED){if(e.length<5)return"FRAME_SIZE_ERROR";n=255&e.readUInt8(t),t=1}if(r.promised_stream=2147483647&e.readUInt32BE(t),t+=4,n){if(e.length-t<n)return"FRAME_SIZE_ERROR";r.data=e.slice(t,-1*n)}else r.data=e.slice(t)},f[6]="PING",s.PING=["ACK"],u.PING=["data"],a.PING=function(e,r){r.push(e.data)},o.PING=function(e,r){if(8!==e.length)return"FRAME_SIZE_ERROR";r.data=e},f[7]="GOAWAY",s.GOAWAY=[],u.GOAWAY=["last_stream","error"],a.GOAWAY=function(r,t){var n=new Buffer(8),i=r.last_stream;e(0<=i&&i<=2147483647,i),n.writeUInt32BE(i,0);var a=O.indexOf(r.error);e(0<=a&&a<=4294967295,a),n.writeUInt32BE(a,4),t.push(n)},o.GOAWAY=function(e,r){if(8!==e.length)return"FRAME_SIZE_ERROR";r.last_stream=2147483647&e.readUInt32BE(0),r.error=O[e.readUInt32BE(4)],r.error||(r.error="INTERNAL_ERROR")},f[8]="WINDOW_UPDATE",s.WINDOW_UPDATE=[],u.WINDOW_UPDATE=["window_size"],a.WINDOW_UPDATE=function(r,t){var n=new Buffer(4),i=r.window_size;e(0<i&&i<=2147483647,i),n.writeUInt32BE(i,0),t.push(n)},o.WINDOW_UPDATE=function(e,r){return e.length!==i?"FRAME_SIZE_ERROR":(r.window_size=2147483647&e.readUInt32BE(0),0===r.window_size?"PROTOCOL_ERROR":void 0)},f[9]="CONTINUATION",s.CONTINUATION=["RESERVED1","RESERVED2","END_HEADERS"],u.CONTINUATION=["headers","data"],a.CONTINUATION=function(e,r){r.push(e.data)},o.CONTINUATION=function(e,r){r.data=e},f[10]="ALTSVC",s.ALTSVC=[],u.ALTSVC=["maxAge","port","protocolID","host","origin"],a.ALTSVC=function(e,r){var t=new Buffer(2);t.writeUInt16BE(e.origin.length,0),r.push(t),r.push(new Buffer(e.origin,"ascii"));var n=l(e.protocolID)+'="'+e.host+":"+e.port+'"';86400!==e.maxAge&&(n+="; ma="+e.maxAge),r.push(new Buffer(n,"ascii"))},o.ALTSVC=function(e,r){if(e.length<2)return"FRAME_SIZE_ERROR";var t=e.readUInt16BE(0);if(e.length-2<t)return"FRAME_SIZE_ERROR";r.origin=e.toString("ascii",2,2+t);var n=p(e.toString("ascii",2+t),",",c);if(n.length,0!==n.length){var i=n[0];r.maxAge=86400;for(var a=0;a<i.length;a++)if(0===a){r.protocolID=A(i[a].name);var o=d(i[a].value,":",1);r.host=o[0],r.port=parseInt(o[1],10)}else"ma"==i[a].name&&(r.maxAge=parseInt(i[a].value,10))}},f[11]="BLOCKED",s.BLOCKED=[],u.BLOCKED=[],a.BLOCKED=function(e,r){},o.BLOCKED=function(e,r){};var O=["NO_ERROR","PROTOCOL_ERROR","INTERNAL_ERROR","FLOW_CONTROL_ERROR","SETTINGS_TIMEOUT","STREAM_CLOSED","FRAME_SIZE_ERROR","REFUSED_STREAM","CANCEL","COMPRESSION_ERROR","CONNECT_ERROR","ENHANCE_YOUR_CALM","INADEQUATE_SECURITY","HTTP_1_1_REQUIRED"];exports.serializers={};var T=0;exports.serializers.frame=function(e){if(!e)return null;if("id"in e)return e.id;e.id=T,T+=1;var r={id:e.id};return R.concat(u[e.type]).forEach(function(t){r[t]=e[t]}),e.data instanceof Buffer&&(r.data.length>50?r.data=e.data.slice(0,47).toString("hex")+"...":r.data=e.data.toString("hex"),"length"in r||(r.length=e.data.length)),e.promised_stream instanceof Object&&(r.promised_stream="stream-"+e.promised_stream.id),r.flags=Object.keys(e.flags||{}).filter(function(r){return!0===e.flags[r]}),r},exports.serializers.data=function(e){return e.toString("hex")};
},{}],"ByCh":[function(require,module,exports) {
exports.HeaderTable=i,exports.HuffmanTable=c,exports.HeaderSetCompressor=h,exports.HeaderSetDecompressor=o,exports.Compressor=p,exports.Decompressor=f;var e=require("stream").Transform,t=require("assert"),r=require("util");function i(e,t){var r=i.staticTable.map(n);return r._log=e,r._limit=t||s,r._staticLength=r.length,r._size=0,r._enforceLimit=i.prototype._enforceLimit,r.add=i.prototype.add,r.setSizeLimit=i.prototype.setSizeLimit,r}function n(e){var t=e.slice();return t._size=a(t),t}var s=4096;function a(e){return new Buffer(e[0]+e[1],"utf8").length+32}function o(t,r){e.call(this,{objectMode:!0}),this._log=t.child({component:"compressor"}),this._table=r,this._chunks=[]}function h(t,r){e.call(this,{objectMode:!0}),this._log=t.child({component:"compressor"}),this._table=r,this.push=e.prototype.push.bind(this)}function c(e){this.tree=function t(r,i){if(1===r.length)return[e.indexOf(r[0])];i=i||0;for(var n=[],s=[],a=0;a<r.length;a++){var o=r[a];"0"===o[i]?n.push(o):s.push(o)}return[t(n,i+1),t(s,i+1)]}(e),this.codes=e.map(function(e){return parseInt(e,2)}),this.lengths=e.map(function(e){return e.length})}i.prototype._enforceLimit=function(e){for(var t=[];this._size>0&&this._size>e;){var r=this.pop();this._size-=r._size,t.unshift(r)}return t},i.prototype.add=function(e){var t=this._limit-e._size,r=this._enforceLimit(t);return this._size<=t&&(this.splice(this._staticLength,0,e),this._size+=e._size),r},i.prototype.setSizeLimit=function(e){this._limit=e,this._enforceLimit(this._limit)},i.staticTable=[[":authority",""],[":method","GET"],[":method","POST"],[":path","/"],[":path","/index.html"],[":scheme","http"],[":scheme","https"],[":status","200"],[":status","204"],[":status","206"],[":status","304"],[":status","400"],[":status","404"],[":status","500"],["accept-charset",""],["accept-encoding","gzip, deflate"],["accept-language",""],["accept-ranges",""],["accept",""],["access-control-allow-origin",""],["age",""],["allow",""],["authorization",""],["cache-control",""],["content-disposition",""],["content-encoding",""],["content-language",""],["content-length",""],["content-location",""],["content-range",""],["content-type",""],["cookie",""],["date",""],["etag",""],["expect",""],["expires",""],["from",""],["host",""],["if-match",""],["if-modified-since",""],["if-none-match",""],["if-range",""],["if-unmodified-since",""],["last-modified",""],["link",""],["location",""],["max-forwards",""],["proxy-authenticate",""],["proxy-authorization",""],["range",""],["referer",""],["refresh",""],["retry-after",""],["server",""],["set-cookie",""],["strict-transport-security",""],["transfer-encoding",""],["user-agent",""],["vary",""],["via",""],["www-authenticate",""]],r.inherits(o,e),o.prototype._transform=function(e,t,r){this._chunks.push(e),r()},o.prototype._execute=function(e){var t,r;if(this._log.trace({key:e.name,value:e.value,index:e.index},"Executing header representation"),e.contextUpdate)this._table.setSizeLimit(e.newMaxSize);else if("number"==typeof e.value){var i=e.value;r=(t=this._table[i]).slice(),this.push(r)}else r="number"==typeof e.name?[this._table[e.name][0],e.value]:[e.name,e.value],e.index&&(t=n(r),this._table.add(t)),this.push(r)},o.prototype._flush=function(e){var t=d(this._chunks);for(t.cursor=0;t.cursor<t.length;)this._execute(o.header(t));e()},r.inherits(h,e),h.prototype.send=function(e){this._log.trace({key:e.name,value:e.value,index:e.index},"Emitting header representation"),e.chunks||(e.chunks=h.header(e)),e.chunks.forEach(this.push)},h.prototype._transform=function(e,t,r){for(var i,s=e[0].toLowerCase(),a=e[1],o=-1,h=-1,c=0;c<this._table.length;c++)if((i=this._table[c])[0]===s){if(i[1]===a){h=c;break}-1===o&&(o=c)}var l="cookie"===s&&a.length<20||"set-cookie"===s&&a.length<20||"authorization"===s;if(-1===h||l){var u=(i=n(e))._size<this._table._limit/2&&!l;u&&this._table.add(i),this.send({name:-1!==o?o:s,value:a,index:u,mustNeverIndex:l,contextUpdate:!1})}else this.send({name:h,value:h,index:!1});r()},h.prototype._flush=function(e){e()},h.integer=function(e,t){var r=Math.pow(2,t)-1;if(e<r)return[new Buffer([e])];var i=[];0!==t&&i.push(r),e-=r;for(var n,s=1;s>0;)n=e%128,(s=Math.floor(e/128))>0&&(n+=128),i.push(n),e=s;return[new Buffer(i)]},o.integer=function(e,t){var r=Math.pow(2,t)-1,i=e[e.cursor]&r;if(0!==t&&(e.cursor+=1),i===r){var n=0;do{i+=(127&e[e.cursor])<<n,n+=7,e.cursor+=1}while(128&e[e.cursor-1])}return i},c.prototype.encode=function(e){var t=[],r=8;function i(e){8===r?t.push(e):t[t.length-1]|=e}for(var n=0;n<e.length;n++)for(var s=e[n],a=this.codes[s],o=this.lengths[s];0!==o;){if(r>=o)i(a<<r-o),a=0,r-=o,o=0;else{var h=o-r,c=a>>h;i(c),a-=c<<h,o-=r,r=0}0===r&&(r=8)}return 8!==r&&i(this.codes[256]>>this.lengths[256]-r),new Buffer(t)},c.prototype.decode=function(e){for(var t=[],r=this.tree,i=0;i<e.length;i++)for(var n=e[i],s=0;s<8;s++){var a=128&n?1:0;n<<=1,1===(r=r[a]).length&&(t.push(r[0]),r=this.tree)}return new Buffer(t)},c.huffmanTable=new c(["1111111111000","11111111111111111011000","1111111111111111111111100010","1111111111111111111111100011","1111111111111111111111100100","1111111111111111111111100101","1111111111111111111111100110","1111111111111111111111100111","1111111111111111111111101000","111111111111111111101010","111111111111111111111111111100","1111111111111111111111101001","1111111111111111111111101010","111111111111111111111111111101","1111111111111111111111101011","1111111111111111111111101100","1111111111111111111111101101","1111111111111111111111101110","1111111111111111111111101111","1111111111111111111111110000","1111111111111111111111110001","1111111111111111111111110010","111111111111111111111111111110","1111111111111111111111110011","1111111111111111111111110100","1111111111111111111111110101","1111111111111111111111110110","1111111111111111111111110111","1111111111111111111111111000","1111111111111111111111111001","1111111111111111111111111010","1111111111111111111111111011","010100","1111111000","1111111001","111111111010","1111111111001","010101","11111000","11111111010","1111111010","1111111011","11111001","11111111011","11111010","010110","010111","011000","00000","00001","00010","011001","011010","011011","011100","011101","011110","011111","1011100","11111011","111111111111100","100000","111111111011","1111111100","1111111111010","100001","1011101","1011110","1011111","1100000","1100001","1100010","1100011","1100100","1100101","1100110","1100111","1101000","1101001","1101010","1101011","1101100","1101101","1101110","1101111","1110000","1110001","1110010","11111100","1110011","11111101","1111111111011","1111111111111110000","1111111111100","11111111111100","100010","111111111111101","00011","100011","00100","100100","00101","100101","100110","100111","00110","1110100","1110101","101000","101001","101010","00111","101011","1110110","101100","01000","01001","101101","1110111","1111000","1111001","1111010","1111011","111111111111110","11111111100","11111111111101","1111111111101","1111111111111111111111111100","11111111111111100110","1111111111111111010010","11111111111111100111","11111111111111101000","1111111111111111010011","1111111111111111010100","1111111111111111010101","11111111111111111011001","1111111111111111010110","11111111111111111011010","11111111111111111011011","11111111111111111011100","11111111111111111011101","11111111111111111011110","111111111111111111101011","11111111111111111011111","111111111111111111101100","111111111111111111101101","1111111111111111010111","11111111111111111100000","111111111111111111101110","11111111111111111100001","11111111111111111100010","11111111111111111100011","11111111111111111100100","111111111111111011100","1111111111111111011000","11111111111111111100101","1111111111111111011001","11111111111111111100110","11111111111111111100111","111111111111111111101111","1111111111111111011010","111111111111111011101","11111111111111101001","1111111111111111011011","1111111111111111011100","11111111111111111101000","11111111111111111101001","111111111111111011110","11111111111111111101010","1111111111111111011101","1111111111111111011110","111111111111111111110000","111111111111111011111","1111111111111111011111","11111111111111111101011","11111111111111111101100","111111111111111100000","111111111111111100001","1111111111111111100000","111111111111111100010","11111111111111111101101","1111111111111111100001","11111111111111111101110","11111111111111111101111","11111111111111101010","1111111111111111100010","1111111111111111100011","1111111111111111100100","11111111111111111110000","1111111111111111100101","1111111111111111100110","11111111111111111110001","11111111111111111111100000","11111111111111111111100001","11111111111111101011","1111111111111110001","1111111111111111100111","11111111111111111110010","1111111111111111101000","1111111111111111111101100","11111111111111111111100010","11111111111111111111100011","11111111111111111111100100","111111111111111111111011110","111111111111111111111011111","11111111111111111111100101","111111111111111111110001","1111111111111111111101101","1111111111111110010","111111111111111100011","11111111111111111111100110","111111111111111111111100000","111111111111111111111100001","11111111111111111111100111","111111111111111111111100010","111111111111111111110010","111111111111111100100","111111111111111100101","11111111111111111111101000","11111111111111111111101001","1111111111111111111111111101","111111111111111111111100011","111111111111111111111100100","111111111111111111111100101","11111111111111101100","111111111111111111110011","11111111111111101101","111111111111111100110","1111111111111111101001","111111111111111100111","111111111111111101000","11111111111111111110011","1111111111111111101010","1111111111111111101011","1111111111111111111101110","1111111111111111111101111","111111111111111111110100","111111111111111111110101","11111111111111111111101010","11111111111111111110100","11111111111111111111101011","111111111111111111111100110","11111111111111111111101100","11111111111111111111101101","111111111111111111111100111","111111111111111111111101000","111111111111111111111101001","111111111111111111111101010","111111111111111111111101011","1111111111111111111111111110","111111111111111111111101100","111111111111111111111101101","111111111111111111111101110","111111111111111111111101111","111111111111111111111110000","11111111111111111111101110","111111111111111111111111111111"]),h.string=function(e){e=new Buffer(e,"utf8");var t=c.huffmanTable.encode(e);if(t.length<e.length){var r=h.integer(t.length,7);return r[0][0]|=128,r.concat(t)}return(r=h.integer(e.length,7)).concat(e)},o.string=function(e){var t=128&e[e.cursor],r=o.integer(e,7),i=e.slice(e.cursor,e.cursor+r);return e.cursor+=r,(t?c.huffmanTable.decode(i):i).toString("utf8")};var l={indexed:{prefix:7,pattern:128},literalIncremental:{prefix:6,pattern:64},contextUpdate:{prefix:0,pattern:32},literalNeverIndexed:{prefix:4,pattern:16},literal:{prefix:4,pattern:0}};h.header=function(e){var t,r=[];return(t=e.contextUpdate?l.contextUpdate:"number"==typeof e.value?l.indexed:e.index?l.literalIncremental:e.mustNeverIndex?l.literalNeverIndexed:l.literal)===l.contextUpdate?r.push(h.integer(e.newMaxSize,5)):t===l.indexed?r.push(h.integer(e.value+1,t.prefix)):("number"==typeof e.name?r.push(h.integer(e.name+1,t.prefix)):(r.push(h.integer(0,t.prefix)),r.push(h.string(e.name))),r.push(h.string(e.value))),r[0][0][0]|=t.pattern,Array.prototype.concat.apply([],r)},o.header=function(e){var t,r={},i=e[e.cursor];return t=128&i?l.indexed:64&i?l.literalIncremental:32&i?l.contextUpdate:16&i?l.literalNeverIndexed:l.literal,r.value=r.name=-1,r.index=!1,r.contextUpdate=!1,r.newMaxSize=0,r.mustNeverIndex=!1,t===l.contextUpdate?(r.contextUpdate=!0,r.newMaxSize=o.integer(e,5)):t===l.indexed?r.value=r.name=o.integer(e,t.prefix)-1:(r.name=o.integer(e,t.prefix)-1,-1===r.name&&(r.name=o.string(e)),r.value=o.string(e),r.index=t===l.literalIncremental,r.mustNeverIndex=t===l.literalNeverIndexed),r};var u=16384;function p(r,n){e.call(this,{objectMode:!0}),this._log=r.child({component:"compressor"}),t("REQUEST"===n||"RESPONSE"===n),this._table=new i(this._log),this.tableSizeChangePending=!1,this.lowestTableSizePending=0,this.tableSizeSetting=s}function f(r,n){e.call(this,{objectMode:!0}),this._log=r.child({component:"compressor"}),t("REQUEST"===n||"RESPONSE"===n),this._table=new i(this._log),this._inProgress=!1,this._base=void 0}function d(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].length;for(var i=new Buffer(t),n=0,s=0;s<e.length;n+=e[s].length,s++)e[s].copy(i,n);return i}function g(e,t){var r=[],i=0;do{var n=Math.min(t,e.length-i);r.push(e.slice(i,i+n)),i+=n}while(i<e.length);return r}function m(e){return e.trim()}r.inherits(p,e),p.prototype.setTableSizeLimit=function(e){this._table.setSizeLimit(e),(!this.tableSizeChangePending||e<this.lowestTableSizePending)&&(this.lowestTableSizePending=e),this.tableSizeSetting=e,this.tableSizeChangePending=!0},p.prototype.compress=function(e){var t=new h(this._log,this._table);this.tableSizeChangePending&&(this.lowestTableSizePending<this.tableSizeSetting&&t.send({contextUpdate:!0,newMaxSize:this.lowestTableSizePending,name:"",value:"",index:0}),t.send({contextUpdate:!0,newMaxSize:this.tableSizeSetting,name:"",value:"",index:0}),this.tableSizeChangePending=!1);var r=[],i=[];for(var n in e)":"===n.trim()[0]?r.push(n):i.push(n);function s(r){var i=e[r];if("cookie"==(r=String(r).toLowerCase())&&(i instanceof Array||(i=[i]),i=Array.prototype.concat.apply([],i.map(function(e){return String(e).split(";").map(m)}))),i instanceof Array)for(var n=0;n<i.length;n++)t.write([r,String(i[n])]);else t.write([r,String(i)])}r.forEach(s),i.forEach(s),t.end();for(var a,o=[];a=t.read();)o.push(a);return d(o)},p.prototype._transform=function(e,t,i){if("HEADERS"===e.type||"PUSH_PROMISE"===e.type)for(var n=this.compress(e.headers),s="PUSH_PROMISE"===e.type?4:0,a=g(n,u-s),o=0;o<a.length;o++){var h,c=0===o,l=o===a.length-1;c?((h=r._extend({},e)).flags=r._extend({},e.flags),h.flags["END_"+e.type]=l):h={type:"CONTINUATION",flags:{END_HEADERS:l},stream:e.stream},h.data=a[o],this.push(h)}else this.push(e);i()},r.inherits(f,e),f.prototype.setTableSizeLimit=function(e){this._table.setSizeLimit(e)},f.prototype.decompress=function(e){var t=new o(this._log,this._table);t.end(e);for(var r,i=!1,n={};r=t.read();){var s=r[0],a=r[1],h=":"===s.trim()[0];if(i&&h)return this.emit("error","PROTOCOL_ERROR"),n;i=!h,s in n?n[s]instanceof Array?n[s].push(a):n[s]=[n[s],a]:n[s]=a}return"cookie"in n&&n.cookie instanceof Array&&(n.cookie=n.cookie.join("; ")),n},f.prototype._transform=function(e,t,i){if(this._inProgress){if("CONTINUATION"!==e.type||e.stream!==this._base.stream)return this._log.error("A series of HEADER frames were not continuous"),void this.emit("error","PROTOCOL_ERROR");this._frames.push(e)}else"HEADERS"===e.type||"PUSH_PROMISE"===e.type?(this._inProgress=!0,this._base=r._extend({},e),this._frames=[e]):this.push(e);if(this._inProgress&&(e.flags.END_HEADERS||e.flags.END_PUSH_PROMISE)){var n=d(this._frames.map(function(e){return e.data}));try{var s=this.decompress(n)}catch(a){return this._log.error({err:a},"Header decompression error"),void this.emit("error","COMPRESSION_ERROR")}this.push(r._extend(this._base,{headers:s})),this._inProgress=!1}i()};
},{}],"s2hI":[function(require,module,exports) {
var t=require("assert"),e=require("stream").Duplex;exports.Flow=o;var i=65535;function o(t){e.call(this,{objectMode:!0}),this._window=this._initialWindow=i,this._flowControlId=t,this._queue=[],this._ended=!1,this._received=0,this._blocked=!1}o.prototype=Object.create(e.prototype,{constructor:{value:o}}),o.prototype._receive=function(t,e){throw new Error("The _receive(frame, callback) method has to be overridden by the child class!")},o.prototype._write=function(t,e,i){var o=void 0===this._flowControlId||t.stream===this._flowControlId;o&&(t.flags.END_STREAM||"RST_STREAM"===t.type)&&(this._ended=!0),"DATA"===t.type&&t.data.length>0?this._receive(t,function(){this._received+=t.data.length,this._restoreWindowTimer||(this._restoreWindowTimer=setImmediate(this._restoreWindow.bind(this))),i()}.bind(this)):this._receive(t,i),o&&"WINDOW_UPDATE"===t.type&&this._updateWindow(t)},o.prototype._restoreWindow=function(){delete this._restoreWindowTimer,!this._ended&&this._received>0&&(this.push({type:"WINDOW_UPDATE",flags:{},stream:this._flowControlId,window_size:this._received}),this._received=0)},o.prototype._send=function(){throw new Error("The _send() method has to be overridden by the child class!")},o.prototype._read=function(){if(0===this._queue.length)this._send();else if(this._window>0){this._blocked=!1,this._readableState.sync=!0;do{var e=this._push(this._queue[0]);null!==e&&this._queue.shift()}while(e&&this._queue.length>0);this._readableState.sync=!1,t(!e||0===this._queue.length||!this._window&&"DATA"===this._queue[0].type)}else this._blocked||(this._parentPush({type:"BLOCKED",flags:{},stream:this._flowControlId}),this.once("window_update",this._read),this._blocked=!0)};var r=4096;o.prototype.read=function(t){if(0===t)return e.prototype.read.call(this,0);-1===t?t=0:(void 0===t||t>r)&&(t=r);var i=this._readableState.buffer[0];if(i||this._readableState.ended||(this._read(),i=this._readableState.buffer[0]),i&&"DATA"===i.type){if(0===t)return e.prototype.read.call(this,0);i.data.length>t&&(this._log.trace({frame:i,size:i.data.length,forwardable:t},"Splitting out forwardable part of a DATA frame."),this.unshift({type:"DATA",flags:{},stream:i.stream,data:i.data.slice(0,t)}),i.data=i.data.slice(t))}return e.prototype.read.call(this)},o.prototype._parentPush=function(i){return this._log.trace({frame:i},"Pushing frame into the output queue"),i&&"DATA"===i.type&&this._window!==1/0&&(this._log.trace({window:this._window,by:i.data.length},"Decreasing flow control window size."),this._window-=i.data.length,t(this._window>=0)),e.prototype.push.call(this,i)},o.prototype._push=function(t){var e=t&&"DATA"===t.type&&t.data,i=this._window<16384?this._window:16384;return!e||e.length<=i?this._parentPush(t):this._window<=0?null:(this._log.trace({frame:t,size:t.data.length,forwardable:this._window},"Splitting out forwardable part of a DATA frame."),t.data=e.slice(i),this._parentPush({type:"DATA",flags:{},stream:t.stream,data:e.slice(0,i)}),null)},o.prototype.push=function(t){null===t?this._log.debug("Enqueueing outgoing End Of Stream"):this._log.debug({frame:t},"Enqueueing outgoing frame");var e=null;return 0===this._queue.length&&(e=this._push(t)),null===e&&this._queue.push(t),e},o.prototype.getLastQueuedFrame=function(){var t=this._readableState.buffer;return this._queue[this._queue.length-1]||t[t.length-1]};var s=Math.pow(2,31)-1;o.prototype._increaseWindow=function(t){this._window===1/0&&t!==1/0?(this._log.error("Trying to increase flow control window after flow control was turned off."),this.emit("error","FLOW_CONTROL_ERROR")):(this._log.trace({window:this._window,by:t},"Increasing flow control window size."),this._window+=t,this._window!==1/0&&this._window>s?(this._log.error("Flow control window grew too large."),this.emit("error","FLOW_CONTROL_ERROR")):0!=t&&this.emit("window_update"))},o.prototype._updateWindow=function(t){this._increaseWindow(t.flags.END_FLOW_CONTROL?1/0:t.window_size)},o.prototype.setInitialWindow=function(t){this._increaseWindow(t-this._initialWindow),this._initialWindow=t};
},{}],"IIfo":[function(require,module,exports) {
var t=require("assert"),e=require("stream").Duplex;function i(t,i){e.call(this),this._log=t.child({component:"stream",s:this}),this._initializeManagement(),this._initializeDataFlow(),this._initializeState(),this.connection=i}exports.Stream=i,i.prototype=Object.create(e.prototype,{constructor:{value:i}});var s=Math.pow(2,30),r=Math.pow(2,31)-1;i.prototype._initializeManagement=function(){this._resetSent=!1,this._priority=s,this._letPeerPrioritize=!0},i.prototype.promise=function(t){var e=new i(this._log,this.connection);return e._priority=Math.min(this._priority+1,r),this._pushUpstream({type:"PUSH_PROMISE",flags:{},stream:this.id,promised_stream:e,headers:t}),e},i.prototype._onPromise=function(t){this.emit("promise",t.promised_stream,t.headers)},i.prototype.headers=function(t){this._pushUpstream({type:"HEADERS",flags:{},stream:this.id,headers:t})},i.prototype._onHeaders=function(t){void 0!==t.priority&&this.priority(t.priority,!0),this.emit("headers",t.headers)},i.prototype.priority=function(t,e){if(e&&this._letPeerPrioritize||!e){if(!e){this._letPeerPrioritize=!1;var i=this.upstream.getLastQueuedFrame();!i||"HEADERS"!==i.type&&"PRIORITY"!==i.type?this._pushUpstream({type:"PRIORITY",flags:{},stream:this.id,priority:t}):i.priority=t}this._log.debug({priority:t},"Changing priority"),this.emit("priority",t),this._priority=t}},i.prototype._onPriority=function(t){this.priority(t.priority,!0)},i.prototype.reset=function(t){this._resetSent||(this._resetSent=!0,this._pushUpstream({type:"RST_STREAM",flags:{},stream:this.id,error:t}))},i.prototype.altsvc=function(t,e,i,s,r){var a;a=r?0:this.id,this._pushUpstream({type:"ALTSVC",flags:{},stream:a,host:t,port:e,protocolID:i,origin:r,maxAge:s})};var a=require("./flow").Flow;i.prototype._initializeDataFlow=function(){this.id=void 0,this._ended=!1,this.upstream=new a,this.upstream._log=this._log,this.upstream._send=this._send.bind(this),this.upstream._receive=this._receive.bind(this),this.upstream.write=this._writeUpstream.bind(this),this.upstream.on("error",this.emit.bind(this,"error")),this.on("finish",this._finishing)},i.prototype._pushUpstream=function(t){this.upstream.push(t),this._transition(!0,t)},i.prototype._writeUpstream=function(t){this._log.debug({frame:t},"Receiving frame");var e=a.prototype.write.call(this.upstream,t);return this._transition(!1,t),"HEADERS"===t.type?(this._processedHeaders&&!t.flags.END_STREAM&&this.emit("error","PROTOCOL_ERROR"),this._processedHeaders=!0,this._onHeaders(t)):"PUSH_PROMISE"===t.type?this._onPromise(t):"PRIORITY"===t.type?this._onPriority(t):"ALTSVC"===t.type||"BLOCKED"===t.type||"DATA"!==t.type&&"WINDOW_UPDATE"!==t.type&&"RST_STREAM"!==t.type&&(this._log.error({frame:t},"Invalid stream level frame"),this.emit("error","PROTOCOL_ERROR")),e},i.prototype._receive=function(t,e){this._ended||"DATA"!==t.type||(this.push(t.data)||(this._receiveMore=e));this._ended||!t.flags.END_STREAM&&"RST_STREAM"!==t.type||(this.push(null),this._ended=!0),this._receiveMore!==e&&e()},i.prototype._read=function(){if(this._receiveMore){var t=this._receiveMore;delete this._receiveMore,t()}},i.prototype._write=function(t,e,i){this._pushUpstream({type:"DATA",flags:{},stream:this.id,data:t})?i():this._sendMore=i},i.prototype._send=function(){if(this._sendMore){var t=this._sendMore;delete this._sendMore,t()}};var o=new Buffer(0);function h(t){return"HALF_CLOSED_LOCAL"===t||"HALF_CLOSED_REMOTE"===t||"OPEN"===t}i.prototype._finishing=function(){var t={type:"DATA",flags:{END_STREAM:!0},stream:this.id,data:o},e=this.upstream.getLastQueuedFrame();!e||"DATA"!==e.type&&"HEADERS"!==e.type?this._pushUpstream(t):(this._log.debug({frame:e},"Marking last frame with END_STREAM flag."),e.flags.END_STREAM=!0,this._transition(!0,t))},i.prototype._initializeState=function(){this.state="IDLE",this._initiated=void 0,this._closedByUs=void 0,this._closedWithRst=void 0,this._processedHeaders=!1},i.prototype._setState=function(e){t(this.state!==e),this._log.debug({from:this.state,to:e},"State transition"),this.state=e,this.emit("state",e)},i.prototype._transition=function(e,i){var s,r,a=!e,o=!1,_=!1,n=!1,p=!1,E=!1,d=!1,c=!1;switch(i.type){case"DATA":!0;break;case"HEADERS":o=!0;break;case"PRIORITY":_=!0;break;case"RST_STREAM":E=!0;break;case"PUSH_PROMISE":d=!0;break;case"WINDOW_UPDATE":c=!0;break;case"ALTSVC":n=!0;break;case"BLOCKED":p=!0}var R=this.state;switch(this.state){case"IDLE":o?(this._setState("OPEN"),i.flags.END_STREAM&&this._setState(e?"HALF_CLOSED_LOCAL":"HALF_CLOSED_REMOTE"),this._initiated=e):e&&E?this._setState("CLOSED"):_||(s="PROTOCOL_ERROR");break;case"RESERVED_LOCAL":e&&o?this._setState("HALF_CLOSED_REMOTE"):E?this._setState("CLOSED"):_||(s="PROTOCOL_ERROR");break;case"RESERVED_REMOTE":E?this._setState("CLOSED"):a&&o?this._setState("HALF_CLOSED_LOCAL"):p||_||(s="PROTOCOL_ERROR");break;case"OPEN":i.flags.END_STREAM?this._setState(e?"HALF_CLOSED_LOCAL":"HALF_CLOSED_REMOTE"):E&&this._setState("CLOSED");break;case"HALF_CLOSED_LOCAL":E||a&&i.flags.END_STREAM?this._setState("CLOSED"):p||n||a||_||e&&c||(s="PROTOCOL_ERROR");break;case"HALF_CLOSED_REMOTE":E||e&&i.flags.END_STREAM?this._setState("CLOSED"):p||n||e||_||a&&c||(s="PROTOCOL_ERROR");break;case"CLOSED":_||e&&E||a&&c||a&&this._closedByUs&&(this._closedWithRst||E||n)||(r="STREAM_CLOSED")}if("CLOSED"===this.state&&"CLOSED"!==R&&(this._closedByUs=e,this._closedWithRst=E),!d||s||r||(t("IDLE"===i.promised_stream.state,i.promised_stream.state),i.promised_stream._setState(e?"RESERVED_LOCAL":"RESERVED_REMOTE"),i.promised_stream._initiated=e),this._initiated){var l=h(this.state)-h(R);e?i.count_change=l:i.count_change(l)}else e&&(i.count_change=0);if(s||r){var S={error:s,frame:i,state:this.state,closedByUs:this._closedByUs,closedWithRst:this._closedWithRst};if(e)return this._log.error(S,"Sending illegal frame."),this.emit("error",new Error("Sending illegal frame ("+i.type+") in "+this.state+" state."));this._log.error(S,"Received illegal frame."),s?this.emit("connectionError",s):(this.reset(r),this.emit("error",r))}},exports.serializers={};var _=0;exports.serializers.s=function(t){return"_id"in t||(t._id=_,_+=1),t._id};
},{"./flow":"s2hI"}],"J/wp":[function(require,module,exports) {
var t=require("assert"),e=require("./flow").Flow;function i(t,i,s){e.call(this,0),this._log=t.child({component:"connection"}),this._initializeStreamManagement(i),this._initializeLifecycleManagement(),this._initializeFlowControl(),this._initializeSettingsManagement(s),this._initializeMultiplexing()}exports.Connection=i,i.prototype=Object.create(e.prototype,{constructor:{value:i}});var s=require("./stream").Stream;i.prototype._initializeStreamManagement=function(t){this._streamIds=[],this._streamPriorities=[],this._nextStreamId=t,this._lastIncomingStream=0,this._streamIds[0]={upstream:{write:this._writeControlFrame.bind(this)}},this._streamSlotsFree=1/0,this._streamLimit=1/0,this.on("RECEIVING_SETTINGS_MAX_CONCURRENT_STREAMS",this._updateStreamLimit)},i.prototype._writeControlFrame=function(t){"SETTINGS"===t.type||"PING"===t.type||"GOAWAY"===t.type||"WINDOW_UPDATE"===t.type||"ALTSVC"===t.type?(this._log.debug({frame:t},"Receiving connection level frame"),this.emit(t.type,t)):(this._log.error({frame:t},"Invalid connection level frame"),this.emit("error","PROTOCOL_ERROR"))},i.prototype._updateStreamLimit=function(t){var e=0===this._streamSlotsFree&&t>this._streamLimit;this._streamSlotsFree+=t-this._streamLimit,this._streamLimit=t,e&&this.emit("wakeup")},i.prototype._changeStreamCount=function(t){if(t){this._log.trace({free:this._streamSlotsFree,change:t},"Changing active stream count.");var e=0===this._streamSlotsFree&&t<0;this._streamSlotsFree-=t,e&&this.emit("wakeup")}},i.prototype._allocateId=function(e,i){if(void 0===i)i=this._nextStreamId,this._nextStreamId+=2;else{if(!(i>this._lastIncomingStream&&(i-this._nextStreamId)%2!=0))return this._log.error({stream_id:i,lastIncomingStream:this._lastIncomingStream},"Invalid incoming stream ID."),void this.emit("error","PROTOCOL_ERROR");this._lastIncomingStream=i}return t(!(i in this._streamIds)),this._log.trace({s:e,stream_id:i},"Allocating ID for stream."),this._streamIds[i]=e,e.id=i,this.emit("new_stream",e,i),e.on("connectionError",this.emit.bind(this,"error")),i},i.prototype._allocatePriority=function(t){this._log.trace({s:t},"Allocating priority for stream."),this._insert(t,t._priority),t.on("priority",this._reprioritize.bind(this,t)),t.upstream.on("readable",this.emit.bind(this,"wakeup")),this.emit("wakeup")},i.prototype._insert=function(t,e){e in this._streamPriorities?this._streamPriorities[e].push(t):this._streamPriorities[e]=[t]},i.prototype._reprioritize=function(e,i){var s=this._streamPriorities[e._priority],r=s.indexOf(e);t(-1!==r),s.splice(r,1),0===s.length&&delete this._streamPriorities[e._priority],this._insert(e,i)},i.prototype._createIncomingStream=function(t){this._log.debug({stream_id:t},"New incoming stream.");var e=new s(this._log,this);return this._allocateId(e,t),this._allocatePriority(e),this.emit("stream",e,t),e},i.prototype.createStream=function(){this._log.trace("Creating new outbound stream.");var t=new s(this._log,this);return this._allocatePriority(t),t},i.prototype._initializeMultiplexing=function(){this.on("window_update",this.emit.bind(this,"wakeup")),this._sendScheduled=!1,this._firstFrameReceived=!1},i.prototype._send=function(e){if(!this._closed)if(e){this._sendScheduled=!1,this._log.trace("Starting forwarding frames from streams.");t:for(var i in this._streamPriorities)for(var s=this._streamPriorities[i],r=[];s.length>0;){for(var a=0;a<s.length;a++){var n=s[a],o=n.upstream.read(this._window>0?this._window:-1);if(o)if(o.count_change>this._streamSlotsFree)n.upstream.unshift(o);else{r.push(n),void 0===o.stream&&(o.stream=n.id||this._allocateId(n)),"PUSH_PROMISE"===o.type&&(this._allocatePriority(o.promised_stream),o.promised_stream=this._allocateId(o.promised_stream)),this._log.trace({s:n,frame:o},"Forwarding outgoing frame");var h=this.push(o);if(this._changeStreamCount(o.count_change),t(null!==h),!1===h)break t}}s=r,r=[]}void 0===h&&this.once("wakeup",this._send.bind(this)),this._log.trace({moreNeeded:h},"Stopping forwarding frames from streams.")}else this._sendScheduled||(this._sendScheduled=!0,setImmediate(this._send.bind(this,!0)))},i.prototype._receive=function(t,e){if(this._log.trace({frame:t},"Forwarding incoming frame"),this._firstFrameReceived||(this._firstFrameReceived=!0,this._onFirstFrameReceived(t)),"SETTINGS"!=t.type&&"PING"!=t.type&&"GOAWAY"!=t.type||0==t.stream)if("DATA"!=t.type&&"HEADERS"!=t.type&&"PRIORITY"!=t.type&&"RST_STREAM"!=t.type&&"PUSH_PROMISE"!=t.type&&"CONTINUATION"!=t.type||0!=t.stream){var i=this._streamIds[t.stream];i||(i=this._createIncomingStream(t.stream)),"PUSH_PROMISE"===t.type&&(t.promised_stream=this._createIncomingStream(t.promised_stream)),t.count_change=this._changeStreamCount.bind(this),i.upstream.write(t),e()}else this.close("PROTOCOL_ERROR");else this.close("PROTOCOL_ERROR")};var r={};i.prototype._initializeSettingsManagement=function(t){this._settingsAckCallbacks=[],this._log.debug({settings:t},"Sending the first SETTINGS frame as part of the connection header."),this.set(t||r),this.on("SETTINGS",this._receiveSettings),this.on("RECEIVING_SETTINGS_MAX_FRAME_SIZE",this._sanityCheckMaxFrameSize)},i.prototype._onFirstFrameReceived=function(t){0===t.stream&&"SETTINGS"===t.type?this._log.debug("Receiving the first SETTINGS frame as part of the connection header."):(this._log.fatal({frame:t},"Invalid connection header: first frame is not SETTINGS."),this.emit("error","PROTOCOL_ERROR"))},i.prototype._receiveSettings=function(t){if(t.flags.ACK){var e=this._settingsAckCallbacks.shift();e&&e()}else for(var i in this._closed||this.push({type:"SETTINGS",flags:{ACK:!0},stream:0,settings:{}}),t.settings)this.emit("RECEIVING_"+i,t.settings[i])},i.prototype._sanityCheckMaxFrameSize=function(t){(t<16384||t>=16777216)&&(this._log.fatal("Received invalid value for max frame size: "+t),this.emit("error"))},i.prototype.set=function(t,e){var i=this;for(var s in this._settingsAckCallbacks.push(function(){for(var s in t)i.emit("ACKNOWLEDGED_"+s,t[s]);e&&e()}),this.push({type:"SETTINGS",flags:{ACK:!1},stream:0,settings:t}),t)this.emit("SENDING_"+s,t[s])},i.prototype._initializeLifecycleManagement=function(){this._pings={},this.on("PING",this._receivePing),this.on("GOAWAY",this._receiveGoaway),this._closed=!1},i.prototype._generatePingId=function(){do{for(var t="",e=0;e<16;e++)t+=Math.floor(16*Math.random()).toString(16)}while(t in this._pings);return t},i.prototype.ping=function(t){var e=this._generatePingId(),i=new Buffer(e,"hex");this._pings[e]=t,this._log.debug({data:i},"Sending PING."),this.push({type:"PING",flags:{ACK:!1},stream:0,data:i})},i.prototype._receivePing=function(t){if(t.flags.ACK){var e=t.data.toString("hex");if(e in this._pings){this._log.debug({data:t.data},"Receiving answer for a PING.");var i=this._pings[e];i&&i(),delete this._pings[e]}else this._log.warn({data:t.data},"Unsolicited PING answer.")}else this._log.debug({data:t.data},"Answering PING."),this.push({type:"PING",flags:{ACK:!0},stream:0,data:t.data})},i.prototype.close=function(t){this._closed?this._log.warn("Trying to close an already closed connection"):(this._log.debug({error:t},"Closing the connection"),this.push({type:"GOAWAY",flags:{},stream:0,last_stream:this._lastIncomingStream,error:t||"NO_ERROR"}),this.push(null),this._closed=!0)},i.prototype._receiveGoaway=function(t){this._log.debug({error:t.error},"Other end closed the connection"),this.push(null),this._closed=!0,"NO_ERROR"!==t.error&&this.emit("peerError",t.error)},i.prototype._initializeFlowControl=function(){this._initialStreamWindowSize=a,this.on("new_stream",function(t){t.upstream.setInitialWindow(this._initialStreamWindowSize)}),this.on("RECEIVING_SETTINGS_INITIAL_WINDOW_SIZE",this._setInitialStreamWindowSize),this._streamIds[0].upstream.setInitialWindow=function(){}};var a=65535;i.prototype._setInitialStreamWindowSize=function(t){this._initialStreamWindowSize===1/0&&t!==1/0?(this._log.error("Trying to manipulate initial flow control window size after flow control was turned off."),this.emit("error","FLOW_CONTROL_ERROR")):(this._log.debug({size:t},"Changing stream initial window size."),this._initialStreamWindowSize=t,this._streamIds.forEach(function(e){e.upstream.setInitialWindow(t)}))};
},{"./flow":"s2hI","./stream":"IIfo"}],"sbOY":[function(require,module,exports) {
var e=require("assert"),r=require("./framer").Serializer,i=require("./framer").Deserializer,t=require("./compressor").Compressor,o=require("./compressor").Decompressor,s=require("./connection").Connection,n=require("stream").Duplex,c=require("stream").Transform;function a(r,i,t,o){n.call(this),this._log=r.child({component:"endpoint",e:this}),e("CLIENT"===i||"SERVER"===i),"CLIENT"===i?this._writePrelude():this._readPrelude(),this._initializeDataFlow(i,t,o||{}),this._initializeManagement(),this._initializeErrorHandling()}exports.Endpoint=a,a.prototype=Object.create(n.prototype,{constructor:{value:a}});var h=new Buffer("PRI * HTTP/2.0\r\n\r\nSM\r\n\r\n");function _(e){var r=new c({objectMode:!0}),i=r.push.bind(r);return r._transform=function(r,t,o){e(r,i,o)},r}function l(e,r,i){i?e.pipe(_(i)).pipe(r):e.pipe(r)}a.prototype._writePrelude=function(){this._log.debug("Sending the client connection header prelude."),this.push(h)},a.prototype._readPrelude=function(){var e=0;this._write=function(r,i,t){for(var o=e;e<h.length&&e-o<r.length;){if(h[e]!==r[e-o])return this._log.fatal({cursor:e,offset:o,chunk:r},"Client connection header prelude does not match."),void this._error("handshake","PROTOCOL_ERROR");e+=1}e===h.length&&(this._log.debug("Successfully received the client connection header prelude."),delete this._write,r=r.slice(e-o),this._write(r,i,t))}},a.prototype._initializeDataFlow=function(e,n,c){var a,h,_;"CLIENT"===e?(a=1,h="REQUEST",_="RESPONSE"):(a=2,h="RESPONSE",_="REQUEST"),this._serializer=new r(this._log),this._deserializer=new i(this._log),this._compressor=new t(this._log,h),this._decompressor=new o(this._log,_),this._connection=new s(this._log,a,n),l(this._connection,this._compressor,c.beforeCompression),l(this._compressor,this._serializer,c.beforeSerialization),l(this._deserializer,this._decompressor,c.afterDeserialization),l(this._decompressor,this._connection,c.afterDecompression),this._connection.on("ACKNOWLEDGED_SETTINGS_HEADER_TABLE_SIZE",this._decompressor.setTableSizeLimit.bind(this._decompressor)),this._connection.on("RECEIVING_SETTINGS_HEADER_TABLE_SIZE",this._compressor.setTableSizeLimit.bind(this._compressor))};var p={};a.prototype._read=function(){this._readableState.sync=!0;for(var e,r=p;r&&(e=this._serializer.read());)r=this.push(e);r===p&&this._serializer.once("readable",this._read.bind(this)),this._readableState.sync=!1},a.prototype._write=function(e,r,i){this._deserializer.write(e,r,i)},a.prototype._initializeManagement=function(){this._connection.on("stream",this.emit.bind(this,"stream"))},a.prototype.createStream=function(){return this._connection.createStream()},a.prototype._initializeErrorHandling=function(){this._serializer.on("error",this._error.bind(this,"serializer")),this._deserializer.on("error",this._error.bind(this,"deserializer")),this._compressor.on("error",this._error.bind(this,"compressor")),this._decompressor.on("error",this._error.bind(this,"decompressor")),this._connection.on("error",this._error.bind(this,"connection")),this._connection.on("peerError",this.emit.bind(this,"peerError"))},a.prototype._error=function(e,r){this._log.fatal({source:e,message:r},"Fatal error, closing connection"),this.close(r),setImmediate(this.emit.bind(this,"error",r))},a.prototype.close=function(e){this._connection.close(e)},exports.serializers={};var d=0;exports.serializers.e=function(e){return"id"in e||(e.id=d,d+=1),e.id};
},{"./framer":"zt4n","./compressor":"ByCh","./connection":"J/wp"}],"IWvz":[function(require,module,exports) {
exports.VERSION="h2",exports.Endpoint=require("./endpoint").Endpoint,exports.serializers={};var r=["./framer","./compressor","./flow","./connection","./stream","./endpoint"];r.map(require).forEach(function(r){for(var e in r.serializers)exports.serializers[e]=r.serializers[e]});
},{"./endpoint":"sbOY"}],"mW/Y":[function(require,module,exports) {
var t=require("net"),e=require("url"),r=require("util"),o=require("events").EventEmitter,s=require("stream").PassThrough,i=require("stream").Readable,n=require("stream").Writable,h=require("./protocol"),a=h.Endpoint,p=require("http"),c=require("https");exports.STATUS_CODES=p.STATUS_CODES,exports.IncomingMessage=g,exports.OutgoingMessage=_,exports.protocol=h;var l=["connection","host","keep-alive","proxy-connection","transfer-encoding","upgrade"],u=[h.VERSION,"http/1.1","http/1.0"],d=["ECDHE-RSA-AES128-GCM-SHA256","ECDHE-ECDSA-AES128-GCM-SHA256","ECDHE-RSA-AES256-GCM-SHA384","ECDHE-ECDSA-AES256-GCM-SHA384","DHE-RSA-AES128-GCM-SHA256","DHE-DSS-AES128-GCM-SHA256","ECDHE-RSA-AES128-SHA256","ECDHE-ECDSA-AES128-SHA256","ECDHE-RSA-AES128-SHA","ECDHE-ECDSA-AES128-SHA","ECDHE-RSA-AES256-SHA384","ECDHE-ECDSA-AES256-SHA384","ECDHE-RSA-AES256-SHA","ECDHE-ECDSA-AES256-SHA","DHE-RSA-AES128-SHA256","DHE-RSA-AES128-SHA","DHE-DSS-AES128-SHA256","DHE-RSA-AES256-SHA256","DHE-DSS-AES256-SHA","DHE-RSA-AES256-SHA","kEDH+AESGCM","AES128-GCM-SHA256","AES256-GCM-SHA384","ECDHE-RSA-RC4-SHA","ECDHE-ECDSA-RC4-SHA","AES128","AES256","RC4-SHA","HIGH","!aNULL","!eNULL","!EXPORT","!DES","!3DES","!MD5","!PSK"].join(":");function m(){}var f={fatal:m,error:m,warn:m,info:m,debug:m,trace:m,child:function(){return this}};function g(t){s.call(this),t.pipe(this),this.socket=this.stream=t,this._log=t._log.child({component:"http"}),this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers=void 0,this._lastHeadersSeen=void 0,t.once("headers",this._onHeaders.bind(this)),t.once("end",this._onEnd.bind(this))}function _(){n.call(this),this._headers={},this._trailers=void 0,this.headersSent=!1,this.finished=!1,this.on("finish",this._finish)}function y(t,e,r){function o(){var o=r.listeners(t),s=o.length;if(0===s&&"error"===t){var i=[t];return i.push.apply(i,arguments),void r.emit.apply(r,i)}for(var n=0;n<s;++n)o[n].apply(e,arguments)}return e.on(t,o),o}function S(e){e=r._extend({},e),this._log=(e.log||f).child({component:"http"}),this._settings=e.settings;var o=this._start.bind(this),s=this._fallback.bind(this);if(e.key&&e.cert||e.pfx)this._log.info("Creating HTTP/2 server over TLS"),this._mode="tls",e.ALPNProtocols=u,e.NPNProtocols=u,e.ciphers=e.ciphers||d,e.honorCipherOrder=0!=e.honorCipherOrder,this._server=c.createServer(e),this._originalSocketListeners=this._server.listeners("secureConnection"),this._server.removeAllListeners("secureConnection"),this._server.on("secureConnection",function(t){(t.alpnProtocol||t.npnProtocol)===h.VERSION?o(t):s(t)}),this._server.on("request",this.emit.bind(this,"request")),y("error",this._server,this),y("listening",this._server,this);else{if(!e.plain)throw this._log.error("Trying to create HTTP/2 server with Upgrade from HTTP/1.1"),new Error("HTTP1.1 -> HTTP2 upgrade is not yet supported. Please provide TLS keys.");this._log.info("Creating HTTP/2 server over plain TCP"),this._mode="plain",this._server=t.createServer(o)}this._server.on("close",this.emit.bind(this,"close"))}function v(t,e){if("function"==typeof t&&(e=t,t={}),t.pfx||t.key&&t.cert)throw new Error("options.pfx, options.key, and options.cert are nonsensical!");t.plain=!0;var r=new S(t);return e&&r.on("request",e),r}function A(t,e){if("function"==typeof t)throw new Error("options are required!");if(!(t.pfx||t.key&&t.cert))throw new Error("options.pfx or options.key and options.cert are required!");t.plain=!1;var r=new S(t);return e&&r.on("request",e),r}function E(){throw new Error("HTTP UPGRADE is not implemented!")}function H(t){g.call(this,t)}function C(t){_.call(this),this._log=t._log.child({component:"http"}),this.stream=t,this.statusCode=200,this.sendDate=!0,this.stream.once("headers",this._onRequestHeaders.bind(this))}function w(t,o){if("string"==typeof t&&(t=e.parse(t)),t.plain=!0,t.protocol&&"http:"!==t.protocol)throw new Error("This interface only supports http-schemed URLs");if(t.agent&&"function"==typeof t.agent.request){var s=r._extend({},t);return delete s.agent,t.agent.request(s,o)}return exports.globalAgent.request(t,o)}function k(t,o){if("string"==typeof t&&(t=e.parse(t)),t.plain=!1,t.protocol&&"https:"!==t.protocol)throw new Error("This interface only supports https-schemed URLs");if(t.agent&&"function"==typeof t.agent.request){var s=r._extend({},t);return delete s.agent,t.agent.request(s,o)}return exports.globalAgent.request(t,o)}function q(t,o){if("string"==typeof t&&(t=e.parse(t)),t.plain=!0,t.protocol&&"http:"!==t.protocol)throw new Error("This interface only supports http-schemed URLs");if(t.agent&&"function"==typeof t.agent.get){var s=r._extend({},t);return delete s.agent,t.agent.get(s,o)}return exports.globalAgent.get(t,o)}function P(t,o){if("string"==typeof t&&(t=e.parse(t)),t.plain=!1,t.protocol&&"https:"!==t.protocol)throw new Error("This interface only supports https-schemed URLs");if(t.agent&&"function"==typeof t.agent.get){var s=r._extend({},t);return delete s.agent,t.agent.get(s,o)}return exports.globalAgent.get(t,o)}function T(t){o.call(this),this.setMaxListeners(0),t=r._extend({},t),this._settings=t.settings,this._log=(t.log||f).child({component:"http"}),this.endpoints={},t.ALPNProtocols=u,t.NPNProtocols=u,this._httpsAgent=new c.Agent(t),this.sockets=this._httpsAgent.sockets,this.requests=this._httpsAgent.requests}function b(t){t.removeAllListeners("data"),t.removeAllListeners("end"),t.removeAllListeners("readable"),t.removeAllListeners("close"),t.removeAllListeners("error"),t.unpipe(),delete t.ondata,delete t.onend}function x(t){return null!=t.pfx||null!=t.key||null!=t.passphrase||null!=t.cert||null!=t.ca||null!=t.ciphers||null!=t.rejectUnauthorized||null!=t.secureProtocol}function R(){_.call(this),this._log=void 0,this.stream=void 0}function D(t){g.call(this,t)}function O(t,e){var r=new i;r._read=m,r.push(null),r._log=t._log,H.call(this,r),this._onHeaders(e),this._responseStream=t;var o=new D(this._responseStream);o.once("ready",this.emit.bind(this,"response",o)),this.stream.on("promise",this._onPromise.bind(this))}exports.serializers=h.serializers,g.prototype=Object.create(s.prototype,{constructor:{value:g}}),g.prototype._onHeaders=function(t){for(var e in this._validateHeaders(t),t)":"!==e[0]&&("set-cookie"!==e||Array.isArray(t[e])?this.headers[e]=t[e]:this.headers[e]=[t[e]]);var r=this;this.stream.on("headers",function(t){r._lastHeadersSeen=t})},g.prototype._onEnd=function(){this.trailers=this._lastHeadersSeen},g.prototype.setTimeout=m,g.prototype._checkSpecialHeader=function(t,e){return"string"==typeof e&&0!==e.length||(this._log.error({key:t,value:e},"Invalid or missing special header field"),this.stream.reset("PROTOCOL_ERROR")),e},g.prototype._validateHeaders=function(t){for(var e=0;e<l.length;e++){var r=l[e];if(r in t||"te"===r&&"trailers"!==t[r])return this._log.error({key:r,value:t[r]},"Deprecated header found"),void this.stream.reset("PROTOCOL_ERROR")}for(var o in t){if(o.length<=1)return void this.stream.reset("PROTOCOL_ERROR");if(/[A-Z]/.test(o))return void this.stream.reset("PROTOCOL_ERROR")}},_.prototype=Object.create(n.prototype,{constructor:{value:_}}),_.prototype._write=function(t,e,r){this.stream?this.stream.write(t,e,r):this.once("socket",this._write.bind(this,t,e,r))},_.prototype._finish=function(){this.stream?(this._trailers&&(this.request?this.request.addTrailers(this._trailers):this.stream.headers(this._trailers)),this.finished=!0,this.stream.end()):this.once("socket",this._finish.bind(this))},_.prototype.setHeader=function(t,e){return this.headersSent?this.emit("error",new Error("Can't set headers after they are sent.")):(t=t.toLowerCase(),-1!==l.indexOf(t)?this.emit("error",new Error("Cannot set deprecated header: "+t)):void(this._headers[t]=e))},_.prototype.removeHeader=function(t){if(this.headersSent)return this.emit("error",new Error("Can't remove headers after they are sent."));delete this._headers[t.toLowerCase()]},_.prototype.getHeader=function(t){return this._headers[t.toLowerCase()]},_.prototype.addTrailers=function(t){this._trailers=t},_.prototype.setTimeout=m,_.prototype._checkSpecialHeader=g.prototype._checkSpecialHeader,exports.Server=S,exports.IncomingRequest=H,exports.OutgoingResponse=C,exports.ServerResponse=C,S.prototype=Object.create(o.prototype,{constructor:{value:S}}),S.prototype._start=function(t){var e=new a(this._log,"SERVER",this._settings);this._log.info({e:e,client:t.remoteAddress+":"+t.remotePort,SNI:t.servername},"New incoming HTTP/2 connection"),e.pipe(t).pipe(e);var r=this;e.on("stream",function(e){var o=new C(e),s=new H(e);s.remoteAddress=t.remoteAddress,s.remotePort=t.remotePort,s.connection=s.socket=o.socket=t,s.once("ready",r.emit.bind(r,"request",s,o))}),e.on("error",this.emit.bind(this,"clientError")),t.on("error",this.emit.bind(this,"clientError")),this.emit("connection",t,e)},S.prototype._fallback=function(t){var e=t.alpnProtocol||t.npnProtocol;this._log.info({client:t.remoteAddress+":"+t.remotePort,protocol:e,SNI:t.servername},"Falling back to simple HTTPS");for(var r=0;r<this._originalSocketListeners.length;r++)this._originalSocketListeners[r].call(this._server,t);this.emit("connection",t)},S.prototype.listen=function(t,e){return this._log.info({on:"string"==typeof e?e+":"+t:t},"Listening for incoming connections"),this._server.listen.apply(this._server,arguments),this._server},S.prototype.close=function(t){this._log.info("Closing server"),this._server.close(t)},S.prototype.setTimeout=function(t,e){"tls"===this._mode&&this._server.setTimeout(t,e)},Object.defineProperty(S.prototype,"timeout",{get:function(){return"tls"===this._mode?this._server.timeout:void 0},set:function(t){"tls"===this._mode&&(this._server.timeout=t)}}),S.prototype.on=function(t,e){return"upgrade"===t||"timeout"===t?this._server.on(t,e&&e.bind(this)):o.prototype.on.call(this,t,e)},S.prototype.addContext=function(t,e){"tls"===this._mode&&this._server.addContext(t,e)},S.prototype.address=function(){return this._server.address()},exports.https={},exports.createServer=exports.https.createServer=A,exports.request=exports.https.request=k,exports.get=exports.https.get=P,exports.raw={},exports.raw.createServer=v,exports.raw.request=w,exports.raw.get=q,exports.http={},exports.http.createServer=exports.http.request=exports.http.get=E,H.prototype=Object.create(g.prototype,{constructor:{value:H}}),H.prototype._onHeaders=function(t){this.method=this._checkSpecialHeader(":method",t[":method"]),this.scheme=this._checkSpecialHeader(":scheme",t[":scheme"]),this.host=this._checkSpecialHeader(":authority",t[":authority"]),this.url=this._checkSpecialHeader(":path",t[":path"]),this.method&&this.scheme&&this.host&&this.url&&(this.headers.host=this.host,g.prototype._onHeaders.call(this,t),this._log.info({method:this.method,scheme:this.scheme,host:this.host,path:this.url,headers:this.headers},"Incoming request"),this.emit("ready"))},C.prototype=Object.create(_.prototype,{constructor:{value:C}}),C.prototype.writeHead=function(t,e,r){if(!this.headersSent){for(var o in"string"==typeof e?this._log.warn("Reason phrase argument was present but ignored by the writeHead method"):r=e,r)this.setHeader(o,r[o]);r=this._headers,!this.sendDate||"date"in this._headers||(r.date=(new Date).toUTCString()),this._log.info({status:t,headers:this._headers},"Sending server response"),r[":status"]=this.statusCode=t,this.stream.headers(r),this.headersSent=!0}},C.prototype._implicitHeaders=function(){this.headersSent||this.writeHead(this.statusCode)},C.prototype._implicitHeader=function(){this._implicitHeaders()},C.prototype.write=function(){return this._implicitHeaders(),_.prototype.write.apply(this,arguments)},C.prototype.end=function(){return this.finshed=!0,this._implicitHeaders(),_.prototype.end.apply(this,arguments)},C.prototype._onRequestHeaders=function(t){this._requestHeaders=t},C.prototype.push=function(t){if("string"==typeof t&&(t=e.parse(t)),!t.path)throw new Error("`path` option is mandatory.");var o=r._extend({":method":(t.method||"GET").toUpperCase(),":scheme":t.protocol&&t.protocol.slice(0,-1)||this._requestHeaders[":scheme"],":authority":t.hostname||t.host||this._requestHeaders[":authority"],":path":t.path},t.headers);return this._log.info({method:o[":method"],scheme:o[":scheme"],authority:o[":authority"],path:o[":path"],headers:t.headers},"Promising push stream"),new C(this.stream.promise(o))},C.prototype.altsvc=function(t,e,r,o,s){void 0===s&&(s=""),this.stream.altsvc(t,e,r,o,s)},C.prototype.on=function(t,e){this.request&&"timeout"===t?this.request.on(t,e&&e.bind(this)):_.prototype.on.call(this,t,e)},exports.ClientRequest=R,exports.OutgoingRequest=R,exports.IncomingResponse=D,exports.Agent=T,exports.globalAgent=void 0,T.prototype=Object.create(o.prototype,{constructor:{value:T}}),T.prototype.request=function(o,s){(o="string"==typeof o?e.parse(o):r._extend({},o)).method=(o.method||"GET").toUpperCase(),o.protocol=o.protocol||"https:",o.host=o.hostname||o.host||"localhost",o.port=o.port||443,o.path=o.path||"/",o.plain||"http:"!==o.protocol||(this._log.error("Trying to negotiate client request with Upgrade from HTTP/1.1"),this.emit("error",new Error("HTTP1.1 -> HTTP2 upgrade is not yet supported.")));var i=new R(this._log);s&&i.on("response",s);var n=[!!o.plain,o.host,o.port].join(":"),p=this;if(n in this.endpoints){var l=this.endpoints[n];i._start(l.createStream(),o)}else if(o.plain)(l=new a(this._log,"CLIENT",this._settings)).socket=t.connect({host:o.host,port:o.port,localAddress:o.localAddress}),l.socket.on("error",function(t){p._log.error("Socket error: "+t.toString()),i.emit("error",t)}),l.on("error",function(t){p._log.error("Connection error: "+t.toString()),i.emit("error",t)}),this.endpoints[n]=l,l.pipe(l.socket).pipe(l),i._start(l.createStream(),o);else{var m=!1,f=x(o);o.ALPNProtocols=u,o.NPNProtocols=u,o.servername=o.host,o.ciphers=o.ciphers||d,f?o.agent=new c.Agent(o):null==o.agent&&(o.agent=this._httpsAgent);var g=c.request(o);function _(){var t;(g.socket.alpnProtocol||g.socket.npnProtocol)===h.VERSION&&(g.socket.emit("agentRemove"),b(g.socket),(t=new a(p._log,"CLIENT",p._settings)).socket=g.socket,t.pipe(t.socket).pipe(t)),m?t&&t.close():t?(p._log.info({e:t,server:o.host+":"+o.port},"New outgoing HTTP/2 connection"),p.endpoints[n]=t,p.emit(n,t)):p.emit(n,void 0)}g.on("error",function(t){p._log.error("Socket error: "+t.toString()),p.removeAllListeners(n),i.emit("error",t)}),g.on("socket",function(t){null!=(t.alpnProtocol||t.npnProtocol)?_():t.on("secureConnect",_)}),this.once(n,function(t){m=!0,t?i._start(t.createStream(),o):i._fallback(g)})}return i},T.prototype.get=function(t,e){var r=this.request(t,e);return r.end(),r},T.prototype.destroy=function(t){for(var e in this._httpsAgent&&this._httpsAgent.destroy(),this.endpoints)this.endpoints[e].close(t)},Object.defineProperty(T.prototype,"maxSockets",{get:function(){return this._httpsAgent.maxSockets},set:function(t){this._httpsAgent.maxSockets=t}}),exports.globalAgent=new T,R.prototype=Object.create(_.prototype,{constructor:{value:R}}),R.prototype._start=function(t,e){for(var r in this.stream=t,this.options=e,this._log=t._log.child({component:"http"}),e.headers)this.setHeader(r,e.headers[r]);var o=this._headers;delete o.host,e.auth&&(o.authorization="Basic "+new Buffer(e.auth).toString("base64")),o[":scheme"]=e.protocol.slice(0,-1),o[":method"]=e.method,o[":authority"]=e.host,o[":path"]=e.path,this._log.info({scheme:o[":scheme"],method:o[":method"],authority:o[":authority"],path:o[":path"],headers:e.headers||{}},"Sending request"),this.stream.headers(o),this.headersSent=!0,this.emit("socket",this.stream);var s=new D(this.stream);s.req=this,s.once("ready",this.emit.bind(this,"response",s)),this.stream.on("promise",this._onPromise.bind(this))},R.prototype._fallback=function(t){t.on("response",this.emit.bind(this,"response")),this.stream=this.request=t,this.emit("socket",this.socket)},R.prototype.setPriority=function(t){this.stream?this.stream.priority(t):this.once("socket",this.setPriority.bind(this,t))},R.prototype.on=function(t,e){this.request&&"upgrade"===t?this.request.on(t,e&&e.bind(this)):_.prototype.on.call(this,t,e)},R.prototype.setNoDelay=function(t){this.request?this.request.setNoDelay(t):this.stream||this.on("socket",this.setNoDelay.bind(this,t))},R.prototype.setSocketKeepAlive=function(t,e){this.request?this.request.setSocketKeepAlive(t,e):this.stream||this.on("socket",this.setSocketKeepAlive.bind(this,t,e))},R.prototype.setTimeout=function(t,e){this.request?this.request.setTimeout(t,e):this.stream||this.on("socket",this.setTimeout.bind(this,t,e))},R.prototype.abort=function(){this.request?this.request.abort():this.stream?this.stream.reset("CANCEL"):this.on("socket",this.abort.bind(this))},R.prototype._onPromise=function(t,e){this._log.info({push_stream:t.id},"Receiving push promise");var r=new O(t,e);this.listeners("push").length>0?this.emit("push",r):r.cancel()},D.prototype=Object.create(g.prototype,{constructor:{value:D}}),D.prototype._onHeaders=function(t){this.statusCode=parseInt(this._checkSpecialHeader(":status",t[":status"])),g.prototype._onHeaders.call(this,t),this._log.info({status:this.statusCode,headers:this.headers},"Incoming response"),this.emit("ready")},O.prototype=Object.create(H.prototype,{constructor:{value:O}}),O.prototype.cancel=function(){this._responseStream.reset("CANCEL")},O.prototype.setPriority=function(t){this._responseStream.priority(t)},O.prototype._onPromise=R.prototype._onPromise;
},{"./protocol":"IWvz"}],"yODR":[function(require,module,exports) {
module.exports=require("./http");
},{"./http":"mW/Y"}],"z/pA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{async sendMetadata(e){return e}async receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}async receiveTrailers(e){return e}}exports.BaseFilter=e;
},{}],"zo11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./filter");class t extends e.BaseFilter{constructor(e,t){super(),this.channel=e,this.stream=t,this.channel=e,this.stream=t;const s=t.getMethod().split("/");let r="";s.length>=2&&(r=s[1]),this.serviceUrl=`https://${t.getHost()}/${r}`}async sendMetadata(e){const t=this.channel.credentials._getCallCredentials(),s=this.stream.getCredentials(),r=t.compose(s).generateMetadata({service_url:this.serviceUrl}),a=await e;return a.merge(await r),a}}exports.CallCredentialsFilter=t;class s{constructor(e){this.channel=e}createFilter(e){return new t(this.channel,e)}}exports.CallCredentialsFilterFactory=s;
},{"./filter":"z/pA"}],"wkBJ":[function(require,module,exports) {
"use strict";var E,N;Object.defineProperty(exports,"__esModule",{value:!0}),function(E){E[E.OK=0]="OK",E[E.CANCELLED=1]="CANCELLED",E[E.UNKNOWN=2]="UNKNOWN",E[E.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",E[E.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",E[E.NOT_FOUND=5]="NOT_FOUND",E[E.ALREADY_EXISTS=6]="ALREADY_EXISTS",E[E.PERMISSION_DENIED=7]="PERMISSION_DENIED",E[E.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",E[E.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",E[E.ABORTED=10]="ABORTED",E[E.OUT_OF_RANGE=11]="OUT_OF_RANGE",E[E.UNIMPLEMENTED=12]="UNIMPLEMENTED",E[E.INTERNAL=13]="INTERNAL",E[E.UNAVAILABLE=14]="UNAVAILABLE",E[E.DATA_LOSS=15]="DATA_LOSS",E[E.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(E=exports.Status||(exports.Status={})),function(E){E[E.DEBUG=0]="DEBUG",E[E.INFO=1]="INFO",E[E.ERROR=2]="ERROR"}(N=exports.LogVerbosity||(exports.LogVerbosity={}));
},{}],"Msn6":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(e||(e={}));class a{constructor(){this.readState=e.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(a){let i,s=0;const t=[];for(;s<a.length;)switch(this.readState){case e.NO_DATA:this.readCompressFlag=a.slice(s,s+1),s+=1,this.readState=e.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case e.READING_SIZE:if(i=Math.min(a.length-s,this.readSizeRemaining),a.copy(this.readPartialSize,4-this.readSizeRemaining,s,s+i),this.readSizeRemaining-=i,s+=i,0===this.readSizeRemaining)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=e.READING_MESSAGE;else{const a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=e.NO_DATA,t.push(a)}break;case e.READING_MESSAGE:if(i=Math.min(a.length-s,this.readMessageRemaining),this.readPartialMessage.push(a.slice(s,s+i)),this.readMessageRemaining-=i,s+=i,0===this.readMessageRemaining){const a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),i=Buffer.concat(a,this.readMessageSize+5);this.readState=e.NO_DATA,t.push(i)}break;default:throw new Error("Unexpected read state")}return t}}exports.StreamDecoder=a;
},{}],"5DQn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("http2"),e=require("stream"),s=require("./call-credentials"),a=require("./constants"),i=require("./metadata"),n=require("./stream-decoder"),{HTTP2_HEADER_STATUS:h,HTTP2_HEADER_CONTENT_TYPE:r,NGHTTP2_CANCEL:l}=t.constants;class d extends e.Duplex{constructor(t,e,i,h){super({objectMode:!0}),this.methodName=t,this.channel=e,this.options=i,this.credentials=s.CallCredentials.createEmpty(),this.http2Stream=null,this.pendingRead=!1,this.pendingWrite=null,this.pendingWriteCallback=null,this.pendingFinalCallback=null,this.decoder=new n.StreamDecoder,this.isReadFilterPending=!1,this.canPush=!1,this.unpushedReadMessages=[],this.unfilteredReadMessages=[],this.mappedStatusCode=a.Status.UNKNOWN,this.handlingHeaders=Promise.resolve(),this.handlingTrailers=Promise.resolve(),this.finalStatus=null,this.filterStack=h.createFilter(this)}endCall(t){null===this.finalStatus&&(this.finalStatus=t,process.nextTick(()=>{this.emit("status",t)}))}handleFilterError(t){this.cancelWithStatus(a.Status.INTERNAL,t.message)}handleFilteredRead(t){if(null===this.finalStatus&&(this.isReadFilterPending=!1,this.canPush?this.push(t)||(this.canPush=!1,this.http2Stream.pause()):this.unpushedReadMessages.push(t),this.unfilteredReadMessages.length>0)){const t=this.unfilteredReadMessages.shift();this.filterReceivedMessage(t)}}filterReceivedMessage(t){null===this.finalStatus&&(null!==t?(this.isReadFilterPending=!0,this.filterStack.receiveMessage(Promise.resolve(t)).then(this.handleFilteredRead.bind(this),this.handleFilterError.bind(this))):this.canPush?this.push(null):this.unpushedReadMessages.push(null))}tryPush(t){this.isReadFilterPending?this.unfilteredReadMessages.push(t):this.filterReceivedMessage(t)}handleTrailers(t){const e=this.mappedStatusCode;let s;try{s=i.Metadata.fromHttp2Headers(t)}catch(h){s=new i.Metadata}const n={code:e,details:"",metadata:s};this.handlingTrailers=(async()=>{let t;try{t=await this.filterStack.receiveTrailers(Promise.resolve(n))}catch(e){return await this.handlingHeaders,void this.endCall({code:a.Status.INTERNAL,details:"Failed to process received status",metadata:new i.Metadata})}await this.handlingHeaders,this.endCall(t)})()}attachHttp2Stream(e){if(null!==this.finalStatus)e.close(l);else{if(this.http2Stream=e,e.on("response",(e,s)=>{switch(e[":status"]){case 400:this.mappedStatusCode=a.Status.INTERNAL;break;case 401:this.mappedStatusCode=a.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=a.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=a.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=a.Status.UNAVAILABLE;break;default:this.mappedStatusCode=a.Status.UNKNOWN}if(s&t.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=i.Metadata.fromHttp2Headers(e)}catch(n){return void this.endCall({code:a.Status.UNKNOWN,details:n.message,metadata:new i.Metadata})}this.handlingHeaders=this.filterStack.receiveMetadata(Promise.resolve(t)).then(t=>{this.emit("metadata",t)}).catch(t=>{this.destroyHttp2Stream(),this.endCall({code:a.Status.UNKNOWN,details:t.message,metadata:new i.Metadata})})}}),e.on("trailers",this.handleTrailers.bind(this)),e.on("data",t=>{const e=this.decoder.write(t);for(const s of e)this.tryPush(s)}),e.on("end",()=>{this.tryPush(null)}),e.on("close",async()=>{let s,n="";switch(e.rstCode){case t.constants.NGHTTP2_REFUSED_STREAM:s=a.Status.UNAVAILABLE;break;case t.constants.NGHTTP2_CANCEL:s=a.Status.CANCELLED;break;case t.constants.NGHTTP2_ENHANCE_YOUR_CALM:s=a.Status.RESOURCE_EXHAUSTED,n="Bandwidth exhausted";break;case t.constants.NGHTTP2_INADEQUATE_SECURITY:s=a.Status.PERMISSION_DENIED,n="Protocol not secure enough";break;default:s=a.Status.INTERNAL}await this.handlingTrailers,this.endCall({code:s,details:n,metadata:new i.Metadata})}),e.on("error",t=>{}),this.pendingRead||e.pause(),this.pendingWrite){if(!this.pendingWriteCallback)throw new Error("Invalid state in write handling code");e.write(this.pendingWrite,this.pendingWriteCallback)}this.pendingFinalCallback&&e.end(this.pendingFinalCallback)}}sendMetadata(t){this.channel._startHttp2Stream(this.options.host,this.methodName,this,t)}destroyHttp2Stream(){null===this.http2Stream||this.http2Stream.destroyed||this.http2Stream.close(l)}cancelWithStatus(t,e){this.destroyHttp2Stream(),(async()=>{await this.handlingTrailers,this.endCall({code:t,details:e,metadata:new i.Metadata})})()}getDeadline(){return this.options.deadline}getCredentials(){return this.credentials}setCredentials(t){this.credentials=t}getStatus(){return this.finalStatus}getPeer(){throw new Error("Not yet implemented")}getMethod(){return this.methodName}getHost(){return this.options.host}_read(t){if(null===this.finalStatus)if(this.canPush=!0,null===this.http2Stream)this.pendingRead=!0;else{for(;this.unpushedReadMessages.length>0;){const t=this.unpushedReadMessages.shift();if(this.canPush=this.push(t),null===t||!this.canPush)return void(this.canPush=!1)}this.http2Stream.resume()}else this.push(null)}_write(t,e,s){this.filterStack.sendMessage(Promise.resolve(t)).then(t=>{null===this.http2Stream?(this.pendingWrite=t.message,this.pendingWriteCallback=s):this.http2Stream.write(t.message,s)},this.handleFilterError.bind(this))}_final(t){null===this.http2Stream?this.pendingFinalCallback=t:this.http2Stream.end(t)}}exports.Http2CallStream=d;
},{"http2":"yODR","./call-credentials":"Uxpq","./constants":"wkBJ","./metadata":"+AHx","./stream-decoder":"Msn6"}],"fmKN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0};
},{}],"+T9R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("zlib"),s=require("./filter");class r{async writeMessage(e,s){let r=e;s&&(r=await this.compressMessage(r));const t=Buffer.allocUnsafe(r.length+5);return t.writeUInt8(s?1:0,0),t.writeUInt32BE(r.length,1),r.copy(t,5),t}async readMessage(e){const s=1===e.readUInt8(0);let r=e.slice(5);return s&&(r=await this.decompressMessage(r)),r}}class t extends r{async compressMessage(e){return e}async writeMessage(e,s){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class n extends r{compressMessage(s){return new Promise((r,t)=>{e.deflate(s,(e,s)=>{e?t(e):r(s)})})}decompressMessage(s){return new Promise((r,t)=>{e.inflate(s,(e,s)=>{e?t(e):r(s)})})}}class a extends r{compressMessage(s){return new Promise((r,t)=>{e.gzip(s,(e,s)=>{e?t(e):r(s)})})}decompressMessage(s){return new Promise((r,t)=>{e.unzip(s,(e,s)=>{e?t(e):r(s)})})}}class c extends r{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed wth unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function i(e){switch(e){case"identity":return new t;case"deflate":return new n;case"gzip":return new a;default:return new c(e)}}class o extends s.BaseFilter{constructor(){super(...arguments),this.sendCompression=new t,this.receiveCompression=new t}async sendMetadata(e){const s=await e;return s.set("grpc-encoding","identity"),s.set("grpc-accept-encoding","identity,deflate,gzip"),s}async receiveMetadata(e){const s=await e,r=s.get("grpc-encoding");if(r.length>0){const e=r[0];"string"==typeof e&&(this.receiveCompression=i(e))}return s.remove("grpc-encoding"),s.remove("grpc-accept-encoding"),s}async sendMessage(e){const s=await e,r=void 0!==s.flags&&0==(2&s.flags);return{message:await this.sendCompression.writeMessage(s.message,r),flags:s.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}exports.CompressionFilter=o;class p{constructor(e){this.channel=e}createFilter(e){return new o}}exports.CompressionFilterFactory=p;
},{"./filter":"z/pA"}],"JuPX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./constants"),t=require("./filter"),i=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function n(e){const t=(new Date).getTime(),n=Math.max(e-t,0);for(const[s,r]of i){const e=n/r;if(e<1e8)return String(Math.ceil(e))+s}throw new Error("Deadline is too far in the future")}class s extends t.BaseFilter{constructor(t,i){super(),this.channel=t,this.callStream=i,this.timer=null;const n=i.getDeadline();n instanceof Date?this.deadline=n.getTime():this.deadline=n;const s=(new Date).getTime();let r=this.deadline-s;r<0&&(r=0),this.deadline!==1/0&&(this.timer=setTimeout(()=>{i.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},r),i.on("status",()=>clearTimeout(this.timer)))}async sendMetadata(e){if(this.deadline===1/0)return e;const t=await e,i=n(this.deadline);return t.set("grpc-timeout",i),t}}exports.DeadlineFilter=s;class r{constructor(e){this.channel=e}createFilter(e){return new s(this.channel,e)}}exports.DeadlineFilterFactory=r;
},{"./constants":"wkBJ","./filter":"z/pA"}],"h1fg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMessage(t);return t}receiveMessage(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveTrailers(t);return t}}exports.FilterStack=e;class t{constructor(e){this.factories=e}createFilter(t){return new e(this.factories.map(e=>e.createFilter(t)))}}exports.FilterStackFactory=t;
},{}],"+J2Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./constants"),t=require("./filter");class s extends t.BaseFilter{async receiveTrailers(t){let{code:s,details:a,metadata:r}=await t;if(s!==e.Status.UNKNOWN)return{code:s,details:a,metadata:r};const c=r.getMap();if("string"==typeof c["grpc-status"]){const t=Number(c["grpc-status"]);t in e.Status&&(s=t),r.remove("grpc-status")}return"string"==typeof c["grpc-message"]&&(a=decodeURI(c["grpc-message"]),r.remove("grpc-message")),{code:s,details:a,metadata:r}}}exports.MetadataStatusFilter=s;class a{constructor(e){this.channel=e}createFilter(e){return new s}}exports.MetadataStatusFilterFactory=a;
},{"./constants":"wkBJ","./filter":"z/pA"}],"uvW1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("events"),s=require("http2"),{HTTP2_HEADER_AUTHORITY:t,HTTP2_HEADER_CONTENT_TYPE:i,HTTP2_HEADER_METHOD:o,HTTP2_HEADER_PATH:n,HTTP2_HEADER_TE:a,HTTP2_HEADER_USER_AGENT:r}=s.constants,l=~(1<<31),h=2e4;class p extends e.EventEmitter{constructor(e,t,i,o){super(),this.refCount=0,this.keepaliveTimeMs=l,this.keepaliveTimeoutMs=h,this.session=s.connect(e,t),this.session.unref(),this.session.on("connect",()=>{this.emit("connect")}),this.session.on("close",()=>{this.stopKeepalivePings(),this.emit("close")}),this.session.on("error",()=>{this.stopKeepalivePings(),this.emit("close")}),this.session.on("goaway",()=>{this.stopKeepalivePings(),this.emit("close")}),this.userAgent=i,o["grpc.keepalive_time_ms"]&&(this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]),o["grpc.keepalive_timeout_ms"]&&(this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]),this.keepaliveIntervalId=setTimeout(()=>{},0),clearTimeout(this.keepaliveIntervalId),this.keepaliveTimeoutId=setTimeout(()=>{},0),clearTimeout(this.keepaliveTimeoutId)}ref(){0===this.refCount&&(this.session.ref(),this.startKeepalivePings()),this.refCount+=1}unref(){this.refCount-=1,0===this.refCount&&(this.session.unref(),this.stopKeepalivePings())}sendPing(){this.keepaliveTimeoutId=setTimeout(()=>{this.emit("close")},this.keepaliveTimeoutMs),this.session.ping((e,s,t)=>{clearTimeout(this.keepaliveTimeoutId)})}startKeepalivePings(){this.keepaliveIntervalId=setInterval(()=>{this.sendPing()},this.keepaliveTimeMs),this.sendPing()}stopKeepalivePings(){clearInterval(this.keepaliveIntervalId),clearTimeout(this.keepaliveTimeoutId)}startCallStream(e,s){const l=e.toHttp2Headers();l[t]=s.getHost(),l[r]=this.userAgent,l[i]="application/grpc",l[o]="POST",l[n]=s.getMethod(),l[a]="trailers";const h=this.session.request(l);this.ref(),h.on("close",()=>{this.unref()}),s.attachHttp2Stream(h)}close(){this.session.close()}}exports.Http2SubChannel=p;
},{"http2":"yODR"}],"J3zg":[function(require,module,exports) {
module.exports={name:"@grpc/grpc-js",version:"0.5.2",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"^0.5.0","@types/lodash":"^4.14.108","@types/mocha":"^5.2.6","@types/node":"^12.0.2","clang-format":"^1.0.55",gts:"^1.0.0",lodash:"^4.17.4",typescript:"~3.5.1"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"gts clean",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"tslint -c node_modules/google-ts-style/tslint.json -p . -t codeFrame --type-check",prepare:"npm run compile",test:"gulp test",check:"gts check",fix:"gts fix",pretest:"npm run compile",posttest:"npm run check"},dependencies:{semver:"^6.0.0"},files:["build/src/*.{js,d.ts}","LICENSE"]};
},{}],"RJK8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("events"),e=require("http2"),n=require("tls"),i=require("url"),s=require("./call-credentials-filter"),a=require("./call-stream"),r=require("./channel-options"),o=require("./compression-filter"),c=require("./constants"),h=require("./deadline-filter"),l=require("./filter-stack"),u=require("./metadata-status-filter"),C=require("./subchannel"),{version:T}=require("../../package.json"),E=2e4,d=1e3,f=1.6,S=12e4,g=.2,{HTTP2_HEADER_AUTHORITY:N,HTTP2_HEADER_CONTENT_TYPE:m,HTTP2_HEADER_METHOD:p,HTTP2_HEADER_PATH:D,HTTP2_HEADER_TE:b,HTTP2_HEADER_USER_AGENT:w}=e.constants;var I;function _(t,e){return Math.random()*(e-t)+t}!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.READY=1]="READY",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.IDLE=3]="IDLE",t[t.SHUTDOWN=4]="SHUTDOWN"}(I=exports.ConnectivityState||(exports.ConnectivityState={}));class y extends t.EventEmitter{constructor(t,e,n){super(),this.credentials=e,this.options=n,this.connectivityState=I.IDLE,this.connecting=null,this.subChannel=null,this.subChannelConnectCallback=(()=>{}),this.subChannelCloseCallback=(()=>{}),this.currentBackoff=d;for(const i in n)n.hasOwnProperty(i)&&(r.recognizedOptions.hasOwnProperty(i)||console.warn(`Unrecognized channel argument '${i}' will be ignored.`));e._isSecure()?this.target=new i.URL(`https://${t}`):this.target=new i.URL(`http://${t}`),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=this.target.host,this.filterStackFactory=new l.FilterStackFactory([new s.CallCredentialsFilterFactory(this),new h.DeadlineFilterFactory(this),new u.MetadataStatusFilterFactory(this),new o.CompressionFilterFactory(this)]),this.currentBackoffDeadline=new Date,this.backoffTimerId=setTimeout(()=>{},0),this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${T}`,n["grpc.secondary_user_agent"]].filter(t=>t).join(" ")}handleStateChange(t,e){const n=new Date;switch(e){case I.CONNECTING:if(t===I.IDLE)this.currentBackoff=d,this.currentBackoffDeadline=new Date(n.getTime()+d);else if(t===I.TRANSIENT_FAILURE){this.currentBackoff=Math.min(this.currentBackoff*f,S);const t=g*this.currentBackoff;this.currentBackoffDeadline=new Date(n.getTime()+this.currentBackoff+_(-t,t))}this.startConnecting();break;case I.READY:this.emit("connect");break;case I.TRANSIENT_FAILURE:this.subChannel=null,this.backoffTimerId=setTimeout(()=>{this.transitionToState([I.TRANSIENT_FAILURE],I.CONNECTING)},this.currentBackoffDeadline.getTime()-n.getTime());break;case I.IDLE:case I.SHUTDOWN:this.subChannel&&(this.subChannel.close(),this.subChannel.removeListener("connect",this.subChannelConnectCallback),this.subChannel.removeListener("close",this.subChannelCloseCallback),this.subChannel=null,this.emit("shutdown"),clearTimeout(this.backoffTimerId));break;default:throw new Error("This should never happen")}}transitionToState(t,e){if(t.indexOf(this.connectivityState)>-1){const t=this.connectivityState;this.connectivityState=e,this.handleStateChange(t,e),this.emit("connectivityStateChanged",e)}}startConnecting(){const t=this.credentials._getConnectionOptions()||{};if(null!==t.secureContext&&this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];t.checkServerIdentity=((t,i)=>n.checkServerIdentity(e,i)),t.servername=e}const e=new C.Http2SubChannel(this.target,t,this.userAgent,this.options);this.subChannel=e;const i=new Date,s=Math.max(this.currentBackoffDeadline.getTime()-i.getTime(),E),a=setTimeout(()=>{e.close()},s);this.subChannelConnectCallback=(()=>{clearTimeout(a),this.transitionToState([I.CONNECTING],I.READY)}),e.once("connect",this.subChannelConnectCallback),this.subChannelCloseCallback=(()=>{clearTimeout(a),this.transitionToState([I.CONNECTING,I.READY],I.TRANSIENT_FAILURE)}),e.once("close",this.subChannelCloseCallback)}_startHttp2Stream(t,e,n,i){const s=this.connect().then(()=>i.clone());n.filterStack.sendMetadata(s).then(s=>{const a=s.toHttp2Headers();if(a[N]=t,a[w]=this.userAgent,a[m]="application/grpc",a[p]="POST",a[D]=e,a[b]="trailers",this.connectivityState===I.READY){this.subChannel.startCallStream(s,n)}else setImmediate(()=>{this._startHttp2Stream(t,e,n,i)})}).catch(t=>{n.cancelWithStatus(t.code||c.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${t.message}`)})}createCall(t,e,n,i,s){if(this.connectivityState===I.SHUTDOWN)throw new Error("Channel has been shut down");const r={deadline:null==e?1/0:e,flags:s||0,host:n||this.defaultAuthority,parentCall:i||null};return new a.Http2CallStream(t,this,r,this.filterStackFactory)}connect(){return this.connectivityState===I.READY?Promise.resolve():this.connectivityState===I.SHUTDOWN?Promise.reject(new Error("Channel has been shut down")):(this.connecting||(this.connecting=new Promise((t,e)=>{this.transitionToState([I.IDLE],I.CONNECTING);const n=()=>{this.connecting=null,this.removeListener("shutdown",i),t()},i=()=>{this.connecting=null,this.removeListener("connect",n),e(new Error("Channel has been shut down"))};this.once("connect",n),this.once("shutdown",i)})),this.connecting)}getConnectivityState(t){return t&&this.transitionToState([I.IDLE],I.CONNECTING),this.connectivityState}watchConnectivityState(t,e,n){if(this.connectivityState!==t)setImmediate(n);else{let t=0,i=(t=e instanceof Date?e.getTime():e)-Date.now();i<0&&(i=0);const s=setTimeout(()=>{this.removeListener("connectivityStateChanged",a),n(new Error("Channel state did not change before deadline"))},i),a=()=>{clearTimeout(s),n()};this.once("connectivityStateChanged",a)}}getTarget(){return this.target.toString()}close(){if(this.connectivityState===I.SHUTDOWN)throw new Error("Channel has been shut down");this.transitionToState([I.CONNECTING,I.READY,I.TRANSIENT_FAILURE,I.IDLE],I.SHUTDOWN)}}exports.Http2Channel=y;
},{"http2":"yODR","./call-credentials-filter":"zo11","./call-stream":"5DQn","./channel-options":"fmKN","./compression-filter":"+T9R","./constants":"wkBJ","./deadline-filter":"JuPX","./filter-stack":"h1fg","./metadata-status-filter":"+J2Y","./subchannel":"uvW1","../../package.json":"J3zg"}],"6FIi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("tls"),t=require("./call-credentials");function r(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}class n{constructor(e){this.callCredentials=e||t.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(t,n,c,o){if(r(t,"Root certificate"),r(n,"Private key"),r(c,"Certificate chain"),n&&!c)throw new Error("Private key must be given with accompanying certificate chain");if(!n&&c)throw new Error("Certificate chain must be given with accompanying private key");const s={secureContext:e.createSecureContext({ca:t||void 0,key:n||void 0,cert:c||void 0})};return o&&o.checkServerIdentity&&(s.checkServerIdentity=((e,t)=>o.checkServerIdentity(e,{raw:t.raw}))),new i(s)}static createInsecure(){return new c}}exports.ChannelCredentials=n;class c extends n{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}}class i extends n{constructor(e,t){super(t),this.connectionOptions=e}compose(e){const t=this.callCredentials.compose(e);return new i(this.connectionOptions,t)}_getConnectionOptions(){return this.connectionOptions}_isSecure(){return!0}}
},{"./call-credentials":"Uxpq"}],"zTVr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("events"),e=require("stream"),a=require("./constants");class s extends t.EventEmitter{constructor(t){super(),this.call=t,t.on("metadata",t=>{this.emit("metadata",t)}),t.on("status",t=>{this.emit("status",t)})}cancel(){this.call.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){return this.call.getPeer()}}function l(t,e,s){let l=!1;e.on("data",l=>{let i;try{i=s(l)}catch(r){return void e.cancelWithStatus(a.Status.INTERNAL,"Failed to parse server response")}t.push(i)||e.pause()}),e.on("end",()=>{l?t.push(null):e.once("status",()=>{t.push(null)})}),e.on("status",e=>{if(e.code!==a.Status.OK){const a=Object.assign(new Error(e.details),e);t.emit("error",a)}t.emit("status",e),l=!0}),e.pause()}exports.ClientUnaryCallImpl=s;class i extends e.Readable{constructor(t,e){super({objectMode:!0}),this.call=t,this.deserialize=e,t.on("metadata",t=>{this.emit("metadata",t)}),l(this,t,e)}cancel(){this.call.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){return this.call.getPeer()}_read(t){this.call.resume()}}function r(t,e,s,l,i){let r;const c=Number(l);try{r=e(s)}catch(u){return t.cancelWithStatus(a.Status.INTERNAL,"Serialization failure"),void i(u)}const n={message:r};Number.isNaN(c)||(n.flags=c),t.write(n,i)}exports.ClientReadableStreamImpl=i;class c extends e.Writable{constructor(t,e){super({objectMode:!0}),this.call=t,this.serialize=e,t.on("metadata",t=>{this.emit("metadata",t)}),t.on("status",t=>{this.emit("status",t)})}cancel(){this.call.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){return this.call.getPeer()}_write(t,e,a){r(this.call,this.serialize,t,e,a)}_final(t){this.call.end(),t()}}exports.ClientWritableStreamImpl=c;class n extends e.Duplex{constructor(t,e,a){super({objectMode:!0}),this.call=t,this.serialize=e,this.deserialize=a,t.on("metadata",t=>{this.emit("metadata",t)}),l(this,t,a)}cancel(){this.call.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){return this.call.getPeer()}_read(t){this.call.resume()}_write(t,e,a){r(this.call,this.serialize,t,e,a)}_final(t){this.call.end(),t()}}exports.ClientDuplexStreamImpl=n;
},{"./constants":"wkBJ"}],"dQPW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./call"),t=require("./channel"),a=require("./constants"),n=require("./metadata"),s=Symbol();class r{constructor(e,a,n={}){n.channelOverride?this[s]=n.channelOverride:n.channelFactoryOverride?this[s]=n.channelFactoryOverride(e,a,n):this[s]=new t.Http2Channel(e,a,n)}close(){this[s].close()}getChannel(){return this[s]}waitForReady(e,a){const n=r=>{if(r)return void a(new Error("Failed to connect before the deadline"));let l;try{l=this[s].getConnectivityState(!0)}catch(i){return void a(new Error("The channel has been closed"))}if(l===t.ConnectivityState.READY)a();else try{this[s].watchConnectivityState(l,e,n)}catch(i){a(new Error("The channel has been closed"))}};setImmediate(n)}handleUnaryResponse(e,t,n){let s=null;e.on("data",n=>{null!=s&&e.cancelWithStatus(a.Status.INTERNAL,"Too many responses received");try{s=t(n)}catch(r){e.cancelWithStatus(a.Status.INTERNAL,"Failed to parse server response")}}),e.on("status",e=>{if(e.code===a.Status.OK)n(null,s);else{const t=Object.assign(new Error(e.details),e);n(t)}})}checkOptionalUnaryResponseArguments(e,t,a){if(e instanceof Function)return{metadata:new n.Metadata,options:{},callback:e};if(t instanceof Function)return e instanceof n.Metadata?{metadata:e,options:{},callback:t}:{metadata:new n.Metadata,options:e,callback:t};if(!(e instanceof n.Metadata&&t instanceof Object&&a instanceof Function))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:a}}makeUnaryRequest(t,a,n,r,l,i,c){({metadata:l,options:i,callback:c}=this.checkOptionalUnaryResponseArguments(l,i,c));const o=this[s].createCall(t,i.deadline,i.host,null,i.propagate_flags);i.credentials&&o.setCredentials(i.credentials);const d={message:a(r)};return o.sendMetadata(l),o.write(d),o.end(),this.handleUnaryResponse(o,n,c),new e.ClientUnaryCallImpl(o)}makeClientStreamRequest(t,a,n,r,l,i){({metadata:r,options:l,callback:i}=this.checkOptionalUnaryResponseArguments(r,l,i));const c=this[s].createCall(t,l.deadline,l.host,null,l.propagate_flags);return l.credentials&&c.setCredentials(l.credentials),c.sendMetadata(r),this.handleUnaryResponse(c,n,i),new e.ClientWritableStreamImpl(c,a)}checkMetadataAndOptions(e,t){let a,s;return e instanceof n.Metadata?(a=e,s=t||{}):(s=e||{},a=new n.Metadata),{metadata:a,options:s}}makeServerStreamRequest(t,a,n,r,l,i){({metadata:l,options:i}=this.checkMetadataAndOptions(l,i));const c=this[s].createCall(t,i.deadline,i.host,null,i.propagate_flags);i.credentials&&c.setCredentials(i.credentials);const o={message:a(r)};return c.sendMetadata(l),c.write(o),c.end(),new e.ClientReadableStreamImpl(c,n)}makeBidiStreamRequest(t,a,n,r,l){({metadata:r,options:l}=this.checkMetadataAndOptions(r,l));const i=this[s].createCall(t,l.deadline,l.host,null,l.propagate_flags);return l.credentials&&i.setCredentials(l.credentials),i.sendMetadata(r),new e.ClientDuplexStreamImpl(i,a,n)}}exports.Client=r;
},{"./call":"zTVr","./channel":"RJK8","./constants":"wkBJ","./metadata":"+AHx"}],"QDGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./constants");let o=console,r=e.LogVerbosity.DEBUG;exports.getLogger=(()=>o),exports.setLogger=(e=>{o=e}),exports.setLoggerVerbosity=(e=>{r=e}),exports.log=((e,...t)=>{e>=r&&"function"==typeof o.error&&o.error(...t)});
},{"./constants":"wkBJ"}],"d+Qq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./client"),t={unary:e.Client.prototype.makeUnaryRequest,server_stream:e.Client.prototype.makeServerStreamRequest,client_stream:e.Client.prototype.makeClientStreamRequest,bidi:e.Client.prototype.makeBidiStreamRequest};function r(r,o,s){s||(s={});class i extends e.Client{}return Object.keys(r).forEach(e=>{const o=r[e];let s;if("string"==typeof e&&"$"===e.charAt(0))throw new Error("Method names cannot start with $");s=o.requestStream?o.responseStream?"bidi":"client_stream":o.responseStream?"server_stream":"unary";const a=o.requestSerialize,c=o.responseDeserialize,p=n(t[s],o.path,a,c);i.prototype[e]=p,Object.assign(i.prototype[e],o),o.originalName&&(i.prototype[o.originalName]=i.prototype[e])}),i.service=r,i}function n(e,t,r,n){return function(...o){return e.call(this,t,r,n,...o)}}function o(e){return"format"in e}function s(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=n.split("."),a=i[i.length-1];let c=t;for(const e of i.slice(0,-1))c[e]||(c[e]={}),c=c[e];o(s)?c[a]=s:c[a]=r(s,a,{})}return t}exports.makeClientConstructor=r,exports.loadPackageDefinition=s;
},{"./client":"dQPW"}],"TfX7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("events"),t=require("http2"),s=require("stream"),a=require("./constants"),r=require("./metadata"),i=require("./stream-decoder"),n="grpc-accept-encoding",d="grpc-encoding",l="grpc-message",c="grpc-status",h="grpc-timeout",o=/(\d{1,8})\s*([HMSmun])/,u={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},p={"grpc-accept-encoding":"identity","grpc-encoding":"identity",[t.constants.HTTP2_HEADER_STATUS]:t.constants.HTTP_STATUS_OK,[t.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},m={waitForTrailers:!0};class g extends e.EventEmitter{constructor(e,t){super(),this.call=e,this.metadata=t,this.cancelled=!1,this.request=null,this.call.setupSurfaceCall(this)}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}}exports.ServerUnaryCallImpl=g;class M extends s.Readable{constructor(e,t,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=s,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}}exports.ServerReadableStreamImpl=M;class f extends s.Writable{constructor(e,t,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=s,this.cancelled=!1,this.request=null,this.trailingMetadata=new r.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}async _write(e,t,s){try{const t=await this.call.serializeMessage(e);if(!this.call.write(t))return void this.call.once("drain",s)}catch(r){r.code=a.Status.INTERNAL,this.emit("error",r)}s()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){e&&(this.trailingMetadata=e),super.end()}}exports.ServerWritableStreamImpl=f;class w extends s.Duplex{constructor(e,t,s,a){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=s,this.deserialize=a,this.cancelled=!1,this.trailingMetadata=new r.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){throw new Error("not implemented yet")}sendMetadata(e){this.call.sendMetadata(e)}}exports.ServerDuplexStreamImpl=w,w.prototype._read=M.prototype._read,w.prototype._write=f.prototype._write,w.prototype._final=f.prototype._final,w.prototype.end=f.prototype.end;const E=setTimeout(()=>{},0);class S extends e.EventEmitter{constructor(e,s){super(),this.stream=e,this.handler=s,this.cancelled=!1,this.deadline=E,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.stream.once("error",e=>{e.code=a.Status.INTERNAL,this.sendError(e)}),this.stream.once("close",()=>{this.stream.rstCode===t.constants.NGHTTP2_CANCEL&&(this.cancelled=!0,this.emit("cancelled","cancelled"))}),this.stream.on("drain",()=>{this.emit("drain")})}sendMetadata(e){if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,s=Object.assign(p,t);this.stream.respond(s,m)}receiveMetadata(e){const t=r.Metadata.fromHttp2Headers(e),s=t.get(h);if(s.length>0){const e=s[0].toString().match(o);if(null===e){const e=new Error("Invalid deadline");return e.code=a.Status.OUT_OF_RANGE,void this.sendError(e)}const r=+e[1]*u[e[2]]|0;this.deadline=setTimeout(y,r,this),t.remove(h)}return t}receiveUnaryMessage(){return new Promise((e,t)=>{const s=this.stream,r=[];let i=0;s.on("data",e=>{r.push(e),i+=e.byteLength}),s.once("end",async()=>{try{const s=Buffer.concat(r,i);e(await this.deserializeMessage(s))}catch(t){t.code=a.Status.INTERNAL,this.sendError(t),e()}})})}serializeMessage(e){const t=this.handler.serialize(e),s=t.byteLength,a=Buffer.allocUnsafe(s+5);return a.writeUInt8(0,0),a.writeUInt32BE(s,1),t.copy(a,5),a}async deserializeMessage(e){const t=e.slice(5);return this.handler.deserialize(t)}async sendUnaryMessage(e,t,s,i){if(s||(s=new r.Metadata),e)return e.metadata=s,void this.sendError(e);try{const r=await this.serializeMessage(t);this.write(r),this.sendStatus({code:a.Status.OK,details:"OK",metadata:s})}catch(e){e.code=a.Status.INTERNAL,this.sendError(e)}}sendStatus(e){this.cancelled||(clearTimeout(this.deadline),this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{const t=Object.assign({[c]:e.code,[l]:encodeURI(e.details)},e.metadata.toHttp2Headers());this.stream.sendTrailers(t)}),this.sendMetadata(),this.stream.end()))}sendError(e){const t={code:a.Status.UNKNOWN,details:e.hasOwnProperty("message")?e.message:"Unknown Error",metadata:e.hasOwnProperty("metadata")?e.metadata:new r.Metadata};e.hasOwnProperty("code")&&Number.isInteger(e.code)&&(t.code=e.code,e.hasOwnProperty("details")&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.cancelled)return this.sendMetadata(),this.stream.write(e)}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)})}setupReadable(e){const t=new i.StreamDecoder;this.stream.on("data",async s=>{const a=t.write(s);for(const t of a)this.pushOrBufferMessage(e,t)}),this.stream.once("end",()=>{this.pushOrBufferMessage(e,null)})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){const t=this.messagesToPush.shift(),s=e.push(t);if(null===t||!1===s){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):this.pushMessage(e,t)}async pushMessage(e,t){if(null!==t){this.isPushPending=!0;try{const r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(s){this.bufferedMessages.length=0,s.code=a.Status.INTERNAL,e.emit("error",s)}this.isPushPending=!1,this.bufferedMessages.length>0&&this.pushMessage(e,this.bufferedMessages.shift())}else this.canPush?e.push(null):this.messagesToPush.push(null)}}function y(e){const t=new Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}exports.Http2ServerCallStream=S;
},{"http2":"yODR","./constants":"wkBJ","./metadata":"+AHx","./stream-decoder":"Msn6"}],"ic38":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("http2"),t=require("url"),r=require("./constants"),s=require("./metadata"),n=require("./server-call");function i(){}const a={code:r.Status.UNIMPLEMENTED,details:"The server does not implement this method",metadata:new s.Metadata},o={unary(e,t){t(a,null)},clientStream(e,t){t(a,null)},serverStream(e){e.emit("error",a)},bidi(e){e.emit("error",a)}};class c{constructor(e){this.http2Server=null,this.handlers=new Map,this.sessions=new Set,this.started=!1}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(!0===this.started)throw new Error("Can't add a service to a started server.");if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");const s=t;r.forEach(r=>{const n=e[r];let i;i=n.requestStream?n.responseStream?"bidi":"clientStream":n.responseStream?"serverStream":"unary";let a,c=s[r];if(void 0===c&&"string"==typeof n.originalName&&(c=s[n.originalName]),a=void 0!==c?c.bind(t):o[i],!1===this.register(n.path,a,n.responseSerialize,n.requestDeserialize,i))throw new Error(`Method handler for ${n.path} already provided.`)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(r,s,n){if(!0===this.started)throw new Error("server is already started");if("string"!=typeof r)throw new TypeError("port must be a string");if(null===s||"object"!=typeof s)throw new TypeError("creds must be an object");if("function"!=typeof n)throw new TypeError("callback must be a function");const a=new t.URL(`http://${r}`),o={host:a.hostname,port:+a.port};function c(e){n(e,-1)}s._isSecure()?this.http2Server=e.createSecureServer(s._getSettings()):this.http2Server=e.createServer(),this.http2Server.setTimeout(0,i),this._setupHandlers(),this.http2Server.once("error",c),this.http2Server.listen(o,()=>{const e=this.http2Server,t=e.address().port;e.removeListener("error",c),n(null,t)})}forceShutdown(){this.http2Server&&this.http2Server.listening&&this.http2Server.close(),this.started=!1,this.sessions.forEach(t=>{t.destroy(e.constants.NGHTTP2_CANCEL)}),this.sessions.clear()}register(e,t,r,s,n){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:s,type:n}),!0)}start(){if(null===this.http2Server||!0!==this.http2Server.listening)throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){let t=0;function r(){0===--t&&e()}this.started=!1,this.http2Server&&this.http2Server.listening&&(t++,this.http2Server.close(r)),t+=this.sessions.size,this.sessions.forEach(e=>{e.close(r)}),0===t&&e()}addHttp2Port(){throw new Error("Not yet implemented")}_setupHandlers(){null!==this.http2Server&&(this.http2Server.on("stream",(t,s)=>{const i=s[e.constants.HTTP2_HEADER_CONTENT_TYPE];if("string"==typeof i&&i.startsWith("application/grpc"))try{const i=s[e.constants.HTTP2_HEADER_PATH],c=this.handlers.get(i);if(void 0===c)throw a;const u=new n.Http2ServerCallStream(t,c),S=u.receiveMetadata(s);switch(c.type){case"unary":h(u,c,S);break;case"clientStream":d(u,c,S);break;case"serverStream":l(u,c,S);break;case"bidi":p(u,c,S);break;default:throw new Error(`Unknown handler type: ${c.type}`)}}catch(o){const e=new n.Http2ServerCallStream(t,null);void 0===o.code&&(o.code=r.Status.INTERNAL),e.sendError(o)}else t.respond({[e.constants.HTTP2_HEADER_STATUS]:e.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0})}),this.http2Server.on("session",e=>{this.started?this.sessions.add(e):e.destroy()}))}}async function h(e,t,r){const s=new n.ServerUnaryCallImpl(e,r),i=await e.receiveUnaryMessage();void 0===i||e.cancelled||(s.request=i,t.func(s,(t,r,s,n)=>{e.sendUnaryMessage(t,r,s,n)}))}function d(e,t,r){const s=new n.ServerReadableStreamImpl(e,r,t.deserialize);function i(t,r,n,i){s.destroy(),e.sendUnaryMessage(t,r,n,i)}e.cancelled||(s.on("error",i),t.func(s,i))}async function l(e,t,r){const s=await e.receiveUnaryMessage();if(void 0===s||e.cancelled)return;const i=new n.ServerWritableStreamImpl(e,r,t.serialize);i.request=s,t.func(i)}function p(e,t,r){const s=new n.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize);e.cancelled||t.func(s)}exports.Server=c;
},{"http2":"yODR","./constants":"wkBJ","./metadata":"+AHx","./server-call":"TfX7"}],"wLrC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{static createInsecure(){return new r}static createSsl(e,r,s=!1){if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof s)throw new TypeError("checkClientCertificate must be a boolean");const n=[],i=[];for(let t=0;t<r.length;t++){const e=r[t];if(null===e||"object"!=typeof e)throw new TypeError(`keyCertPair[${t}] must be an object`);if(!Buffer.isBuffer(e.private_key))throw new TypeError(`keyCertPair[${t}].private_key must be a Buffer`);if(!Buffer.isBuffer(e.cert_chain))throw new TypeError(`keyCertPair[${t}].cert_chain must be a Buffer`);n.push(e.cert_chain),i.push(e.private_key)}return new t({ca:e||void 0,cert:n,key:i,requestCert:s})}}exports.ServerCredentials=e;class r extends e{_isSecure(){return!1}_getSettings(){return null}}class t extends e{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}
},{}],"vIfC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class t{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(t){return this.code=t,this}withDetails(t){return this.details=t,this}withMetadata(t){return this.metadata=t,this}build(){const t={};return null!==this.code&&(t.code=this.code),null!==this.details&&(t.details=this.details),null!==this.metadata&&(t.metadata=this.metadata),t}}exports.StatusBuilder=t;
},{}],"g+ZV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("semver"),t=require("./call-credentials");exports.CallCredentials=t.CallCredentials;const r=require("./channel");exports.connectivityState=r.ConnectivityState,exports.Channel=r.Http2Channel;const o=require("./channel-credentials");exports.ChannelCredentials=o.ChannelCredentials;const n=require("./client");exports.Client=n.Client;const s=require("./constants");exports.logVerbosity=s.LogVerbosity,exports.status=s.Status;const a=require("./logging"),i=require("./make-client");exports.loadPackageDefinition=i.loadPackageDefinition,exports.makeClientConstructor=i.makeClientConstructor,exports.makeGenericClientConstructor=i.makeClientConstructor;const l=require("./metadata");exports.Metadata=l.Metadata;const c=require("./server");exports.Server=c.Server;const d=require("./server-credentials");exports.ServerCredentials=d.ServerCredentials;const p=require("./status-builder");exports.StatusBuilder=p.StatusBuilder;const u=require("../../package.json").engines.node;if(!e.satisfies(process.version,u))throw new Error(`@grpc/grpc-js only works on Node ${u}`);function C(...e){const t={};for(const r of e)for(const e of Object.getOwnPropertyNames(r)){const o=r[e];"function"==typeof o&&(t[e]=o)}return t}exports.credentials=C({createFromGoogleCredential:e=>t.CallCredentials.createFromMetadataGenerator((t,r)=>{let o;(o="function"==typeof e.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise((r,o)=>{e.getRequestMetadata(t.service_url,(e,t)=>{e?o(e):r(t)})})).then(e=>{const t=new l.Metadata;t.add("authorization",e.Authorization),r(null,t)},e=>{r(e)})}),combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e)},o.ChannelCredentials,t.CallCredentials),exports.closeClient=(e=>e.close()),exports.waitForClientReady=((e,t,r)=>e.waitForReady(t,r)),exports.loadObject=((e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")}),exports.load=((e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")}),exports.setLogger=(e=>{a.setLogger(e)}),exports.setLogVerbosity=(e=>{a.setLoggerVerbosity(e)}),exports.getClientChannel=(e=>n.Client.prototype.getChannel.call(e)),exports.ListenerBuilder=(()=>{throw new Error("Not yet implemented")}),exports.InterceptorBuilder=(()=>{throw new Error("Not yet implemented")}),exports.InterceptingCall=(()=>{throw new Error("Not yet implemented")});
},{"semver":"x1dN","./call-credentials":"Uxpq","./channel":"RJK8","./channel-credentials":"6FIi","./client":"dQPW","./constants":"wkBJ","./logging":"QDGY","./make-client":"d+Qq","./metadata":"+AHx","./server":"ic38","./server-credentials":"wLrC","./status-builder":"vIfC","../../package.json":"J3zg"}],"ChJQ":[function(require,module,exports) {
module.exports={interfaces:{"google.firestore.v1beta1.Firestore":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5},streaming:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:3e5,rpc_timeout_multiplier:1,max_rpc_timeout_millis:3e5,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"streaming"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},RunQuery:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"streaming"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"streaming"},Listen:{timeout_millis:864e5,retry_codes_name:"idempotent",retry_params_name:"streaming"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}}};
},{}],"O3Jf":[function(require,module,exports) {
"use strict";function n(n,e){for(var r=new Array(arguments.length-1),t=0,l=2,o=!0;l<arguments.length;)r[t++]=arguments[l++];return new Promise(function(l,u){r[t]=function(n){if(o)if(o=!1,n)u(n);else{for(var e=new Array(arguments.length-1),r=0;r<e.length;)e[r++]=arguments[r];l.apply(null,e)}};try{n.apply(e||null,r)}catch(a){o&&(o=!1,u(a))}})}module.exports=n;
},{}],"bwwT":[function(require,module,exports) {
"use strict";var r=exports;r.length=function(r){var e=r.length;if(!e)return 0;for(var a=0;--e%4>1&&"="===r.charAt(e);)++a;return Math.ceil(3*r.length)/4-a};for(var e=new Array(64),a=new Array(123),t=0;t<64;)a[e[t]=t<26?t+65:t<52?t+71:t<62?t-4:t-59|43]=t++;r.encode=function(r,a,t){for(var n,i=null,o=[],c=0,s=0;a<t;){var h=r[a++];switch(s){case 0:o[c++]=e[h>>2],n=(3&h)<<4,s=1;break;case 1:o[c++]=e[n|h>>4],n=(15&h)<<2,s=2;break;case 2:o[c++]=e[n|h>>6],o[c++]=e[63&h],s=0}c>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),c=0)}return s&&(o[c++]=e[n],o[c++]=61,1===s&&(o[c++]=61)),i?(c&&i.push(String.fromCharCode.apply(String,o.slice(0,c))),i.join("")):String.fromCharCode.apply(String,o.slice(0,c))};var n="invalid encoding";r.decode=function(r,e,t){for(var i,o=t,c=0,s=0;s<r.length;){var h=r.charCodeAt(s++);if(61===h&&c>1)break;if(void 0===(h=a[h]))throw Error(n);switch(c){case 0:i=h,c=1;break;case 1:e[t++]=i<<2|(48&h)>>4,i=h,c=2;break;case 2:e[t++]=(15&i)<<4|(60&h)>>2,i=h,c=3;break;case 3:e[t++]=(3&i)<<6|h,c=0}}if(1===c)throw Error(n);return t-o},r.test=function(r){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r)};
},{}],"yxo6":[function(require,module,exports) {
"use strict";function t(){this._listeners={}}module.exports=t,t.prototype.on=function(t,s,e){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:s,ctx:e||this}),this},t.prototype.off=function(t,s){if(void 0===t)this._listeners={};else if(void 0===s)this._listeners[t]=[];else for(var e=this._listeners[t],i=0;i<e.length;)e[i].fn===s?e.splice(i,1):++i;return this},t.prototype.emit=function(t){var s=this._listeners[t];if(s){for(var e=[],i=1;i<arguments.length;)e.push(arguments[i++]);for(i=0;i<s.length;)s[i].fn.apply(s[i++].ctx,e)}return this};
},{}],"X29y":[function(require,module,exports) {
"use strict";function n(n){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=128===t[3];function o(n,r,o){e[0]=n,r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3]}function u(n,r,o){e[0]=n,r[o]=t[3],r[o+1]=t[2],r[o+2]=t[1],r[o+3]=t[0]}function i(n,r){return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],e[0]}function a(n,r){return t[3]=n[r],t[2]=n[r+1],t[1]=n[r+2],t[0]=n[r+3],e[0]}n.writeFloatLE=r?o:u,n.writeFloatBE=r?u:o,n.readFloatLE=r?i:a,n.readFloatBE=r?a:i}():function(){function u(n,e,t,r){var o=e<0?1:0;if(o&&(e=-e),0===e)n(1/e>0?0:2147483648,t,r);else if(isNaN(e))n(2143289344,t,r);else if(e>3.4028234663852886e38)n((o<<31|2139095040)>>>0,t,r);else if(e<1.1754943508222875e-38)n((o<<31|Math.round(e/1.401298464324817e-45))>>>0,t,r);else{var u=Math.floor(Math.log(e)/Math.LN2);n((o<<31|u+127<<23|8388607&Math.round(e*Math.pow(2,-u)*8388608))>>>0,t,r)}}function i(n,e,t){var r=n(e,t),o=2*(r>>31)+1,u=r>>>23&255,i=8388607&r;return 255===u?i?NaN:o*(1/0):0===u?1.401298464324817e-45*o*i:o*Math.pow(2,u-150)*(i+8388608)}n.writeFloatLE=u.bind(null,e),n.writeFloatBE=u.bind(null,t),n.readFloatLE=i.bind(null,r),n.readFloatBE=i.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=128===t[7];function o(n,r,o){e[0]=n,r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3],r[o+4]=t[4],r[o+5]=t[5],r[o+6]=t[6],r[o+7]=t[7]}function u(n,r,o){e[0]=n,r[o]=t[7],r[o+1]=t[6],r[o+2]=t[5],r[o+3]=t[4],r[o+4]=t[3],r[o+5]=t[2],r[o+6]=t[1],r[o+7]=t[0]}function i(n,r){return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],t[4]=n[r+4],t[5]=n[r+5],t[6]=n[r+6],t[7]=n[r+7],e[0]}function a(n,r){return t[7]=n[r],t[6]=n[r+1],t[5]=n[r+2],t[4]=n[r+3],t[3]=n[r+4],t[2]=n[r+5],t[1]=n[r+6],t[0]=n[r+7],e[0]}n.writeDoubleLE=r?o:u,n.writeDoubleBE=r?u:o,n.readDoubleLE=r?i:a,n.readDoubleBE=r?a:i}():function(){function u(n,e,t,r,o,u){var i=r<0?1:0;if(i&&(r=-r),0===r)n(0,o,u+e),n(1/r>0?0:2147483648,o,u+t);else if(isNaN(r))n(0,o,u+e),n(2146959360,o,u+t);else if(r>1.7976931348623157e308)n(0,o,u+e),n((i<<31|2146435072)>>>0,o,u+t);else{var a;if(r<2.2250738585072014e-308)n((a=r/5e-324)>>>0,o,u+e),n((i<<31|a/4294967296)>>>0,o,u+t);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),n(4503599627370496*(a=r*Math.pow(2,-l))>>>0,o,u+e),n((i<<31|l+1023<<20|1048576*a&1048575)>>>0,o,u+t)}}}function i(n,e,t,r,o){var u=n(r,o+e),i=n(r,o+t),a=2*(i>>31)+1,l=i>>>20&2047,f=4294967296*(1048575&i)+u;return 2047===l?f?NaN:a*(1/0):0===l?5e-324*a*f:a*Math.pow(2,l-1075)*(f+4503599627370496)}n.writeDoubleLE=u.bind(null,e,0,4),n.writeDoubleBE=u.bind(null,t,4,0),n.readDoubleLE=i.bind(null,r,0,4),n.readDoubleBE=i.bind(null,o,4,0)}(),n}function e(n,e,t){e[t]=255&n,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function t(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=255&n}function r(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function o(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}module.exports=n(n);
},{}],"Vnwc":[function(require,module,exports) {
"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire;
},{}],"TUK+":[function(require,module,exports) {
"use strict";var r=exports;r.length=function(r){for(var t=0,n=0,e=0;e<r.length;++e)(n=r.charCodeAt(e))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(e+1))?(++e,t+=4):t+=3;return t},r.read=function(r,t,n){if(n-t<1)return"";for(var e,o=null,a=[],i=0;t<n;)(e=r[t++])<128?a[i++]=e:e>191&&e<224?a[i++]=(31&e)<<6|63&r[t++]:e>239&&e<365?(e=((7&e)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,a[i++]=55296+(e>>10),a[i++]=56320+(1023&e)):a[i++]=(15&e)<<12|(63&r[t++])<<6|63&r[t++],i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),i=0);return o?(i&&o.push(String.fromCharCode.apply(String,a.slice(0,i))),o.join("")):String.fromCharCode.apply(String,a.slice(0,i))},r.write=function(r,t,n){for(var e,o,a=n,i=0;i<r.length;++i)(e=r.charCodeAt(i))<128?t[n++]=e:e<2048?(t[n++]=e>>6|192,t[n++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=r.charCodeAt(i+1)))?(e=65536+((1023&e)<<10)+(1023&o),++i,t[n++]=e>>18|240,t[n++]=e>>12&63|128,t[n++]=e>>6&63|128,t[n++]=63&e|128):(t[n++]=e>>12|224,t[n++]=e>>6&63|128,t[n++]=63&e|128);return n-a};
},{}],"H7KC":[function(require,module,exports) {
"use strict";function r(r,n,t){var u=t||8192,e=u>>>1,l=null,c=u;return function(t){if(t<1||t>e)return r(t);c+t>u&&(l=r(u),c=0);var i=n.call(l,c,c+=t);return 7&c&&(c=1+(7|c)),i}}module.exports=r;
},{}],"BObI":[function(require,module,exports) {
"use strict";module.exports=i;var t=require("../util/minimal");function i(t,i){this.lo=t>>>0,this.hi=i>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var r=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return o;var r=t<0;r&&(t=-t);var h=t>>>0,n=(t-h)/4294967296>>>0;return r&&(n=~n>>>0,h=~h>>>0,++h>4294967295&&(h=0,++n>4294967295&&(n=0))),new i(h,n)},i.from=function(r){if("number"==typeof r)return i.fromNumber(r);if(t.isString(r)){if(!t.Long)return i.fromNumber(parseInt(r,10));r=t.Long.fromString(r)}return r.low||r.high?new i(r.low>>>0,r.high>>>0):o},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var i=1+~this.lo>>>0,o=~this.hi>>>0;return i||(o=o+1>>>0),-(i+4294967296*o)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(i){return t.Long?new t.Long(0|this.lo,0|this.hi,Boolean(i)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(i)}};var h=String.prototype.charCodeAt;i.fromHash=function(t){return t===r?o:new i((h.call(t,0)|h.call(t,1)<<8|h.call(t,2)<<16|h.call(t,3)<<24)>>>0,(h.call(t,4)|h.call(t,5)<<8|h.call(t,6)<<16|h.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===i?t<16384?t<128?1:2:t<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:o<128?9:10};
},{"../util/minimal":"5tPy"}],"5tPy":[function(require,module,exports) {
"use strict";var e=exports;function r(e,r,t){for(var o=Object.keys(r),n=0;n<o.length;++n)void 0!==e[o[n]]&&t||(e[o[n]]=r[o[n]]);return e}function t(e){function t(e,o){if(!(this instanceof t))return new t(e,o);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o&&r(this,o)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}e.asPromise=require("@protobufjs/aspromise"),e.base64=require("@protobufjs/base64"),e.EventEmitter=require("@protobufjs/eventemitter"),e.float=require("@protobufjs/float"),e.inquire=require("@protobufjs/inquire"),e.utf8=require("@protobufjs/utf8"),e.pool=require("@protobufjs/pool"),e.LongBits=require("./longbits"),e.global="undefined"!=typeof window&&window||"undefined"!=typeof global&&global||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.isString=function(e){return"string"==typeof e||e instanceof String},e.isObject=function(e){return e&&"object"==typeof e},e.isset=e.isSet=function(e,r){var t=e[r];return!(null==t||!e.hasOwnProperty(r))&&("object"!=typeof t||(Array.isArray(t)?t.length:Object.keys(t).length)>0)},e.Buffer=function(){try{var r=e.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(r){return"number"==typeof r?e.Buffer?e._Buffer_allocUnsafe(r):new e.Array(r):e.Buffer?e._Buffer_from(r):"undefined"==typeof Uint8Array?r:new Uint8Array(r)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(r){return r?e.LongBits.from(r).toHash():e.LongBits.zeroHash},e.longFromHash=function(r,t){var o=e.LongBits.fromHash(r);return e.Long?e.Long.fromBits(o.lo,o.hi,t):o.toNumber(Boolean(t))},e.merge=r,e.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},e.newError=t,e.ProtocolError=t("ProtocolError"),e.oneOfGetter=function(e){for(var r={},t=0;t<e.length;++t)r[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(1===r[e[t]]&&void 0!==this[e[t]]&&null!==this[e[t]])return e[t]}},e.oneOfSetter=function(e){return function(r){for(var t=0;t<e.length;++t)e[t]!==r&&delete this[e[t]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var r=e.Buffer;r?(e._Buffer_from=r.from!==Uint8Array.from&&r.from||function(e,t){return new r(e,t)},e._Buffer_allocUnsafe=r.allocUnsafe||function(e){return new r(e)}):e._Buffer_from=e._Buffer_allocUnsafe=null};
},{"@protobufjs/aspromise":"O3Jf","@protobufjs/base64":"bwwT","@protobufjs/eventemitter":"yxo6","@protobufjs/float":"X29y","@protobufjs/inquire":"Vnwc","@protobufjs/utf8":"TUK+","@protobufjs/pool":"H7KC","./longbits":"BObI"}],"+2Ns":[function(require,module,exports) {
"use strict";module.exports=u;var t,i=require("./util/minimal"),n=i.LongBits,e=i.base64,o=i.utf8;function r(t,i,n){this.fn=t,this.len=i,this.next=void 0,this.val=n}function s(){}function h(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function u(){this.len=0,this.head=new r(s,0,0),this.tail=this.head,this.states=null}function l(t,i,n){i[n]=255&t}function p(t,i,n){for(;t>127;)i[n++]=127&t|128,t>>>=7;i[n]=t}function a(t,i){this.len=t,this.next=void 0,this.val=i}function f(t,i,n){for(;t.hi;)i[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)i[n++]=127&t.lo|128,t.lo=t.lo>>>7;i[n++]=t.lo}function c(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}u.create=i.Buffer?function(){return(u.create=function(){return new t})()}:function(){return new u},u.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(u.alloc=i.pool(u.alloc,i.Array.prototype.subarray)),u.prototype._push=function(t,i,n){return this.tail=this.tail.next=new r(t,i,n),this.len+=i,this},a.prototype=Object.create(r.prototype),a.prototype.fn=p,u.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new a((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},u.prototype.int32=function(t){return t<0?this._push(f,10,n.fromNumber(t)):this.uint32(t)},u.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},u.prototype.uint64=function(t){var i=n.from(t);return this._push(f,i.length(),i)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(t){var i=n.from(t).zzEncode();return this._push(f,i.length(),i)},u.prototype.bool=function(t){return this._push(l,1,t?1:0)},u.prototype.fixed32=function(t){return this._push(c,4,t>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(t){var i=n.from(t);return this._push(c,4,i.lo)._push(c,4,i.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},u.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var y=i.Array.prototype.set?function(t,i,n){i.set(t,n)}:function(t,i,n){for(var e=0;e<t.length;++e)i[n+e]=t[e]};u.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(l,1,0);if(i.isString(t)){var o=u.alloc(n=e.length(t));e.decode(t,o,0),t=o}return this.uint32(n)._push(y,n,t)},u.prototype.string=function(t){var i=o.length(t);return i?this.uint32(i)._push(o.write,i,t):this._push(l,1,0)},u.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new r(s,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(s,0,0),this.len=0),this},u.prototype.ldelim=function(){var t=this.head,i=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=i,this.len+=n),this},u.prototype.finish=function(){for(var t=this.head.next,i=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,i,n),n+=t.len,t=t.next;return i},u._configure=function(i){t=i};
},{"./util/minimal":"5tPy"}],"upzV":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./writer");(n.prototype=Object.create(t.prototype)).constructor=n;var e=require("./util/minimal"),r=e.Buffer;function n(){t.call(this)}n.alloc=function(t){return(n.alloc=e._Buffer_allocUnsafe)(t)};var i=r&&r.prototype instanceof Uint8Array&&"set"===r.prototype.set.name?function(t,e,r){e.set(t,r)}:function(t,e,r){if(t.copy)t.copy(e,r,0,t.length);else for(var n=0;n<t.length;)e[r++]=t[n++]};function o(t,r,n){t.length<40?e.utf8.write(t,r,n):r.utf8Write(t,n)}n.prototype.bytes=function(t){e.isString(t)&&(t=e._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(i,r,t),this},n.prototype.string=function(t){var e=r.byteLength(t);return this.uint32(e),e&&this._push(o,e,t),this};
},{"./writer":"+2Ns","./util/minimal":"5tPy"}],"7p1o":[function(require,module,exports) {
"use strict";module.exports=h;var t,i=require("./util/minimal"),s=i.LongBits,r=i.utf8;function o(t,i){return RangeError("index out of range: "+t.pos+" + "+(i||1)+" > "+t.len)}function h(t){this.buf=t,this.pos=0,this.len=t.length}var n="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new h(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new h(t);throw Error("illegal buffer")};function e(){var t=new s(0,0),i=0;if(!(this.len-this.pos>4)){for(;i<3;++i){if(this.pos>=this.len)throw o(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*i)>>>0,t}for(;i<4;++i)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(i=0,this.len-this.pos>4){for(;i<5;++i)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}else for(;i<5;++i){if(this.pos>=this.len)throw o(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function u(t,i){return(t[i-4]|t[i-3]<<8|t[i-2]<<16|t[i-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw o(this,8);return new s(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}h.create=i.Buffer?function(s){return(h.create=function(s){return i.Buffer.isBuffer(s)?new t(s):n(s)})(s)}:n,h.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,h.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return t}}(),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|u(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},h.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},h.prototype.bytes=function(){var t=this.uint32(),i=this.pos,s=this.pos+t;if(s>this.len)throw o(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(i,s):i===s?new this.buf.constructor(0):this._slice.call(this.buf,i,s)},h.prototype.string=function(){var t=this.bytes();return r.read(t,0,t.length)},h.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw o(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},h._configure=function(s){t=s;var r=i.Long?"toLong":"toNumber";i.merge(h.prototype,{int64:function(){return e.call(this)[r](!1)},uint64:function(){return e.call(this)[r](!0)},sint64:function(){return e.call(this).zzDecode()[r](!1)},fixed64:function(){return f.call(this)[r](!0)},sfixed64:function(){return f.call(this)[r](!1)}})};
},{"./util/minimal":"5tPy"}],"V0S3":[function(require,module,exports) {
"use strict";module.exports=r;var t=require("./reader");(r.prototype=Object.create(t.prototype)).constructor=r;var e=require("./util/minimal");function r(e){t.call(this,e)}e.Buffer&&(r.prototype._slice=e.Buffer.prototype.slice),r.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))};
},{"./reader":"7p1o","./util/minimal":"5tPy"}],"D0/U":[function(require,module,exports) {
"use strict";module.exports=t;var e=require("../util/minimal");function t(t,r,i){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(i)}(t.prototype=Object.create(e.EventEmitter.prototype)).constructor=t,t.prototype.rpcCall=function t(r,i,n,o,l){if(!o)throw TypeError("request must be specified");var u=this;if(!l)return e.asPromise(t,u,r,i,n,o);if(u.rpcImpl)try{return u.rpcImpl(r,i[u.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,t){if(e)return u.emit("error",e,r),l(e);if(null!==t){if(!(t instanceof n))try{t=n[u.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return u.emit("error",e,r),l(e)}return u.emit("data",t,r),l(null,t)}u.end(!0)})}catch(c){return u.emit("error",c,r),void setTimeout(function(){l(c)},0)}else setTimeout(function(){l(Error("already ended"))},0)},t.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};
},{"../util/minimal":"5tPy"}],"kF81":[function(require,module,exports) {
"use strict";var e=exports;e.Service=require("./rpc/service");
},{"./rpc/service":"D0/U"}],"Uxnn":[function(require,module,exports) {
"use strict";module.exports={};
},{}],"UY0b":[function(require,module,exports) {
"use strict";var r=exports;function e(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=require("./writer"),r.BufferWriter=require("./writer_buffer"),r.Reader=require("./reader"),r.BufferReader=require("./reader_buffer"),r.util=require("./util/minimal"),r.rpc=require("./rpc"),r.roots=require("./roots"),r.configure=e,r.Writer._configure(r.BufferWriter),e();
},{"./writer":"+2Ns","./writer_buffer":"upzV","./reader":"7p1o","./reader_buffer":"V0S3","./util/minimal":"5tPy","./rpc":"kF81","./roots":"Uxnn"}],"QhdL":[function(require,module,exports) {
"use strict";function r(n,e){"string"==typeof n&&(e=n,n=void 0);var t=[];function o(n){if("string"!=typeof n){var e=i();if(r.verbose&&console.log("codegen: "+e),e="return "+e,n){for(var u=Object.keys(n),a=new Array(u.length+1),c=new Array(u.length),s=0;s<u.length;)a[s]=u[s],c[s]=n[u[s++]];return a[s]=e,Function.apply(null,a).apply(null,c)}return Function(e)()}for(var l=new Array(arguments.length-1),f=0;f<l.length;)l[f]=arguments[++f];if(f=0,n=n.replace(/%([%dfijs])/g,function(r,n){var e=l[f++];switch(n){case"d":case"f":return String(Number(e));case"i":return String(Math.floor(e));case"j":return JSON.stringify(e);case"s":return String(e)}return"%"}),f!==l.length)throw Error("parameter count mismatch");return t.push(n),o}function i(r){return"function "+(r||e||"")+"("+(n&&n.join(",")||"")+"){\n  "+t.join("\n  ")+"\n}"}return o.toString=i,o}module.exports=r,r.verbose=!1;
},{}],"iChw":[function(require,module,exports) {
"use strict";module.exports=n;var e=require("@protobufjs/aspromise"),r=require("@protobufjs/inquire"),t=r("fs");function n(r,s,i){return"function"==typeof s?(i=s,s={}):s||(s={}),i?!s.xhr&&t&&t.readFile?t.readFile(r,function(e,t){return e&&"undefined"!=typeof XMLHttpRequest?n.xhr(r,s,i):e?i(e):i(null,s.binary?t:t.toString("utf8"))}):n.xhr(r,s,i):e(n,this,r,s)}n.xhr=function(e,r,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return t(Error("status "+n.status));if(r.binary){var e=n.response;if(!e){e=[];for(var s=0;s<n.responseText.length;++s)e.push(255&n.responseText.charCodeAt(s))}return t(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return t(null,n.responseText)}},r.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()};
},{"@protobufjs/aspromise":"O3Jf","@protobufjs/inquire":"Vnwc"}],"KoWs":[function(require,module,exports) {
"use strict";var e=exports,r=e.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},t=e.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var l=0;l<t.length;)".."===t[l]?l>0&&".."!==t[l-1]?t.splice(--l,2):n?t.splice(l,1):++l:"."===t[l]?t.splice(l,1):++l;return i+t.join("/")};e.resolve=function(e,n,i){return i||(n=t(n)),r(n)?n:(i||(e=t(e)),(e=e.replace(/(?:\/|^)[^\/]+$/,"")).length?t(e+"/"+n):n)};
},{}],"r4ic":[function(require,module,exports) {
"use strict";var t=exports,e=require("./util"),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function n(t,e){var n=0,r={};for(e|=0;n<t.length;)r[i[n+e]]=t[n++];return r}t.basic=n([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),t.defaults=n([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",e.emptyArray,null]),t.long=n([0,0,0,1,1],7),t.mapKey=n([0,0,0,5,5,0,0,0,1,1,0,2],2),t.packed=n([1,5,0,0,0,5,5,0,0,0,1,1,0]);
},{"./util":"tKo5"}],"QfLQ":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./object");((n.prototype=Object.create(t.prototype)).constructor=n).className="Field";var e,i=require("./enum"),s=require("./types"),o=require("./util"),r=/^required|optional|repeated$/;function n(e,i,n,p,l,u,a){if(o.isObject(p)?(a=l,u=p,p=l=void 0):o.isObject(l)&&(a=u,u=l,l=void 0),t.call(this,e,u),!o.isInteger(i)||i<0)throw TypeError("id must be a non-negative integer");if(!o.isString(n))throw TypeError("type must be a string");if(void 0!==p&&!r.test(p=p.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==l&&!o.isString(l))throw TypeError("extend must be a string");this.rule=p&&"optional"!==p?p:void 0,this.type=n,this.id=i,this.extend=l||void 0,this.required="required"===p,this.optional=!this.required,this.repeated="repeated"===p,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==s.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=a}n.fromJSON=function(t,e){return new n(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},Object.defineProperty(n.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),n.prototype.setOption=function(e,i,s){return"packed"===e&&(this._packed=null),t.prototype.setOption.call(this,e,i,s)},n.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},n.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof e?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var r;o.base64.test(this.typeDefault)?o.base64.decode(this.typeDefault,r=o.newBuffer(o.base64.length(this.typeDefault)),0):o.utf8.write(this.typeDefault,r=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=r}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof e&&(this.parent.ctor.prototype[this.name]=this.defaultValue),t.prototype.resolve.call(this)},n.d=function(t,e,i,s){return"function"==typeof e?e=o.decorateType(e).name:e&&"object"==typeof e&&(e=o.decorateEnum(e).name),function(r,p){o.decorateType(r.constructor).add(new n(p,t,e,i,{default:s}))}},n._configure=function(t){e=t};
},{"./object":"E5qy","./enum":"cMyW","./types":"r4ic","./util":"tKo5"}],"7mly":[function(require,module,exports) {
"use strict";module.exports=f;var t=require("./object");((f.prototype=Object.create(t.prototype)).constructor=f).className="Namespace";var e,r,n,o=require("./field"),i=require("./util");function s(t,e){if(t&&t.length){for(var r={},n=0;n<t.length;++n)r[t[n].name]=t[n].toJSON(e);return r}}function f(e,r){t.call(this,e,r),this.nested=void 0,this._nestedArray=null}function u(t){return t._nestedArray=null,t}f.fromJSON=function(t,e){return new f(t,e.options).addJSON(e.nested)},f.arrayToJSON=s,f.isReservedId=function(t,e){if(t)for(var r=0;r<t.length;++r)if("string"!=typeof t[r]&&t[r][0]<=e&&t[r][1]>=e)return!0;return!1},f.isReservedName=function(t,e){if(t)for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1},Object.defineProperty(f.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=i.toArray(this.nested))}}),f.prototype.toJSON=function(t){return i.toObject(["options",this.options,"nested",s(this.nestedArray,t)])},f.prototype.addJSON=function(t){if(t)for(var i,s=Object.keys(t),u=0;u<s.length;++u)i=t[s[u]],this.add((void 0!==i.fields?e.fromJSON:void 0!==i.values?n.fromJSON:void 0!==i.methods?r.fromJSON:void 0!==i.id?o.fromJSON:f.fromJSON)(s[u],i));return this},f.prototype.get=function(t){return this.nested&&this.nested[t]||null},f.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof n)return this.nested[t].values;throw Error("no such enum: "+t)},f.prototype.add=function(t){if(!(t instanceof o&&void 0!==t.extend||t instanceof e||t instanceof n||t instanceof r||t instanceof f))throw TypeError("object must be a valid nested object");if(this.nested){var i=this.get(t.name);if(i){if(!(i instanceof f&&t instanceof f)||i instanceof e||i instanceof r)throw Error("duplicate name '"+t.name+"' in "+this);for(var s=i.nestedArray,a=0;a<s.length;++a)t.add(s[a]);this.remove(i),this.nested||(this.nested={}),t.setOptions(i.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),u(this)},f.prototype.remove=function(e){if(!(e instanceof t))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),u(this)},f.prototype.define=function(t,e){if(i.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var r=this;t.length>0;){var n=t.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof f))throw Error("path conflicts with non-namespace objects")}else r.add(r=new f(n))}return e&&r.addJSON(e),r},f.prototype.resolveAll=function(){for(var t=this.nestedArray,e=0;e<t.length;)t[e]instanceof f?t[e++].resolveAll():t[e++].resolve();return this.resolve()},f.prototype.lookup=function(t,e,r){if("boolean"==typeof e?(r=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),i.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var n=this.get(t[0]);if(n){if(1===t.length){if(!e||e.indexOf(n.constructor)>-1)return n}else if(n instanceof f&&(n=n.lookup(t.slice(1),e,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof f&&(n=this._nestedArray[o].lookup(t,e,!0)))return n;return null===this.parent||r?null:this.parent.lookup(t,e)},f.prototype.lookupType=function(t){var r=this.lookup(t,[e]);if(!r)throw Error("no such type: "+t);return r},f.prototype.lookupEnum=function(t){var e=this.lookup(t,[n]);if(!e)throw Error("no such Enum '"+t+"' in "+this);return e},f.prototype.lookupTypeOrEnum=function(t){var r=this.lookup(t,[e,n]);if(!r)throw Error("no such Type or Enum '"+t+"' in "+this);return r},f.prototype.lookupService=function(t){var e=this.lookup(t,[r]);if(!e)throw Error("no such Service '"+t+"' in "+this);return e},f._configure=function(t,o,i){e=t,r=o,n=i};
},{"./object":"E5qy","./field":"QfLQ","./util":"tKo5"}],"4jui":[function(require,module,exports) {
"use strict";module.exports=o;var e=require("./object");((o.prototype=Object.create(e.prototype)).constructor=o).className="OneOf";var t=require("./field"),r=require("./util");function o(t,r,o,n){if(Array.isArray(r)||(o=r,r=void 0),e.call(this,t,o),void 0!==r&&!Array.isArray(r))throw TypeError("fieldNames must be an Array");this.oneof=r||[],this.fieldsArray=[],this.comment=n}function n(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof t))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,n(this),this},o.prototype.remove=function(e){if(!(e instanceof t))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),(r=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(r,1),e.partOf=null,this},o.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);for(var r=0;r<this.oneof.length;++r){var o=t.get(this.oneof[r]);o&&!o.partOf&&(o.partOf=this,this.fieldsArray.push(o))}n(this)},o.prototype.onRemove=function(t){for(var r,o=0;o<this.fieldsArray.length;++o)(r=this.fieldsArray[o]).parent&&r.parent.remove(r);e.prototype.onRemove.call(this,t)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){r.decorateType(t.constructor).add(new o(n,e)),Object.defineProperty(t,n,{get:r.oneOfGetter(e),set:r.oneOfSetter(e)})}};
},{"./object":"E5qy","./field":"QfLQ","./util":"tKo5"}],"cbpB":[function(require,module,exports) {
"use strict";module.exports=r;var e=require("./field");((r.prototype=Object.create(e.prototype)).constructor=r).className="MapField";var t=require("./types"),o=require("./util");function r(t,r,i,n,p,s){if(e.call(this,t,r,n,void 0,void 0,p,s),!o.isString(i))throw TypeError("keyType must be a string");this.keyType=i,this.resolvedKeyType=null,this.map=!0}r.fromJSON=function(e,t){return new r(e,t.id,t.keyType,t.type,t.options,t.comment)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},r.prototype.resolve=function(){if(this.resolved)return this;if(void 0===t.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return e.prototype.resolve.call(this)},r.d=function(e,t,i){return"function"==typeof i?i=o.decorateType(i).name:i&&"object"==typeof i&&(i=o.decorateEnum(i).name),function(n,p){o.decorateType(n.constructor).add(new r(p,e,t,i))}};
},{"./field":"QfLQ","./types":"r4ic","./util":"tKo5"}],"ZR+E":[function(require,module,exports) {
"use strict";module.exports=s;var e=require("./object");((s.prototype=Object.create(e.prototype)).constructor=s).className="Method";var t=require("./util");function s(s,r,o,p,i,n,u,y){if(t.isObject(i)?(u=i,i=n=void 0):t.isObject(n)&&(u=n,n=void 0),void 0!==r&&!t.isString(r))throw TypeError("type must be a string");if(!t.isString(o))throw TypeError("requestType must be a string");if(!t.isString(p))throw TypeError("responseType must be a string");e.call(this,s,u),this.type=r||"rpc",this.requestType=o,this.requestStream=!!i||void 0,this.responseType=p,this.responseStream=!!n||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=y}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},s.prototype.toJSON=function(e){var s=!!e&&Boolean(e.keepComments);return t.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",s?this.comment:void 0])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),e.prototype.resolve.call(this))};
},{"./object":"E5qy","./util":"tKo5"}],"/iLH":[function(require,module,exports) {
"use strict";module.exports=s;var e=require("./namespace");((s.prototype=Object.create(e.prototype)).constructor=s).className="Service";var t=require("./method"),r=require("./util"),o=require("./rpc");function s(t,r){e.call(this,t,r),this.methods={},this._methodsArray=null}function n(e){return e._methodsArray=null,e}s.fromJSON=function(e,r){var o=new s(e,r.options);if(r.methods)for(var n=Object.keys(r.methods),i=0;i<n.length;++i)o.add(t.fromJSON(n[i],r.methods[n[i]]));return r.nested&&o.addJSON(r.nested),o.comment=r.comment,o},s.prototype.toJSON=function(t){var o=e.prototype.toJSON.call(this,t),s=!!t&&Boolean(t.keepComments);return r.toObject(["options",o&&o.options||void 0,"methods",e.arrayToJSON(this.methodsArray,t)||{},"nested",o&&o.nested||void 0,"comment",s?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=r.toArray(this.methods))}}),s.prototype.get=function(t){return this.methods[t]||e.prototype.get.call(this,t)},s.prototype.resolveAll=function(){for(var t=this.methodsArray,r=0;r<t.length;++r)t[r].resolve();return e.prototype.resolve.call(this)},s.prototype.add=function(r){if(this.get(r.name))throw Error("duplicate name '"+r.name+"' in "+this);return r instanceof t?(this.methods[r.name]=r,r.parent=this,n(this)):e.prototype.add.call(this,r)},s.prototype.remove=function(r){if(r instanceof t){if(this.methods[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.methods[r.name],r.parent=null,n(this)}return e.prototype.remove.call(this,r)},s.prototype.create=function(e,t,s){for(var n,i=new o.Service(e,t,s),a=0;a<this.methodsArray.length;++a){var h=r.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[h]=r.codegen(["r","c"],r.isReserved(h)?h+"_":h)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i};
},{"./namespace":"7mly","./method":"ZR+E","./util":"tKo5","./rpc":"kF81"}],"JYyw":[function(require,module,exports) {
"use strict";module.exports=e;var t=require("./util/minimal");function e(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)this[e[i]]=t[e[i]]}e.create=function(t){return this.$type.create(t)},e.encode=function(t,e){return this.$type.encode(t,e)},e.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,e){return this.$type.toObject(t,e)},e.prototype.toJSON=function(){return this.$type.toObject(this,t.toJSONOptions)};
},{"./util/minimal":"5tPy"}],"TCEP":[function(require,module,exports) {
"use strict";module.exports=t;var e=require("./enum"),r=require("./types"),s=require("./util");function i(e){return"missing required '"+e.name+"'"}function t(t){var o=s.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&o("if((t&7)===4)")("break"),o("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var a=t._fieldsArray[n].resolve(),d=a.resolvedType instanceof e?"int32":a.type,p="m"+s.safeProp(a.name);o("case %i:",a.id),a.map?(o("r.skip().pos++")("if(%s===util.emptyObject)",p)("%s={}",p)("k=r.%s()",a.keyType)("r.pos++"),void 0!==r.long[a.keyType]?void 0===r.basic[d]?o('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',p,n):o('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',p,d):void 0===r.basic[d]?o("%s[k]=types[%i].decode(r,r.uint32())",p,n):o("%s[k]=r.%s()",p,d)):a.repeated?(o("if(!(%s&&%s.length))",p,p)("%s=[]",p),void 0!==r.packed[d]&&o("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",p,d)("}else"),void 0===r.basic[d]?o(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",p,n):o("%s.push(r.%s())",p,d)):void 0===r.basic[d]?o(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",p,n):o("%s=r.%s()",p,d),o("break")}for(o("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var u=t._fieldsArray[n];u.required&&o("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",i(u))}return o("return m")}
},{"./enum":"cMyW","./types":"r4ic","./util":"tKo5"}],"mI+X":[function(require,module,exports) {
"use strict";module.exports=a;var e=require("./enum"),r=require("./util");function t(e,r){return e.name+": "+r+(e.repeated&&"array"!==r?"[]":e.map&&"object"!==r?"{k:"+e.keyType+"}":"")+" expected"}function s(r,s,i,a){if(s.resolvedType)if(s.resolvedType instanceof e){r("switch(%s){",a)("default:")("return%j",t(s,"enum value"));for(var n=Object.keys(s.resolvedType.values),u=0;u<n.length;++u)r("case %i:",s.resolvedType.values[n[u]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",i,a)("if(e)")("return%j+e",s.name+".")("}");else switch(s.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",a)("return%j",t(s,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",a,a,a,a)("return%j",t(s,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',a)("return%j",t(s,"number"));break;case"bool":r('if(typeof %s!=="boolean")',a)("return%j",t(s,"boolean"));break;case"string":r("if(!util.isString(%s))",a)("return%j",t(s,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',a,a,a)("return%j",t(s,"buffer"))}return r}function i(e,r,s){switch(r.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",s)("return%j",t(r,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",s)("return%j",t(r,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",s)("return%j",t(r,"boolean key"))}return e}function a(e){var a=r.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&a("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var f=e._fieldsArray[u].resolve(),l="m"+r.safeProp(f.name);if(f.optional&&a("if(%s!=null&&m.hasOwnProperty(%j)){",l,f.name),f.map)a("if(!util.isObject(%s))",l)("return%j",t(f,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),i(a,f,"k[i]"),s(a,f,u,l+"[k[i]]")("}");else if(f.repeated)a("if(!Array.isArray(%s))",l)("return%j",t(f,"array"))("for(var i=0;i<%s.length;++i){",l),s(a,f,u,l+"[i]")("}");else{if(f.partOf){var o=r.safeProp(f.partOf.name);1===n[f.partOf.name]&&a("if(p%s===1)",o)("return%j",f.partOf.name+": multiple values"),n[f.partOf.name]=1,a("p%s=1",o)}s(a,f,u,l)}f.optional&&a("}")}return a("return null")}
},{"./enum":"cMyW","./util":"tKo5"}],"PRZI":[function(require,module,exports) {
"use strict";var e=exports,s=require("./enum"),t=require("./util");function r(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof s){e("switch(d%s){",o);for(var a=t.resolvedType.values,n=Object.keys(a),i=0;i<n.length;++i)t.repeated&&a[n[i]]===t.typeDefault&&e("default:"),e("case%j:",n[i])("case %i:",a[n[i]])("m%s=%j",o,a[n[i]])("break");e("}")}else e('if(typeof d%s!=="object")',o)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,r,o);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",o,o);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,l)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length)",o)("m%s=d%s",o,o);break;case"string":e("m%s=String(d%s)",o,o);break;case"bool":e("m%s=Boolean(d%s)",o,o)}}return e}function o(e,t,r,o){if(t.resolvedType)t.resolvedType instanceof s?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",o,r,o,o):e("d%s=types[%i].toObject(m%s,o)",o,r,o);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,a?"true":"",o);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:e("d%s=m%s",o,o)}}return e}e.fromObject=function(e){var o=e.fieldsArray,a=t.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!o.length)return a("return new this.ctor");a("var m=new this.ctor");for(var n=0;n<o.length;++n){var i=o[n].resolve(),l=t.safeProp(i.name);i.map?(a("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",i.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),r(a,i,n,l+"[ks[i]]")("}")("}")):i.repeated?(a("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",i.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),r(a,i,n,l+"[i]")("}")("}")):(i.resolvedType instanceof s||a("if(d%s!=null){",l),r(a,i,n,l),i.resolvedType instanceof s||a("}"))}return a("return m")},e.toObject=function(e){var r=e.fieldsArray.slice().sort(t.compareFieldsById);if(!r.length)return t.codegen()("return {}");for(var a=t.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],i=[],l=[],f=0;f<r.length;++f)r[f].partOf||(r[f].resolve().repeated?n:r[f].map?i:l).push(r[f]);if(n.length){for(a("if(o.arrays||o.defaults){"),f=0;f<n.length;++f)a("d%s=[]",t.safeProp(n[f].name));a("}")}if(i.length){for(a("if(o.objects||o.defaults){"),f=0;f<i.length;++f)a("d%s={}",t.safeProp(i[f].name));a("}")}if(l.length){for(a("if(o.defaults){"),f=0;f<l.length;++f){var d=l[f],u=t.safeProp(d.name);if(d.resolvedType instanceof s)a("d%s=o.enums===String?%j:%j",u,d.resolvedType.valuesById[d.typeDefault],d.typeDefault);else if(d.long)a("if(util.Long){")("var n=new util.Long(%i,%i,%j)",d.typeDefault.low,d.typeDefault.high,d.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,d.typeDefault.toString(),d.typeDefault.toNumber());else if(d.bytes){var m="["+Array.prototype.slice.call(d.typeDefault).join(",")+"]";a("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,d.typeDefault))("else{")("d%s=%s",u,m)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}")}else a("d%s=%j",u,d.typeDefault)}a("}")}var c=!1;for(f=0;f<r.length;++f){d=r[f];var p=e._fieldsArray.indexOf(d);u=t.safeProp(d.name);d.map?(c||(c=!0,a("var ks2")),a("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),o(a,d,p,u+"[ks2[j]]")("}")):d.repeated?(a("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),o(a,d,p,u+"[j]")("}")):(a("if(m%s!=null&&m.hasOwnProperty(%j)){",u,d.name),o(a,d,p,u),d.partOf&&a("if(o.oneofs)")("d%s=%j",t.safeProp(d.partOf.name),d.name)),a("}")}return a("return d")};
},{"./enum":"cMyW","./util":"tKo5"}],"SSnQ":[function(require,module,exports) {
"use strict";var t=exports,e=require("./message");t[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=this.lookup(t["@type"]);if(e){var r="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return this.create({type_url:"/"+r,value:e.encode(e.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,r){if(r&&r.json&&t.type_url&&t.value){var o=t.type_url.substring(t.type_url.lastIndexOf("/")+1),u=this.lookup(o);u&&(t=u.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof e){var s=t.$type.toObject(t,r);return s["@type"]=t.$type.fullName,s}return this.toObject(t,r)}};
},{"./message":"JYyw"}],"Zi2N":[function(require,module,exports) {
"use strict";module.exports=y;var e=require("./namespace");((y.prototype=Object.create(e.prototype)).constructor=y).className="Type";var t=require("./enum"),r=require("./oneof"),i=require("./field"),o=require("./mapfield"),s=require("./service"),n=require("./message"),d=require("./reader"),f=require("./writer"),h=require("./util"),l=require("./encoder"),a=require("./decoder"),u=require("./verifier"),c=require("./converter"),p=require("./wrappers");function y(t,r){e.call(this,t,r),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof n||((e.prototype=new n).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,n,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,i)}}}),y.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),i=0;i<e.fieldsArray.length;++i)(t=e._fieldsArray[i]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(n,d){var f=new y(n,d.options);f.extensions=d.extensions,f.reserved=d.reserved;for(var h=Object.keys(d.fields),l=0;l<h.length;++l)f.add((void 0!==d.fields[h[l]].keyType?o.fromJSON:i.fromJSON)(h[l],d.fields[h[l]]));if(d.oneofs)for(h=Object.keys(d.oneofs),l=0;l<h.length;++l)f.add(r.fromJSON(h[l],d.oneofs[h[l]]));if(d.nested)for(h=Object.keys(d.nested),l=0;l<h.length;++l){var a=d.nested[h[l]];f.add((void 0!==a.id?i.fromJSON:void 0!==a.fields?y.fromJSON:void 0!==a.values?t.fromJSON:void 0!==a.methods?s.fromJSON:e.fromJSON)(h[l],a))}return d.extensions&&d.extensions.length&&(f.extensions=d.extensions),d.reserved&&d.reserved.length&&(f.reserved=d.reserved),d.group&&(f.group=!0),d.comment&&(f.comment=d.comment),f},y.prototype.toJSON=function(t){var r=e.prototype.toJSON.call(this,t),i=!!t&&Boolean(t.keepComments);return h.toObject(["options",r&&r.options||void 0,"oneofs",e.arrayToJSON(this.oneofsArray,t),"fields",e.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",i?this.comment:void 0])},y.prototype.resolveAll=function(){for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();var i=this.oneofsArray;for(r=0;r<i.length;)i[r++].resolve();return e.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof i&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),v(this)}return t instanceof r?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),v(this)):e.prototype.add.call(this,t)},y.prototype.remove=function(t){if(t instanceof i&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),v(this)}if(t instanceof r){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),v(this)}return e.prototype.remove.call(this,t)},y.prototype.isReservedId=function(t){return e.isReservedId(this.reserved,t)},y.prototype.isReservedName=function(t){return e.isReservedName(this.reserved,t)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=l(this)({Writer:f,types:t,util:h}),this.decode=a(this)({Reader:d,types:t,util:h}),this.verify=u(this)({types:t,util:h}),this.fromObject=c.fromObject(this)({types:t,util:h}),this.toObject=c.toObject(this)({types:t,util:h});var i=p[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof d||(e=d.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){h.decorateType(t,e)}};
},{"./namespace":"7mly","./enum":"cMyW","./oneof":"4jui","./field":"QfLQ","./mapfield":"cbpB","./service":"/iLH","./message":"JYyw","./reader":"7p1o","./writer":"+2Ns","./util":"tKo5","./encoder":"DUyV","./decoder":"TCEP","./verifier":"mI+X","./converter":"PRZI","./wrappers":"SSnQ"}],"uisQ":[function(require,module,exports) {
"use strict";module.exports=f;var e=require("./namespace");((f.prototype=Object.create(e.prototype)).constructor=f).className="Root";var t,n,r,i=require("./field"),o=require("./enum"),s=require("./oneof"),a=require("./util");function f(t){e.call(this,"",t),this.deferred=[],this.files=[]}function l(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},f.prototype.resolvePath=a.path.resolve,f.prototype.load=function e(t,i,o){"function"==typeof i&&(o=i,i=void 0);var s=this;if(!o)return a.asPromise(e,s,t,i);var f=o===l;function d(e,t){if(o){var n=o;if(o=null,f)throw e;n(e,t)}}function u(e,t){try{if(a.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),a.isString(t)){n.filename=e;var r,o=n(t,s,i),l=0;if(o.imports)for(;l<o.imports.length;++l)(r=s.resolvePath(e,o.imports[l]))&&p(r);if(o.weakImports)for(l=0;l<o.weakImports.length;++l)(r=s.resolvePath(e,o.weakImports[l]))&&p(r,!0)}else s.setOptions(t.options).addJSON(t.nested)}catch(u){d(u)}f||c||d(null,s)}function p(e,t){var n=e.lastIndexOf("google/protobuf/");if(n>-1){var i=e.substring(n);i in r&&(e=i)}if(!(s.files.indexOf(e)>-1))if(s.files.push(e),e in r)f?u(e,r[e]):(++c,setTimeout(function(){--c,u(e,r[e])}));else if(f){var l;try{l=a.fs.readFileSync(e).toString("utf8")}catch(p){return void(t||d(p))}u(e,l)}else++c,a.fetch(e,function(n,r){--c,o&&(n?t?c||d(null,s):d(n):u(e,r))})}var c=0;a.isString(t)&&(t=[t]);for(var h,v=0;v<t.length;++v)(h=s.resolvePath("",t[v]))&&p(h);if(f)return s;c||d(null,s)},f.prototype.loadSync=function(e,t){if(!a.isNode)throw Error("not supported");return this.load(e,t,l)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function u(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new i(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof i)void 0===e.extend||e.extensionField||u(this,e)||this.deferred.push(e);else if(e instanceof o)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof s)){if(e instanceof t)for(var n=0;n<this.deferred.length;)u(this,this.deferred[n])?this.deferred.splice(n,1):++n;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}},f.prototype._handleRemove=function(t){if(t instanceof i){if(void 0!==t.extend)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var n=this.deferred.indexOf(t);n>-1&&this.deferred.splice(n,1)}}else if(t instanceof o)d.test(t.name)&&delete t.parent[t.name];else if(t instanceof e){for(var r=0;r<t.nestedArray.length;++r)this._handleRemove(t._nestedArray[r]);d.test(t.name)&&delete t.parent[t.name]}},f._configure=function(e,i,o){t=e,n=i,r=o};
},{"./namespace":"7mly","./field":"QfLQ","./enum":"cMyW","./oneof":"4jui","./util":"tKo5"}],"tKo5":[function(require,module,exports) {
"use strict";var e,t,r=module.exports=require("./util/minimal"),n=require("./roots");r.codegen=require("@protobufjs/codegen"),r.fetch=require("@protobufjs/fetch"),r.path=require("@protobufjs/path"),r.fs=r.inquire("fs"),r.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},r.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var o=/\\/g,u=/"/g;r.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},r.safeProp=function(e){return!/^[$\w_]+$/.test(e)||r.isReserved(e)?'["'+e.replace(o,"\\\\").replace(u,'\\"')+'"]':"."+e},r.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var a=/_([a-z])/g;r.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(a,function(e,t){return t.toUpperCase()})},r.compareFieldsById=function(e,t){return e.id-t.id},r.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(r.decorateRoot.remove(t.$type),t.$type.name=n,r.decorateRoot.add(t.$type)),t.$type;e||(e=require("./type"));var o=new e(n||t.name);return r.decorateRoot.add(o),o.ctor=t,Object.defineProperty(t,"$type",{value:o,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:o,enumerable:!1}),o};var i=0;r.decorateEnum=function(e){if(e.$type)return e.$type;t||(t=require("./enum"));var n=new t("Enum"+i++,e);return r.decorateRoot.add(n),Object.defineProperty(e,"$type",{value:n,enumerable:!1}),n},Object.defineProperty(r,"decorateRoot",{get:function(){return n.decorated||(n.decorated=new(require("./root")))}});
},{"./util/minimal":"5tPy","./roots":"Uxnn","@protobufjs/codegen":"QhdL","@protobufjs/fetch":"iChw","@protobufjs/path":"KoWs","./type":"Zi2N","./enum":"cMyW","./root":"uisQ"}],"E5qy":[function(require,module,exports) {
"use strict";module.exports=e,e.className="ReflectionObject";var t,o=require("./util");function e(t,e){if(!o.isString(t))throw TypeError("name must be a string");if(e&&!o.isObject(e))throw TypeError("options must be an object");this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],o=this.parent;o;)t.unshift(o.name),o=o.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(o){this.parent&&this.parent!==o&&this.parent.remove(this),this.parent=o,this.resolved=!1;var e=o.root;e instanceof t&&e._handleAdd(this)},e.prototype.onRemove=function(o){var e=o.root;e instanceof t&&e._handleRemove(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved?this:(this.root instanceof t&&(this.resolved=!0),this)},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,o,e){return e&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=o),this},e.prototype.setOptions=function(t,o){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this.setOption(e[n],t[e[n]],o);return this},e.prototype.toString=function(){var t=this.constructor.className,o=this.fullName;return o.length?t+" "+o:t},e._configure=function(o){t=o};
},{"./util":"tKo5"}],"cMyW":[function(require,module,exports) {
"use strict";module.exports=r;var e=require("./object");((r.prototype=Object.create(e.prototype)).constructor=r).className="Enum";var t=require("./namespace"),s=require("./util");function r(t,s,r,i,o){if(e.call(this,t,r),s&&"object"!=typeof s)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=void 0,s)for(var n=Object.keys(s),h=0;h<n.length;++h)"number"==typeof s[n[h]]&&(this.valuesById[this.values[n[h]]=s[n[h]]]=n[h])}r.fromJSON=function(e,t){var s=new r(e,t.values,t.options,t.comment,t.comments);return s.reserved=t.reserved,s},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},r.prototype.add=function(e,t,r){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},r.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},r.prototype.isReservedId=function(e){return t.isReservedId(this.reserved,e)},r.prototype.isReservedName=function(e){return t.isReservedName(this.reserved,e)};
},{"./object":"E5qy","./namespace":"7mly","./util":"tKo5"}],"DUyV":[function(require,module,exports) {
"use strict";module.exports=n;var e=require("./enum"),i=require("./types"),r=require("./util");function s(e,i,r,s){return i.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,s,(i.id<<3|3)>>>0,(i.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,s,(i.id<<3|2)>>>0)}function n(n){for(var t,o=r.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),d=n.fieldsArray.slice().sort(r.compareFieldsById),l=0;l<d.length;++l){var u=d[l].resolve(),a=n._fieldsArray.indexOf(u),p=u.resolvedType instanceof e?"int32":u.type,f=i.basic[p];t="m"+r.safeProp(u.name),u.map?(o("if(%s!=null&&m.hasOwnProperty(%j)){",t,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),void 0===f?o("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",a,t):o(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,p,t),o("}")("}")):u.repeated?(o("if(%s!=null&&%s.length){",t,t),u.packed&&void 0!==i.packed[p]?o("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",p,t)("w.ldelim()"):(o("for(var i=0;i<%s.length;++i)",t),void 0===f?s(o,u,a,t+"[i]"):o("w.uint32(%i).%s(%s[i])",(u.id<<3|f)>>>0,p,t)),o("}")):(u.optional&&o("if(%s!=null&&m.hasOwnProperty(%j))",t,u.name),void 0===f?s(o,u,a,t):o("w.uint32(%i).%s(%s)",(u.id<<3|f)>>>0,p,t))}return o("return w")}
},{"./enum":"cMyW","./types":"r4ic","./util":"tKo5"}],"J5Vw":[function(require,module,exports) {
"use strict";var e=module.exports=require("./index-minimal");function r(r,i,o){return"function"==typeof i?(o=i,i=new e.Root):i||(i=new e.Root),i.load(r,o)}function i(r,i){return i||(i=new e.Root),i.loadSync(r)}e.build="light",e.load=r,e.loadSync=i,e.encoder=require("./encoder"),e.decoder=require("./decoder"),e.verifier=require("./verifier"),e.converter=require("./converter"),e.ReflectionObject=require("./object"),e.Namespace=require("./namespace"),e.Root=require("./root"),e.Enum=require("./enum"),e.Type=require("./type"),e.Field=require("./field"),e.OneOf=require("./oneof"),e.MapField=require("./mapfield"),e.Service=require("./service"),e.Method=require("./method"),e.Message=require("./message"),e.wrappers=require("./wrappers"),e.types=require("./types"),e.util=require("./util"),e.ReflectionObject._configure(e.Root),e.Namespace._configure(e.Type,e.Service,e.Enum),e.Root._configure(e.Type),e.Field._configure(e.Type);
},{"./index-minimal":"UY0b","./encoder":"DUyV","./decoder":"TCEP","./verifier":"mI+X","./converter":"PRZI","./object":"E5qy","./namespace":"7mly","./root":"uisQ","./enum":"cMyW","./type":"Zi2N","./field":"QfLQ","./oneof":"4jui","./mapfield":"cbpB","./service":"/iLH","./method":"ZR+E","./message":"JYyw","./wrappers":"SSnQ","./types":"r4ic","./util":"tKo5"}],"EBXF":[function(require,module,exports) {
"use strict";module.exports=c;var n=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,t=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,e=/^ *[*\/]+ */,i=/^\s*\*?\/*/,u=/\n/g,l=/\s/,f=/\\(.?)/g,o={0:"\0",r:"\r",n:"\n",t:"\t"};function s(n){return n.replace(f,function(n,r){switch(r){case"\\":case"":return r;default:return o[r]||""}})}function c(f,o){f=f.toString();var c=0,a=f.length,h=1,g=null,v=null,d=0,p=!1,m=[],w=null;function x(n){return Error("illegal "+n+" (line "+h+")")}function b(n){return f.charAt(n)}function k(n,r){g=f.charAt(n++),d=h,p=!1;var t,l=n-(o?2:3);do{if(--l<0||"\n"===(t=f.charAt(l))){p=!0;break}}while(" "===t||"\t"===t);for(var s=f.substring(n,r).split(u),c=0;c<s.length;++c)s[c]=s[c].replace(o?i:e,"").trim();v=s.join("\n").trim()}function A(n){var r=I(n),t=f.substring(n,r);return/^\s*\/{1,2}/.test(t)}function I(n){for(var r=n;r<a&&"\n"!==b(r);)r++;return r}function j(){if(m.length>0)return m.shift();if(w)return function(){var n="'"===w?t:r;n.lastIndex=c-1;var e=n.exec(f);if(!e)throw x("string");return c=n.lastIndex,y(w),w=null,s(e[1])}();var e,i,u,g,v;do{if(c===a)return null;for(e=!1;l.test(u=b(c));)if("\n"===u&&++h,++c===a)return null;if("/"===b(c)){if(++c===a)throw x("comment");if("/"===b(c))if(o){if(g=c,v=!1,A(c)){v=!0;do{if((c=I(c))===a)break;c++}while(A(c))}else c=Math.min(a,I(c)+1);v&&k(g,c),h++,e=!0}else{for(v="/"===b(g=c+1);"\n"!==b(++c);)if(c===a)return null;++c,v&&k(g,c-1),++h,e=!0}else{if("*"!==(u=b(c)))return"/";g=c+1,v=o||"*"===b(g);do{if("\n"===u&&++h,++c===a)throw x("comment");i=u,u=b(c)}while("*"!==i||"/"!==u);++c,v&&k(g,c-2),e=!0}}}while(e);var d=c;if(n.lastIndex=0,!n.test(b(d++)))for(;d<a&&!n.test(b(d));)++d;var p=f.substring(c,c=d);return'"'!==p&&"'"!==p||(w=p),p}function y(n){m.push(n)}function E(){if(!m.length){var n=j();if(null===n)return null;y(n)}return m[0]}return Object.defineProperty({next:j,peek:E,push:y,skip:function(n,r){var t=E();if(t===n)return j(),!0;if(!r)throw x("token '"+t+"', '"+n+"' expected");return!1},cmnt:function(n){var r=null;return void 0===n?d===h-1&&(o||"*"===g||p)&&(r=v):(d<n&&E(),d!==n||p||!o&&"/"!==g||(r=v)),r}},"line",{get:function(){return h}})}c.unescape=s;
},{}],"1DRP":[function(require,module,exports) {
"use strict";module.exports=q,q.filename=null,q.defaults={keepCase:!1};var e=require("./tokenize"),t=require("./root"),r=require("./type"),n=require("./field"),a=require("./mapfield"),i=require("./oneof"),o=require("./enum"),s=require("./service"),c=require("./method"),f=require("./types"),u=require("./util"),p=/^[1-9][0-9]*$/,w=/^-?[1-9][0-9]*$/,h=/^0[x][0-9a-fA-F]+$/,d=/^-?0[x][0-9a-fA-F]+$/,l=/^0[0-7]+$/,m=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,k=/^[a-zA-Z_][a-zA-Z_0-9]*$/,b=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,A=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function q(x,y,$){y instanceof t||($=y,y=new t),$||($=q.defaults);var g,z,I,N,Z,_=e(x,$.alternateCommentMode||!1),F=_.next,E=_.push,C=_.peek,M=_.skip,O=_.cmnt,j=!0,K=!1,L=y,R=$.keepCase?function(e){return e}:u.camelCase;function S(e,t,r){var n=q.filename;return r||(q.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+_.line+")")}function T(){var e,t=[];do{if('"'!==(e=F())&&"'"!==e)throw S(e);t.push(F()),M(e),e=C()}while('"'===e||"'"===e);return t.join("")}function U(e){var t=F();switch(t){case"'":case'"':return E(t),T();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return r*parseInt(e,10);if(h.test(e))return r*parseInt(e,16);if(l.test(e))return r*parseInt(e,8);if(v.test(e))return r*parseFloat(e);throw S(e,"number",t)}(t,!0)}catch(r){if(e&&b.test(t))return t;throw S(t,"value")}}function X(e,t){var r,n;do{!t||'"'!==(r=C())&&"'"!==r?e.push([n=B(F()),M("to",!0)?B(F()):n]):e.push(T())}while(M(",",!0));M(";")}function B(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw S(e,"id");if(w.test(e))return parseInt(e,10);if(d.test(e))return parseInt(e,16);if(m.test(e))return parseInt(e,8);throw S(e,"id")}function D(){if(void 0!==g)throw S("package");if(g=F(),!b.test(g))throw S(g,"name");L=L.define(g),M(";")}function G(){var e,t=C();switch(t){case"weak":e=I||(I=[]),F();break;case"public":F();default:e=z||(z=[])}t=T(),M(";"),e.push(t)}function H(){if(M("="),N=T(),!(K="proto3"===N)&&"proto2"!==N)throw S(N,"syntax");M(";")}function J(e,t){switch(t){case"option":return V(e,t),M(";"),!0;case"message":return function(e,t){if(!k.test(t=F()))throw S(t,"type name");var n=new r(t);P(n,function(e){if(!J(n,e))switch(e){case"map":!function(e){M("<");var t=F();if(void 0===f.mapKey[t])throw S(t,"type");M(",");var r=F();if(!b.test(r))throw S(r,"type");M(">");var n=F();if(!k.test(n))throw S(n,"name");M("=");var i=new a(R(n),B(F()),t,r);P(i,function(e){if("option"!==e)throw S(e);V(i,e),M(";")},function(){ee(i)}),e.add(i)}(n);break;case"required":case"optional":case"repeated":Q(n,e);break;case"oneof":!function(e,t){if(!k.test(t=F()))throw S(t,"name");var r=new i(R(t));P(r,function(e){"option"===e?(V(r,e),M(";")):(E(e),Q(r,"optional"))}),e.add(r)}(n,e);break;case"extensions":X(n.extensions||(n.extensions=[]));break;case"reserved":X(n.reserved||(n.reserved=[]),!0);break;default:if(!K||!b.test(e))throw S(e);E(e),Q(n,"optional")}}),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!k.test(t=F()))throw S(t,"name");var r=new o(t);P(r,function(e){switch(e){case"option":V(r,e),M(";");break;case"reserved":X(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!k.test(t))throw S(t,"name");M("=");var r=B(F(),!0),n={};P(n,function(e){if("option"!==e)throw S(e);V(n,e),M(";")},function(){ee(n)}),e.add(t,r,n.comment)}(r,e)}}),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!k.test(t=F()))throw S(t,"service name");var r=new s(t);P(r,function(e){if(!J(r,e)){if("rpc"!==e)throw S(e);!function(e,t){var r=t;if(!k.test(t=F()))throw S(t,"name");var n,a,i,o,s=t;M("("),M("stream",!0)&&(a=!0);if(!b.test(t=F()))throw S(t);n=t,M(")"),M("returns"),M("("),M("stream",!0)&&(o=!0);if(!b.test(t=F()))throw S(t);i=t,M(")");var f=new c(s,r,n,i,a,o);P(f,function(e){if("option"!==e)throw S(e);V(f,e),M(";")}),e.add(f)}(r,e)}}),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!b.test(t=F()))throw S(t,"reference");var r=t;P(null,function(t){switch(t){case"required":case"repeated":case"optional":Q(e,t,r);break;default:if(!K||!b.test(t))throw S(t);E(t),Q(e,"optional",r)}})}(e,t),!0}return!1}function P(e,t,r){var n=_.line;if(e&&(e.comment=O(),e.filename=q.filename),M("{",!0)){for(var a;"}"!==(a=F());)t(a);M(";",!0)}else r&&r(),M(";"),e&&"string"!=typeof e.comment&&(e.comment=O(n))}function Q(e,t,a){var i=F();if("group"!==i){if(!b.test(i))throw S(i,"type");var o=F();if(!k.test(o))throw S(o,"name");o=R(o),M("=");var s=new n(o,B(F()),i,t,a);P(s,function(e){if("option"!==e)throw S(e);V(s,e),M(";")},function(){ee(s)}),e.add(s),K||!s.repeated||void 0===f.packed[i]&&void 0!==f.basic[i]||s.setOption("packed",!1,!0)}else!function(e,t){var a=F();if(!k.test(a))throw S(a,"name");var i=u.lcFirst(a);a===i&&(a=u.ucFirst(a));M("=");var o=B(F()),s=new r(a);s.group=!0;var c=new n(i,o,a,t);c.filename=q.filename,P(s,function(e){switch(e){case"option":V(s,e),M(";");break;case"required":case"optional":case"repeated":Q(s,e);break;default:throw S(e)}}),e.add(s).add(c)}(e,t)}function V(e,t){var r=M("(",!0);if(!b.test(t=F()))throw S(t,"name");var n=t;r&&(M(")"),n="("+n+")",t=C(),A.test(t)&&(n+=t,F())),M("="),W(e,n)}function W(e,t){if(M("{",!0))do{if(!k.test(Z=F()))throw S(Z,"name");"{"===C()?W(e,t+"."+Z):(M(":"),"{"===C()?W(e,t+"."+Z):Y(e,t+"."+Z,U(!0))),M(",",!0)}while(!M("}",!0));else Y(e,t,U(!0))}function Y(e,t,r){e.setOption&&e.setOption(t,r)}function ee(e){if(M("[",!0)){do{V(e,"option")}while(M(",",!0));M("]")}return e}for(;null!==(Z=F());)switch(Z){case"package":if(!j)throw S(Z);D();break;case"import":if(!j)throw S(Z);G();break;case"syntax":if(!j)throw S(Z);H();break;case"option":if(!j)throw S(Z);V(L,Z),M(";");break;default:if(J(L,Z)){j=!1;continue}throw S(Z)}return q.filename=null,{package:g,imports:z,weakImports:I,syntax:N,root:y}}
},{"./tokenize":"EBXF","./root":"uisQ","./type":"Zi2N","./field":"QfLQ","./mapfield":"cbpB","./oneof":"4jui","./enum":"cMyW","./service":"/iLH","./method":"ZR+E","./types":"r4ic","./util":"tKo5"}],"b+3R":[function(require,module,exports) {
"use strict";module.exports=t;var e,l=/\/|\./;function t(e,u){l.test(e)||(e="google/protobuf/"+e+".proto",u={nested:{google:{nested:{protobuf:{nested:u}}}}}),t[e]=u}t("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),t("duration",{Duration:e={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),t("timestamp",{Timestamp:e}),t("empty",{Empty:{fields:{}}}),t("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),t("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),t("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),t.get=function(e){return t[e]||null};
},{}],"oIrP":[function(require,module,exports) {
"use strict";var e=module.exports=require("./index-light");e.build="full",e.tokenize=require("./tokenize"),e.parse=require("./parse"),e.common=require("./common"),e.Root._configure(e.Type,e.parse,e.common);
},{"./index-light":"J5Vw","./tokenize":"EBXF","./parse":"1DRP","./common":"b+3R"}],"fOt4":[function(require,module,exports) {
"use strict";module.exports=require("./src/index");
},{"./src/index":"oIrP"}],"3RR6":[function(require,module,exports) {
module.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}};
},{}],"jAqc":[function(require,module,exports) {
"use strict";var e=require("../..");module.exports=exports=e.descriptor=e.Root.fromJSON(require("../../google/protobuf/descriptor.json")).lookup(".google.protobuf");var t=e.Namespace,r=e.Root,s=e.Enum,o=e.Type,n=e.Field,i=e.MapField,a=e.OneOf,p=e.Service,c=e.Method;function l(e,i,a){var c=exports.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});a&&(c.syntax=a),e instanceof r||(c.package=e.fullName.substring(1));for(var f,u=0;u<e.nestedArray.length;++u)(f=e._nestedArray[u])instanceof o?c.messageType.push(f.toDescriptor(a)):f instanceof s?c.enumType.push(f.toDescriptor()):f instanceof n?c.extension.push(f.toDescriptor(a)):f instanceof p?c.service.push(f.toDescriptor()):f instanceof t&&l(f,i,a);c.options=b(e.options,exports.FileOptions),c.messageType.length+c.enumType.length+c.extension.length+c.service.length&&i.push(c)}r.fromDescriptor=function(e){"number"==typeof e.length&&(e=exports.FileDescriptorSet.decode(e));var t=new r;if(e.file)for(var i,a,c,l=0;l<e.file.length;++l){if(a=t,(i=e.file[l]).package&&i.package.length&&(a=t.define(i.package)),i.name&&i.name.length&&t.files.push(a.filename=i.name),i.messageType)for(c=0;c<i.messageType.length;++c)a.add(o.fromDescriptor(i.messageType[c],i.syntax));if(i.enumType)for(c=0;c<i.enumType.length;++c)a.add(s.fromDescriptor(i.enumType[c]));if(i.extension)for(c=0;c<i.extension.length;++c)a.add(n.fromDescriptor(i.extension[c]));if(i.service)for(c=0;c<i.service.length;++c)a.add(p.fromDescriptor(i.service[c]));var f=D(i.options,exports.FileOptions);if(f){var u=Object.keys(f);for(c=0;c<u.length;++c)a.setOption(u[c],f[u[c]])}}return t},r.prototype.toDescriptor=function(e){var t=exports.FileDescriptorSet.create();return l(this,t.file,e),t};var f=0;o.fromDescriptor=function(e,t){"number"==typeof e.length&&(e=exports.DescriptorProto.decode(e));var r,i=new o(e.name.length?e.name:"Type"+f++,D(e.options,exports.MessageOptions));if(e.oneofDecl)for(r=0;r<e.oneofDecl.length;++r)i.add(a.fromDescriptor(e.oneofDecl[r]));if(e.field)for(r=0;r<e.field.length;++r){var p=n.fromDescriptor(e.field[r],t);i.add(p),e.field[r].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[r].oneofIndex].add(p)}if(e.extension)for(r=0;r<e.extension.length;++r)i.add(n.fromDescriptor(e.extension[r],t));if(e.nestedType)for(r=0;r<e.nestedType.length;++r)i.add(o.fromDescriptor(e.nestedType[r],t)),e.nestedType[r].options&&e.nestedType[r].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(r=0;r<e.enumType.length;++r)i.add(s.fromDescriptor(e.enumType[r]));if(e.extensionRange&&e.extensionRange.length)for(i.extensions=[],r=0;r<e.extensionRange.length;++r)i.extensions.push([e.extensionRange[r].start,e.extensionRange[r].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(r=0;r<e.reservedRange.length;++r)i.reserved.push([e.reservedRange[r].start,e.reservedRange[r].end]);if(e.reservedName)for(r=0;r<e.reservedName.length;++r)i.reserved.push(e.reservedName[r])}return i},o.prototype.toDescriptor=function(e){var t,r=exports.DescriptorProto.create({name:this.name});for(t=0;t<this.fieldsArray.length;++t){var a;if(r.field.push(a=this._fieldsArray[t].toDescriptor(e)),this._fieldsArray[t]instanceof i){var p=x(this._fieldsArray[t].keyType,this._fieldsArray[t].resolvedKeyType),c=x(this._fieldsArray[t].type,this._fieldsArray[t].resolvedType),l=11===c||14===c?this._fieldsArray[t].resolvedType&&T(this.parent,this._fieldsArray[t].resolvedType)||this._fieldsArray[t].type:void 0;r.nestedType.push(exports.DescriptorProto.create({name:a.typeName,field:[exports.FieldDescriptorProto.create({name:"key",number:1,label:1,type:p}),exports.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:l})],options:exports.MessageOptions.create({mapEntry:!0})}))}}for(t=0;t<this.oneofsArray.length;++t)r.oneofDecl.push(this._oneofsArray[t].toDescriptor());for(t=0;t<this.nestedArray.length;++t)this._nestedArray[t]instanceof n?r.field.push(this._nestedArray[t].toDescriptor(e)):this._nestedArray[t]instanceof o?r.nestedType.push(this._nestedArray[t].toDescriptor(e)):this._nestedArray[t]instanceof s&&r.enumType.push(this._nestedArray[t].toDescriptor());if(this.extensions)for(t=0;t<this.extensions.length;++t)r.extensionRange.push(exports.DescriptorProto.ExtensionRange.create({start:this.extensions[t][0],end:this.extensions[t][1]}));if(this.reserved)for(t=0;t<this.reserved.length;++t)"string"==typeof this.reserved[t]?r.reservedName.push(this.reserved[t]):r.reservedRange.push(exports.DescriptorProto.ReservedRange.create({start:this.reserved[t][0],end:this.reserved[t][1]}));return r.options=b(this.options,exports.MessageOptions),r};var u=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;n.fromDescriptor=function(e,t){if("number"==typeof e.length&&(e=exports.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");var r,s;switch(r=e.typeName&&e.typeName.length?e.typeName:g(e.type),e.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;void 0!==e.extendee&&(o=o.length?o:void 0);var i=new n(e.name.length?e.name:"field"+e.number,e.number,r,s,o);if(i.options=D(e.options,exports.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:u.exec(a)&&(a=parseInt(a))}i.setOption("default",a)}return v(e.type)&&("proto3"===t?e.options&&!e.options.packed&&i.setOption("packed",!1):e.options&&e.options.packed||i.setOption("packed",!1)),i},n.prototype.toDescriptor=function(t){var r=exports.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=e.util.ucFirst(this.name),r.label=3;else{switch(r.type=x(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?T(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=b(this.options,exports.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===t?this.packed||((r.options||(r.options=exports.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=exports.FieldOptions.create())).packed=!0),r};var d=0;s.fromDescriptor=function(e){"number"==typeof e.length&&(e=exports.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var r=0;r<e.value.length;++r){var o=e.value[r].name,n=e.value[r].number||0;t[o&&o.length?o:"NAME"+n]=n}return new s(e.name&&e.name.length?e.name:"Enum"+d++,t,D(e.options,exports.EnumOptions))},s.prototype.toDescriptor=function(){for(var e=[],t=0,r=Object.keys(this.values);t<r.length;++t)e.push(exports.EnumValueDescriptorProto.create({name:r[t],number:this.values[r[t]]}));return exports.EnumDescriptorProto.create({name:this.name,value:e,options:b(this.options,exports.EnumOptions)})};var h=0;a.fromDescriptor=function(e){return"number"==typeof e.length&&(e=exports.OneofDescriptorProto.decode(e)),new a(e.name&&e.name.length?e.name:"oneof"+h++)},a.prototype.toDescriptor=function(){return exports.OneofDescriptorProto.create({name:this.name})};var m=0;p.fromDescriptor=function(e){"number"==typeof e.length&&(e=exports.ServiceDescriptorProto.decode(e));var t=new p(e.name&&e.name.length?e.name:"Service"+m++,D(e.options,exports.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)t.add(c.fromDescriptor(e.method[r]));return t},p.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray;++t)e.push(this._methodsArray[t].toDescriptor());return exports.ServiceDescriptorProto.create({name:this.name,methods:e,options:b(this.options,exports.ServiceOptions)})};var y=0;function g(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function v(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function x(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof s)return 14;if(t instanceof o)return t.group?10:11;throw Error("illegal type: "+e)}function D(t,r){if(t){for(var o,n,i,a=[],p=0;p<r.fieldsArray.length;++p)"uninterpretedOption"!==(n=(o=r._fieldsArray[p]).name)&&t.hasOwnProperty(n)&&(i=t[n],o.resolvedType instanceof s&&"number"==typeof i&&void 0!==o.resolvedType.valuesById[i]&&(i=o.resolvedType.valuesById[i]),a.push(O(n),i));return a.length?e.util.toObject(a):void 0}}function b(t,r){if(t){for(var s,o,n=[],i=0,a=Object.keys(t);i<a.length;++i)if(o=t[s=a[i]],"default"!==s){var p=r.fields[s];(p||(p=r.fields[s=e.util.camelCase(s)]))&&n.push(s,o)}return n.length?r.fromObject(e.util.toObject(n)):void 0}}function T(e,s){var o=e.fullName.split("."),n=s.fullName.split("."),i=0,a=0,p=n.length-1;if(!(e instanceof r)&&s instanceof t)for(;i<o.length&&a<p&&o[i]===n[a];){var c=s.lookup(o[i++],!0);if(null!==c&&c!==s)break;++a}else for(;i<o.length&&a<p&&o[i]===n[a];++i,++a);return n.slice(a).join(".")}function O(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=exports.MethodDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"Method"+y++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),D(e.options,exports.MethodOptions))},c.prototype.toDescriptor=function(){return exports.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:b(this.options,exports.MethodOptions)})};
},{"../..":"fOt4","../../google/protobuf/descriptor.json":"3RR6"}],"YPbW":[function(require,module,exports) {
var u=1/0,n="[object Symbol]",t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\ud800-\\udfff",f="\\u0300-\\u036f\\ufe20-\\ufe23",o="\\u20d0-\\u20f0",i="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",a="\\xac\\xb1\\xd7\\xf7",x="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",l="\\u2000-\\u206f",d=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",b="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",s=a+x+l+d,p="['’]",v="["+r+"]",j="["+s+"]",A="["+f+o+"]",E="\\d+",O="["+i+"]",y="["+c+"]",h="[^"+r+s+E+i+c+b+"]",U="\\ud83c[\\udffb-\\udfff]",I="(?:"+A+"|"+U+")",m="[^"+r+"]",z="(?:\\ud83c[\\udde6-\\uddff]){2}",L="[\\ud800-\\udbff][\\udc00-\\udfff]",R="["+b+"]",S="\\u200d",Z="(?:"+y+"|"+h+")",C="(?:"+R+"|"+h+")",N="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",T="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",D=I+"?",G="["+g+"]?",w="(?:"+S+"(?:"+[m,z,L].join("|")+")"+G+D+")*",Y=G+D+w,k="(?:"+[O,z,L].join("|")+")"+Y,H="(?:"+[m+A+"?",A,z,L,v].join("|")+")",J=RegExp(p,"g"),$=RegExp(A,"g"),F=RegExp(U+"(?="+U+")|"+H+Y,"g"),K=RegExp([R+"?"+y+"+"+N+"(?="+[j,R,"$"].join("|")+")",C+"+"+T+"(?="+[j,R+Z,"$"].join("|")+")",R+"?"+Z+"+"+N,R+"+"+T,E,k].join("|"),"g"),M=RegExp("["+S+r+f+o+g+"]"),V=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,W={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},q="object"==typeof global&&global&&global.Object===Object&&global,B="object"==typeof self&&self&&self.Object===Object&&self,P=q||B||Function("return this")();function Q(u,n,t,e){var r=-1,f=u?u.length:0;for(e&&f&&(t=u[++r]);++r<f;)t=n(t,u[r],r,u);return t}function X(u){return u.split("")}function _(u){return u.match(t)||[]}function uu(u){return function(n){return null==u?void 0:u[n]}}var nu=uu(W);function tu(u){return M.test(u)}function eu(u){return V.test(u)}function ru(u){return tu(u)?fu(u):X(u)}function fu(u){return u.match(F)||[]}function ou(u){return u.match(K)||[]}var iu=Object.prototype,cu=iu.toString,au=P.Symbol,xu=au?au.prototype:void 0,lu=xu?xu.toString:void 0;function du(u,n,t){var e=-1,r=u.length;n<0&&(n=-n>r?0:r+n),(t=t>r?r:t)<0&&(t+=r),r=n>t?0:t-n>>>0,n>>>=0;for(var f=Array(r);++e<r;)f[e]=u[e+n];return f}function bu(n){if("string"==typeof n)return n;if(ju(n))return lu?lu.call(n):"";var t=n+"";return"0"==t&&1/n==-u?"-0":t}function gu(u,n,t){var e=u.length;return t=void 0===t?e:t,!n&&t>=e?u:du(u,n,t)}function su(u){return function(n){var t=tu(n=Au(n))?ru(n):void 0,e=t?t[0]:n.charAt(0),r=t?gu(t,1).join(""):n.slice(1);return e[u]()+r}}function pu(u){return function(n){return Q(Uu(yu(n).replace(J,"")),u,"")}}function vu(u){return!!u&&"object"==typeof u}function ju(u){return"symbol"==typeof u||vu(u)&&cu.call(u)==n}function Au(u){return null==u?"":bu(u)}var Eu=pu(function(u,n,t){return n=n.toLowerCase(),u+(t?Ou(n):n)});function Ou(u){return hu(Au(u).toLowerCase())}function yu(u){return(u=Au(u))&&u.replace(e,nu).replace($,"")}var hu=su("toUpperCase");function Uu(u,n,t){return u=Au(u),void 0===(n=t?void 0:n)?eu(u)?ou(u):_(u):u.match(n)||[]}module.exports=Eu;
},{}],"QJFA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),r=require("path"),t=require("protobufjs"),n=require("protobufjs/ext/descriptor"),o=require("lodash.camelcase"),i={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function s(e,r){return""===e?r:e+"."+r}function u(e){return e instanceof t.Service||e instanceof t.Type||e instanceof t.Enum}function c(e){return e instanceof t.Namespace||e instanceof t.Root}function a(e,r){var t=s(r,e.name);return u(e)?[[t,e]]:c(e)&&void 0!==typeof e.nested?Object.keys(e.nested).map(function(r){return a(e.nested[r],t)}).reduce(function(e,r){return e.concat(r)},[]):[]}function f(e,r){return function(t){return e.toObject(e.decode(t),r)}}function l(e){return function(r){var t=e.fromObject(r);return e.encode(t).finish()}}function p(e,r,t){var n=e.resolvedRequestType,i=e.resolvedResponseType;return{path:"/"+r+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:l(n),requestDeserialize:f(n,t),responseSerialize:l(i),responseDeserialize:f(i,t),originalName:o(e.name),requestType:y(n),responseType:y(i)}}function d(e,r,t){for(var n={},o=0,i=e.methodsArray;o<i.length;o++){var s=i[o];n[s.name]=p(s,r,t)}return n}var v=new Map;function m(e){if(v.has(e))return v.get(e);var r=e.toDescriptor("proto3").file.map(function(e){return Buffer.from(n.FileDescriptorProto.encode(e).finish())});return v.set(e,r),r}function y(e){var r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,i),fileDescriptorProtos:m(e.root)}}function h(e){var r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,i),fileDescriptorProtos:m(e.root)}}function D(e,r,n){if(e instanceof t.Service)return d(e,r,n);if(e instanceof t.Type)return y(e);if(e instanceof t.Enum)return h(e);throw new Error("Type mismatch in reflection object handling")}function S(e,r){var t={};e.resolveAll();for(var n=0,o=a(e,"");n<o.length;n++){var i=o[n],s=i[0],u=i[1];t[s]=D(u,s,r)}return t}function b(t,n){var o=t.resolvePath;t.resolvePath=function(t,i){if(r.isAbsolute(i))return i;for(var s=0,u=n;s<u.length;s++){var c=u[s],a=r.join(c,i);try{return e.accessSync(a,e.constants.R_OK),a}catch(f){continue}}return o(t,i)}}function g(e,r){var n=new t.Root;if((r=r||{}).includeDirs){if(!Array.isArray(r.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));b(n,r.includeDirs)}return n.load(e,r).then(function(e){return e.resolveAll(),S(n,r)})}function j(e,r){var n=new t.Root;if((r=r||{}).includeDirs){if(!Array.isArray(r.includeDirs))throw new Error("The includeDirs option must be an array");b(n,r.includeDirs)}return n.loadSync(e,r).resolveAll(),S(n,r)}exports.load=g,exports.loadSync=j;for(var q=["api","descriptor","source_context","type"],P=r.join(r.dirname(require.resolve("protobufjs")),"google","protobuf"),A=0,T=q;A<T.length;A++){var w=T[A],O=r.join(P,w+".proto"),E=t.loadSync(O).toJSON();t.common(w,E.nested.google.nested)}
},{"protobufjs":"fOt4","protobufjs/ext/descriptor":"jAqc","lodash.camelcase":"YPbW"}],"GGiH":[function(require,module,exports) {
var e=require("events").EventEmitter,n=require("fs"),r=require("path"),i=r.sep||"/";function t(t,o,f){"function"==typeof o&&(f=o),void 0===(o=o||{}).find_links&&(o.find_links=!0);var c=o.fs||n,s=new e,a=[],l=o.return_object?{}:[],u=!1,y={},d=0,h=null,p=0,m=0,v=function(e){m+=e,e<1&&!k&&(k=1,process.nextTick(function(){k=0,m<=0&&!p&&(p=1,s.emit("end"))}))},k=0;s.ignore=function(e){return Array.isArray(e)?a.push.apply(a,e):a.push(e),this};var g=[["isFile","file"],["isDirectory","directory"],["isSymbolicLink","link"],["isSocket","socket"],["isFIFO","fifo"],["isBlockDevice","blockdevice"],["isCharacterDevice","characterdevice"]],_=function(e,n,i){v(1);var t=function(t,f,c){if(v(-1),!d)if(!t&&f){var a=r.basename(e),l=f.dev+"-"+f.ino+"-"+a;if(!1!==o.track_inodes){if(y[l]&&f.ino)return;y[l]=1}if(n&&f.isDirectory())s.emit("targetdirectory",e,f,i);else{s.emit("path",e,f,i);for(var u=0,h=g.length;u<h;u++)if(f[g[u][0]]()){s.emit(g[u][1],e,f,i);break}}}else s.emit("fail",e,t)};if(o.sync){var f,a;try{f=c[o.find_links?"lstatSync":"statSync"](e)}catch(l){a=l}t(a,f)}else c[o.find_links?"lstat":"stat"](e,t)},b=function(e,n,t){if(u||(e=r.resolve(e),u=1),o.max_depth&&t>=o.max_depth)s.emit("maxdepth",e,n,t);else{if(a.length)for(var f=0;f<a.length;++f)if(a[f]==e)return void a.splice(f,1);v(1);var l=function(r,f){if(v(-1),!r&&f)if(f.length){if(e==i&&(e=""),o.filter){var c=o.filter(e,f);if(!c)throw new Error("option.filter function must return a array of strings or a promise");if(c.then)return v(1),void c.then(n=>{v(-1);for(var r=0,o=n.length;r<o;r++)_(e+i+n[r],!1,(t||0)+1)});f=c}for(var a=0,l=f.length;a<l;a++)_(e+i+f[a],!1,(t||0)+1)}else s.emit("empty",e,n,t);else s.emit("fail",e,r)};if(o.sync){var y,d;try{d=c.readdirSync(e)}catch(h){y=h}l(y,d)}else c.readdir(e,l)}};if(o.follow_symlinks){var w=function(e,n,r){v(-1),_(n,!1,r)};s.on("link",function(e,n,i){if(v(1),o.sync){var t;try{t=c.readlinkSync(e)}catch(f){f}w(0,r.resolve(r.dirname(e),t),i)}else c.readlink(e,function(n,t){w(0,r.resolve(r.dirname(e),t),i)})})}if(f&&s.on("path",f),o.sync&&(o.no_return||s.on("path",function(e,n){o.return_object?l[e]=n:l.push(e)})),o.no_recurse||s.on("directory",b),s.once("targetdirectory",b),s.once("fail",function(e,n){t==e&&s.emit("error",new Error("error reading first path in the walk "+t+"\n"+n),n)}),_(t,1),o.sync)return l;s.end=s.stop=function(){d=1};var S=[];return s.pause=function(){v(1),h=!0,s.emit=function(){S.push(arguments)}},s.resume=function(){if(h){h=!1,v(-1),s.emit=e.prototype.emit;var n=S;for(S=[];n.length;)s.emit.apply(s,n.shift())}},s}module.exports=t,t.find=t.walk=t,t.sync=function(e,n,r){return"function"==typeof n&&(cb=n),(n=n||{}).sync=!0,t(e,n,r)},t.async=function(e,n,r){return new Promise((i,o)=>{"function"==typeof n&&(cb=n);let f=t(e,n=n||{},r);f.on("error",o),f.on("fail",(e,n)=>{n.message='Error walking": '+e+" "+n.message,n&&o(n)});let c={};f.on("path",(e,r)=>{!0!==n.no_return&&(c[e]=r)}),f.on("end",()=>{if(!0!==n.no_return)return i(n.return_object?c:Object.keys(c));i()})})};
},{}],"74Iq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e,t){this.retryCodes=e,this.backoffSettings=t}}exports.RetryOptions=e;class t{constructor(e){e=e||{},this.timeout=e.timeout||3e4,this.retry=e.retry,this.autoPaginate=!("autoPaginate"in e)||e.autoPaginate,this.pageToken=e.pageToken,this.maxResults=e.maxResults,this.otherArgs=e.otherArgs||{},this.bundleOptions=e.bundleOptions,this.isBundling=!("isBundling"in e)||e.isBundling,this.longrunning="longrunning"in e?e.longrunning:void 0,this.promise="promise"in e?e.promise:Promise}merge(e){if(!e)return new t(this);let i=this.timeout,r=this.retry,n=this.autoPaginate,s=this.pageToken,o=this.pageSize,l=this.maxResults,u=this.otherArgs,a=this.isBundling,m=this.longrunning,g=this.promise;if("timeout"in e&&(i=e.timeout),"retry"in e&&(r=e.retry),"autoPaginate"in e&&!e.autoPaginate&&(n=!1),"pageToken"in e&&(n=!1,s=e.pageToken),"pageSize"in e&&(o=e.pageSize),"maxResults"in e&&(l=e.maxResults),"otherArgs"in e){u={};for(const e in this.otherArgs)u[e]=this.otherArgs[e];for(const t in e.otherArgs)u[t]=e.otherArgs[t]}return"isBundling"in e&&(a=e.isBundling),"maxRetries"in e&&(r.backoffSettings.maxRetries=e.maxRetries,delete r.backoffSettings.totalTimeoutMillis),"longrunning"in e&&(m=e.longrunning),"promise"in e&&(g=e.promise),new t({timeout:i,retry:r,bundleOptions:this.bundleOptions,longrunning:m,autoPaginate:n,pageToken:s,pageSize:o,maxResults:l,otherArgs:u,isBundling:a,promise:g})}}function i(e,t){return{retryCodes:e,backoffSettings:t}}function r(e,t,i,r,n,s,o){return{initialRetryDelayMillis:e,retryDelayMultiplier:t,maxRetryDelayMillis:i,initialRpcTimeoutMillis:r,rpcTimeoutMultiplier:n,maxRpcTimeoutMillis:s,totalTimeoutMillis:o}}function n(){return r(100,1.3,6e4,null,null,null,null)}function s(e,t,i,r,n,s,o){return{initialRetryDelayMillis:e,retryDelayMultiplier:t,maxRetryDelayMillis:i,initialRpcTimeoutMillis:r,rpcTimeoutMultiplier:n,maxRpcTimeoutMillis:s,maxRetries:o}}function o(e){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach(t=>{if(t in e&&"number"!=typeof e[t])throw new Error(`${t} should be a number`)});const t=e.element_count_threshold||0,i=e.element_count_limit||0,r=e.request_byte_threshold||0,n=e.request_byte_limit||0,s=e.delay_threshold_millis||0;if(0===t&&0===r&&0===s)throw new Error("one threshold should be > 0");return{elementCountThreshold:t,elementCountLimit:i,requestByteThreshold:r,requestByteLimit:n,delayThreshold:s}}function l(e,t,n,s){if(!e)return null;let o=null;if(t&&"retry_codes_name"in e){o=(t[e.retry_codes_name]||[]).map(e=>Number(s[e]))}let l=null;if(n&&"retry_params_name"in e){const t=n[e.retry_params_name];l=r(t.initial_retry_delay_millis,t.retry_delay_multiplier,t.max_retry_delay_millis,t.initial_rpc_timeout_millis,t.rpc_timeout_multiplier,t.max_rpc_timeout_millis,t.total_timeout_millis)}return i(o,l)}function u(e,t){if(!t)return null;if(!t.retryCodes&&!t.backoffSettings)return e;let r=e.retryCodes;t.retryCodes&&(r=t.retryCodes);let n=e.backoffSettings;return t.backoffSettings&&(n=t.backoffSettings),i(r,n)}function a(e,i,r,n,s,a){s=s||{};const m={},g=(i.interfaces||{})[e];if(!g)return null;const c=(r.interfaces||{})[e]||{},h=g.methods,p=c.methods||{};for(const _ in h){const e=h[_],i=_[0].toLowerCase()+_.slice(1);let r=l(e,g.retry_codes,g.retry_params,n),y=e.bundling,d=e.timeout_millis;if(_ in p){const e=p[_];e&&("bundling"in e&&(y=e.bundling),"timeout_millis"in e&&(d=e.timeout_millis)),r=u(r,l(e,c.retry_codes,c.retry_params,n))}m[i]=new t({timeout:d,retry:r,bundleOptions:y?o(y):null,otherArgs:s,promise:a||Promise})}return m}exports.CallSettings=t,exports.createRetryOptions=i,exports.createBackoffSettings=r,exports.createDefaultBackoffSettings=n,exports.createMaxRetriesBackoffSettings=s,exports.createBundleOptions=o,exports.constructSettings=a;
},{}],"otj5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@grpc/proto-loader"),r=require("fs"),t=require("google-auth-library"),s=require("@grpc/grpc-js"),n=require("path"),o=require("protobufjs"),i=require("semver"),a=require("walkdir"),c=require("./gax"),u=n.join(__dirname,"..","..","protos"),l=[];l.push(u);const d=a.sync(u).filter(e=>".proto"===n.extname(e)).map(e=>n.normalize(e).substring(u.length+1));class g extends s.Client{}exports.ClientStub=g;class h{constructor(e={}){if(this.auth=e.auth||new t.GoogleAuth(e),this.promise=e.promise||Promise,"grpc"in e)this.grpc=e.grpc,this.grpcVersion="";else{if(!i.gte(process.version,"8.13.0")){throw new Error("To use @grpc/grpc-js you must run your code on Node.js v8.13.0 or newer. Please see README if you need to use an older version. https://github.com/googleapis/gax-nodejs/blob/master/README.md")}this.grpc=s,this.grpcVersion=require("@grpc/grpc-js/package.json").version}}async _getCredentials(e){if(e.sslCreds)return e.sslCreds;const r=this.grpc,t=r.credentials.createSsl(),s=await this.auth.getClient();return r.credentials.combineChannelCredentials(t,r.credentials.createFromGoogleCredential(s))}loadFromProto(r,t){const s=e.loadSync(r,t);return this.grpc.loadPackageDefinition(s)}loadProto(e,r){if(r||(r=n.basename(e),e=n.dirname(e)),Array.isArray(r)&&0===r.length)return{};const t=l.slice();t.unshift(e);const s={keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:t};return this.loadFromProto(r,s)}static _resolveFile(e,t){if(r.existsSync(n.join(e,t)))return n.join(e,t);if(d.indexOf(t)>-1)return n.join(u,t);throw new Error(t+" could not be found in "+e)}metadataBuilder(e){const r=new(0,this.grpc.Metadata);for(const t in e){const s=e[t];Array.isArray(s)?s.forEach(e=>r.add(t,e)):r.set(t,`${s}`)}return function(e,t){let s=!1,n=r;if(t)for(const r in t)if("x-goog-api-client"!==r.toLowerCase()&&t.hasOwnProperty(r)){s||(s=!0,n=n.clone());const e=t[r];Array.isArray(e)?e.forEach(e=>n.add(r,e)):n.set(r,`${e}`)}return n}}constructSettings(e,r,t,s){return c.constructSettings(e,r,t,this.grpc.status,{metadataBuilder:this.metadataBuilder(s)},this.promise)}async createStub(e,r){const t=r.servicePath+":"+r.port,s=await this._getCredentials(r),n={};return Object.keys(r).forEach(e=>{e.startsWith("grpc.")&&(n[e.replace(/^grpc\./,"")]=r[e])}),new e(t,s,n)}static createByteLengthFunction(e){return function(r){return e.encode(r).finish().length}}}exports.GrpcClient=h;class p extends o.Root{constructor(...e){super(...e)}resolvePath(e,t){if(e=n.normalize(e),t=n.normalize(t),n.isAbsolute(t)){if(!r.existsSync(t))throw new Error("The include `"+t+"` was not found.");return t}return d.indexOf(t)>-1?n.join(u,t):p._findIncludePath(e,t)}static _findIncludePath(e,t){e=n.normalize(e),t=n.normalize(t);let s=e,o=r.existsSync(n.join(s,t));for(;!o&&s.length>0;)s=s.substring(0,s.lastIndexOf(n.sep)),o=r.existsSync(n.join(s,t));if(!o)throw new Error("The include `"+t+"` was not found.");return n.join(s,t)}}exports.GoogleProtoFilesRoot=p;
},{"@grpc/proto-loader":"QJFA","google-auth-library":"bmqp","@grpc/grpc-js":"g+ZV","protobufjs":"fOt4","semver":"x1dN","walkdir":"GGiH","./gax":"74Iq","@grpc/grpc-js/package.json":"J3zg"}],"rMpE":[function(require,module,exports) {
"use strict";var E;Object.defineProperty(exports,"__esModule",{value:!0}),function(E){E[E.OK=0]="OK",E[E.CANCELLED=1]="CANCELLED",E[E.UNKNOWN=2]="UNKNOWN",E[E.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",E[E.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",E[E.NOT_FOUND=5]="NOT_FOUND",E[E.ALREADY_EXISTS=6]="ALREADY_EXISTS",E[E.PERMISSION_DENIED=7]="PERMISSION_DENIED",E[E.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",E[E.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",E[E.ABORTED=10]="ABORTED",E[E.OUT_OF_RANGE=11]="OUT_OF_RANGE",E[E.UNIMPLEMENTED=12]="UNIMPLEMENTED",E[E.INTERNAL=13]="INTERNAL",E[E.UNAVAILABLE=14]="UNAVAILABLE",E[E.DATA_LOSS=15]="DATA_LOSS",E[E.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(E=exports.Status||(exports.Status={}));
},{}],"WXNC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e extends Error{}exports.GoogleError=e;
},{}],"tOGR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./status"),c=require("./googleError");class t{constructor(e){this.callback=e,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const t=new c.GoogleError("cancelled");t.code=e.Status.CANCELLED,this.callback(t)}}call(e,c){if(this.completed)return;const t=e(c,(...e)=>{this.completed=!0,setImmediate(this.callback,...e)});this.cancelFunc=(()=>t.cancel())}}exports.OngoingCall=t;class s extends t{constructor(e){super(),this.promise=new e((e,t)=>{this.callback=((s,l,o,r)=>{if(s)t(s);else{if(void 0===l)throw new c.GoogleError("Neither error nor response are defined");e([l,o,r])}})}),this.promise.cancel=(()=>{this.cancel()})}}exports.OngoingCallPromise=s;
},{"./status":"rMpE","./googleError":"WXNC"}],"5azC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../call");class l{init(l,r){return r?new e.OngoingCall(r):new e.OngoingCallPromise(l.promise)}wrap(e){return e}call(e,l,r,a){a.call(e,l)}fail(e,l){e.callback(l)}result(e){return e.promise}}exports.NormalApiCaller=l;
},{"../call":"tOGR"}],"uM2X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./normalCalls/normalApiCaller");function r(r,l){return l?l.getApiCaller(r):new e.NormalApiCaller}exports.createAPICaller=r;
},{"./normalCalls/normalApiCaller":"5azC"}],"P5of":[function(require,module,exports) {
"use strict";function e(e,t,r,a){return(n,d)=>{const o=new Date,u=r.options||{};u.deadline=new Date(o.getTime()+t);const i=r.metadataBuilder?r.metadataBuilder(a,r.headers||{}):null;return e(n,i,u,d)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addTimeoutArg=e;
},{}],"A7hV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../status"),t=require("../googleError"),i=require("./timeout");function o(o,r,n){const s=r.backoffSettings.retryDelayMultiplier,l=r.backoffSettings.maxRetryDelayMillis,a=r.backoffSettings.rpcTimeoutMultiplier,c=r.backoffSettings.maxRpcTimeoutMillis;let u=r.backoffSettings.initialRetryDelayMillis,f=r.backoffSettings.initialRpcTimeoutMillis;return(m,d)=>{let E,g,b,D=new Date;r.backoffSettings.totalTimeoutMillis&&(b=D.getTime()+r.backoffSettings.totalTimeoutMillis);let M=0;const S=r.backoffSettings.maxRetries;if(S&&b){const i=new t.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");i.code=e.Status.INVALID_ARGUMENT,d(i)}else!function y(){if(g=null,b&&D.getTime()>=b){const i=new t.GoogleError("Retry total timeout exceeded before any response was received");return i.code=e.Status.DEADLINE_EXCEEDED,void d(i)}if(M&&M>=S){const i=new t.GoogleError("Exceeded maximum number of retries before any response was received");return i.code=e.Status.DEADLINE_EXCEEDED,void d(i)}M++;const T=i.addTimeoutArg(o,f,n);E=T(m,(e,t,i,o)=>{if(e)if(E=null,r.retryCodes.indexOf(e.code)<0)e.note="Exception occurred in retry method that was not classified as transient",d(e);else{const e=Math.random()*u;g=setTimeout(()=>{D=new Date,u=Math.min(u*s,l),f=Math.min(f*a,c,b-D.getTime()),y()},e)}else d(null,t,i,o)})}();return{cancel(){if(g&&clearTimeout(g),E)E.cancel();else{const i=new t.GoogleError("cancelled");i.code=e.Status.CANCELLED,d(i)}}}}}exports.retryable=o;
},{"../status":"rMpE","../googleError":"WXNC","./timeout":"P5of"}],"+ZUZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./apiCaller"),r=require("./normalCalls/retries"),t=require("./normalCalls/timeout");function l(l,o,n){const i="function"==typeof l?Promise.resolve(l):l,s=e.createAPICaller(o,n);return(l,n,a)=>{const u=o.merge(n);let c=s;o.isBundling&&!u.isBundling&&(c=e.createAPICaller(o,void 0));const d=c.init(u,a);return i.then(e=>{e=c.wrap(e);const l=u.retry;return l&&l.retryCodes&&l.retryCodes.length>0?r.retryable(e,u.retry,u.otherArgs):t.addTimeoutArg(e,u.timeout,u.otherArgs)}).then(e=>{c.call(e,l,u,d)}).catch(e=>{c.fail(d,e)}),c.result(d)}}exports.createApiCall=l;
},{"./apiCaller":"uM2X","./normalCalls/retries":"A7hV","./normalCalls/timeout":"P5of"}],"7B8V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("events"),t=require("../status"),s=require("../googleError");class r extends e.EventEmitter{constructor(e,t,s,r){super(),this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=e,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=t,this.result=null,this.metadata=null,this.backoffSettings=s,this._unpackResponse(e),this._listenForEvents(),this._callOptions=r}_listenForEvents(){this.on("newListener",e=>{"complete"===e&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",e=>{"complete"===e&&0==--this.completeListeners&&(this.hasActiveListeners=!1)})}cancel(){return this.currentCallPromise_&&this.currentCallPromise_.cancel(),this.longrunningDescriptor.operationsClient.cancelOperation({name:this.latestResponse.name})}getOperation(e){const t=this,r=this.longrunningDescriptor.operationsClient;function n(){if(!e){return new(0,t._callOptions.promise)((e,r)=>{if(t.latestResponse.error){const e=new s.GoogleError(t.latestResponse.error.message);e.code=t.latestResponse.error.code,r(e)}else e([t.result,t.metadata,t.latestResponse])})}}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,e),n();this.currentCallPromise_=r.getOperation({name:this.latestResponse.name},this._callOptions);const i=this.currentCallPromise_.then(s=>(t.latestResponse=s[0],t._unpackResponse(s[0],e),n()));return e?void 0:i}_unpackResponse(e,t){const r=this.longrunningDescriptor.responseDecoder,n=this.longrunningDescriptor.metadataDecoder;let i,o;if(e.done){if("error"===e.result){const r=new s.GoogleError(e.error.message);return r.code=e.error.code,this.error=r,void(t&&t(r))}r&&e.response&&(this.response=e.response,i=r(e.response.value),this.result=i,this.done=!0)}n&&e.metadata&&(o=n(e.metadata.value),this.metadata=o),t&&t(null,i,o,e)}startPolling_(){const e=this;let r=new Date;const n=this.backoffSettings.retryDelayMultiplier,i=this.backoffSettings.maxRetryDelayMillis;let o,a=this.backoffSettings.initialRetryDelayMillis,l=1/0;function c(t,...s){e.emit(t,...s)}this.backoffSettings.totalTimeoutMillis&&(l=r.getTime()+this.backoffSettings.totalTimeoutMillis),this.latestResponse.metadata&&(o=this.latestResponse.metadata.value),function h(){if(e.hasActiveListeners){if(r.getTime()>=l){const e=new s.GoogleError("Total timeout exceeded before any response was received");return e.code=t.Status.DEADLINE_EXCEEDED,void setImmediate(c,"error",e)}e.getOperation((e,l,p,u)=>{if(e)setImmediate(c,"error",e);else if(l)setImmediate(c,"complete",l,p,u);else{if(u.metadata&&(!o||u&&!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(let s=e.length;-1<s;s-=1)if(e[s]!==t[s])return!1;return!0}(u.metadata.value,o))&&(setImmediate(c,"progress",p,u),o=u.metadata.value),u.done){const e=new s.GoogleError("Long running operation has finished but there was no result");return e.code=t.Status.UNKNOWN,void setImmediate(c,"error",e)}setTimeout(()=>{r=new Date,a=Math.min(a*n,i),h()},a)}})}}()}promise(){return new(0,this._callOptions.promise)((e,t)=>{this.on("error",t).on("complete",(t,s,r)=>{e([t,s,r])})})}}function n(e,t,s,n){return new r(e,t,s,n)}exports.Operation=r,exports.operation=n;
},{"../status":"rMpE","../googleError":"WXNC"}],"zpPx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const n=require("../call"),r=require("../gax"),e=require("./longrunning");class l{constructor(n){this.longrunningDescriptor=n}init(r,e){return e?new n.OngoingCall(e):new n.OngoingCallPromise(r.promise)}wrap(n){return n}call(n,r,e,l){l.call((r,l)=>this._wrapOperation(n,e,r,l),r)}_wrapOperation(n,l,t,i){let o=l.longrunning;o||(o=r.createDefaultBackoffSettings());const u=this.longrunningDescriptor;return n(t,(n,r)=>{if(n)return void i(n,null,null,r);const t=new e.Operation(r,u,o,l);i(null,t,r)})}fail(n,r){n.callback(r)}result(n){return n.promise}}exports.LongrunningApiCaller=l;
},{"../call":"tOGR","../gax":"74Iq","./longrunning":"7B8V"}],"6kUL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./longRunningApiCaller");class r{constructor(e,r,n){this.operationsClient=e,this.responseDecoder=r,this.metadataDecoder=n}getApiCaller(r){return new e.LongrunningApiCaller(this)}}exports.LongRunningDescriptor=r;
},{"./longRunningApiCaller":"zpPx"}],"2baB":[function(require,module,exports) {
"use strict";module.exports=function(e){var d;return d=void 0!==e.ended?e.ended:e._readableState.ended,Boolean(d).valueOf()};
},{}],"YDMs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../call"),r=require("../googleError");class t{constructor(e){this.pageDescriptor=e}createActualCallback(e,t){const a=this;return function(i,l){if(i)return void t(i);if(!l)return void t(new r.GoogleError("Undefined response in pagination method callback."));const n=l[a.pageDescriptor.resourceField],o=l[a.pageDescriptor.responsePageTokenField];o?(e[a.pageDescriptor.requestPageTokenField]=o,t(i,n,e,l)):t(i,n,null,l)}}wrap(e){const r=this;return function(t,a,i,l){return e(t,a,i,r.createActualCallback(t,l))}}init(r,t){return t?new e.OngoingCall(t):new e.OngoingCallPromise(r.promise)}call(e,r,t,a){if(r=Object.assign({},r),t.pageToken&&(r[this.pageDescriptor.requestPageTokenField]=t.pageToken),t.pageSize&&(r[this.pageDescriptor.requestPageSizeField]=t.pageSize),!t.autoPaginate)return void a.call(e,r);const i=t.maxResults||-1,l=[];setImmediate(e,r,function r(t,n,o){if(t)a.callback(t);else{for(let e=0;e<n.length;++e)if(l.push(n[e]),l.length===i){o=null;break}o?setImmediate(e,o,r):a.callback(null,l)}})}fail(e,r){e.callback(r)}result(e){return e.promise}}exports.PagedApiCaller=t;
},{"../call":"tOGR","../googleError":"WXNC"}],"5x3i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("is-stream-ended"),r=require("stream"),t=require("../normalCalls/normalApiCaller"),s=require("./pagedApiCaller");class a{constructor(e,r,t){this.requestPageTokenField=e,this.responsePageTokenField=r,this.resourceField=t}createStream(t,s,a){const i=new r.PassThrough({objectMode:!0}),l="maxResults"in(a=Object.assign({},a,{autoPaginate:!1}))?a.maxResults:-1;let n=0,o=!1;function u(r,d,p){if(r)i.emit("error",r);else{for(let r=0;r<d.length;++r){if(e(i))return;null!==d[r]&&(i.push(d[r]),++n===l&&i.end())}e(i)||(p?("pageToken"in a&&delete a.pageToken,i.isPaused()?(s=p,o=!1):setImmediate(t,p,a,u)):i.end())}}return i.on("resume",()=>{o||(o=!0,t(s,a,u))}),i}getApiCaller(e){return e.autoPaginate?new s.PagedApiCaller(this):new t.NormalApiCaller}}exports.PageDescriptor=a;
},{"is-stream-ended":"2baB","../normalCalls/normalApiCaller":"5azC","./pagedApiCaller":"YDMs"}],"ZpKl":[function(require,module,exports) {
"use strict";function e(){return"undefined"!=typeof window}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowser=e;
},{}],"9nhe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./isbrowser"),r=new Set;function s(s,o){r.has(s)||(r.add(s),e.isBrowser()?console.warn(o):process.emitWarning(o))}exports.warn=s;
},{"./isbrowser":"ZpKl"}],"MqOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("duplexify"),t=require("retry-request");var s;!function(e){e[e.SERVER_STREAMING=1]="SERVER_STREAMING",e[e.CLIENT_STREAMING=2]="CLIENT_STREAMING",e[e.BIDI_STREAMING=3]="BIDI_STREAMING"}(s=exports.StreamType||(exports.StreamType={}));class a extends e{constructor(e,t){super(void 0,void 0,{objectMode:!0,readable:e!==s.CLIENT_STREAMING,writable:e!==s.SERVER_STREAMING}),this.type=e,this._callback=t,this._isCancelCalled=!1}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}forwardEvents(e){["metadata","response","status"].forEach(t=>{e.on(t,this.emit.bind(this,t))}),e.on("metadata",t=>{e.emit("response",{code:200,details:"",message:"OK",metadata:t})})}setStream(e,a){if(this.type===s.SERVER_STREAMING){const s=t(null,{objectMode:!0,request:()=>{if(this._isCancelCalled)return void(this.stream&&this.stream.cancel());const t=e(a,this._callback);return this.stream=t,this.forwardEvents(t),t}});return void this.setReadable(s)}const r=e(a,this._callback);this.stream=r,this.forwardEvents(r),this.type===s.CLIENT_STREAMING&&this.setWritable(r),this.type===s.BIDI_STREAMING&&(this.setReadable(r),this.setWritable(r)),this._isCancelCalled&&this.stream&&this.stream.cancel()}}exports.StreamProxy=a;
},{"duplexify":"ZUFv","retry-request":"yuvw"}],"Hmsv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../warnings"),r=require("./streaming");class t{constructor(e){this.descriptor=e}init(e,t){return new r.StreamProxy(this.descriptor.type,t)}wrap(t){switch(this.descriptor.type){case r.StreamType.SERVER_STREAMING:return(e,r,s)=>t(e,r,s);case r.StreamType.CLIENT_STREAMING:return(e,r,s,a)=>t(r,s,a);case r.StreamType.BIDI_STREAMING:return(e,r,s)=>t(r,s);default:e.warn("streaming_wrap_unknown_stream_type",`Unknown stream type: ${this.descriptor.type}`)}return t}call(e,r,t,s){s.setStream(e,r)}fail(e,r){e.emit("error",r)}result(e){return e}}exports.StreamingApiCaller=t;
},{"../warnings":"9nhe","./streaming":"MqOi"}],"Km+G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./streamingApiCaller");class r{constructor(e){this.type=e,this.streaming=!0}getApiCaller(r){return r.retry=null,new e.StreamingApiCaller(this)}}exports.StreamDescriptor=r;
},{"./streamingApiCaller":"Hmsv"}],"mUw1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../call"),r=require("../googleError");class l{constructor(e){this.bundler=e}init(r,l){return l?new e.OngoingCall(l):new e.OngoingCallPromise(r.promise)}wrap(e){return e}call(e,l,n,i){if(!n.isBundling)throw new r.GoogleError("Bundling enabled with no isBundling!");i.call((r,l)=>(this.bundler.schedule(e,r,l),i),l)}fail(e,r){e.callback(r)}result(e){return e.promise}}exports.BundleApiCaller=l;
},{"../call":"tOGR","../googleError":"WXNC"}],"fJpb":[function(require,module,exports) {
var t="Expected a function",r="__lodash_hash_undefined__",n=1/0,e=9007199254740991,o="[object Arguments]",u="[object Function]",a="[object GeneratorFunction]",i="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,_=/^\[object .+?Constructor\]$/,y="object"==typeof global&&global&&global.Object===Object&&global,v="object"==typeof self&&self&&self.Object===Object&&self,d=y||v||Function("return this")();function g(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}function b(t,r){for(var n=-1,e=r.length,o=t.length;++n<e;)t[o+n]=r[n];return t}function j(t,r){return null==t?void 0:t[r]}function m(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(n){}return r}var O=Array.prototype,w=Function.prototype,$=Object.prototype,S=d["__core-js_shared__"],A=function(){var t=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),x=w.toString,E=$.hasOwnProperty,C=$.toString,F=RegExp("^"+x.call(E).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=d.Symbol,k=$.propertyIsEnumerable,I=O.splice,M=P?P.isConcatSpreadable:void 0,R=Math.max,T=ht(d,"Map"),G=ht(Object,"create"),q=P?P.prototype:void 0,z=q?q.toString:void 0;function B(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function D(){this.__data__=G?G(null):{}}function H(t){return this.has(t)&&delete this.__data__[t]}function J(t){var n=this.__data__;if(G){var e=n[t];return e===r?void 0:e}return E.call(n,t)?n[t]:void 0}function K(t){var r=this.__data__;return G?void 0!==r[t]:E.call(r,t)}function L(t,n){return this.__data__[t]=G&&void 0===n?r:n,this}function N(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function Q(){this.__data__=[]}function U(t){var r=this.__data__,n=ot(r,t);return!(n<0)&&(n==r.length-1?r.pop():I.call(r,n,1),!0)}function V(t){var r=this.__data__,n=ot(r,t);return n<0?void 0:r[n][1]}function W(t){return ot(this.__data__,t)>-1}function X(t,r){var n=this.__data__,e=ot(n,t);return e<0?n.push([t,r]):n[e][1]=r,this}function Y(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function Z(){this.__data__={hash:new B,map:new(T||N),string:new B}}function tt(t){return pt(this,t).delete(t)}function rt(t){return pt(this,t).get(t)}function nt(t){return pt(this,t).has(t)}function et(t,r){return pt(this,t).set(t,r),this}function ot(t,r){for(var n=t.length;n--;)if(Ot(t[n][0],r))return n;return-1}function ut(t,r){for(var n=-1,e=null==t,o=r.length,u=Array(o);++n<o;)u[n]=e?void 0:Mt(t,r[n]);return u}function at(t,r,n,e,o){var u=-1,a=t.length;for(n||(n=_t),o||(o=[]);++u<a;){var i=t[u];r>0&&n(i)?r>1?at(i,r-1,n,e,o):b(o,i):e||(o[o.length]=i)}return o}function it(t,r){for(var n=0,e=(r=yt(r,t)?[r]:st(r)).length;null!=t&&n<e;)t=t[bt(r[n++])];return n&&n==e?t:void 0}function ct(t){return!(!Ct(t)||dt(t))&&(xt(t)||m(t)?F:_).test(jt(t))}function lt(t,r){return r=R(void 0===r?t.length-1:r,0),function(){for(var n=arguments,e=-1,o=R(n.length-r,0),u=Array(o);++e<o;)u[e]=n[r+e];e=-1;for(var a=Array(r+1);++e<r;)a[e]=n[e];return a[r]=u,g(t,this,a)}}function ft(t){if("string"==typeof t)return t;if(Pt(t))return z?z.call(t):"";var r=t+"";return"0"==r&&1/t==-n?"-0":r}function st(t){return $t(t)?t:gt(t)}function pt(t,r){var n=t.__data__;return vt(r)?n["string"==typeof r?"string":"hash"]:n.map}function ht(t,r){var n=j(t,r);return ct(n)?n:void 0}function _t(t){return $t(t)||wt(t)||!!(M&&t&&t[M])}function yt(t,r){if($t(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Pt(t))||(l.test(t)||!c.test(t)||null!=r&&t in Object(r))}function vt(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}function dt(t){return!!A&&A in t}B.prototype.clear=D,B.prototype.delete=H,B.prototype.get=J,B.prototype.has=K,B.prototype.set=L,N.prototype.clear=Q,N.prototype.delete=U,N.prototype.get=V,N.prototype.has=W,N.prototype.set=X,Y.prototype.clear=Z,Y.prototype.delete=tt,Y.prototype.get=rt,Y.prototype.has=nt,Y.prototype.set=et;var gt=mt(function(t){t=kt(t);var r=[];return f.test(t)&&r.push(""),t.replace(s,function(t,n,e,o){r.push(e?o.replace(h,"$1"):n||t)}),r});function bt(t){if("string"==typeof t||Pt(t))return t;var r=t+"";return"0"==r&&1/t==-n?"-0":r}function jt(t){if(null!=t){try{return x.call(t)}catch(r){}try{return t+""}catch(r){}}return""}function mt(r,n){if("function"!=typeof r||n&&"function"!=typeof n)throw new TypeError(t);var e=function(){var t=arguments,o=n?n.apply(this,t):t[0],u=e.cache;if(u.has(o))return u.get(o);var a=r.apply(this,t);return e.cache=u.set(o,a),a};return e.cache=new(mt.Cache||Y),e}function Ot(t,r){return t===r||t!=t&&r!=r}function wt(t){return At(t)&&E.call(t,"callee")&&(!k.call(t,"callee")||C.call(t)==o)}mt.Cache=Y;var $t=Array.isArray;function St(t){return null!=t&&Et(t.length)&&!xt(t)}function At(t){return Ft(t)&&St(t)}function xt(t){var r=Ct(t)?C.call(t):"";return r==u||r==a}function Et(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}function Ct(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function Ft(t){return!!t&&"object"==typeof t}function Pt(t){return"symbol"==typeof t||Ft(t)&&C.call(t)==i}function kt(t){return null==t?"":ft(t)}var It=lt(function(t,r){return ut(t,at(r,1))});function Mt(t,r,n){var e=null==t?void 0:it(t,r);return void 0===e?n:e}module.exports=It;
},{}],"DkaZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("lodash.at");function t(t,o){const s=[];let n=!1;for(let r=0;r<o.length;++r){const u=e(t,o[r])[0];void 0===u?s.push(null):(n=!0,s.push(u))}if(n)return JSON.stringify(s)}exports.computeBundleId=t;
},{"lodash.at":"fJpb"}],"dGm5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../status"),t=require("../googleError");function a(e,t){let l;return null===e?null:void 0!==e?Array.isArray(e)?(l=[],e.forEach(e=>{l.push(a(e,null))}),l):void 0!==e.copy?e.copy():e instanceof ArrayBuffer?e.slice(0):"object"==typeof e?(l={},Object.keys(e).forEach(s=>{t&&s===t.field&&Array.isArray(e[s])?l[s]=e[s].slice(t.start,t.end):l[s]=a(e[s],null)}),l):e:void 0}exports.deepCopyForResponse=a;class l{constructor(e,t,a,l){this._apiCall=e,this._request=t,this._bundledField=a,this._subresponseField=l,this._data=[]}getElementCount(){let e=0;for(let t=0;t<this._data.length;++t)e+=this._data[t].elements.length;return e}getRequestByteSize(){let e=0;for(let t=0;t<this._data.length;++t)e+=this._data[t].bytes;return e}run(){if(0===this._data.length)return[];const l=this._request,s=[],r=[];for(let e=0;e<this._data.length;++e)s.push.apply(s,this._data[e].elements),r.push(this._data[e].callback.id);l[this._bundledField]=s;const n=this;return this.callCanceller=this._apiCall(l,(l,s)=>{const r=[];if(l)n._data.forEach(()=>{r.push(void 0)});else{let e=null;n._subresponseField&&(e={field:n._subresponseField,start:0}),n._data.forEach(t=>{e&&(e.end=e.start+t.elements.length),r.push(a(s,e)),e&&(e.start=e.end)})}for(let a=0;a<n._data.length;++a)if(n._data[a].cancelled){const l=new t.GoogleError("cancelled");l.code=e.Status.CANCELLED,n._data[a].callback(l)}else n._data[a].callback(l,r[a])}),r}extend(e,t,a){this._data.push({elements:e,bytes:t,callback:a})}cancel(a){if(this.callCanceller){let e=!0;return this._data.forEach(t=>{t.callback.id===a&&(t.cancelled=!0),t.cancelled||(e=!1)}),e&&this.callCanceller.cancel(),e}for(let l=0;l<this._data.length;++l)if(this._data[l].callback.id===a){const a=new t.GoogleError("cancelled");a.code=e.Status.CANCELLED,this._data[l].callback(a),this._data.splice(l,1);break}return 0===this._data.length}}exports.Task=l;
},{"../status":"rMpE","../googleError":"WXNC"}],"3O69":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../status"),t=require("../googleError"),i=require("../warnings"),s=require("./bundlingUtils"),n=require("./task");function o(){}class r{constructor(e,t){this._options=e,this._descriptor=t,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(r,d,u){const h=s.computeBundleId(d,this._descriptor.requestDiscriminatorFields);if(u=u||o,void 0===h)return i.warn("bundling_schedule_bundleid_undefined","The request does not have enough information for request bundling. "+`Invoking immediately. Request: ${JSON.stringify(d)} `+`discriminator fields: ${this._descriptor.requestDiscriminatorFields}`),r(d,u);if(void 0===d[this._descriptor.bundledField])return i.warn("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. `+`Invoking immediately. Request: ${JSON.stringify(d)}`),r(d,u);h in this._tasks||(this._tasks[h]=new n.Task(r,d,this._descriptor.bundledField,this._descriptor.subresponseField));let l=this._tasks[h];u.id=String(this._invocationId++),this._invocations[u.id]=h;const _=d[this._descriptor.bundledField],c=_.length;let a=0;const m=this;_.forEach(e=>{a+=this._descriptor.byteLengthFunction(e)});const p=this._options.elementCountLimit||0,b=this._options.requestByteLimit||0;if(p>0&&c>p||b>0&&a>=b){let i;i=p>0&&c>p?"The number of elements "+c+" exceeds the limit "+this._options.elementCountLimit:"The required bytes "+a+" exceeds the limit "+this._options.requestByteLimit;const s=new t.GoogleError(i);return s.code=e.Status.INVALID_ARGUMENT,u(s),{cancel:o}}const f=l.getElementCount(),g=l.getRequestByteSize();(p>0&&c+f>=p||b>0&&a+g>=b)&&(this._runNow(h),this._tasks[h]=new n.Task(r,d,this._descriptor.bundledField,this._descriptor.subresponseField),l=this._tasks[h]),l.extend(_,a,u);const k={cancel(){m._cancel(u.id)}},q=this._options.elementCountThreshold||0,y=this._options.requestByteThreshold||0;return q>0&&l.getElementCount()>=q||y>0&&l.getRequestByteSize()>=y?(this._runNow(h),k):(!(h in this._timers)&&this._options.delayThreshold>0&&(this._timers[h]=setTimeout(()=>{delete this._timers[h],this._runNow(h)},this._options.delayThreshold)),k)}_maybeClearTimeout(e){if(e in this._timers){const t=this._timers[e];delete this._timers[e],clearTimeout(t)}}_cancel(e){if(!(e in this._invocations))return;const t=this._invocations[e];if(!(t in this._tasks))return;const i=this._tasks[t];delete this._invocations[e],i.cancel(e)&&(this._maybeClearTimeout(t),delete this._tasks[t])}_runNow(e){if(!(e in this._tasks))return void i.warn("bundle_runnow_bundleid_unknown",`No such bundleid: ${e}`);this._maybeClearTimeout(e);const t=this._tasks[e];delete this._tasks[e],t.run().forEach(e=>{delete this._invocations[e]})}}exports.BundleExecutor=r;
},{"../status":"rMpE","../googleError":"WXNC","../warnings":"9nhe","./bundlingUtils":"DkaZ","./task":"dGm5"}],"zFkb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../normalCalls/normalApiCaller"),l=require("./bundleApiCaller"),r=require("./bundleExecutor");class i{constructor(e,l,r,i){i||"function"!=typeof r||(i=r,r=null),this.bundledField=e,this.requestDiscriminatorFields=l,this.subresponseField=r,this.byteLengthFunction=i}getApiCaller(i){return!1===i.isBundling?new e.NormalApiCaller:new l.BundleApiCaller(new r.BundleExecutor(i.bundleOptions,this))}}exports.BundleDescriptor=i;
},{"../normalCalls/normalApiCaller":"5azC","./bundleApiCaller":"mUw1","./bundleExecutor":"3O69"}],"UTKt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./longRunningCalls/longRunningDescriptor");exports.LongrunningDescriptor=r.LongRunningDescriptor;var e=require("./paginationCalls/pageDescriptor");exports.PageDescriptor=e.PageDescriptor;var i=require("./streamingCalls/streamDescriptor");exports.StreamDescriptor=i.StreamDescriptor;var s=require("./bundlingCalls/bundleDescriptor");exports.BundleDescriptor=s.BundleDescriptor;
},{"./longRunningCalls/longRunningDescriptor":"6kUL","./paginationCalls/pageDescriptor":"5x3i","./streamingCalls/streamDescriptor":"Km+G","./bundlingCalls/bundleDescriptor":"zFkb"}],"hqUD":[function(require,module,exports) {
module.exports={interfaces:{"google.longrunning.Operations":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:9e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:9e4,total_timeout_millis:6e5}},methods:{GetOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListOperations:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CancelOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},DeleteOperation:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}}};
},{}],"IDVR":[function(require,module,exports) {
module.exports={name:"google-gax",version:"1.3.0",description:"Google API Extensions",main:"build/src/index.js",types:"build/src/index.d.ts",files:["build/src","build/tools/compileProtos.js","protos"],bin:{compileProtos:"./build/tools/compileProtos.js"},dependencies:{"@grpc/grpc-js":"^0.5.2","@grpc/proto-loader":"^0.5.1",duplexify:"^3.6.0","google-auth-library":"^5.0.0","is-stream-ended":"^0.1.4","lodash.at":"^4.6.0","lodash.has":"^4.5.2",protobufjs:"^6.8.8","retry-request":"^4.0.0",semver:"^6.0.0",walkdir:"^0.4.0"},devDependencies:{"@compodoc/compodoc":"^1.1.7","@types/chai":"^4.1.3","@types/execa":"^0.9.0","@types/lodash.at":"^4.6.4","@types/lodash.has":"^4.5.4","@types/mocha":"^5.2.1","@types/ncp":"^2.0.1","@types/node":"^10.3.2","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/rimraf":"^2.0.2","@types/semver":"^6.0.0","@types/sinon":"^7.0.0","@types/source-map-support":"^0.5.0","@types/through2":"^2.0.33",chai:"*",codecov:"^3.1.0",download:"^7.1.0",eslint:"^6.0.0","eslint-config-prettier":"^6.0.0","eslint-plugin-node":"^9.0.0","eslint-plugin-prettier":"^3.0.0",execa:"^2.0.0","file-loader":"^4.0.0","fs-extra":"^8.0.0","google-proto-files":"^1.0.0",gts:"^1.0.0","intelli-espower-loader":"^1.0.1","is-docker":"^2.0.0","json-loader":"^0.5.7",karma:"^4.1.0","karma-child-process":"^1.0.3","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.2","karma-mocha":"^1.3.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^4.0.2",linkinator:"^1.5.0",mocha:"^6.1.4",ncp:"^2.0.0","null-loader":"^3.0.0",nyc:"^14.0.0",pegjs:"~0.10.0",prettier:"^1.15.2",proxyquire:"^2.0.1",pumpify:"^2.0.0",puppeteer:"^1.18.0",rimraf:"^2.6.2",sinon:"^7.0.0","source-map-support":"^0.5.6","stream-events":"^1.0.4",tar:"^4.4.10",through2:"^3.0.0","ts-loader":"^6.0.3",typescript:"~3.5.0",webpack:"^4.34.0","webpack-cli":"^3.3.4"},scripts:{codecov:"nyc mocha build/test --reporter spec --slow 500 && codecov",docs:"compodoc src/","gen-parser":"pegjs src/pathTemplateParser.pegjs",pretest:"npm run prepare",test:"nyc mocha build/test",lint:"gts check && eslint samples/*.js samples/**/*.js",clean:"gts clean",compile:"tsc -p . && cp src/*.json build/src && cp src/*.js build/src","compile-protos":"pbjs -t json ./protos/google/longrunning/operations.proto -p ./protos > protos/operations.json",fix:"gts fix && eslint --fix samples/*.js samples/**/*.js",prepare:"npm run compile && node ./build/tools/prepublish.js",posttest:"npm run lint","system-test":"nyc mocha build/system-test/test.*.js --timeout 120000","samples-test":"echo no sample tests 😱","docs-test":"linkinator docs","predocs-test":"npm run docs","browser-test":"karma start"},repository:"googleapis/gax-nodejs",keywords:["grpc"],author:"Google API Authors",license:"BSD-3-Clause",bugs:{url:"https://github.com/googleapis/gax-nodejs/issues"},homepage:"https://github.com/googleapis/gax-nodejs#readme",engines:{node:">=8.10.0"},nyc:{exclude:["build/system-test/**",".system-test-run/**"]},browser:"build/src/browser.js"};
},{}],"Ehqe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("path"),t=require("./createApiCall"),n=require("./descriptor"),o=require("./operations_client_config");exports.SERVICE_ADDRESS="longrunning.googleapis.com";const i=require("../../package.json").version,r=443,s="gapic/0.7.1",a={listOperations:new n.PageDescriptor("pageToken","nextPageToken","operations")};exports.ALL_SCOPES=[];class c{constructor(e,n,c){const p=Object.assign({servicePath:exports.SERVICE_ADDRESS,port:r,clientConfig:{}},c),l=["gl-node/"+process.versions.node];p.libName&&p.libVersion&&l.push(p.libName+"/"+p.libVersion),l.push(s,"gax/"+i,"grpc/"+e.grpcVersion);const g=e.constructSettings("google.longrunning.Operations",o,p.clientConfig,{"x-goog-api-client":l.join(" ")});this.auth=e.auth;const u=e.createStub(n.google.longrunning.Operations,p);["getOperation","listOperations","cancelOperation","deleteOperation"].forEach(e=>{this["_"+e]=t.createApiCall(u.then(t=>(...n)=>t[e].apply(t,n)),g[e],a[e])})}getProjectId(e){return this.auth.getProjectId(e)}getOperation(e,t,n){return t instanceof Function&&void 0===n&&(n=t,t={}),t=t||{},this._getOperation(e,t,n)}listOperations(e,t,n){return t instanceof Function&&void 0===n&&(n=t,t={}),t=t||{},this._listOperations(e,t,n)}listOperationsStream(e,t){return a.listOperations.createStream(this._listOperations,e,t)}cancelOperation(e,t,n){return t instanceof Function&&void 0===n&&(n=t,t={}),t=t||{},this._cancelOperation(e,t,n)}deleteOperation(e,t,n){return t instanceof Function&&void 0===n&&(n=t,t={}),t=t||{},this._deleteOperation(e,t,n)}}exports.OperationsClient=c;class p{constructor(t){const n=e.join(__dirname,"..",".."),o=t.loadProto(n,"google/longrunning/operations.proto");Object.assign(this,o.google.longrunning),this.operationsClient=(e=>new c(t,o,e)),Object.assign(this.operationsClient,c)}}exports.OperationsClientBuilder=p;
},{"./createApiCall":"+ZUZ","./descriptor":"UTKt","./operations_client_config":"hqUD","../../package.json":"IDVR"}],"Xh3K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("querystring");function r(r){return e.stringify(r)}exports.fromParams=r;
},{}],"gkqa":[function(require,module,exports) {
var t="Expected a function",n="__lodash_hash_undefined__",r=1/0,e=9007199254740991,o="[object Arguments]",u="[object Function]",i="[object GeneratorFunction]",a="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,_=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,v="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,b=v||d||Function("return this")();function g(t,n){return null==t?void 0:t[n]}function j(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(r){}return n}var m=Array.prototype,O=Function.prototype,$=Object.prototype,w=b["__core-js_shared__"],S=function(){var t=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),E=O.toString,x=$.hasOwnProperty,A=$.toString,F=RegExp("^"+E.call(x).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=b.Symbol,C=$.propertyIsEnumerable,P=m.splice,I=at(b,"Map"),R=at(Object,"create"),T=k?k.prototype:void 0,G=T?T.toString:void 0;function M(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function q(){this.__data__=R?R(null):{}}function z(t){return this.has(t)&&delete this.__data__[t]}function B(t){var r=this.__data__;if(R){var e=r[t];return e===n?void 0:e}return x.call(r,t)?r[t]:void 0}function D(t){var n=this.__data__;return R?void 0!==n[t]:x.call(n,t)}function H(t,r){return this.__data__[t]=R&&void 0===r?n:r,this}function J(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function K(){this.__data__=[]}function L(t){var n=this.__data__,r=nt(n,t);return!(r<0)&&(r==n.length-1?n.pop():P.call(n,r,1),!0)}function N(t){var n=this.__data__,r=nt(n,t);return r<0?void 0:n[r][1]}function Q(t){return nt(this.__data__,t)>-1}function U(t,n){var r=this.__data__,e=nt(r,t);return e<0?r.push([t,n]):r[e][1]=n,this}function V(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function W(){this.__data__={hash:new M,map:new(I||J),string:new M}}function X(t){return it(this,t).delete(t)}function Y(t){return it(this,t).get(t)}function Z(t){return it(this,t).has(t)}function tt(t,n){return it(this,t).set(t,n),this}function nt(t,n){for(var r=t.length;r--;)if(dt(t[r][0],n))return r;return-1}function rt(t,n){return null!=t&&x.call(t,n)}function et(t){return!(!wt(t)||pt(t))&&(Ot(t)||j(t)?F:h).test(yt(t))}function ot(t){if("string"==typeof t)return t;if(Et(t))return G?G.call(t):"";var n=t+"";return"0"==n&&1/t==-r?"-0":n}function ut(t){return gt(t)?t:_t(t)}function it(t,n){var r=t.__data__;return st(n)?r["string"==typeof n?"string":"hash"]:r.map}function at(t,n){var r=g(t,n);return et(r)?r:void 0}function ct(t,n,r){for(var e,o=-1,u=(n=ft(n,t)?[n]:ut(n)).length;++o<u;){var i=ht(n[o]);if(!(e=null!=t&&r(t,i)))break;t=t[i]}return e||!!(u=t?t.length:0)&&$t(u)&&lt(i,u)&&(gt(t)||bt(t))}function lt(t,n){return!!(n=null==n?e:n)&&("number"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<n}function ft(t,n){if(gt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Et(t))||(l.test(t)||!c.test(t)||null!=n&&t in Object(n))}function st(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function pt(t){return!!S&&S in t}M.prototype.clear=q,M.prototype.delete=z,M.prototype.get=B,M.prototype.has=D,M.prototype.set=H,J.prototype.clear=K,J.prototype.delete=L,J.prototype.get=N,J.prototype.has=Q,J.prototype.set=U,V.prototype.clear=W,V.prototype.delete=X,V.prototype.get=Y,V.prototype.has=Z,V.prototype.set=tt;var _t=vt(function(t){t=xt(t);var n=[];return f.test(t)&&n.push(""),t.replace(s,function(t,r,e,o){n.push(e?o.replace(_,"$1"):r||t)}),n});function ht(t){if("string"==typeof t||Et(t))return t;var n=t+"";return"0"==n&&1/t==-r?"-0":n}function yt(t){if(null!=t){try{return E.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function vt(n,r){if("function"!=typeof n||r&&"function"!=typeof r)throw new TypeError(t);var e=function(){var t=arguments,o=r?r.apply(this,t):t[0],u=e.cache;if(u.has(o))return u.get(o);var i=n.apply(this,t);return e.cache=u.set(o,i),i};return e.cache=new(vt.Cache||V),e}function dt(t,n){return t===n||t!=t&&n!=n}function bt(t){return mt(t)&&x.call(t,"callee")&&(!C.call(t,"callee")||A.call(t)==o)}vt.Cache=V;var gt=Array.isArray;function jt(t){return null!=t&&$t(t.length)&&!Ot(t)}function mt(t){return St(t)&&jt(t)}function Ot(t){var n=wt(t)?A.call(t):"";return n==u||n==i}function $t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}function wt(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function St(t){return!!t&&"object"==typeof t}function Et(t){return"symbol"==typeof t||St(t)&&A.call(t)==a}function xt(t){return null==t?"":ot(t)}function At(t,n){return null!=t&&ct(t,n,rt)}module.exports=At;
},{}],"6Lxe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("util");function t(e){let t=!1;for(let r=0;r<e.length;r++){const n=e[r];if(n.kind===exports.TERMINAL&&"**"===n.literal){if(t){throw new TypeError("cannot contain more than one path wildcard")}t=!0}}}function r(e){return e.filter(e=>e.kind===exports.TERMINAL).length}function n(t){let r=0;t.forEach(t=>{t.kind!==exports.BINDING||t.literal||(t.literal=e.format("$%d",r),r+=1)})}function o(e){return t(e),n(e),{segments:e,size:r(e)}}exports.BINDING=1,exports.END_BINDING=2,exports.TERMINAL=3,exports.finishParse=o;
},{}],"Tj+R":[function(require,module,exports) {
module.exports=(()=>{function e(t,n,r,l){this.message=t,this.expected=n,this.found=r,this.location=l,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){const n=arguments.length>1?arguments[1]:{},r={},l={template:U};let i=U;const o="/",c={type:"literal",value:"/",description:'"/"'},u=e=>e,a=(e,t)=>e.concat(t),s=e=>e,p="{",f={type:"literal",value:"{",description:'"{"'},d="=",h={type:"literal",value:"=",description:'"="'},g="}",A={type:"literal",value:"}",description:'"}"'},C=(e,t)=>[{kind:O.BINDING,literal:e},t,{kind:O.END_BINDING,literal:""}].reduce((e,t)=>e.concat(t),[]),x=e=>[{kind:O.BINDING,literal:e},{kind:O.TERMINAL,literal:"*"},{kind:O.END_BINDING,literal:""}],N=(e,t)=>e.concat(t),m=e=>"*"===e[0].literal||"**"===e[0].literal?[{kind:O.BINDING},e[0],{kind:O.END_BINDING,literal:""}]:e,y="**",E={type:"literal",value:"**",description:'"**"'},I="*",R={type:"literal",value:"*",description:'"*"'},F=e=>[{kind:O.TERMINAL,literal:e}],k=/^[^*=}{\/]/,D={type:"class",value:"[^*=}{/]",description:"[^*=}{/]"},v=e=>e.join("");let B=0,w=0;const G=[{line:1,column:1,seenCR:!1}];let S=0,T=[];const b=0;let _;if("startRule"in n){if(!(n.startRule in l))throw new Error("Can't start parsing from rule \""+n.startRule+'".');i=l[n.startRule]}function j(e){let n,r,l=G[e];if(l)return l;for(n=e-1;!G[n];)n--;for(l={line:(l=G[n]).line,column:l.column,seenCR:l.seenCR};n<e;)"\n"===(r=t.charAt(n))?(l.seenCR||l.line++,l.column=1,l.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(l.line++,l.column=1,l.seenCR=!0):(l.column++,l.seenCR=!1),n++;return G[e]=l,l}function L(e,t){const n=j(e),r=j(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function M(e){B<S||(B>S&&(S=B,T=[]),T.push(e))}function q(t,n,r,l){return null!==n&&function(e){let t=1;for(e.sort((e,t)=>e.description<t.description?-1:e.description>t.description?1:0);t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){const n=new Array(e.length);let r,l,i;for(i=0;i<e.length;i++)n[i]=e[i].description;return"Expected "+(r=e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(l=t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,e=>"\\x0"+t(e)).replace(/[\x10-\x1F\x80-\xFF]/g,e=>"\\x"+t(e)).replace(/[\u0100-\u0FFF]/g,e=>"\\u0"+t(e)).replace(/[\u1000-\uFFFF]/g,e=>"\\u"+t(e))}(t)+'"':"end of input")+" found."}(n,r),n,r,l)}function U(){let e,n,l;return e=B,47===t.charCodeAt(B)?(n=o,B++):(n=r,0===b&&M(c)),n!==r&&(l=z())!==r?(w=e,e=n=u(l)):(B=e,e=r),e===r&&(e=B,(n=z())!==r&&(w=e,n=u(n)),e=n),e}function z(){let e,n,l,i;return e=B,(n=H())!==r?(47===t.charCodeAt(B)?(l=o,B++):(l=r,0===b&&M(c)),l!==r&&(i=z())!==r?(w=e,e=n=a(n,i)):(B=e,e=r)):(B=e,e=r),e===r&&(e=H()),e}function H(){let e,n;return e=B,(n=function(){let e,t;return e=B,(t=J())!==r&&(w=e,t=m(t)),e=t}())===r&&(n=function(){let e,n,l,i,u,a;return e=B,123===t.charCodeAt(B)?(n=p,B++):(n=r,0===b&&M(f)),n!==r&&(l=K())!==r?(61===t.charCodeAt(B)?(i=d,B++):(i=r,0===b&&M(h)),i!==r&&(u=function e(){let n,l,i,u;return n=B,(l=J())!==r?(47===t.charCodeAt(B)?(i=o,B++):(i=r,0===b&&M(c)),i!==r&&(u=e())!==r?(w=n,l=N(l,u),n=l):(B=n,n=r)):(B=n,n=r),n===r&&(n=J()),n}())!==r?(125===t.charCodeAt(B)?(a=g,B++):(a=r,0===b&&M(A)),a!==r?(w=e,n=C(l,u),e=n):(B=e,e=r)):(B=e,e=r)):(B=e,e=r),e===r&&(e=B,123===t.charCodeAt(B)?(n=p,B++):(n=r,0===b&&M(f)),n!==r&&(l=K())!==r?(125===t.charCodeAt(B)?(i=g,B++):(i=r,0===b&&M(A)),i!==r?(w=e,n=x(l),e=n):(B=e,e=r)):(B=e,e=r)),e}()),n!==r&&(w=e,n=s(n)),e=n}function J(){let e,n;return e=B,t.substr(B,2)===y?(n=y,B+=2):(n=r,0===b&&M(E)),n===r&&(42===t.charCodeAt(B)?(n=I,B++):(n=r,0===b&&M(R)),n===r&&(n=K())),n!==r&&(w=e,n=F(n)),e=n}function K(){let e,n,l;if(e=B,n=[],k.test(t.charAt(B))?(l=t.charAt(B),B++):(l=r,0===b&&M(D)),l!==r)for(;l!==r;)n.push(l),k.test(t.charAt(B))?(l=t.charAt(B),B++):(l=r,0===b&&M(D));else n=r;return n!==r&&(w=e,n=v(n)),e=n}const O=require("./parserExtras");if((_=i())!==r&&B===t.length)return _;throw _!==r&&B<t.length&&M({type:"end",description:"end of input"}),q(null,T,S<t.length?t.charAt(S):null,S<t.length?L(S,S+1):L(S,S))}}})();
},{"./parserExtras":"6Lxe"}],"uKwg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("lodash.has"),t=require("util"),r=require("./parserExtras"),s=require("./pathTemplateParser");class i{get size(){return this.parseResult.size}get segments(){return this.parseResult.segments}constructor(e){this.parseResult=r.finishParse(s.parse(e))}match(e){const s=e.split("/"),i={};let l,n=this.size,a=0;if(this.segments.forEach(e=>{if(!(a>s.length))if(e.kind===r.BINDING)l=e.literal;else if(e.kind===r.TERMINAL)if("*"===e.literal)i[l]=s[a],a+=1;else if("**"===e.literal){const e=s.length-n+1;n+=e-1,i[l]=s.slice(a,a+e).join("/"),a+=e}else{if(e.literal!==s[a]){const r=t.format("mismatched literal (index=%d): '%s' != '%s'",a,e.literal,s[a]);throw new TypeError(r)}a+=1}}),a!==s.length||a!==n){const r=t.format("match error: could not instantiate a path template from %s",e);throw new TypeError(r)}return i}render(s){const n=[];let a=!1;this.segments.forEach(l=>{if(l.kind===r.BINDING){if(!e(s,l.literal)){const e=t.format("Value for key %s is not provided in %s",l.literal,s);throw new TypeError(e)}const r=new i(s[l.literal]);Array.prototype.push.apply(n,r.segments),a=!0}else if(l.kind===r.END_BINDING)a=!1;else{if(a)return;n.push(l)}});const o=l(n);return this.match(o),o}inspect(){return l(this.segments)}}function l(e){let t="",s=!0;return e.forEach(e=>{if(e.kind===r.TERMINAL)return s&&(t+="/"),void(t+=e.literal);s=!0,e.kind===r.BINDING?(t+="/{"+e.literal+"=",s=!1):t+=e.literal+"}"}),t.substring(1)}exports.PathTemplate=i;
},{"lodash.has":"gkqa","./parserExtras":"6Lxe","./pathTemplateParser":"Tj+R"}],"DoHi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./grpc"),r=require("./operationsClient"),t=require("./routingHeader");exports.routingHeader=t;var o=require("google-auth-library");exports.GoogleAuth=o.GoogleAuth;var i=require("./call");exports.OngoingCall=i.OngoingCall;var n=require("./createApiCall");exports.createApiCall=n.createApiCall;var s=require("./descriptor");exports.BundleDescriptor=s.BundleDescriptor,exports.LongrunningDescriptor=s.LongrunningDescriptor,exports.PageDescriptor=s.PageDescriptor,exports.StreamDescriptor=s.StreamDescriptor;var p=require("./gax");exports.CallSettings=p.CallSettings,exports.constructSettings=p.constructSettings,exports.RetryOptions=p.RetryOptions;var a=require("./googleError");exports.GoogleError=a.GoogleError;var l=require("./grpc");exports.ClientStub=l.ClientStub,exports.GoogleProtoFilesRoot=l.GoogleProtoFilesRoot,exports.GrpcClient=l.GrpcClient;var u=require("./longRunningCalls/longrunning");exports.Operation=u.Operation,exports.operation=u.operation;var g=require("./pathTemplate");exports.PathTemplate=g.PathTemplate;var c=require("./streamingCalls/streaming");function x(t){t=Object.assign({scopes:x.ALL_SCOPES},t);const o=new e.GrpcClient(t);return new r.OperationsClientBuilder(o)}exports.StreamType=c.StreamType,exports.lro=x,x.SERVICE_ADDRESS=r.SERVICE_ADDRESS,x.ALL_SCOPES=r.ALL_SCOPES,exports.createByteLengthFunction=e.GrpcClient.createByteLengthFunction,exports.version=require("../../package.json").version;const C=require("protobufjs");exports.protobuf=C;
},{"./grpc":"otj5","./operationsClient":"Ehqe","./routingHeader":"Xh3K","google-auth-library":"bmqp","./call":"tOGR","./createApiCall":"+ZUZ","./descriptor":"UTKt","./gax":"74Iq","./googleError":"WXNC","./longRunningCalls/longrunning":"7B8V","./pathTemplate":"uKwg","./streamingCalls/streaming":"MqOi","../../package.json":"IDVR","protobufjs":"fOt4"}],"VYux":[function(require,module,exports) {
"use strict";const e=require("./firestore_client_config.json"),t=require("google-gax"),a=require("path"),r=require("../../../package.json").version;class s{constructor(s){s=s||{},this._descriptors={};const o=s.servicePath||s.apiEndpoint||this.constructor.servicePath;(s=Object.assign({clientConfig:{},port:this.constructor.port,servicePath:o},s)).scopes=this.constructor.scopes;const n=new t.GrpcClient(s);this.auth=n.auth;const h=[`gl-node/${process.version}`,`grpc/${n.grpcVersion}`,`gax/${t.version}`,`gapic/${r}`];s.libName&&s.libVersion&&h.push(`${s.libName}/${s.libVersion}`);const i=n.loadProto(a.join(__dirname,"..","..","protos"),["google/firestore/v1beta1/firestore.proto"]);this._pathTemplates={anyPathPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/documents/{document}/{any_path=**}"),databaseRootPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}"),documentPathPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/documents/{document_path=**}"),documentRootPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/documents")},this._descriptors.page={listDocuments:new t.PageDescriptor("pageToken","nextPageToken","documents"),listCollectionIds:new t.PageDescriptor("pageToken","nextPageToken","collectionIds")},this._descriptors.stream={batchGetDocuments:new t.StreamDescriptor(t.StreamType.SERVER_STREAMING),runQuery:new t.StreamDescriptor(t.StreamType.SERVER_STREAMING),write:new t.StreamDescriptor(t.StreamType.BIDI_STREAMING),listen:new t.StreamDescriptor(t.StreamType.BIDI_STREAMING)};const c=n.constructSettings("google.firestore.v1beta1.Firestore",e,s.clientConfig,{"x-goog-api-client":h.join(" ")});this._innerApiCalls={};const m=n.createStub(i.google.firestore.v1beta1.Firestore,s),p=["getDocument","listDocuments","createDocument","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","write","listen","listCollectionIds"];for(const e of p)this._innerApiCalls[e]=t.createApiCall(m.then(t=>(function(){const a=Array.prototype.slice.call(arguments,0);return t[e].apply(t,a)}),e=>(function(){throw e})),c[e],this._descriptors.page[e]||this._descriptors.stream[e])}static get servicePath(){return"firestore.googleapis.com"}static get apiEndpoint(){return"firestore.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){return this.auth.getProjectId(e)}getDocument(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.getDocument(e,a,r)}listDocuments(e,t,a){return t instanceof Function&&void 0===a&&(a=t,t={}),e=e||{},t=t||{},this._innerApiCalls.listDocuments(e,t,a)}listDocumentsStream(e,t){return t=t||{},this._descriptors.page.listDocuments.createStream(this._innerApiCalls.listDocuments,e,t)}createDocument(e,t,a){return t instanceof Function&&void 0===a&&(a=t,t={}),e=e||{},t=t||{},this._innerApiCalls.createDocument(e,t,a)}updateDocument(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({"document.name":e.document.name}),this._innerApiCalls.updateDocument(e,a,r)}deleteDocument(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.deleteDocument(e,a,r)}batchGetDocuments(e,a){return e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.batchGetDocuments(e,a)}beginTransaction(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.beginTransaction(e,a,r)}commit(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.commit(e,a,r)}rollback(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.rollback(e,a,r)}runQuery(e,a){return e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.runQuery(e,a)}write(e){return e=e||{},this._innerApiCalls.write(e)}listen(e){return e=e||{},this._innerApiCalls.listen({},e)}listCollectionIds(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.listCollectionIds(e,a,r)}listCollectionIdsStream(e,t){return t=t||{},this._descriptors.page.listCollectionIds.createStream(this._innerApiCalls.listCollectionIds,e,t)}anyPathPath(e,t,a,r){return this._pathTemplates.anyPathPathTemplate.render({project:e,database:t,document:a,any_path:r})}databaseRootPath(e,t){return this._pathTemplates.databaseRootPathTemplate.render({project:e,database:t})}documentPathPath(e,t,a){return this._pathTemplates.documentPathPathTemplate.render({project:e,database:t,document_path:a})}documentRootPath(e,t){return this._pathTemplates.documentRootPathTemplate.render({project:e,database:t})}matchProjectFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).project}matchDatabaseFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).database}matchDocumentFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).document}matchAnyPathFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).any_path}matchProjectFromDatabaseRootName(e){return this._pathTemplates.databaseRootPathTemplate.match(e).project}matchDatabaseFromDatabaseRootName(e){return this._pathTemplates.databaseRootPathTemplate.match(e).database}matchProjectFromDocumentPathName(e){return this._pathTemplates.documentPathPathTemplate.match(e).project}matchDatabaseFromDocumentPathName(e){return this._pathTemplates.documentPathPathTemplate.match(e).database}matchDocumentPathFromDocumentPathName(e){return this._pathTemplates.documentPathPathTemplate.match(e).document_path}matchProjectFromDocumentRootName(e){return this._pathTemplates.documentRootPathTemplate.match(e).project}matchDatabaseFromDocumentRootName(e){return this._pathTemplates.documentRootPathTemplate.match(e).database}}module.exports=s;
},{"./firestore_client_config.json":"ChJQ","google-gax":"DoHi","../../../package.json":"bDRq"}],"Qsrl":[function(require,module,exports) {
"use strict";const e=require("./firestore_client");module.exports=e,module.exports.FirestoreClient=e;
},{"./firestore_client":"VYux"}],"h49o":[function(require,module,exports) {
module.exports={interfaces:{"google.firestore.v1.Firestore":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5},streaming:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:3e5,rpc_timeout_multiplier:1,max_rpc_timeout_millis:3e5,total_timeout_millis:6e5}},methods:{GetDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListDocuments:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},CreateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},UpdateDocument:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},DeleteDocument:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},BatchGetDocuments:{timeout_millis:3e5,retry_codes_name:"idempotent",retry_params_name:"streaming"},BeginTransaction:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},Commit:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},Rollback:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},RunQuery:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"streaming"},Write:{timeout_millis:864e5,retry_codes_name:"non_idempotent",retry_params_name:"streaming"},Listen:{timeout_millis:864e5,retry_codes_name:"idempotent",retry_params_name:"streaming"},ListCollectionIds:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"}}}}};
},{}],"GdFB":[function(require,module,exports) {
"use strict";const e=require("./firestore_client_config.json"),t=require("google-gax"),a=require("path"),r=require("../../../package.json").version;class s{constructor(s){s=s||{},this._descriptors={};const o=s.servicePath||s.apiEndpoint||this.constructor.servicePath;(s=Object.assign({clientConfig:{},port:this.constructor.port,servicePath:o},s)).scopes=this.constructor.scopes;const n=new t.GrpcClient(s);this.auth=n.auth;const h=[`gl-node/${process.version}`,`grpc/${n.grpcVersion}`,`gax/${t.version}`,`gapic/${r}`];s.libName&&s.libVersion&&h.push(`${s.libName}/${s.libVersion}`);const i=n.loadProto(a.join(__dirname,"..","..","protos"),["google/firestore/v1/firestore.proto"]);this._pathTemplates={anyPathPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/documents/{document}/{any_path=**}"),databaseRootPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}"),documentPathPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/documents/{document_path=**}"),documentRootPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/documents")},this._descriptors.page={listDocuments:new t.PageDescriptor("pageToken","nextPageToken","documents"),listCollectionIds:new t.PageDescriptor("pageToken","nextPageToken","collectionIds")},this._descriptors.stream={batchGetDocuments:new t.StreamDescriptor(t.StreamType.SERVER_STREAMING),runQuery:new t.StreamDescriptor(t.StreamType.SERVER_STREAMING),write:new t.StreamDescriptor(t.StreamType.BIDI_STREAMING),listen:new t.StreamDescriptor(t.StreamType.BIDI_STREAMING)};const c=n.constructSettings("google.firestore.v1.Firestore",e,s.clientConfig,{"x-goog-api-client":h.join(" ")});this._innerApiCalls={};const m=n.createStub(i.google.firestore.v1.Firestore,s),p=["getDocument","listDocuments","createDocument","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","write","listen","listCollectionIds"];for(const e of p)this._innerApiCalls[e]=t.createApiCall(m.then(t=>(function(){const a=Array.prototype.slice.call(arguments,0);return t[e].apply(t,a)}),e=>(function(){throw e})),c[e],this._descriptors.page[e]||this._descriptors.stream[e])}static get servicePath(){return"firestore.googleapis.com"}static get apiEndpoint(){return"firestore.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){return this.auth.getProjectId(e)}getDocument(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.getDocument(e,a,r)}listDocuments(e,t,a){return t instanceof Function&&void 0===a&&(a=t,t={}),e=e||{},t=t||{},this._innerApiCalls.listDocuments(e,t,a)}listDocumentsStream(e,t){return t=t||{},this._descriptors.page.listDocuments.createStream(this._innerApiCalls.listDocuments,e,t)}createDocument(e,t,a){return t instanceof Function&&void 0===a&&(a=t,t={}),e=e||{},t=t||{},this._innerApiCalls.createDocument(e,t,a)}updateDocument(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({"document.name":e.document.name}),this._innerApiCalls.updateDocument(e,a,r)}deleteDocument(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.deleteDocument(e,a,r)}batchGetDocuments(e,a){return e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.batchGetDocuments(e,a)}beginTransaction(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.beginTransaction(e,a,r)}commit(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.commit(e,a,r)}rollback(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({database:e.database}),this._innerApiCalls.rollback(e,a,r)}runQuery(e,a){return e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.runQuery(e,a)}write(e){return e=e||{},this._innerApiCalls.write(e)}listen(e){return e=e||{},this._innerApiCalls.listen({},e)}listCollectionIds(e,a,r){return a instanceof Function&&void 0===r&&(r=a,a={}),e=e||{},(a=a||{}).otherArgs=a.otherArgs||{},a.otherArgs.headers=a.otherArgs.headers||{},a.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.listCollectionIds(e,a,r)}listCollectionIdsStream(e,t){return t=t||{},this._descriptors.page.listCollectionIds.createStream(this._innerApiCalls.listCollectionIds,e,t)}anyPathPath(e,t,a,r){return this._pathTemplates.anyPathPathTemplate.render({project:e,database:t,document:a,any_path:r})}databaseRootPath(e,t){return this._pathTemplates.databaseRootPathTemplate.render({project:e,database:t})}documentPathPath(e,t,a){return this._pathTemplates.documentPathPathTemplate.render({project:e,database:t,document_path:a})}documentRootPath(e,t){return this._pathTemplates.documentRootPathTemplate.render({project:e,database:t})}matchProjectFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).project}matchDatabaseFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).database}matchDocumentFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).document}matchAnyPathFromAnyPathName(e){return this._pathTemplates.anyPathPathTemplate.match(e).any_path}matchProjectFromDatabaseRootName(e){return this._pathTemplates.databaseRootPathTemplate.match(e).project}matchDatabaseFromDatabaseRootName(e){return this._pathTemplates.databaseRootPathTemplate.match(e).database}matchProjectFromDocumentPathName(e){return this._pathTemplates.documentPathPathTemplate.match(e).project}matchDatabaseFromDocumentPathName(e){return this._pathTemplates.documentPathPathTemplate.match(e).database}matchDocumentPathFromDocumentPathName(e){return this._pathTemplates.documentPathPathTemplate.match(e).document_path}matchProjectFromDocumentRootName(e){return this._pathTemplates.documentRootPathTemplate.match(e).project}matchDatabaseFromDocumentRootName(e){return this._pathTemplates.documentRootPathTemplate.match(e).database}}module.exports=s;
},{"./firestore_client_config.json":"h49o","google-gax":"DoHi","../../../package.json":"bDRq"}],"uC8m":[function(require,module,exports) {
module.exports={interfaces:{"google.firestore.admin.v1.FirestoreAdmin":{retry_codes:{idempotent:["DEADLINE_EXCEEDED","UNAVAILABLE"],non_idempotent:[]},retry_params:{default:{initial_retry_delay_millis:100,retry_delay_multiplier:1.3,max_retry_delay_millis:6e4,initial_rpc_timeout_millis:2e4,rpc_timeout_multiplier:1,max_rpc_timeout_millis:2e4,total_timeout_millis:6e5}},methods:{CreateIndex:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ListIndexes:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},GetIndex:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},DeleteIndex:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ImportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},ExportDocuments:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"},GetField:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},ListFields:{timeout_millis:6e4,retry_codes_name:"idempotent",retry_params_name:"default"},UpdateField:{timeout_millis:6e4,retry_codes_name:"non_idempotent",retry_params_name:"default"}}}}};
},{}],"cEN4":[function(require,module,exports) {
"use strict";const e=require("./firestore_admin_client_config.json"),t=require("google-gax"),r=require("path"),a=require("../../../package.json").version;class s{constructor(s){s=s||{},this._descriptors={};const o=s.servicePath||s.apiEndpoint||this.constructor.servicePath;(s=Object.assign({clientConfig:{},port:this.constructor.port,servicePath:o},s)).scopes=this.constructor.scopes;const i=new t.GrpcClient(s);this.auth=i.auth;const n=[`gl-node/${process.version}`,`grpc/${i.grpcVersion}`,`gax/${t.version}`,`gapic/${a}`];s.libName&&s.libVersion&&n.push(`${s.libName}/${s.libVersion}`);const h=i.loadProto(r.join(__dirname,"..","..","protos"),["google/firestore/admin/v1/firestore_admin.proto"]);this._pathTemplates={databasePathTemplate:new t.PathTemplate("projects/{project}/databases/{database}"),fieldPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection_id}/fields/{field_id}"),indexPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection_id}/indexes/{index_id}"),parentPathTemplate:new t.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection_id}")},this._descriptors.page={listIndexes:new t.PageDescriptor("pageToken","nextPageToken","indexes"),listFields:new t.PageDescriptor("pageToken","nextPageToken","fields")};const d=i.constructSettings("google.firestore.admin.v1.FirestoreAdmin",e,s.clientConfig,{"x-goog-api-client":n.join(" ")});this._innerApiCalls={};const l=i.createStub(h.google.firestore.admin.v1.FirestoreAdmin,s),p=["createIndex","listIndexes","getIndex","deleteIndex","importDocuments","exportDocuments","getField","listFields","updateField"];for(const e of p)this._innerApiCalls[e]=t.createApiCall(l.then(t=>(function(){const r=Array.prototype.slice.call(arguments,0);return t[e].apply(t,r)}),e=>(function(){throw e})),d[e],this._descriptors.page[e])}static get servicePath(){return"firestore.googleapis.com"}static get apiEndpoint(){return"firestore.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){return this.auth.getProjectId(e)}createIndex(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.createIndex(e,r,a)}listIndexes(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.listIndexes(e,r,a)}listIndexesStream(e,t){return t=t||{},this._descriptors.page.listIndexes.createStream(this._innerApiCalls.listIndexes,e,t)}getIndex(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.getIndex(e,r,a)}deleteIndex(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.deleteIndex(e,r,a)}importDocuments(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.importDocuments(e,r,a)}exportDocuments(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.exportDocuments(e,r,a)}getField(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({name:e.name}),this._innerApiCalls.getField(e,r,a)}listFields(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({parent:e.parent}),this._innerApiCalls.listFields(e,r,a)}listFieldsStream(e,t){return t=t||{},this._descriptors.page.listFields.createStream(this._innerApiCalls.listFields,e,t)}updateField(e,r,a){return r instanceof Function&&void 0===a&&(a=r,r={}),e=e||{},(r=r||{}).otherArgs=r.otherArgs||{},r.otherArgs.headers=r.otherArgs.headers||{},r.otherArgs.headers["x-goog-request-params"]=t.routingHeader.fromParams({"field.name":e.field.name}),this._innerApiCalls.updateField(e,r,a)}databasePath(e,t){return this._pathTemplates.databasePathTemplate.render({project:e,database:t})}fieldPath(e,t,r,a){return this._pathTemplates.fieldPathTemplate.render({project:e,database:t,collection_id:r,field_id:a})}indexPath(e,t,r,a){return this._pathTemplates.indexPathTemplate.render({project:e,database:t,collection_id:r,index_id:a})}parentPath(e,t,r){return this._pathTemplates.parentPathTemplate.render({project:e,database:t,collection_id:r})}matchProjectFromDatabaseName(e){return this._pathTemplates.databasePathTemplate.match(e).project}matchDatabaseFromDatabaseName(e){return this._pathTemplates.databasePathTemplate.match(e).database}matchProjectFromFieldName(e){return this._pathTemplates.fieldPathTemplate.match(e).project}matchDatabaseFromFieldName(e){return this._pathTemplates.fieldPathTemplate.match(e).database}matchCollectionIdFromFieldName(e){return this._pathTemplates.fieldPathTemplate.match(e).collection_id}matchFieldIdFromFieldName(e){return this._pathTemplates.fieldPathTemplate.match(e).field_id}matchProjectFromIndexName(e){return this._pathTemplates.indexPathTemplate.match(e).project}matchDatabaseFromIndexName(e){return this._pathTemplates.indexPathTemplate.match(e).database}matchCollectionIdFromIndexName(e){return this._pathTemplates.indexPathTemplate.match(e).collection_id}matchIndexIdFromIndexName(e){return this._pathTemplates.indexPathTemplate.match(e).index_id}matchProjectFromParentName(e){return this._pathTemplates.parentPathTemplate.match(e).project}matchDatabaseFromParentName(e){return this._pathTemplates.parentPathTemplate.match(e).database}matchCollectionIdFromParentName(e){return this._pathTemplates.parentPathTemplate.match(e).collection_id}}module.exports=s;
},{"./firestore_admin_client_config.json":"uC8m","google-gax":"DoHi","../../../package.json":"bDRq"}],"AcL3":[function(require,module,exports) {
"use strict";const e=require("./firestore_client"),r=require("./firestore_admin_client");e.FirestoreClient=e,e.FirestoreAdminClient=r,module.exports=e;
},{"./firestore_client":"GdFB","./firestore_admin_client":"cEN4"}],"qAM9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("bun"),t=require("through2"),r=require("url"),o=require("./convert"),s=require("./document"),i=require("./logger"),n=require("./path"),a=require("./pool"),l=require("./reference"),c=require("./reference"),u=require("./serializer"),d=require("./timestamp"),m=require("./transaction"),h=require("./util"),p=require("./validate"),g=require("./write-batch");var f=require("./reference");exports.CollectionReference=f.CollectionReference,exports.DocumentReference=f.DocumentReference,exports.QuerySnapshot=f.QuerySnapshot,exports.Query=f.Query;var v=require("./document");exports.DocumentSnapshot=v.DocumentSnapshot,exports.QueryDocumentSnapshot=v.QueryDocumentSnapshot;var _=require("./field-value");exports.FieldValue=_.FieldValue;var w=require("./write-batch");exports.WriteBatch=w.WriteBatch,exports.WriteResult=w.WriteResult;var S=require("./transaction");exports.Transaction=S.Transaction;var F=require("./timestamp");exports.Timestamp=F.Timestamp;var T=require("./document-change");exports.DocumentChange=T.DocumentChange;var b=require("./path");exports.FieldPath=b.FieldPath;var R=require("./geo-point");exports.GeoPoint=R.GeoPoint;var P=require("./logger");exports.setLogFunction=P.setLogFunction;const j=require("../../package.json").version;let y,I;i.setLibVersion(j);const q="google-cloud-resource-prefix",O=5,x=100,A=14;class E{constructor(e){this._settings={},this._settingsFrozen=!1,this._serializer=null,this._projectId=void 0,this._lastSuccessfulRequest=0;const t={libName:"gccl",libVersion:j};if(e&&e.firebaseVersion&&(t.libVersion+=" fire/"+e.firebaseVersion),process.env.FIRESTORE_EMULATOR_HOST){p.validateHost("FIRESTORE_EMULATOR_HOST",process.env.FIRESTORE_EMULATOR_HOST);const r=Object.assign({},e,t,{host:process.env.FIRESTORE_EMULATOR_HOST,ssl:!1});delete r.servicePath,delete r.apiEndpoint,r.customHeaders=Object.assign({},r.customHeaders,{Authorization:"Bearer owner"}),this.validateAndApplySettings(r)}else this.validateAndApplySettings(Object.assign({},e,t));this._preferTransactions=void 0!==process.env.FUNCTION_TRIGGER_TYPE,this._lastSuccessfulRequest=0,this._preferTransactions&&i.logger("Firestore",null,"Detected GCF environment"),this._clientPool=new a.ClientPool(x,()=>{let e;if(!1===this._settings.ssl){const t=require("@grpc/grpc-js").credentials.createInsecure();e=new module.exports.v1(Object.assign({sslCreds:t},this._settings))}else e=new module.exports.v1(this._settings);return i.logger("Firestore",null,"Initialized Firestore GAPIC Client"),e}),i.logger("Firestore",null,"Initialized Firestore")}settings(e){if(p.validateObject("settings",e),p.validateString("settings.projectId",e.projectId,{optional:!0}),p.validateBoolean("settings.timestampsInSnapshots",e.timestampsInSnapshots,{optional:!0}),this._settingsFrozen)throw new Error("Firestore has already been initialized. You can only call settings() once, and only before calling any other methods on a Firestore object.");const t=Object.assign({},this._settings,e);this.validateAndApplySettings(t),this._settingsFrozen=!0}validateAndApplySettings(e){if(p.validateBoolean("settings.timestampsInSnapshots",e.timestampsInSnapshots,{optional:!0}),void 0!==e.projectId&&(p.validateString("settings.projectId",e.projectId),this._projectId=e.projectId),void 0!==e.host){if(p.validateHost("settings.host",e.host),void 0!==e.servicePath)throw new Error('Cannot set both "settings.host" and "settings.servicePath".');if(void 0!==e.apiEndpoint)throw new Error('Cannot set both "settings.host" and "settings.apiEndpoint".');const t=new r.URL(`http://${e.host}`);e.servicePath=t.hostname,""!==t.port&&void 0===e.port&&(e.port=Number(t.port)),delete e.host}void 0!==e.ssl&&p.validateBoolean("settings.ssl",e.ssl),this._settings=e,this._serializer=new u.Serializer(this)}get projectId(){if(void 0===this._projectId)throw new Error("INTERNAL ERROR: Client is not yet ready to issue requests.");return this._projectId}get formattedName(){return`projects/${this.projectId}/databases/${n.DEFAULT_DATABASE_ID}`}doc(e){n.validateResourcePath("documentPath",e);const t=n.ResourcePath.EMPTY.append(e);if(!t.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${e}". Your path does not contain an even number of components.`);return new c.DocumentReference(this,t)}collection(e){n.validateResourcePath("collectionPath",e);const t=n.ResourcePath.EMPTY.append(e);if(!t.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${e}". Your path does not contain an odd number of components.`);return new l.CollectionReference(this,t)}collectionGroup(e){if(-1!==e.indexOf("/"))throw new Error(`Invalid collectionId '${e}'. Collection IDs must not contain '/'.`);return new l.Query(this,l.QueryOptions.forCollectionGroupQuery(e))}batch(){return new g.WriteBatch(this)}snapshot_(e,t,r){let i,a;if(void 0===r||"protobufJS"===r)i=(e=>e),a=(e=>e);else{if("json"!==r)throw new Error('Unsupported encoding format. Expected "json" or "protobufJS", '+`but was "${r}".`);i=o.timestampFromJson,a=o.fieldsFromJson}const l=new s.DocumentSnapshotBuilder;return"string"==typeof e?l.ref=new c.DocumentReference(this,n.QualifiedResourcePath.fromSlashSeparatedString(e)):(l.ref=new c.DocumentReference(this,n.QualifiedResourcePath.fromSlashSeparatedString(e.name)),l.fieldsProto=e.fields?a(e.fields):{},l.createTime=d.Timestamp.fromProto(i(e.createTime,"documentOrName.createTime")),l.updateTime=d.Timestamp.fromProto(i(e.updateTime,"documentOrName.updateTime"))),t&&(l.readTime=d.Timestamp.fromProto(i(t,"readTime"))),l.build()}runTransaction(e,t){return p.validateFunction("updateFunction",e),t&&(p.validateObject("transactionOptions",t),p.validateInteger("transactionOptions.maxAttempts",t.maxAttempts,{optional:!0,minValue:1})),this.initializeIfNeeded().then(()=>this._runTransaction(e,t))}_runTransaction(e,t){let r,o=5;t&&(o=t.maxAttempts||o,r=t.previousTransaction);const s=new m.Transaction(this,r),n=s.requestTag;let a;return--o,s.begin().then(()=>{const t=e(s);return(a=t instanceof Promise?t:Promise.reject(new Error("You must return a Promise in your transaction()-callback."))).catch(e=>(i.logger("Firestore.runTransaction",n,"Rolling back transaction after callback error:",e),s.rollback().then(()=>a)))}).then(()=>s.commit().then(()=>a).catch(t=>o>0?(i.logger("Firestore.runTransaction",n,`Retrying transaction after error: ${JSON.stringify(t)}.`),this._runTransaction(e,{previousTransaction:s,maxAttempts:o})):(i.logger("Firestore.runTransaction",n,"Exhausted transaction retries, returning error: %s",t),Promise.reject(t))))}listCollections(){return new c.DocumentReference(this,n.ResourcePath.EMPTY).listCollections()}getAll(...e){p.validateMinNumberOfArguments("Firestore.getAll",arguments,1);const{documents:t,fieldMask:r}=m.parseGetAllArguments(e);return this.initializeIfNeeded().then(()=>this.getAll_(t,r,h.requestTag()))}getAll_(e,t,r,o){const s=new Set,n=new Map;for(const i of e)s.add(i.formattedName);const a={database:this.formattedName,transaction:o,documents:Array.from(s)};if(t){const e=t.map(e=>e.formattedName);a.mask={fieldPaths:e}}const l=this;return l.readStream("batchGetDocuments",a,r,!0).then(t=>new Promise((o,s)=>{t.on("error",e=>{i.logger("Firestore.getAll_",r,"GetAll failed with error:",e),s(e)}).on("data",e=>{try{let o;e.found?(i.logger("Firestore.getAll_",r,"Received document: %s",e.found.name),o=l.snapshot_(e.found,e.readTime)):(i.logger("Firestore.getAll_",r,"Document missing: %s",e.missing),o=l.snapshot_(e.missing,e.readTime));const a=o.ref.path;n.set(a,o)}catch(t){i.logger("Firestore.getAll_",r,"GetAll failed with exception:",t),s(t)}}).on("end",()=>{i.logger("Firestore.getAll_",r,"Received %d results",n.size);const t=[];for(const r of e){const e=n.get(r.path);void 0!==e?t.push(e):s(new Error(`Did not receive document for "${r.path}".`))}o(t)}),t.resume()}))}async initializeIfNeeded(){this._settingsFrozen||(!0===this._settings.timestampsInSnapshots?console.error("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===this._settings.timestampsInSnapshots&&console.error("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior.")),this._settingsFrozen=!0,void 0===this._projectId&&(this._projectId=await this._clientPool.run(e=>new Promise((t,r)=>{e.getProjectId((e,o)=>{e?(i.logger("Firestore._detectProjectId",null,"Failed to detect project ID: %s",e),r(e)):(i.logger("Firestore._detectProjectId",null,"Detected project ID: %s",o),t(o))})})))}createCallOptions(){return{otherArgs:{headers:Object.assign({[q]:this.formattedName},this._settings.customHeaders)}}}_retry(e,t,r,o=0){const s=this,n=o,a=o||100;return--e,new Promise(e=>{setTimeout(e,n)}).then(r).then(e=>(s._lastSuccessfulRequest=(new Date).getTime(),e)).catch(o=>void 0!==o.code&&o.code!==A?(i.logger("Firestore._retry",t,"Request failed with unrecoverable error:",o),Promise.reject(o)):0===e?(i.logger("Firestore._retry",t,"Request failed with error:",o),Promise.reject(o)):(i.logger("Firestore._retry",t,"Retrying request that failed with error:",o),s._retry(e,t,r,a)))}_initializeStream(e,t,r){let o=null,s=!1,n=!1;return new Promise((a,l)=>{const c=()=>{o?(i.logger("Firestore._initializeStream",t,"Emit error:",o),e.emit("error",o),o=null):s||(i.logger("Firestore._initializeStream",t,"Releasing stream"),s=!0,e.pause(),a(),setTimeout(()=>{n&&(i.logger("Firestore._initializeStream",t,"Forwarding stream close"),e.emit("end"))},0))};e.on("readable",()=>{c()}),e.on("end",()=>{i.logger("Firestore._initializeStream",t,"Received stream end"),n=!0,c()}),e.on("error",e=>{i.logger("Firestore._initializeStream",t,"Received stream error:",e),s?o=e:(i.logger("Firestore._initializeStream",t,"Received initial error:",e),s=!0,l(e))}),r&&(i.logger("Firestore._initializeStream",t,"Sending request: %j",r),e.write(r,"utf-8",()=>{i.logger("Firestore._initializeStream",t,"Marking stream as healthy"),c()}))})}request(e,t,r,o){const s=o?O:1,n=this.createCallOptions();return this._clientPool.run(o=>this._retry(s,r,()=>new Promise((s,a)=>{i.logger("Firestore.request",r,"Sending request: %j",t),o[e](t,n,(e,t)=>{e?(i.logger("Firestore.request",r,"Received error:",e),a(e)):(i.logger("Firestore.request",r,"Received response: %j",t),s(t))})})))}readStream(r,o,s,n){const a=n?O:1,l=this.createCallOptions(),c=new h.Deferred;return this._clientPool.run(n=>{const u=new h.Deferred;return this._retry(a,s,async()=>{i.logger("Firestore.readStream",s,"Sending request: %j",o);const a=n[r](o,l),d=t.obj(function(e,t,r){i.logger("Firestore.readStream",s,"Received response: %j",e),this.push(e),r()}),m=e([a,d]);m.on("close",u.resolve),m.on("end",u.resolve),m.on("error",u.resolve),await this._initializeStream(m,s),c.resolve(m)}).catch(e=>{u.resolve(),c.reject(e)}),u.promise}),c.promise}readWriteStream(r,o,s,n){const a=n?O:1,l=this.createCallOptions(),c=new h.Deferred;return this._clientPool.run(n=>{const u=new h.Deferred;return this._retry(a,s,async()=>{i.logger("Firestore.readWriteStream",s,"Opening stream");const a=n[r](l),d=t.obj(function(e,t,r){i.logger("Firestore.readWriteStream",s,"Received response: %j",e),this.push(e),r()}),m=e([a,d]);m.on("close",u.resolve),m.on("finish",u.resolve),m.on("end",u.resolve),m.on("error",u.resolve),await this._initializeStream(m,s,o),c.resolve(m)}).catch(e=>{u.resolve(),c.reject(e)}),u.promise}),c.promise}}exports.Firestore=E,exports.default=E;const D=module.exports;module.exports=E,module.exports=Object.assign(module.exports,D),Object.defineProperty(module.exports,"v1beta1",{get:()=>(I||(I=require("./v1beta1")),I)}),Object.defineProperty(module.exports,"v1",{get:()=>(y||(y=require("./v1")),y)});
},{"bun":"AF2J","through2":"rg5e","./convert":"IZfu","./document":"hqpX","./logger":"fhaM","./path":"Ti1F","./pool":"QArp","./reference":"S993","./serializer":"uv8E","./timestamp":"Aybr","./transaction":"6XDr","./util":"NOIQ","./validate":"4Xv5","./write-batch":"06XJ","./field-value":"LYdN","./document-change":"rLzN","./geo-point":"dU+D","../../package.json":"bDRq","@grpc/grpc-js":"g+ZV","./v1beta1":"Qsrl","./v1":"AcL3"}],"ae++":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),r=require("../auth/credential"),t=require("../utils/validator"),i=require("../utils/index"),o=function(){function e(){}return e.prototype.delete=function(){return Promise.resolve()},e}(),n=function(){function e(e){this.INTERNAL=new o,this.firestoreClient=s(e),this.appInternal=e}return Object.defineProperty(e.prototype,"app",{get:function(){return this.appInternal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"client",{get:function(){return this.firestoreClient},enumerable:!0,configurable:!0}),e}();function a(o){if(!(t.isNonNullObject(o)&&"options"in o))throw new e.FirebaseFirestoreError({code:"invalid-argument",message:"First argument passed to admin.firestore() must be a valid Firebase app instance."});var n=i.getProjectId(o),a=r.tryGetCertificate(o.options.credential),s=require("../../package.json").version;if(null!=a){if(!t.isNonEmptyString(n))throw new e.FirebaseFirestoreError({code:"no-project-id",message:"Failed to determine project ID for Firestore. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable."});return{credentials:{private_key:a.privateKey,client_email:a.clientEmail},projectId:n,firebaseVersion:s}}if(o.options.credential instanceof r.ApplicationDefaultCredential)return t.isNonEmptyString(n)?{projectId:n,firebaseVersion:s}:{firebaseVersion:s};throw new e.FirebaseFirestoreError({code:"invalid-credential",message:"Failed to initialize Google Cloud Firestore client with the available credentials. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Firestore API."})}function s(r){var t,i=a(r);try{t=require("@google-cloud/firestore").Firestore}catch(o){throw new e.FirebaseFirestoreError({code:"missing-dependencies",message:'Failed to import the Cloud Firestore client library for Node.js. Make sure to install the "@google-cloud/firestore" npm package. Original error: '+o})}return new t(i)}exports.FirestoreService=n,exports.getFirestoreOptions=a;
},{"../utils/error":"5IpL","../auth/credential":"ktw5","../utils/validator":"lesR","../utils/index":"L70j","../../package.json":"faxV","@google-cloud/firestore":"qAM9"}],"s/2U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("../utils/api-request"),r=require("../utils/validator"),n="console.firebase.google.com",o=443,i="/v1/",s=1e4,a={400:"Malformed instance ID argument.",401:"Request not authorized.",403:"Project does not match instance ID or the client does not have sufficient privileges.",404:"Failed to find the instance ID.",409:"Already deleted.",429:"Request throttled out by the backend server.",500:"Internal server error.",503:"Backend servers are over capacity. Try again later."},u=function(){function u(e,r){this.host=n,this.port=o,this.timeout=s,this.httpClient=new t.AuthorizedHttpClient(e),this.path=i+"project/"+r+"/instanceId/"}return u.prototype.deleteInstanceId=function(n){return r.isNonEmptyString(n)?this.invokeRequestHandler(new t.ApiSettings(n,"DELETE")):Promise.reject(new e.FirebaseInstanceIdError(e.InstanceIdClientErrorCode.INVALID_INSTANCE_ID,"Instance ID must be a non-empty string."))},u.prototype.invokeRequestHandler=function(r){var n=this,o=this.path+r.getEndpoint();return Promise.resolve().then(function(){var e={url:"https://"+n.host+o,method:r.getHttpMethod(),timeout:n.timeout};return n.httpClient.send(e)}).then(function(e){return e.data}).catch(function(n){if(n instanceof t.HttpError){var o=n.response,i=o.isJson()&&"error"in o.data?o.data.error:o.text,s=a[o.status],u=s?'Instance ID "'+r.getEndpoint()+'": '+s:i;throw new e.FirebaseInstanceIdError(e.InstanceIdClientErrorCode.API_ERROR,u)}throw n})},u}();exports.FirebaseInstanceIdRequestHandler=u;
},{"../utils/error":"5IpL","../utils/api-request":"owx1","../utils/validator":"lesR"}],"SLWu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("./instance-id-request"),n=require("../utils/index"),r=require("../utils/validator"),i=function(){function e(){}return e.prototype.delete=function(){return Promise.resolve(void 0)},e}(),o=function(){function o(o){if(this.INTERNAL=new i,!(r.isNonNullObject(o)&&"options"in o))throw new e.FirebaseInstanceIdError(e.InstanceIdClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.instanceId() must be a valid Firebase app instance.");var s=n.getProjectId(o);if(!r.isNonEmptyString(s))throw new e.FirebaseInstanceIdError(e.InstanceIdClientErrorCode.INVALID_PROJECT_ID,"Failed to determine project ID for InstanceId. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");this.app_=o,this.requestHandler=new t.FirebaseInstanceIdRequestHandler(o,s)}return o.prototype.deleteInstanceId=function(e){return this.requestHandler.deleteInstanceId(e).then(function(e){})},Object.defineProperty(o.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),o}();exports.InstanceId=o;
},{"../utils/error":"5IpL","./instance-id-request":"s/2U","../utils/index":"L70j","../utils/validator":"lesR"}],"fbKD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/api-request"),t=require("../utils/error"),r=require("../utils/validator"),n="firebase.googleapis.com:443",o="/v1/",a="/v1beta1/",s={"X-Client-Version":"Node/Admin/8.3.0"},i=1e4,u=100,p={sha1:"SHA_1",sha256:"SHA_256"};function l(e,r,n){if(!e)throw new t.FirebaseProjectManagementError("invalid-server-response",n+" Response data: "+JSON.stringify(r,null,2))}exports.assertServerResponse=l;var c=function(){function c(t){this.baseUrl="https://"+n+o,this.baseBetaUrl="https://"+n+a,this.httpClient=new e.AuthorizedHttpClient(t)}return c.wrapAndRethrowHttpError=function(e,r){var n,o;switch(e){case 400:n="invalid-argument",o="Invalid argument provided.";break;case 401:case 403:n="authentication-error",o="An error occurred when trying to authenticate. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions.";break;case 404:n="not-found",o="The specified entity could not be found.";break;case 409:n="already-exists",o="The specified entity already exists.";break;case 500:n="internal-error",o="An internal error has occurred. Please retry the request.";break;case 503:n="service-unavailable",o="The server could not process the request in time. See the error documentation for more details.";break;default:n="unknown-error",o="An unknown server error was returned."}throw new t.FirebaseProjectManagementError(n,o+" Status code: "+e+'. Raw server response: "'+r+'".')},c.prototype.listAndroidApps=function(e){return this.invokeRequestHandler("GET",e+"/androidApps?page_size="+u,null,"v1beta1")},c.prototype.listIosApps=function(e){return this.invokeRequestHandler("GET",e+"/iosApps?page_size="+u,null,"v1beta1")},c.prototype.listAppMetadata=function(e){return this.invokeRequestHandler("GET",e+":searchApps?page_size="+u,null,"v1beta1")},c.prototype.createAndroidApp=function(e,t,n){var o=this,a={packageName:t};return r.isNonEmptyString(n)&&(a.displayName=n),this.invokeRequestHandler("POST",e+"/androidApps",a,"v1beta1").then(function(e){return l(r.isNonNullObject(e),e,"createAndroidApp's responseData must be a non-null object."),l(r.isNonEmptyString(e.name),e,"createAndroidApp's responseData.name must be a non-empty string."),o.pollRemoteOperationWithExponentialBackoff(e.name)})},c.prototype.createIosApp=function(e,t,n){var o=this,a={bundleId:t};return r.isNonEmptyString(n)&&(a.displayName=n),this.invokeRequestHandler("POST",e+"/iosApps",a,"v1beta1").then(function(e){return l(r.isNonNullObject(e),e,"createIosApp's responseData must be a non-null object."),l(r.isNonEmptyString(e.name),e,"createIosApp's responseData.name must be a non-empty string."),o.pollRemoteOperationWithExponentialBackoff(e.name)})},c.prototype.setDisplayName=function(e,t){var r={displayName:t};return this.invokeRequestHandler("PATCH",e+"?update_mask=display_name",r,"v1beta1").then(function(){return null})},c.prototype.getAndroidShaCertificates=function(e){return this.invokeRequestHandler("GET",e+"/sha",null,"v1beta1")},c.prototype.addAndroidShaCertificate=function(e,t){var r={shaHash:t.shaHash,certType:p[t.certType]};return this.invokeRequestHandler("POST",e+"/sha",r,"v1beta1").then(function(){return null})},c.prototype.getConfig=function(e){return this.invokeRequestHandler("GET",e+"/config",null,"v1beta1")},c.prototype.getResource=function(e){return this.invokeRequestHandler("GET",e,null,"v1beta1")},c.prototype.deleteResource=function(e){return this.invokeRequestHandler("DELETE",e,null,"v1beta1").then(function(){return null})},c.prototype.pollRemoteOperationWithExponentialBackoff=function(t){var r=this;return(new e.ExponentialBackoffPoller).poll(function(){return r.invokeRequestHandler("GET",t,null).then(function(e){if(e.error){var t=e.error.code||500,r=e.error.message||JSON.stringify(e.error);c.wrapAndRethrowHttpError(t,r)}return e.done?e.response:null})})},c.prototype.invokeRequestHandler=function(t,r,n,o){void 0===o&&(o="v1");var a={method:t,url:""+("v1"===o?this.baseUrl:this.baseBetaUrl)+r,headers:s,data:n,timeout:i};return this.httpClient.send(a).then(function(t){if(!t.isJson())throw new e.HttpError(t);return t.data}).catch(function(t){throw t instanceof e.HttpError&&c.wrapAndRethrowHttpError(t.response.status,t.response.text),t})},c}();exports.ProjectManagementRequestHandler=c;
},{"../utils/api-request":"owx1","../utils/error":"5IpL","../utils/validator":"lesR"}],"RwO5":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.PLATFORM_UNKNOWN="PLATFORM_UNKNOWN",e.IOS="IOS",e.ANDROID="ANDROID"}(e=exports.AppPlatform||(exports.AppPlatform={}));
},{}],"jQNE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("../utils/validator"),r=require("./project-management-api-request"),s=require("./app-metadata"),a=function(){function a(r,s){if(this.appId=r,this.requestHandler=s,!t.isNonEmptyString(r))throw new e.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName="projects/-/androidApps/"+r}return a.prototype.getMetadata=function(){return this.requestHandler.getResource(this.resourceName).then(function(e){r.assertServerResponse(t.isNonNullObject(e),e,"getMetadata()'s responseData must be a non-null object.");return["name","appId","projectId","packageName"].forEach(function(s){r.assertServerResponse(t.isNonEmptyString(e[s]),e,"getMetadata()'s responseData."+s+" must be a non-empty string.")}),{platform:s.AppPlatform.ANDROID,resourceName:e.name,appId:e.appId,displayName:e.displayName||null,projectId:e.projectId,packageName:e.packageName}})},a.prototype.setDisplayName=function(e){return this.requestHandler.setDisplayName(this.resourceName,e)},a.prototype.getShaCertificates=function(){return this.requestHandler.getAndroidShaCertificates(this.resourceName).then(function(e){if(r.assertServerResponse(t.isNonNullObject(e),e,"getShaCertificates()'s responseData must be a non-null object."),!e.certificates)return[];r.assertServerResponse(t.isArray(e.certificates),e,'"certificates" field must be present in the getShaCertificates() response data.');var s=["name","shaHash"];return e.certificates.map(function(a){return s.forEach(function(s){r.assertServerResponse(t.isNonEmptyString(a[s]),e,"getShaCertificates()'s responseData.certificates[]."+s+" must be a non-empty string.")}),new n(a.shaHash,a.name)})})},a.prototype.addShaCertificate=function(e){return this.requestHandler.addAndroidShaCertificate(this.resourceName,e)},a.prototype.deleteShaCertificate=function(e){return this.requestHandler.deleteResource(e.resourceName)},a.prototype.getConfig=function(){return this.requestHandler.getConfig(this.resourceName).then(function(e){r.assertServerResponse(t.isNonNullObject(e),e,"getConfig()'s responseData must be a non-null object.");var s=e.configFileContents;return r.assertServerResponse(t.isBase64String(s),e,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(s,"base64").toString("utf8")})},a}();exports.AndroidApp=a;var n=function(){return function(t,r){if(this.shaHash=t,this.resourceName=r,/^[a-fA-F0-9]{40}$/.test(t))this.certType="sha1";else{if(!/^[a-fA-F0-9]{64}$/.test(t))throw new e.FirebaseProjectManagementError("invalid-argument","shaHash must be either a sha256 hash or a sha1 hash.");this.certType="sha256"}}}();exports.ShaCertificate=n;
},{"../utils/error":"5IpL","../utils/validator":"lesR","./project-management-api-request":"fbKD","./app-metadata":"RwO5"}],"k/UD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("../utils/validator"),r=require("./project-management-api-request"),s=require("./app-metadata"),n=function(){function n(r,s){if(this.appId=r,this.requestHandler=s,!t.isNonEmptyString(r))throw new e.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName="projects/-/iosApps/"+r}return n.prototype.getMetadata=function(){return this.requestHandler.getResource(this.resourceName).then(function(e){r.assertServerResponse(t.isNonNullObject(e),e,"getMetadata()'s responseData must be a non-null object.");return["name","appId","projectId","bundleId"].forEach(function(s){r.assertServerResponse(t.isNonEmptyString(e[s]),e,"getMetadata()'s responseData."+s+" must be a non-empty string.")}),{platform:s.AppPlatform.IOS,resourceName:e.name,appId:e.appId,displayName:e.displayName||null,projectId:e.projectId,bundleId:e.bundleId}})},n.prototype.setDisplayName=function(e){return this.requestHandler.setDisplayName(this.resourceName,e)},n.prototype.getConfig=function(){return this.requestHandler.getConfig(this.resourceName).then(function(e){r.assertServerResponse(t.isNonNullObject(e),e,"getConfig()'s responseData must be a non-null object.");var s=e.configFileContents;return r.assertServerResponse(t.isBase64String(s),e,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(s,"base64").toString("utf8")})},n}();exports.IosApp=n;
},{"../utils/error":"5IpL","../utils/validator":"lesR","./project-management-api-request":"fbKD","./app-metadata":"RwO5"}],"l2j0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/error"),t=require("../utils/index"),r=require("../utils/validator"),s=require("./android-app"),p=require("./ios-app"),n=require("./project-management-api-request"),a=require("./app-metadata"),o=function(){function e(){}return e.prototype.delete=function(){return Promise.resolve()},e}(),i=function(){function i(s){if(this.app=s,this.INTERNAL=new o,!(r.isNonNullObject(s)&&"options"in s))throw new e.FirebaseProjectManagementError("invalid-argument","First argument passed to admin.projectManagement() must be a valid Firebase app instance.");if(this.projectId=t.getProjectId(s),!r.isNonEmptyString(this.projectId))throw new e.FirebaseProjectManagementError("invalid-project-id","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");this.resourceName="projects/"+this.projectId,this.requestHandler=new n.ProjectManagementRequestHandler(s)}return i.prototype.listAndroidApps=function(){return this.listPlatformApps("android","listAndroidApps()")},i.prototype.listIosApps=function(){return this.listPlatformApps("ios","listIosApps()")},i.prototype.androidApp=function(e){return new s.AndroidApp(e,this.requestHandler)},i.prototype.iosApp=function(e){return new p.IosApp(e,this.requestHandler)},i.prototype.shaCertificate=function(e){return new s.ShaCertificate(e)},i.prototype.createAndroidApp=function(e,t){var p=this;return this.requestHandler.createAndroidApp(this.resourceName,e,t).then(function(e){return n.assertServerResponse(r.isNonNullObject(e),e,"createAndroidApp()'s responseData must be a non-null object."),n.assertServerResponse(r.isNonEmptyString(e.appId),e,'"responseData.appId" field must be present in createAndroidApp()\'s response data.'),new s.AndroidApp(e.appId,p.requestHandler)})},i.prototype.createIosApp=function(e,t){var s=this;return this.requestHandler.createIosApp(this.resourceName,e,t).then(function(e){return n.assertServerResponse(r.isNonNullObject(e),e,"createIosApp()'s responseData must be a non-null object."),n.assertServerResponse(r.isNonEmptyString(e.appId),e,'"responseData.appId" field must be present in createIosApp()\'s response data.'),new p.IosApp(e.appId,s.requestHandler)})},i.prototype.listAppMetadata=function(){var e=this;return this.requestHandler.listAppMetadata(this.resourceName).then(function(t){return e.transformResponseToAppMetadata(t)})},i.prototype.setDisplayName=function(e){return this.requestHandler.setDisplayName(this.resourceName,e)},i.prototype.transformResponseToAppMetadata=function(e){var t=this;return this.assertListAppsResponseData(e,"listAppMetadata()"),e.apps?e.apps.map(function(s){n.assertServerResponse(r.isNonEmptyString(s.appId),e,'"apps[].appId" field must be present in the listAppMetadata() response data.'),n.assertServerResponse(r.isNonEmptyString(s.platform),e,'"apps[].platform" field must be present in the listAppMetadata() response data.');var p={appId:s.appId,platform:a.AppPlatform[s.platform]||a.AppPlatform.PLATFORM_UNKNOWN,projectId:t.projectId,resourceName:s.name};return s.displayName&&(p.displayName=s.displayName),p}):[]},i.prototype.listPlatformApps=function(e,t){var a=this;return("android"===e?this.requestHandler.listAndroidApps(this.resourceName):this.requestHandler.listIosApps(this.resourceName)).then(function(o){return a.assertListAppsResponseData(o,t),o.apps?o.apps.map(function(i){return n.assertServerResponse(r.isNonEmptyString(i.appId),o,'"apps[].appId" field must be present in the '+t+" response data."),"android"===e?new s.AndroidApp(i.appId,a.requestHandler):new p.IosApp(i.appId,a.requestHandler)}):[]})},i.prototype.assertListAppsResponseData=function(e,t){n.assertServerResponse(r.isNonNullObject(e),e,t+"'s responseData must be a non-null object."),e.apps&&n.assertServerResponse(r.isArray(e.apps),e,'"apps" field must be present in the '+t+" response data.")},i}();exports.ProjectManagement=i;
},{"../utils/error":"5IpL","../utils/index":"L70j","../utils/validator":"lesR","./android-app":"jQNE","./ios-app":"k/UD","./project-management-api-request":"fbKD","./app-metadata":"RwO5"}],"mE6h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./auth/credential"),t=require("./utils/validator"),r=require("./utils/deep-copy"),i=require("./utils/error"),n=function(){function e(e){this.credential_=e,this.isDeleted_=!1,this.tokenListeners_=[]}return e.prototype.getToken=function(e){var r=this,n=this.cachedToken_&&this.cachedToken_.expirationTime<Date.now();return!this.cachedTokenPromise_||e||n?(clearTimeout(this.tokenRefreshTimeout_),this.cachedTokenPromise_=Promise.resolve(this.credential_.getAccessToken()).then(function(e){if(!t.isNonNullObject(e)||"number"!=typeof e.expires_in||"string"!=typeof e.access_token)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,'Invalid access token generated: "'+JSON.stringify(e)+'". Valid access tokens must be an object with the "expires_in" (number) and "access_token" (string) properties.');var n={accessToken:e.access_token,expirationTime:Date.now()+1e3*e.expires_in},s=r.cachedToken_&&r.cachedToken_.accessToken!==n.accessToken,o=r.cachedToken_&&r.cachedToken_.expirationTime!==n.expirationTime;(!r.cachedToken_||s||o)&&(r.cachedToken_=n,r.tokenListeners_.forEach(function(e){e(n.accessToken)}));var a=e.expires_in-300,c=4;return a<=0&&(a=e.expires_in%60,c=Math.floor(e.expires_in/60)-1),c&&!r.isDeleted_&&r.setTokenRefreshTimeout(1e3*a,c),n}).catch(function(e){var t="string"==typeof e?e:e.message;throw-1!==(t='Credential implementation provided to initializeApp() via the "credential" property failed to fetch a valid Google OAuth2 access token with the following error: "'+t+'".').indexOf("invalid_grant")&&(t+=" There are two likely causes: (1) your server time is not properly synced or (2) your certificate key file has been revoked. To solve (1), re-sync the time on your server. To solve (2), make sure the key ID for your key file is still present at https://console.firebase.google.com/iam-admin/serviceaccounts/project. If not, generate a new key file at https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk."),new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,t)}),this.cachedTokenPromise_):this.cachedTokenPromise_.catch(function(e){if(r.cachedToken_)return r.cachedTokenPromise_=Promise.resolve(r.cachedToken_),r.cachedTokenPromise_;throw r.cachedTokenPromise_=null,e})},e.prototype.addAuthTokenListener=function(e){this.tokenListeners_.push(e),this.cachedToken_&&e(this.cachedToken_.accessToken)},e.prototype.removeAuthTokenListener=function(e){this.tokenListeners_=this.tokenListeners_.filter(function(t){return t!==e})},e.prototype.delete=function(){this.isDeleted_=!0,clearTimeout(this.tokenRefreshTimeout_)},e.prototype.setTokenRefreshTimeout=function(e,t){var r=this;this.tokenRefreshTimeout_=setTimeout(function(){r.getToken(!0).catch(function(e){t>0&&r.setTokenRefreshTimeout(6e4,t-1)})},e)},e}();exports.FirebaseAppInternals=n;var s=function(){function s(s,o,a){var c=this;if(this.firebaseInternals_=a,this.services_={},this.isDeleted_=!1,this.name_=o,this.options_=r.deepCopy(s),!t.isNonNullObject(this.options_))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_OPTIONS,'Invalid Firebase app options passed as the first argument to initializeApp() for the app named "'+this.name_+'". Options must be a non-null object.');"credential"in this.options_||(this.options_.credential=new e.ApplicationDefaultCredential);var h=this.options_.credential;if("object"!=typeof h||null===h||"function"!=typeof h.getAccessToken)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_OPTIONS,'Invalid Firebase app options passed as the first argument to initializeApp() for the app named "'+this.name_+'". The "credential" property must be an object which implements the Credential interface.');Object.keys(a.serviceFactories).forEach(function(e){c[e]=c.getService_.bind(c,e)}),this.INTERNAL=new n(this.options_.credential)}return s.prototype.auth=function(){var e=this;return this.ensureService_("auth",function(){return new(0,require("./auth/auth").Auth)(e)})},s.prototype.database=function(e){var t=this;return this.ensureService_("database",function(){return new(0,require("./database/database").DatabaseService)(t)}).getDatabase(e)},s.prototype.messaging=function(){var e=this;return this.ensureService_("messaging",function(){return new(0,require("./messaging/messaging").Messaging)(e)})},s.prototype.storage=function(){var e=this;return this.ensureService_("storage",function(){return new(0,require("./storage/storage").Storage)(e)})},s.prototype.firestore=function(){var e=this;return this.ensureService_("firestore",function(){return new(0,require("./firestore/firestore").FirestoreService)(e)}).client},s.prototype.instanceId=function(){var e=this;return this.ensureService_("iid",function(){return new(0,require("./instance-id/instance-id").InstanceId)(e)})},s.prototype.projectManagement=function(){var e=this;return this.ensureService_("project-management",function(){return new(0,require("./project-management/project-management").ProjectManagement)(e)})},Object.defineProperty(s.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"options",{get:function(){return this.checkDestroyed_(),r.deepCopy(this.options_)},enumerable:!0,configurable:!0}),s.prototype.delete=function(){var e=this;return this.checkDestroyed_(),this.firebaseInternals_.removeApp(this.name_),this.INTERNAL.delete(),Promise.all(Object.keys(this.services_).map(function(t){return e.services_[t].INTERNAL.delete()})).then(function(){e.services_={},e.isDeleted_=!0})},s.prototype.ensureService_=function(e,t){var r;return this.checkDestroyed_(),e in this.services_?r=this.services_[e]:(r=t(),this.services_[e]=r),r},s.prototype.getService_=function(e){return this.checkDestroyed_(),e in this.services_||(this.services_[e]=this.firebaseInternals_.serviceFactories[e](this,this.extendApp_.bind(this))),this.services_[e]},s.prototype.extendApp_=function(e){r.deepExtend(this,e)},s.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw new i.FirebaseAppError(i.AppErrorCodes.APP_DELETED,'Firebase app named "'+this.name_+'" has already been deleted.')},s}();exports.FirebaseApp=s;
},{"./auth/credential":"ktw5","./utils/validator":"lesR","./utils/deep-copy":"Irg2","./utils/error":"5IpL","./auth/auth":"XBfB","./database/database":"8EZ+","./messaging/messaging":"12mS","./storage/storage":"8EKC","./firestore/firestore":"ae++","./instance-id/instance-id":"SLWu","./project-management/project-management":"l2j0"}],"j26k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=require("fs"),t=require("./utils/deep-copy"),i=require("./utils/error"),n=require("./firebase-app"),a=require("./auth/credential"),o=require("./utils/validator"),p="[DEFAULT]";exports.FIREBASE_CONFIG_VAR="FIREBASE_CONFIG";var s={},u={},c=function(){function e(e){this.firebase_=e,this.serviceFactories={},this.apps_={},this.appHooks_={}}return e.prototype.initializeApp=function(e,r){if(void 0===r&&(r=p),void 0===e&&((e=this.loadOptionsFromEnvVar()).credential=new a.ApplicationDefaultCredential),"string"!=typeof r||""===r)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_NAME,'Invalid Firebase app name "'+r+'" provided. App name must be a non-empty string.');if(r in this.apps_)throw r===p?new i.FirebaseAppError(i.AppErrorCodes.DUPLICATE_APP,"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."):new i.FirebaseAppError(i.AppErrorCodes.DUPLICATE_APP,'Firebase app named "'+r+'" already exists. This means you called initializeApp() more than once with the same app name as the second argument. Make sure you provide a unique name every time you call initializeApp().');var t=new n.FirebaseApp(e,r,this);return this.apps_[r]=t,this.callAppHooks_(t,"create"),t},e.prototype.app=function(e){if(void 0===e&&(e=p),"string"!=typeof e||""===e)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_NAME,'Invalid Firebase app name "'+e+'" provided. App name must be a non-empty string.');if(!(e in this.apps_)){var r=e===p?"The default Firebase app does not exist. ":'Firebase app named "'+e+'" does not exist. ';throw r+="Make sure you call initializeApp() before using any of the Firebase services.",new i.FirebaseAppError(i.AppErrorCodes.NO_APP,r)}return this.apps_[e]},Object.defineProperty(e.prototype,"apps",{get:function(){var e=this;return Object.keys(this.apps_).map(function(r){return e.apps_[r]})},enumerable:!0,configurable:!0}),e.prototype.removeApp=function(e){if(void 0===e)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_NAME,"No Firebase app name provided. App name must be a non-empty string.");var r=this.app(e);this.callAppHooks_(r,"delete"),delete this.apps_[e]},e.prototype.registerService=function(e,r,n,a){var o,p,s=this;if(void 0===e?o="No service name provided. Service name must be a non-empty string.":"string"!=typeof e||""===e?o='Invalid service name "'+e+'" provided. Service name must be a non-empty string.':e in this.serviceFactories&&(o='Firebase service named "'+e+'" has already been registered.'),void 0!==o)throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: "+o);return this.serviceFactories[e]=r,a&&(this.appHooks_[e]=a),p=function(r){return void 0===r&&(r=s.app()),r[e]()},void 0!==n&&t.deepExtend(p,n),this.firebase_[e]=p,p},e.prototype.callAppHooks_=function(e,r){var t=this;Object.keys(this.serviceFactories).forEach(function(i){t.appHooks_[i]&&t.appHooks_[i](r,e)})},e.prototype.loadOptionsFromEnvVar=function(){var e=process.env[exports.FIREBASE_CONFIG_VAR];if(!o.isNonEmptyString(e))return{};try{var t=e.startsWith("{")?e:r.readFileSync(e,"utf8");return JSON.parse(t)}catch(n){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_OPTIONS,"Failed to parse app options file: "+n)}},e}();exports.FirebaseNamespaceInternals=c;var d={cert:function(e,r){var t=JSON.stringify(e);return t in s||(s[t]=new a.CertCredential(e,r)),s[t]},refreshToken:function(e,r){var t=JSON.stringify(e);return t in u||(u[t]=new a.RefreshTokenCredential(e,r)),u[t]},applicationDefault:function(r){return void 0===e&&(e=new a.ApplicationDefaultCredential(r)),e}},f=function(){function e(){this.__esModule=!0,this.credential=d,this.SDK_VERSION="8.3.0",this.Promise=Promise,this.INTERNAL=new c(this)}return Object.defineProperty(e.prototype,"auth",{get:function(){var e=this,r=require("./auth/auth").Auth;return Object.assign(function(r){return e.ensureApp(r).auth()},{Auth:r})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"database",{get:function(){var e=this;return Object.assign(function(r){return e.ensureApp(r).database()},require("@firebase/database"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messaging",{get:function(){var e=this,r=require("./messaging/messaging").Messaging;return Object.assign(function(r){return e.ensureApp(r).messaging()},{Messaging:r})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){var e=this,r=require("./storage/storage").Storage;return Object.assign(function(r){return e.ensureApp(r).storage()},{Storage:r})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firestore",{get:function(){var e=this,r=function(r){return e.ensureApp(r).firestore()},t=require("@google-cloud/firestore");return r=Object.assign(r,t.Firestore),Object.defineProperty(r,"v1beta1",{get:function(){return t.v1beta1}}),Object.defineProperty(r,"v1",{get:function(){return t.v1}}),r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){var e=this,r=require("./instance-id/instance-id").InstanceId;return Object.assign(function(r){return e.ensureApp(r).instanceId()},{InstanceId:r})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projectManagement",{get:function(){var e=this,r=require("./project-management/project-management").ProjectManagement;return Object.assign(function(r){return e.ensureApp(r).projectManagement()},{ProjectManagement:r})},enumerable:!0,configurable:!0}),e.prototype.initializeApp=function(e,r){return this.INTERNAL.initializeApp(e,r)},e.prototype.app=function(e){return this.INTERNAL.app(e)},Object.defineProperty(e.prototype,"apps",{get:function(){return this.INTERNAL.apps},enumerable:!0,configurable:!0}),e.prototype.ensureApp=function(e){return void 0===e&&(e=this.app()),e},e}();exports.FirebaseNamespace=f;
},{"./utils/deep-copy":"Irg2","./utils/error":"5IpL","./firebase-app":"mE6h","./auth/credential":"ktw5","./utils/validator":"lesR","./auth/auth":"XBfB","@firebase/database":"aKuY","./messaging/messaging":"12mS","./storage/storage":"8EKC","@google-cloud/firestore":"qAM9","./instance-id/instance-id":"SLWu","./project-management/project-management":"l2j0"}],"68Vt":[function(require,module,exports) {
"use strict";var e=require("./firebase-namespace"),a=new e.FirebaseNamespace;a.default=a,module.exports=a;
},{"./firebase-namespace":"j26k"}],"JNh8":[function(require,module,exports) {
"use strict";var e=require("./default-namespace"),n="undefined"!=typeof process?process:0;if("[object process]"!==Object.prototype.toString.call(n)){var s="\n======== WARNING! ========\n\nfirebase-admin appears to have been installed in an unsupported environment.\nThis package should only be used in server-side or backend Node.js environments,\nand should not be used in web browsers or other client-side environments.\n\nUse the Firebase JS SDK for client-side Firebase integrations:\n\nhttps://firebase.google.com/docs/web/setup\n";console.error(s)}module.exports=e;
},{"./default-namespace":"68Vt"}],"qgan":[function(require,module,exports) {
"use strict";function e(){return void 0===e.singleton&&n(),e.singleton}function r(){const e=process.env.FIREBASE_CONFIG;if(e)return JSON.parse(e);try{const e=JSON.parse(process.env.CLOUD_RUNTIME_CONFIG);if(e.firebase)return e.firebase}catch(r){}try{const e=process.env.CLOUD_RUNTIME_CONFIG||"../../../.runtimeconfig.json",n=require(e);if(n.firebase)return n.firebase}catch(r){}return null}function n(){try{const n=JSON.parse(process.env.CLOUD_RUNTIME_CONFIG);return delete n.firebase,void(e.singleton=n)}catch(r){}try{const n=process.env.CLOUD_RUNTIME_CONFIG||"../../../.runtimeconfig.json",t=require(n);return delete t.firebase,void(e.singleton=t)}catch(r){}e.singleton={}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=e,e=exports.config||(exports.config={}),exports.firebaseConfig=r;
},{}],"6jir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("firebase-admin"),t=require("lodash"),r=require("./config");function i(){return void 0===i.singleton&&i.init(),i.singleton}exports.apps=i,function(i){function n(e){return new Promise(t=>{setTimeout(t,e)})}i.garbageCollectionInterval=12e4,i.delay=n,i.init=(()=>i.singleton=new a);class a{constructor(){this._refCounter={}}_appAlive(r){try{const n=e.app(r);return!t.get(n,"isDeleted_")}catch(i){return!1}}_destroyApp(r){this._appAlive(r)&&e.app(r).delete().catch(t.noop)}retain(){t.update(this._refCounter,"__admin__",e=>(e||0)+1)}release(){const e=e=>e-1;return n(i.garbageCollectionInterval).then(()=>{t.update(this._refCounter,"__admin__",e),t.forEach(this._refCounter,(e,t)=>{e<=0&&this._destroyApp(t)})})}get admin(){return this._appAlive("__admin__")?e.app("__admin__"):e.initializeApp(this.firebaseArgs,"__admin__")}get firebaseArgs(){return t.assign({},r.firebaseConfig(),{credential:e.credential.applicationDefault()})}}i.Apps=a}(i=exports.apps||(exports.apps={}));
},{"firebase-admin":"JNh8","lodash":"hKJs","./config":"qgan"}],"3wHS":[function(require,module,exports) {
"use strict";function e(e){return e?e.replace(/^\//,"").replace(/\/$/,""):""}function t(t){return t&&""!==t&&"/"!==t?e(t).split("/"):[]}function r(e,r){return t(e).concat(t(r)).join("/")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizePath=e,exports.pathParts=t,exports.joinPath=r;
},{}],"Os1O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("lodash");function t(t,r){return e.isPlainObject(r)&&e.isPlainObject(t)?n(e.merge({},t,r)):r}function n(t){for(const r in t)null===t[r]?delete t[r]:e.isPlainObject(t[r])&&n(t[r]);return t}exports.applyChange=t,exports.pruneNulls=n;
},{"lodash":"hKJs"}],"BNro":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("lodash"),e=require("../apps"),r=require("../cloud-functions"),s=require("../config"),n=require("../utilities/path"),i=require("../utils");exports.provider="google.firebase.database",exports.service="firebaseio.com";const a=new RegExp("https://([^.]+).firebaseio.com");function o(t){return h(t,{})}function c(t){return u(t,{})}function h(t,e){return new p(t,e)}exports.instance=o,exports.ref=c,exports._instanceWithOptions=h;class p{constructor(t,e){this.instance=t,this.options=e}ref(t){const r=n.normalizePath(t);return new l(e.apps(),()=>`projects/_/instances/${this.instance}/refs/${r}`,this.options)}}function u(t,r){return new l(e.apps(),()=>{const e=n.normalizePath(t),r=s.firebaseConfig().databaseURL;if(!r)throw new Error("Missing expected firebase config value databaseURL, config is actually"+JSON.stringify(s.firebaseConfig())+"\n If you are unit testing, please set process.env.FIREBASE_CONFIG");const i=r.match(a);if(!i)throw new Error("Invalid value for config firebase.databaseURL: "+r);return`projects/_/instances/${i[1]}/refs/${e}`},r)}exports.InstanceBuilder=p,exports._refWithOptions=u;class l{constructor(t,e,r){this.apps=t,this.triggerResource=e,this.options=r,this.changeConstructor=(t=>{const[e,r]=f(t.context.resource.name);return{before:new d(t.data.data,r,this.apps.admin,e),after:new d(i.applyChange(t.data.data,t.data.delta),r,this.apps.admin,e)}})}onWrite(t){return this.onOperation(t,"ref.write",this.changeConstructor)}onUpdate(t){return this.onOperation(t,"ref.update",this.changeConstructor)}onCreate(t){return this.onOperation(t,"ref.create",t=>{const[e,r]=f(t.context.resource.name);return new d(t.data.delta,r,this.apps.admin,e)})}onDelete(t){return this.onOperation(t,"ref.delete",t=>{const[e,r]=f(t.context.resource.name);return new d(t.data.data,r,this.apps.admin,e)})}onOperation(t,e,s){return r.makeCloudFunction({handler:t,provider:exports.provider,service:exports.service,eventType:e,legacyEventType:`providers/${exports.provider}/eventTypes/${e}`,triggerResource:this.triggerResource,dataConstructor:s,before:t=>this.apps.retain(),after:t=>this.apps.release(),options:this.options})}}function f(t){const e=t.match(new RegExp("projects/([^/]+)/instances/([a-zA-Z0-9-^/]+)/refs(/.+)?"));if(!e)throw new Error(`Unexpected resource string for Firebase Realtime Database event: ${t}. `+'Expected string in the format of "projects/_/instances/{firebaseioSubdomain}/refs/{ref=**}"');const[,r,s,n]=e;if("_"!==r)throw new Error("Expect project to be '_' in a Firebase Realtime Database event");return["https://"+s+".firebaseio.com",n]}exports.RefBuilder=l,exports.resourceToInstanceAndPath=f;class d{constructor(t,e,r,s){this.app=r,s?this.instance=s:r?this.instance=r.options.databaseURL:process.env.GCLOUD_PROJECT&&(this.instance="https://"+process.env.GCLOUD_PROJECT+".firebaseio.com"),this._path=e,this._data=t}get ref(){if(!this.app)throw new Error("Please supply a Firebase app in the constructor for DataSnapshot in order to use the .ref method.");return this._ref||(this._ref=this.app.database(this.instance).ref(this._fullPath())),this._ref}get key(){const e=t.last(n.pathParts(this._fullPath()));return e&&""!==e?e:null}val(){const e=n.pathParts(this._childPath),r=this._data,s=t.cloneDeep(e.length?t.get(r,e,null):r);return this._checkAndConvertToArray(s)}exportVal(){return this.val()}getPriority(){return 0}exists(){return!t.isNull(this.val())}child(t){return t?this._dup(t):this}forEach(e){const r=this.val();return!!t.isPlainObject(r)&&t.some(r,(t,r)=>!0===e(this.child(r)))}hasChild(t){return this.child(t).exists()}hasChildren(){const e=this.val();return t.isPlainObject(e)&&t.keys(e).length>0}numChildren(){const e=this.val();return t.isPlainObject(e)?Object.keys(e).length:0}toJSON(){return this.val()}_checkAndConvertToArray(e){if(null==e)return null;if("object"!=typeof e)return e;const r={};let s=0,n=0,i=!0;for(const t in e){if(!e.hasOwnProperty(t))continue;const a=e[t];r[t]=this._checkAndConvertToArray(a),s++;const o=/^(0|[1-9]\d*)$/;i&&o.test(t)?n=Math.max(n,Number(t)):i=!1}if(i&&n<2*s){const e=[];return t.forOwn(r,(t,r)=>{e[r]=t}),e}return r}_dup(t){const e=new d(this._data,void 0,this.app,this.instance);return[e._path,e._childPath]=[this._path,this._childPath],t&&(e._childPath=n.joinPath(e._childPath,t)),e}_fullPath(){return(this._path||"")+"/"+(this._childPath||"")}}exports.DataSnapshot=d;
},{"lodash":"hKJs","../apps":"6jir","../cloud-functions":"Ftbu","../config":"qgan","../utilities/path":"3wHS","../utils":"Os1O"}],"E+cy":[function(require,module,exports) {
"use strict";function e(e){if(void 0===e)return;const t=new Date(e),n=Math.floor(t.getTime()/1e3);let o=0;if(e.length>20){const t=e.substring(20,e.length-1),n=9-t.length;o=parseInt(t,10)*Math.pow(10,n)}return{seconds:n,nanos:o}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dateToTimestampProto=e;
},{}],"mZbV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("firebase-admin"),t=require("lodash"),o=require("path"),r=require("../apps"),s=require("../cloud-functions"),n=require("../encoder");let a;function i(e){return m(e,{})}function u(e){return d(e,{})}function p(e){return c(e,{})}function c(e=exports.defaultDatabase,t){return new h(e,t)}function d(e,t){return c(exports.defaultDatabase,t).namespace(e)}function m(e,t){return c(exports.defaultDatabase,t).document(e)}exports.provider="google.firestore",exports.service="firestore.googleapis.com",exports.defaultDatabase="(default)",exports.document=i,exports.namespace=u,exports.database=p,exports._databaseWithOptions=c,exports._namespaceWithOptions=d,exports._documentWithOptions=m;class h{constructor(e,t){this.database=e,this.options=t}namespace(e){return new l(this.database,this.options,e)}document(e){return new l(this.database,this.options).document(e)}}exports.DatabaseBuilder=h;class l{constructor(e,t,o){this.database=e,this.options=t,this.namespace=o}document(e){return new b(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");const t=o.posix.join("projects",process.env.GCLOUD_PROJECT,"databases",this.database);return o.posix.join(t,this.namespace?`documents@${this.namespace}`:"documents",e)},this.options)}}function f(e,o,r){if(t.isEmpty(t.get(e,r)))return o;return{fields:t.get(e,[r,"fields"],{}),createTime:n.dateToTimestampProto(t.get(e,[r,"createTime"])),updateTime:n.dateToTimestampProto(t.get(e,[r,"updateTime"])),name:t.get(e,[r,"name"],o)}}function x(o){a||(a=e.firestore(r.apps().admin));const s=f(o.data,o.context.resource.name,"value"),i=n.dateToTimestampProto(t.get(o,"data.value.readTime"));return a.snapshot_(s,i,"json")}function T(o){a||(a=e.firestore(r.apps().admin));const s=f(o.data,o.context.resource.name,"oldValue"),i=n.dateToTimestampProto(t.get(o,"data.oldValue.readTime"));return a.snapshot_(s,i,"json")}function g(e){return s.Change.fromObjects(T(e),x(e))}exports.NamespaceBuilder=l,exports.snapshotConstructor=x,exports.beforeSnapshotConstructor=T;class b{constructor(e,t){this.triggerResource=e,this.options=t}onWrite(e){return this.onOperation(e,"document.write",g)}onUpdate(e){return this.onOperation(e,"document.update",g)}onCreate(e){return this.onOperation(e,"document.create",x)}onDelete(e){return this.onOperation(e,"document.delete",T)}onOperation(e,t,o){return s.makeCloudFunction({handler:e,provider:exports.provider,eventType:t,service:exports.service,triggerResource:this.triggerResource,legacyEventType:`providers/cloud.firestore/eventTypes/${t}`,dataConstructor:o,options:this.options})}}exports.DocumentBuilder=b;
},{"firebase-admin":"JNh8","lodash":"hKJs","../apps":"6jir","../cloud-functions":"Ftbu","../encoder":"E+cy"}],"W2+e":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"yfhG":[function(require,module,exports) {
"use strict";module.exports=a,module.exports.append=e;var r=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function e(e,a){if("string"!=typeof e)throw new TypeError("header argument is required");if(!a)throw new TypeError("field argument is required");for(var n=Array.isArray(a)?a:t(String(a)),i=0;i<n.length;i++)if(!r.test(n[i]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var s=e,o=t(e.toLowerCase());if(-1!==n.indexOf("*")||-1!==o.indexOf("*"))return"*";for(var u=0;u<n.length;u++){var d=n[u].toLowerCase();-1===o.indexOf(d)&&(o.push(d),s=s?s+", "+n[u]:n[u])}return s}function t(r){for(var e=0,t=[],a=0,n=0,i=r.length;n<i;n++)switch(r.charCodeAt(n)){case 32:a===e&&(a=e=n+1);break;case 44:t.push(r.substring(a,e)),a=e=n+1;break;default:e=n+1}return t.push(r.substring(a,e)),t}function a(r,t){if(!r||!r.getHeader||!r.setHeader)throw new TypeError("res argument is required");var a=r.getHeader("Vary")||"",n=Array.isArray(a)?a.join(", "):String(a);(a=e(n,t))&&r.setHeader("Vary",a)}
},{}],"jtcP":[function(require,module,exports) {
!function(){"use strict";var e=require("object-assign"),n=require("vary"),r={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function o(e){return"string"==typeof e||e instanceof String}function t(e,n){var r,t=n.headers.origin,i=[];return e.origin&&"*"!==e.origin?o(e.origin)?(i.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),i.push([{key:"Vary",value:"Origin"}])):(r=function e(n,r){if(Array.isArray(r)){for(var t=0;t<r.length;++t)if(e(n,r[t]))return!0;return!1}return o(r)?n===r:r instanceof RegExp?r.test(n):!!r}(t,e.origin),i.push([{key:"Access-Control-Allow-Origin",value:!!r&&t}]),i.push([{key:"Vary",value:"Origin"}])):i.push([{key:"Access-Control-Allow-Origin",value:"*"}]),i}function i(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function u(e){var n=e.exposedHeaders;return n?(n.join&&(n=n.join(",")),n&&n.length?{key:"Access-Control-Expose-Headers",value:n}:null):null}function s(e,r){for(var o=0,t=e.length;o<t;o++){var i=e[o];i&&(Array.isArray(i)?s(i,r):"Vary"===i.key&&i.value?n(r,i.value):i.value&&r.setHeader(i.key,i.value))}}module.exports=function(n){var o=null;return o="function"==typeof n?n:function(e,r){r(null,n)},function(n,l,a){o(n,function(o,c){if(o)a(o);else{var g=e({},r,c),h=null;g.origin&&"function"==typeof g.origin?h=g.origin:g.origin&&(h=function(e,n){n(null,g.origin)}),h?h(n.headers.origin,function(e,r){e||!r?a(e):(g.origin=r,function(e,n,r,o){var l=[];"OPTIONS"===(n.method&&n.method.toUpperCase&&n.method.toUpperCase())?(l.push(t(e,n)),l.push(i(e)),l.push(function(e){var n=e.methods;return n.join&&(n=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:n}}(e)),l.push(function(e,n){var r=e.allowedHeaders||e.headers,o=[];return r?r.join&&(r=r.join(",")):(r=n.headers["access-control-request-headers"],o.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),r&&r.length&&o.push([{key:"Access-Control-Allow-Headers",value:r}]),o}(e,n)),l.push(function(e){var n=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return n&&n.length?{key:"Access-Control-Max-Age",value:n}:null}(e)),l.push(u(e)),s(l,r),e.preflightContinue?o():(r.statusCode=e.optionsSuccessStatus,r.setHeader("Content-Length","0"),r.end())):(l.push(t(e,n)),l.push(i(e)),l.push(u(e)),s(l,r),o())}(g,n,l,a))}):a()}})}}}();
},{"object-assign":"W2+e","vary":"yfhG"}],"fU0x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("cors"),t=require("lodash"),n=require("../apps"),a=require("../cloud-functions");function o(e){return s(e,{})}function r(e){return f(e,{})}function s(e,n){const o=(t,n)=>{e(t,n)};return o.__trigger=t.assign(a.optionsToTrigger(n),{httpsTrigger:{}}),o}exports.onRequest=o,exports.onCall=r,exports._onRequestWithOptions=s;const i={ok:{canonicalName:"OK",status:200},cancelled:{canonicalName:"CANCELLED",status:499},unknown:{canonicalName:"UNKNOWN",status:500},"invalid-argument":{canonicalName:"INVALID_ARGUMENT",status:400},"deadline-exceeded":{canonicalName:"DEADLINE_EXCEEDED",status:504},"not-found":{canonicalName:"NOT_FOUND",status:404},"already-exists":{canonicalName:"ALREADY_EXISTS",status:409},"permission-denied":{canonicalName:"PERMISSION_DENIED",status:403},unauthenticated:{canonicalName:"UNAUTHENTICATED",status:401},"resource-exhausted":{canonicalName:"RESOURCE_EXHAUSTED",status:429},"failed-precondition":{canonicalName:"FAILED_PRECONDITION",status:400},aborted:{canonicalName:"ABORTED",status:409},"out-of-range":{canonicalName:"OUT_OF_RANGE",status:400},unimplemented:{canonicalName:"UNIMPLEMENTED",status:501},internal:{canonicalName:"INTERNAL",status:500},unavailable:{canonicalName:"UNAVAILABLE",status:503},"data-loss":{canonicalName:"DATA_LOSS",status:500}};class c extends Error{constructor(e,t,n){if(super(t),e in i==!1)throw new Error(`Unknown error code: ${e}.`);this.code=e,this.details=n,this.httpErrorCode=i[e]}toJSON(){const{details:e,httpErrorCode:{canonicalName:t},message:n}=this;return Object.assign({},void 0===e?{}:{details:e},{message:n,status:t})}}function u(e){if(!e.body)return console.warn("Request is missing body."),!1;if("POST"!==e.method)return console.warn("Request has invalid method.",e.method),!1;let n=(e.header("Content-Type")||"").toLowerCase();const a=n.indexOf(";");if(a>=0&&(n=n.substr(0,a).trim()),"application/json"!==n)return console.warn("Request has incorrect Content-Type.",n),!1;if(t.isUndefined(e.body.data))return console.warn("Request body is missing data.",e.body),!1;const o=t.omit(e.body,"data");return!!t.isEmpty(o)||(console.warn("Request body has extra fields.",o),!1)}exports.HttpsError=c;const d="type.googleapis.com/google.protobuf.Int64Value",l="type.googleapis.com/google.protobuf.UInt64Value";function N(e){if(t.isNull(e)||t.isUndefined(e))return null;if(e instanceof Number&&(e=e.valueOf()),t.isFinite(e))return e;if(t.isBoolean(e))return e;if(t.isString(e))return e;if(t.isArray(e))return t.map(e,N);if(t.isObject(e))return t.mapValues(e,N);throw console.error("Data cannot be encoded in JSON.",e),new Error("Data cannot be encoded in JSON: "+e)}function m(e){if(null===e)return e;if(e["@type"])switch(e["@type"]){case d:case l:{const n=parseFloat(e.value);if(t.isNaN(n))throw console.error("Data cannot be decoded from JSON.",e),new Error("Data cannot be decoded from JSON: "+e);return n}default:throw console.error("Data cannot be decoded from JSON.",e),new Error("Data cannot be decoded from JSON: "+e)}return t.isArray(e)?t.map(e,m):t.isObject(e)?t.mapValues(e,m):e}exports.encode=N,exports.decode=m;const p=e({origin:!0,methods:"POST"});function f(e,o){const r=(t,a)=>p(t,a,()=>(async(t,a)=>{try{if(!u(t))throw console.error("Invalid request",t),new c("invalid-argument","Bad Request");const s={rawRequest:t},i=t.header("Authorization");if(i){const e=i.match(/^Bearer (.*)$/);if(!e)throw new c("unauthenticated","Unauthenticated");const t=e[1];try{const e=await n.apps().admin.auth().verifyIdToken(t);s.auth={uid:e.uid,token:e}}catch(o){throw new c("unauthenticated","Unauthenticated")}}t.header("Firebase-Instance-ID-Token")&&(s.instanceIdToken=t.header("Firebase-Instance-ID-Token"));const d=m(t.body.data);let l=await e(d,s);const p={result:l=N(l)};a.status(200).send(p)}catch(r){r instanceof c||(console.error("Unhandled error",r),r=new c("internal","INTERNAL"));const{status:e}=r.httpErrorCode,t={error:r.toJSON()};a.status(e).send(t)}})(t,a));return r.__trigger=t.assign(a.optionsToTrigger(o),{httpsTrigger:{},labels:{"deployment-callable":"true"}}),r.run=e,r}exports._onCallWithOptions=f;
},{"cors":"jtcP","lodash":"hKJs","../apps":"6jir","../cloud-functions":"Ftbu"}],"Mvr4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../cloud-functions");function t(e){return s(e,{})}function s(e,t){if(-1!==e.indexOf("/"))throw new Error("Topic name may not have a /");return new n(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return`projects/${process.env.GCLOUD_PROJECT}/topics/${e}`},t)}function r(e){return i(e,{})}exports.provider="google.pubsub",exports.service="pubsub.googleapis.com",exports.topic=t,exports._topicWithOptions=s,exports.schedule=r;class o{constructor(e){this.options=e}retryConfig(e){return this.options.schedule.retryConfig=e,this}timeZone(e){return this.options.schedule.timeZone=e,this}onRun(t){return e.makeCloudFunction({contextOnlyHandler:t,provider:exports.provider,service:exports.service,triggerResource:()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return`projects/${process.env.GCLOUD_PROJECT}/topics`},eventType:"topic.publish",options:this.options,labels:{"deployment-scheduled":"true"}})}}function i(e,t){return new o(Object.assign({},t,{schedule:{schedule:e}}))}exports.ScheduleBuilder=o,exports._scheduleWithOptions=i;class n{constructor(e,t){this.triggerResource=e,this.options=t}onPublish(t){return e.makeCloudFunction({handler:t,provider:exports.provider,service:exports.service,triggerResource:this.triggerResource,eventType:"topic.publish",dataConstructor:e=>new u(e.data),options:this.options})}}exports.TopicBuilder=n;class u{constructor(e){[this.data,this.attributes,this._json]=[e.data,e.attributes||{},e.json]}get json(){return void 0===this._json&&(this._json=JSON.parse(new Buffer(this.data,"base64").toString("utf8"))),this._json}toJSON(){return{data:this.data,attributes:this.attributes}}}exports.Message=u;
},{"../cloud-functions":"Ftbu"}],"BayY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../cloud-functions");function r(e){return o(e,{})}function o(e,r){return new t(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return`projects/${process.env.GCLOUD_PROJECT}`},r).onUpdate(e)}exports.provider="google.firebase.remoteconfig",exports.service="firebaseremoteconfig.googleapis.com",exports.onUpdate=r,exports._onUpdateWithOptions=o;class t{constructor(e,r){this.triggerResource=e,this.options=r}onUpdate(r){return e.makeCloudFunction({handler:r,provider:exports.provider,service:exports.service,triggerResource:this.triggerResource,eventType:"update",options:this.options})}}exports.UpdateBuilder=t;
},{"../cloud-functions":"Ftbu"}],"4mEN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../cloud-functions"),t=require("../config");function r(e){return n({},e)}function o(){return i({})}function n(e,r){return new s(()=>{if(!(r=r||t.firebaseConfig().storageBucket))throw new Error("Missing bucket name. If you are unit testing, please provide a bucket name through `functions.storage.bucket(bucketName)`, or set process.env.FIREBASE_CONFIG.");if(!/^[a-z\d][a-z\d\\._-]{1,230}[a-z\d]$/.test(r))throw new Error(`Invalid bucket name ${r}`);return`projects/_/buckets/${r}`},e)}function i(e){return n(e).object()}exports.provider="google.storage",exports.service="storage.googleapis.com",exports.bucket=r,exports.object=o,exports._bucketWithOptions=n,exports._objectWithOptions=i;class s{constructor(e,t){this.triggerResource=e,this.options=t}object(){return new c(this.triggerResource,this.options)}}exports.BucketBuilder=s;class c{constructor(e,t){this.triggerResource=e,this.options=t}onChange(e){throw new Error('"onChange" is now deprecated, please use "onArchive", "onDelete", "onFinalize", or "onMetadataUpdate".')}onArchive(e){return this.onOperation(e,"object.archive")}onDelete(e){return this.onOperation(e,"object.delete")}onFinalize(e){return this.onOperation(e,"object.finalize")}onMetadataUpdate(e){return this.onOperation(e,"object.metadataUpdate")}onOperation(t,r){return e.makeCloudFunction({handler:t,provider:exports.provider,service:exports.service,eventType:r,triggerResource:this.triggerResource,options:this.options})}}exports.ObjectBuilder=c;
},{"../cloud-functions":"Ftbu","../config":"qgan"}],"VEX/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("lodash"),e=require("../cloud-functions");function s(){return o({})}function o(t){return new r(()=>{if(!process.env.GCLOUD_PROJECT)throw new Error("process.env.GCLOUD_PROJECT is not set.");return"projects/"+process.env.GCLOUD_PROJECT+"/testMatrices/{matrix}"},t)}exports.PROVIDER="google.testing",exports.SERVICE="testing.googleapis.com",exports.TEST_MATRIX_COMPLETE_EVENT_TYPE="testMatrix.complete",exports.testMatrix=s,exports._testMatrixWithOpts=o;class r{constructor(t,e){this.triggerResource=t,this.options=e}onComplete(t){return e.makeCloudFunction({provider:exports.PROVIDER,eventType:exports.TEST_MATRIX_COMPLETE_EVENT_TYPE,triggerResource:this.triggerResource,service:exports.SERVICE,dataConstructor:t=>new i(t.data),handler:t,options:this.options})}}exports.TestMatrixBuilder=r;class i{constructor(t){this.testMatrixId=t.testMatrixId,this.createTime=t.timestamp,this.state=t.state,this.outcomeSummary=t.outcomeSummary,this.invalidMatrixDetails=t.invalidMatrixDetails,this.resultStorage=new a(t.resultStorage),this.clientInfo=new n(t.clientInfo)}}exports.TestMatrix=i;class n{constructor(e){this.name=t.get(e,"name",""),this.details={},t.forEach(t.get(e,"clientInfoDetails"),t=>{this.details[t.key]=t.value||""})}}exports.ClientInfo=n;class a{constructor(e){this.gcsPath=t.get(e,"googleCloudStorage.gcsPath"),this.toolResultsHistoryId=t.get(e,"toolResultsHistory.historyId"),this.toolResultsExecutionId=t.get(e,"toolResultsExecution.executionId"),this.resultsUrl=t.get(e,"resultsUrl")}}exports.ResultStorage=a;
},{"lodash":"hKJs","../cloud-functions":"Ftbu"}],"Qi33":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./apps"),r=require("./providers/analytics"),t=require("./providers/auth"),u=require("./providers/crashlytics"),n=require("./providers/database"),s=require("./providers/firestore"),i=require("./providers/https"),l=require("./providers/pubsub"),o=require("./providers/remoteConfig"),a=require("./providers/storage"),d=require("./providers/testLab");class p{constructor(){}get https(){return{onRequest:e=>{const r=i._onRequestWithOptions(e,{});return r.__trigger={},r},onCall:e=>{const r=i._onCallWithOptions(e,{});return r.__trigger={},r}}}get database(){return{get instance(){return{get ref(){return new n.RefBuilder(e.apps(),()=>null,{})}}},get ref(){return new n.RefBuilder(e.apps(),()=>null,{})}}}get firestore(){return{get document(){return new s.DocumentBuilder(()=>null,{})},get namespace(){return new s.DocumentBuilder(()=>null,{})},get database(){return new s.DocumentBuilder(()=>null,{})}}}get crashlytics(){return{get issue(){return new u.IssueBuilder(()=>null,{})}}}get remoteConfig(){return{onUpdate:e=>new o.UpdateBuilder(()=>null,{}).onUpdate(e)}}get analytics(){return{get event(){return new r.AnalyticsEventBuilder(()=>null,{})}}}get storage(){return{get bucket(){return new a.BucketBuilder(()=>null,{}).object()},get object(){return new a.ObjectBuilder(()=>null,{})}}}get pubsub(){return{get topic(){return new l.TopicBuilder(()=>null,{})}}}get auth(){return{get user(){return new t.UserBuilder(()=>null,{})}}}get testLab(){return{get testMatrix(){return new d.TestMatrixBuilder(()=>null,{})}}}}exports.HandlerBuilder=p,exports.handler=new p;
},{"./apps":"6jir","./providers/analytics":"Exy1","./providers/auth":"wJ8Q","./providers/crashlytics":"wq4F","./providers/database":"BNro","./providers/firestore":"mZbV","./providers/https":"fU0x","./providers/pubsub":"Mvr4","./providers/remoteConfig":"BayY","./providers/storage":"4mEN","./providers/testLab":"VEX/"}],"5Z2A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./config");function s(){if(!process.env.FIREBASE_CONFIG){const s=e.firebaseConfig();s&&(process.env.FIREBASE_CONFIG=JSON.stringify(s))}!process.env.GCLOUD_PROJECT&&process.env.FIREBASE_CONFIG&&(process.env.GCLOUD_PROJECT=JSON.parse(process.env.FIREBASE_CONFIG).projectId),process.env.FIREBASE_CONFIG||(process.env.GCLOUD_PROJECT?(console.warn("Warning, estimating Firebase Config based on GCLOUD_PROJECT. Initializing firebase-admin may fail"),process.env.FIREBASE_CONFIG=JSON.stringify({databaseURL:`${process.env.DATABASE_URL}`||`https://${process.env.GCLOUD_PROJECT}.firebaseio.com`,storageBucket:`${process.env.STORAGE_BUCKET_URL}`||`${process.env.GCLOUD_PROJECT}.appspot.com`,projectId:process.env.GCLOUD_PROJECT})):console.warn("Warning, FIREBASE_CONFIG and GCLOUD_PROJECT environment variables are missing. Initializing firebase-admin will fail"))}exports.setup=s;
},{"./config":"qgan"}],"uvvD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUPPORTED_REGIONS=["us-central1","us-east1","us-east4","europe-west1","europe-west2","asia-east2","asia-northeast1"],exports.MIN_TIMEOUT_SECONDS=0,exports.MAX_TIMEOUT_SECONDS=540,exports.VALID_MEMORY_OPTIONS=["128MB","256MB","512MB","1GB","2GB"];
},{}],"CirH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("lodash"),e=require("./function-configuration"),i=require("./providers/analytics"),o=require("./providers/auth"),r=require("./providers/crashlytics"),s=require("./providers/database"),n=require("./providers/firestore"),u=require("./providers/https"),p=require("./providers/pubsub"),h=require("./providers/remoteConfig"),a=require("./providers/storage"),c=require("./providers/testLab");function d(i){if(i.memory&&!t.includes(e.VALID_MEMORY_OPTIONS,i.memory))throw new Error(`The only valid memory allocation values are: ${e.VALID_MEMORY_OPTIONS.join(", ")}`);if(i.timeoutSeconds>e.MAX_TIMEOUT_SECONDS||i.timeoutSeconds<0)throw new Error(`TimeoutSeconds must be between 0 and ${e.MAX_TIMEOUT_SECONDS}`);return!0}function O(i){if(!i.length)throw new Error("You must specify at least one region");if(t.difference(i,e.SUPPORTED_REGIONS).length)throw new Error(`The only valid regions are: ${e.SUPPORTED_REGIONS.join(", ")}`);return!0}function _(...t){if(O(t))return new f({regions:t})}function l(t){if(d(t))return new f(t)}exports.region=_,exports.runWith=l;class f{constructor(t){this.options=t}region(...t){if(O(t))return this.options.regions=t,this}runWith(e){if(d(e))return this.options=t.assign(this.options,e),this}get https(){return{onRequest:t=>u._onRequestWithOptions(t,this.options),onCall:t=>u._onCallWithOptions(t,this.options)}}get database(){return{instance:t=>s._instanceWithOptions(t,this.options),ref:t=>s._refWithOptions(t,this.options)}}get firestore(){return{document:t=>n._documentWithOptions(t,this.options),namespace:t=>n._namespaceWithOptions(t,this.options),database:t=>n._databaseWithOptions(t,this.options)}}get crashlytics(){return{issue:()=>r._issueWithOptions(this.options)}}get analytics(){return{event:t=>i._eventWithOptions(t,this.options)}}get remoteConfig(){return{onUpdate:t=>h._onUpdateWithOptions(t,this.options)}}get storage(){return{bucket:t=>a._bucketWithOptions(this.options,t),object:()=>a._objectWithOptions(this.options)}}get pubsub(){return{topic:t=>p._topicWithOptions(t,this.options),schedule:t=>p._scheduleWithOptions(t,this.options)}}get auth(){return{user:()=>o._userWithOptions(this.options)}}get testLab(){return{testMatrix:()=>c._testMatrixWithOpts(this.options)}}}exports.FunctionBuilder=f;
},{"lodash":"hKJs","./function-configuration":"uvvD","./providers/analytics":"Exy1","./providers/auth":"wJ8Q","./providers/crashlytics":"wq4F","./providers/database":"BNro","./providers/firestore":"mZbV","./providers/https":"fU0x","./providers/pubsub":"Mvr4","./providers/remoteConfig":"BayY","./providers/storage":"4mEN","./providers/testLab":"VEX/"}],"gkq7":[function(require,module,exports) {
"use strict";function r(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./providers/analytics");exports.analytics=e;const s=require("./providers/auth");exports.auth=s;const t=require("./providers/crashlytics");exports.crashlytics=t;const o=require("./providers/database");exports.database=o;const i=require("./providers/firestore");exports.firestore=i;const p=require("./providers/https");exports.https=p;const u=require("./providers/pubsub");exports.pubsub=u;const n=require("./providers/remoteConfig");exports.remoteConfig=n;const a=require("./providers/storage");exports.storage=a;const c=require("./providers/testLab");exports.testLab=c;const d=require("./apps"),q=require("./handler-builder");exports.handler=q.handler;const x=require("./setup"),f=d.apps();exports.app=f,r(require("./cloud-functions")),r(require("./config")),r(require("./function-builder")),r(require("./function-configuration")),x.setup();
},{"./providers/analytics":"Exy1","./providers/auth":"wJ8Q","./providers/crashlytics":"wq4F","./providers/database":"BNro","./providers/firestore":"mZbV","./providers/https":"fU0x","./providers/pubsub":"Mvr4","./providers/remoteConfig":"BayY","./providers/storage":"4mEN","./providers/testLab":"VEX/","./apps":"6jir","./handler-builder":"Qi33","./setup":"5Z2A","./cloud-functions":"Ftbu","./config":"qgan","./function-builder":"CirH","./function-configuration":"uvvD"}],"7QCb":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("firebase-functions"));exports.helloWorld=t.default.https.onRequest(function(e,t){t.send("Hello from Firebase!")});
},{"firebase-functions":"gkq7"}]},{},["7QCb"], null)